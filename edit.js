define("core/addblockmodal", [
  "jquery",
  "core/modal_factory",
  "core/templates",
  "core/str",
  "core/notification",
], function (a, b, c, d, e) {
  return {
    init: function (f) {
      var g = a("[data-key=addblock]");
      d.get_string("addblock")
        .done(function (e) {
          var h = [];
          a.each(f.blocks, function (a, b) {
            h[h.length] = { key: "pluginname", component: "block_" + b };
          });
          var i = [];
          d.get_strings(h).done(function (d) {
            a.each(d, function (a, b) {
              i[i.length] = { name: f.blocks[a], title: b };
            }),
              (f.blocks = i),
              b.create(
                {
                  title: e,
                  body: c.render("core/add_block_body", f),
                  type: "CANCEL",
                },
                g
              );
          });
        })
        .fail(e.exception);
    },
  };
});
define("core/ajax", ["jquery", "core/config"], function (a, b) {
  var c = function (a) {
      var b,
        c,
        d = this,
        e = null,
        f = 0;
      for (f = 0; f < d.length; f++) {
        if (((b = d[f]), (c = a[f]), "undefined" == typeof c)) {
          e = new Error("missing response");
          break;
        }
        if (c.error !== !1) {
          e = c.exception;
          break;
        }
        b.deferred.resolve(c.data);
      }
      if (null !== e)
        for (; f < d.length; f++) (b = d[f]), b.deferred.reject(e);
    },
    d = function (a, b) {
      var c = this,
        d = 0;
      for (d = 0; d < c.length; d++) {
        var e = c[d];
        e.deferred.reject(b);
      }
    };
  return {
    call: function (e, f, g) {
      var h,
        i = [],
        j = [];
      for (
        "undefined" == typeof g && (g = !0),
          "undefined" == typeof f && (f = !0),
          h = 0;
        h < e.length;
        h++
      ) {
        var k = e[h];
        i.push({ index: h, methodname: k.methodname, args: k.args }),
          (k.deferred = a.Deferred()),
          j.push(k.deferred.promise()),
          "undefined" != typeof k.done && k.deferred.done(k.done),
          "undefined" != typeof k.fail && k.deferred.fail(k.fail),
          (k.index = h);
      }
      i = JSON.stringify(i);
      var l = {
          type: "POST",
          data: i,
          context: e,
          dataType: "json",
          processData: !1,
          async: f,
          contentType: "application/json",
        },
        m = b.wwwroot + "/lib/ajax/service.php?sesskey=" + b.sesskey;
      return (
        g ||
          (m =
            b.wwwroot + "/lib/ajax/service-nologin.php?sesskey=" + b.sesskey),
        f
          ? a.ajax(m, l).done(c).fail(d)
          : ((l.success = c), (l.error = d), a.ajax(m, l)),
        j
      );
    },
  };
});
define("core/auto_rows", ["jquery"], function (a) {
  var b = { ELEMENT: "[data-auto-rows]" },
    c = { ROW_CHANGE: "autorows:rowchange" },
    d = function (a) {
      var b = a.attr("rows"),
        c = a.attr("data-max-rows"),
        d = a.height(),
        e = a.innerHeight(),
        f = e - d;
      a.height("1px");
      var g = a[0].scrollHeight,
        h = (g - f) / (d / b);
      return a.css("height", ""), c && h >= c ? c : h;
    },
    e = function (e) {
      a(e).on("input propertychange", b.ELEMENT, function (b) {
        var f = a(b.target),
          g = f.attr("rows"),
          h = d(f);
        h != g && (f.attr("rows", h), a(e).trigger(c.ROW_CHANGE));
      });
    };
  return { init: e, events: c };
});
define("core/backoff_timer", function () {
  var a = function (a, b) {
    (this.callback = a), (this.backOffFunction = b);
  };
  return (
    (a.prototype.callback = null),
    (a.prototype.backOffFunction = null),
    (a.prototype.time = null),
    (a.prototype.timeout = null),
    (a.prototype.generateNextTime = function () {
      var a = this.backOffFunction(this.time);
      return (this.time = a), a;
    }),
    (a.prototype.reset = function () {
      return (this.time = null), this.stop(), this;
    }),
    (a.prototype.stop = function () {
      return (
        this.timeout &&
          (window.clearTimeout(this.timeout), (this.timeout = null)),
        this
      );
    }),
    (a.prototype.start = function () {
      if (!this.timeout) {
        var a = this.generateNextTime();
        this.timeout = window.setTimeout(
          function () {
            this.callback(), this.stop(), this.start();
          }.bind(this),
          a
        );
      }
      return this;
    }),
    (a.prototype.restart = function () {
      return this.reset().start();
    }),
    (a.getIncrementalCallback = function (a, b, c, d) {
      return function (e) {
        return e ? (e + b > c ? d : e + b) : a;
      };
    }),
    a
  );
});
define("core/chart_axis", [], function () {
  function a() {}
  return (
    (a.prototype.POS_DEFAULT = null),
    (a.prototype.POS_BOTTOM = "bottom"),
    (a.prototype.POS_LEFT = "left"),
    (a.prototype.POS_RIGHT = "right"),
    (a.prototype.POS_TOP = "top"),
    (a.prototype._label = null),
    (a.prototype._labels = null),
    (a.prototype._max = null),
    (a.prototype._min = null),
    (a.prototype._position = null),
    (a.prototype._stepSize = null),
    (a.prototype.create = function (b) {
      var c = new a();
      return (
        c.setPosition(b.position),
        c.setLabel(b.label),
        c.setStepSize(b.stepSize),
        c.setMax(b.max),
        c.setMin(b.min),
        c.setLabels(b.labels),
        c
      );
    }),
    (a.prototype.getLabel = function () {
      return this._label;
    }),
    (a.prototype.getLabels = function () {
      return this._labels;
    }),
    (a.prototype.getMax = function () {
      return this._max;
    }),
    (a.prototype.getMin = function () {
      return this._min;
    }),
    (a.prototype.getPosition = function () {
      return this._position;
    }),
    (a.prototype.getStepSize = function () {
      return this._stepSize;
    }),
    (a.prototype.setLabel = function (a) {
      this._label = a || null;
    }),
    (a.prototype.setLabels = function (a) {
      (this._labels = a || null),
        null === this._labels ||
          null !== this._stepSize ||
          (null !== this._min && 0 !== this._min) ||
          null !== this._max ||
          (this.setStepSize(1), this.setMin(0), this.setMax(a.length - 1));
    }),
    (a.prototype.setMax = function (a) {
      this._max = "undefined" != typeof a ? a : null;
    }),
    (a.prototype.setMin = function (a) {
      this._min = "undefined" != typeof a ? a : null;
    }),
    (a.prototype.setPosition = function (a) {
      if (
        a != this.POS_DEFAULT &&
        a != this.POS_BOTTOM &&
        a != this.POS_LEFT &&
        a != this.POS_RIGHT &&
        a != this.POS_TOP
      )
        throw new Error("Invalid axis position.");
      this._position = a;
    }),
    (a.prototype.setStepSize = function (a) {
      if ("undefined" == typeof a || null === a) a = null;
      else {
        if (isNaN(Number(a)))
          throw new Error("Value for stepSize is not a number.");
        a = Number(a);
      }
      this._stepSize = a;
    }),
    a
  );
});
define("core/chart_bar", ["core/chart_base"], function (a) {
  function b() {
    a.prototype.constructor.apply(this, arguments);
  }
  return (
    (b.prototype = Object.create(a.prototype)),
    (b.prototype._horizontal = !1),
    (b.prototype._stacked = !1),
    (b.prototype.TYPE = "bar"),
    (b.prototype.create = function (b, c) {
      var d = a.prototype.create.apply(this, arguments);
      return d.setHorizontal(c.horizontal), d.setStacked(c.stacked), d;
    }),
    (b.prototype._setDefaults = function () {
      a.prototype._setDefaults.apply(this, arguments);
      var b = this.getYAxis(0, !0);
      b.setMin(0);
    }),
    (b.prototype.getHorizontal = function () {
      return this._horizontal;
    }),
    (b.prototype.getStacked = function () {
      return this._stacked;
    }),
    (b.prototype.setHorizontal = function (a) {
      var b = this.getXAxis(0, !0);
      null === b.getMin() && b.setMin(0), (this._horizontal = Boolean(a));
    }),
    (b.prototype.setStacked = function (a) {
      this._stacked = Boolean(a);
    }),
    b
  );
});
define("core/chart_base", ["core/chart_series", "core/chart_axis"], function (
  a,
  b
) {
  function c() {
    (this._series = []),
      (this._labels = []),
      (this._xaxes = []),
      (this._yaxes = []),
      this._setDefaults();
  }
  return (
    (c.prototype._series = null),
    (c.prototype._labels = null),
    (c.prototype._title = null),
    (c.prototype._xaxes = null),
    (c.prototype._yaxes = null),
    (c.prototype.COLORSET = [
      "#f3c300",
      "#875692",
      "#f38400",
      "#a1caf1",
      "#be0032",
      "#c2b280",
      "#7f180d",
      "#008856",
      "#e68fac",
      "#0067a5",
    ]),
    (c.prototype._configColorSet = null),
    (c.prototype.TYPE = null),
    (c.prototype.addSeries = function (a) {
      if (
        (this._validateSeries(a), this._series.push(a), null === a.getColor())
      ) {
        var b = this.getConfigColorSet() || c.prototype.COLORSET;
        a.setColor(b[this._series.length % b.length]);
      }
    }),
    (c.prototype.create = function (c, d) {
      var e = new c();
      return (
        e.setConfigColorSet(d.config_colorset),
        e.setLabels(d.labels),
        e.setTitle(d.title),
        d.series.forEach(function (b) {
          e.addSeries(a.prototype.create(b));
        }),
        d.axes.x.forEach(function (a, c) {
          e.setXAxis(b.prototype.create(a), c);
        }),
        d.axes.y.forEach(function (a, c) {
          e.setYAxis(b.prototype.create(a), c);
        }),
        e
      );
    }),
    (c.prototype.__getAxis = function (a, c, d) {
      var e,
        f = "x" === a ? this._xaxes : this._yaxes,
        g = ("x" === a ? this.setXAxis : this.setYAxis).bind(this);
      if (
        ((c = "undefined" == typeof c ? 0 : c),
        (d = "undefined" != typeof d && d),
        (e = f[c]),
        "undefined" == typeof e)
      ) {
        if (!d) throw new Error("Unknown axis.");
        (e = new b()), g(e, c);
      }
      return e;
    }),
    (c.prototype.getConfigColorSet = function () {
      return this._configColorSet;
    }),
    (c.prototype.getLabels = function () {
      return this._labels;
    }),
    (c.prototype.getSeries = function () {
      return this._series;
    }),
    (c.prototype.getTitle = function () {
      return this._title;
    }),
    (c.prototype.getType = function () {
      if (!this.TYPE) throw new Error("The TYPE property has not been set.");
      return this.TYPE;
    }),
    (c.prototype.getXAxes = function () {
      return this._xaxes;
    }),
    (c.prototype.getXAxis = function (a, b) {
      return this.__getAxis("x", a, b);
    }),
    (c.prototype.getYAxes = function () {
      return this._yaxes;
    }),
    (c.prototype.getYAxis = function (a, b) {
      return this.__getAxis("y", a, b);
    }),
    (c.prototype.setConfigColorSet = function (a) {
      this._configColorSet = a;
    }),
    (c.prototype._setDefaults = function () {}),
    (c.prototype.setLabels = function (a) {
      if (a.length && this._series.length && this._series[0].length != a.length)
        throw new Error("Series must match label values.");
      this._labels = a;
    }),
    (c.prototype.setTitle = function (a) {
      this._title = a;
    }),
    (c.prototype.setXAxis = function (a, b) {
      (b = "undefined" == typeof b ? 0 : b),
        this._validateAxis("x", a, b),
        (this._xaxes[b] = a);
    }),
    (c.prototype.setYAxis = function (a, b) {
      (b = "undefined" == typeof b ? 0 : b),
        this._validateAxis("y", a, b),
        (this._yaxes[b] = a);
    }),
    (c.prototype._validateAxis = function (a, b, c) {
      if (((c = "undefined" == typeof c ? 0 : c), c > 0)) {
        var d = "x" == a ? this._xaxes : this._yaxes;
        if ("undefined" == typeof d[c - 1])
          throw new Error("Missing " + a + " axis at index lower than " + c);
      }
    }),
    (c.prototype._validateSeries = function (a) {
      if (this._series.length && this._series[0].getCount() != a.getCount())
        throw new Error("Series do not have an equal number of values.");
      if (this._labels.length && this._labels.length != a.getCount())
        throw new Error("Series must match label values.");
    }),
    c
  );
});
define("core/chart_builder", ["jquery"], function (a) {
  var b = {
    make: function (b) {
      var c = a.Deferred();
      return (
        require(["core/chart_" + b.type], function (a) {
          var d = a.prototype.create(a, b);
          c.resolve(d);
        }),
        c.promise()
      );
    },
  };
  return b;
});
define("core/chart_line", ["core/chart_base"], function (a) {
  function b() {
    a.prototype.constructor.apply(this, arguments);
  }
  return (
    (b.prototype = Object.create(a.prototype)),
    (b.prototype.TYPE = "line"),
    (b.prototype._smooth = !1),
    (b.prototype.create = function (b, c) {
      var d = a.prototype.create.apply(this, arguments);
      return d.setSmooth(c.smooth), d;
    }),
    (b.prototype.getSmooth = function () {
      return this._smooth;
    }),
    (b.prototype.setSmooth = function (a) {
      this._smooth = Boolean(a);
    }),
    b
  );
});
define("core/chart_output", ["core/chart_output_chartjs"], function (a) {
  var b = a;
  return b;
});
define("core/chart_output_base", ["jquery"], function (a) {
  function b(b, c) {
    (this._node = a(b)), (this._chart = c);
  }
  return (
    (b.prototype.update = function () {
      throw new Error("Not supported.");
    }),
    b
  );
});
define("core/chart_output_chartjs", [
  "jquery",
  "core/chartjs",
  "core/chart_axis",
  "core/chart_bar",
  "core/chart_output_base",
  "core/chart_line",
  "core/chart_pie",
  "core/chart_series",
], function (a, b, c, d, e, f, g, h) {
  function i() {
    e.prototype.constructor.apply(this, arguments),
      (this._canvas = this._node),
      "CANVAS" != this._canvas.prop("tagName") &&
        ((this._canvas = a("<canvas>")), this._node.append(this._canvas)),
      this._build();
  }
  var j = function (a, b) {
    return "axis-" + a + "-" + b;
  };
  return (
    (i.prototype = Object.create(e.prototype)),
    (i.prototype._config = null),
    (i.prototype._chartjs = null),
    (i.prototype._canvas = null),
    (i.prototype._build = function () {
      (this._config = this._makeConfig()),
        (this._chartjs = new b(this._canvas[0], this._config));
    }),
    (i.prototype._cleanData = function (b) {
      return b instanceof Array
        ? b.map(function (b) {
            return a("<span>").html(b).text();
          })
        : a("<span>").html(b).text();
    }),
    (i.prototype._getChartType = function () {
      var a = this._chart.getType();
      return (
        this._chart.getType() === d.prototype.TYPE &&
        this._chart.getHorizontal() === !0
          ? (a = "horizontalBar")
          : this._chart.getType() === g.prototype.TYPE &&
            this._chart.getDoughnut() === !0 &&
            (a = "doughnut"),
        a
      );
    }),
    (i.prototype._makeAxisConfig = function (a, b, d) {
      var e = { id: j(b, d) };
      return (
        a.getPosition() !== c.prototype.POS_DEFAULT &&
          (e.position = a.getPosition()),
        null !== a.getLabel() &&
          (e.scaleLabel = {
            display: !0,
            labelString: this._cleanData(a.getLabel()),
          }),
        null !== a.getStepSize() &&
          ((e.ticks = e.ticks || {}), (e.ticks.stepSize = a.getStepSize())),
        null !== a.getMax() &&
          ((e.ticks = e.ticks || {}), (e.ticks.max = a.getMax())),
        null !== a.getMin() &&
          ((e.ticks = e.ticks || {}), (e.ticks.min = a.getMin())),
        e
      );
    }),
    (i.prototype._makeConfig = function () {
      var a = {
        type: this._getChartType(),
        data: {
          labels: this._cleanData(this._chart.getLabels()),
          datasets: this._makeDatasetsConfig(),
        },
        options: {
          title: {
            display: null !== this._chart.getTitle(),
            text: this._cleanData(this._chart.getTitle()),
          },
        },
      };
      return (
        this._chart.getXAxes().forEach(
          function (b, c) {
            var d = b.getLabels();
            (a.options.scales = a.options.scales || {}),
              (a.options.scales.xAxes = a.options.scales.xAxes || []),
              (a.options.scales.xAxes[c] = this._makeAxisConfig(b, "x", c)),
              null !== d &&
                (a.options.scales.xAxes[c].ticks.callback = function (a, b) {
                  return d[b] || "";
                }),
              (a.options.scales.xAxes[c].stacked = this._isStacked());
          }.bind(this)
        ),
        this._chart.getYAxes().forEach(
          function (b, c) {
            var d = b.getLabels();
            (a.options.scales = a.options.scales || {}),
              (a.options.scales.yAxes = a.options.scales.yAxes || []),
              (a.options.scales.yAxes[c] = this._makeAxisConfig(b, "y", c)),
              null !== d &&
                (a.options.scales.yAxes[c].ticks.callback = function (a) {
                  return d[parseInt(a, 10)] || "";
                }),
              (a.options.scales.yAxes[c].stacked = this._isStacked());
          }.bind(this)
        ),
        (a.options.tooltips = {
          callbacks: { label: this._makeTooltip.bind(this) },
        }),
        a
      );
    }),
    (i.prototype._makeDatasetsConfig = function () {
      var a = this._chart.getSeries().map(
        function (a) {
          var b = a.hasColoredValues() ? a.getColors() : a.getColor(),
            c = {
              label: this._cleanData(a.getLabel()),
              data: a.getValues(),
              type: a.getType(),
              fill: !1,
              backgroundColor: b,
              borderColor: this._chart.getType() == g.prototype.TYPE ? null : b,
              lineTension: this._isSmooth(a) ? 0.3 : 0,
            };
          return (
            null !== a.getXAxis() && (c.xAxisID = j("x", a.getXAxis())),
            null !== a.getYAxis() && (c.yAxisID = j("y", a.getYAxis())),
            c
          );
        }.bind(this)
      );
      return a;
    }),
    (i.prototype._makeTooltip = function (a, b) {
      var c = this._chart.getSeries()[a.datasetIndex],
        d = c.getLabel(),
        e = c.getLabels(),
        f = b.datasets[a.datasetIndex].data,
        g = f[a.index],
        h = this._cleanData(d) + ": " + g;
      return null !== e && (h = this._cleanData(e[a.index])), h;
    }),
    (i.prototype._isSmooth = function (a) {
      var b = !1;
      return (
        this._chart.getType() === f.prototype.TYPE
          ? ((b = a.getSmooth()), null === b && (b = this._chart.getSmooth()))
          : a.getType() === h.prototype.TYPE_LINE && (b = a.getSmooth()),
        b
      );
    }),
    (i.prototype._isStacked = function () {
      var a = !1;
      return (
        this._chart.getType() === d.prototype.TYPE &&
          (a = this._chart.getStacked()),
        a
      );
    }),
    (i.prototype.update = function () {
      a.extend(!0, this._config, this._makeConfig()), this._chartjs.update();
    }),
    i
  );
});
define("core/chart_output_htmltable", [
  "jquery",
  "core/chart_output_base",
], function (a, b) {
  function c() {
    b.prototype.constructor.apply(this, arguments), this._build();
  }
  return (
    (c.prototype = Object.create(b.prototype)),
    (c.prototype._build = function () {
      this._node.empty(), this._node.append(this._makeTable());
    }),
    (c.prototype._makeTable = function () {
      var b,
        c,
        d,
        e = a("<table>"),
        f = this._chart,
        g = f.getLabels(),
        h = g.length > 0,
        i = f.getSeries(),
        j = i[0].getCount();
      e.addClass("chart-output-htmltable generaltable"),
        null !== f.getTitle() && e.append(a("<caption>").text(f.getTitle())),
        (b = a("<tr>")),
        h && b.append(a("<td>")),
        i.forEach(function (c) {
          b.append(a("<th>").text(c.getLabel()).attr("scope", "col"));
        }),
        e.append(b);
      for (var k = 0; k < j; k++) {
        (b = a("<tr>")),
          g.length > 0 && b.append(a("<th>").text(g[k]).attr("scope", "row"));
        for (var l = 0; l < i.length; l++)
          (c = i[l].getValues()[k]),
            (d = i[l].getLabels()),
            null !== d && (c = i[l].getLabels()[k]),
            b.append(a("<td>").text(c));
        e.append(b);
      }
      return e;
    }),
    (c.prototype.update = function () {
      this._build();
    }),
    c
  );
});
define("core/chart_pie", ["core/chart_base"], function (a) {
  function b() {
    a.prototype.constructor.apply(this, arguments);
  }
  return (
    (b.prototype = Object.create(a.prototype)),
    (b.prototype.TYPE = "pie"),
    (b.prototype._doughnut = null),
    (b.prototype.create = function (b, c) {
      var d = a.prototype.create.apply(this, arguments);
      return d.setDoughnut(c.doughnut), d;
    }),
    (b.prototype.addSeries = function (b) {
      if (null === b.getColor()) {
        for (
          var c = [],
            d = this.getConfigColorSet() || a.prototype.COLORSET,
            e = 0;
          e < b.getCount();
          e++
        )
          c.push(d[e % d.length]);
        b.setColors(c);
      }
      return a.prototype.addSeries.apply(this, arguments);
    }),
    (b.prototype.getDoughnut = function () {
      return this._doughnut;
    }),
    (b.prototype.setDoughnut = function (a) {
      this._doughnut = Boolean(a);
    }),
    (b.prototype._validateSeries = function () {
      if (this._series.length >= 1)
        throw new Error("Pie charts only support one serie.");
      return a.prototype._validateSeries.apply(this, arguments);
    }),
    b
  );
});
define("core/chart_series", [], function () {
  function a(a, b) {
    if ("string" != typeof a) throw new Error("Invalid label for series.");
    if ("object" != typeof b)
      throw new Error("Values for a series must be an array.");
    if (b.length < 1) throw new Error("Invalid values received for series.");
    (this._colors = []), (this._label = a), (this._values = b);
  }
  return (
    (a.prototype.TYPE_DEFAULT = null),
    (a.prototype.TYPE_LINE = "line"),
    (a.prototype._colors = null),
    (a.prototype._label = null),
    (a.prototype._labels = null),
    (a.prototype._smooth = !1),
    (a.prototype._type = a.prototype.TYPE_DEFAULT),
    (a.prototype._values = null),
    (a.prototype._xaxis = null),
    (a.prototype._yaxis = null),
    (a.prototype.create = function (b) {
      var c = new a(b.label, b.values);
      return (
        c.setType(b.type),
        c.setXAxis(b.axes.x),
        c.setYAxis(b.axes.y),
        c.setLabels(b.labels),
        b.colors && b.colors.length > 1
          ? c.setColors(b.colors)
          : c.setColor(b.colors[0]),
        c.setSmooth(b.smooth),
        c
      );
    }),
    (a.prototype.getColor = function () {
      return this._colors[0] || null;
    }),
    (a.prototype.getColors = function () {
      return this._colors;
    }),
    (a.prototype.getCount = function () {
      return this._values.length;
    }),
    (a.prototype.getLabel = function () {
      return this._label;
    }),
    (a.prototype.getLabels = function () {
      return this._labels;
    }),
    (a.prototype.getSmooth = function () {
      return this._smooth;
    }),
    (a.prototype.getType = function () {
      return this._type;
    }),
    (a.prototype.getValues = function () {
      return this._values;
    }),
    (a.prototype.getXAxis = function () {
      return this._xaxis;
    }),
    (a.prototype.getYAxis = function () {
      return this._yaxis;
    }),
    (a.prototype.hasColoredValues = function () {
      return this._colors.length == this.getCount();
    }),
    (a.prototype.setColor = function (a) {
      this._colors = [a];
    }),
    (a.prototype.setColors = function (a) {
      if (a && a.length != this.getCount())
        throw new Error(
          "When setting multiple colors there must be one per value."
        );
      this._colors = a || [];
    }),
    (a.prototype.setLabels = function (a) {
      this._validateLabels(a),
        (a = "undefined" == typeof a ? null : a),
        (this._labels = a);
    }),
    (a.prototype.setSmooth = function (a) {
      (a = "undefined" == typeof a ? null : a), (this._smooth = a);
    }),
    (a.prototype.setType = function (a) {
      if (a != this.TYPE_DEFAULT && a != this.TYPE_LINE)
        throw new Error("Invalid serie type.");
      this._type = a || null;
    }),
    (a.prototype.setXAxis = function (a) {
      this._xaxis = a || null;
    }),
    (a.prototype.setYAxis = function (a) {
      this._yaxis = a || null;
    }),
    (a.prototype._validateLabels = function (a) {
      if (a && a.length > 0 && a.length != this.getCount())
        throw new Error("Series labels must match series values.");
    }),
    a
  );
});
define("core/chartjs", ["core/chartjs-lazy"], function (a) {
  return a;
});
define("core/config", function () {
  return M.cfg;
});
define("core/custom_interaction_events", [
  "jquery",
  "core/key_codes",
], function (a, b) {
  var c = {
      activate: "cie:activate",
      keyboardActivate: "cie:keyboardactivate",
      escape: "cie:escape",
      down: "cie:down",
      up: "cie:up",
      home: "cie:home",
      end: "cie:end",
      next: "cie:next",
      previous: "cie:previous",
      asterix: "cie:asterix",
      scrollLock: "cie:scrollLock",
      scrollTop: "cie:scrollTop",
      scrollBottom: "cie:scrollBottom",
      ctrlPageUp: "cie:ctrlPageUp",
      ctrlPageDown: "cie:ctrlPageDown",
      enter: "cie:enter",
    },
    d = function (a, b) {
      return (b = b || []), !(!b.length || b.indexOf(a) === -1);
    },
    e = function (a) {
      return a.shiftKey || a.metaKey || a.altKey || a.ctrlKey;
    },
    f = function (b, c, d) {
      b.off("keydown." + c).on("keydown." + c, function (b) {
        e(b) ||
          (b.keyCode == d && a(b.target).trigger(c, [{ originalEvent: b }]));
      });
    },
    g = function (d) {
      d.off("click.cie.activate").on("click.cie.activate", function (b) {
        a(b.target).trigger(c.activate, [{ originalEvent: b }]);
      }),
        d.off("keydown.cie.activate").on("keydown.cie.activate", function (d) {
          e(d) ||
            (d.keyCode != b.enter && d.keyCode != b.space) ||
            a(d.target).trigger(c.activate, [{ originalEvent: d }]);
        });
    },
    h = function (d) {
      d.off("keydown.cie.keyboardactivate").on(
        "keydown.cie.keyboardactivate",
        function (d) {
          e(d) ||
            (d.keyCode != b.enter && d.keyCode != b.space) ||
            a(d.target).trigger(c.keyboardActivate, [{ originalEvent: d }]);
        }
      );
    },
    i = function (a) {
      f(a, c.escape, b.escape);
    },
    j = function (a) {
      f(a, c.down, b.arrowDown);
    },
    k = function (a) {
      f(a, c.up, b.arrowUp);
    },
    l = function (a) {
      f(a, c.home, b.home);
    },
    m = function (a) {
      f(a, c.end, b.end);
    },
    n = function (d) {
      var e = "rtl" == a("html").attr("dir") ? b.arrowLeft : b.arrowRight;
      f(d, c.next, e);
    },
    o = function (d) {
      var e = "rtl" == a("html").attr("dir") ? b.arrowRight : b.arrowLeft;
      f(d, c.previous, e);
    },
    p = function (a) {
      f(a, c.asterix, b.asterix);
    },
    q = function (a) {
      a.off("scroll.cie.scrollTop").on("scroll.cie.scrollTop", function (b) {
        var d = a.scrollTop();
        0 === d && a.trigger(c.scrollTop, [{ originalEvent: b }]);
      });
    },
    r = function (a) {
      a.off("scroll.cie.scrollBottom").on(
        "scroll.cie.scrollBottom",
        function (b) {
          var d = a.scrollTop(),
            e = a.innerHeight(),
            f = a[0].scrollHeight;
          d + e >= f && a.trigger(c.scrollBottom, [{ originalEvent: b }]);
        }
      );
    },
    s = function (a) {
      a.off(
        "DOMMouseScroll.cie.DOMMouseScrollLock mousewheel.cie.mousewheelLock"
      ).on(
        "DOMMouseScroll.cie.DOMMouseScrollLock mousewheel.cie.mousewheelLock",
        function (b) {
          var d = a.scrollTop(),
            e = a[0].scrollHeight,
            f = a.height(),
            g =
              "DOMMouseScroll" == b.type
                ? b.originalEvent.detail * -40
                : b.originalEvent.wheelDelta,
            h = g > 0;
          return !h && -g > e - f - d
            ? (a.scrollTop(e),
              b.stopPropagation(),
              b.preventDefault(),
              (b.returnValue = !1),
              a.trigger(c.scrollLock, [{ originalEvent: b }]),
              !1)
            : !(h && g > d) ||
                (a.scrollTop(0),
                b.stopPropagation(),
                b.preventDefault(),
                (b.returnValue = !1),
                a.trigger(c.scrollLock, [{ originalEvent: b }]),
                !1);
        }
      );
    },
    t = function (d) {
      d.off("keydown.cie.ctrlpageup").on(
        "keydown.cie.ctrlpageup",
        function (d) {
          d.ctrlKey &&
            d.keyCode == b.pageUp &&
            a(d.target).trigger(c.ctrlPageUp, [{ originalEvent: d }]);
        }
      );
    },
    u = function (d) {
      d.off("keydown.cie.ctrlpagedown").on(
        "keydown.cie.ctrlpagedown",
        function (d) {
          d.ctrlKey &&
            d.keyCode == b.pageDown &&
            a(d.target).trigger(c.ctrlPageDown, [{ originalEvent: d }]);
        }
      );
    },
    v = function (a) {
      f(a, c.enter, b.enter);
    },
    w = function () {
      var a = {};
      return (
        (a[c.activate] = g),
        (a[c.keyboardActivate] = h),
        (a[c.escape] = i),
        (a[c.down] = j),
        (a[c.up] = k),
        (a[c.home] = l),
        (a[c.end] = m),
        (a[c.next] = n),
        (a[c.previous] = o),
        (a[c.asterix] = p),
        (a[c.scrollLock] = s),
        (a[c.scrollTop] = q),
        (a[c.scrollBottom] = r),
        (a[c.ctrlPageUp] = t),
        (a[c.ctrlPageDown] = u),
        (a[c.enter] = v),
        a
      );
    },
    x = function (b, c) {
      (b = a(b)),
        (c = c || []),
        b.length &&
          c.length &&
          a.each(w(), function (a, e) {
            d(a, c) && e(b);
          });
    };
  return { define: x, events: c };
});
define("core/event", ["jquery", "core/yui"], function (a, b) {
  return {
    Events: { FORM_FIELD_VALIDATION: "core_form-field-validation" },
    getLegacyEvents: function () {
      var c = a.Deferred();
      return (
        b.use("event", "moodle-core-event", function () {
          c.resolve(window.M.core.event);
        }),
        c.promise()
      );
    },
    notifyFilterContentUpdated: function (c) {
      (c = a(c)),
        b.use("event", "moodle-core-event", function (b) {
          a(document).trigger(M.core.event.FILTER_CONTENT_UPDATED, [c]);
          var d = new b.NodeList(c.get());
          b.fire(M.core.event.FILTER_CONTENT_UPDATED, { nodes: d });
        });
    },
    notifyEditorContentRestored: function () {
      b.use("event", "moodle-core-event", function (b) {
        a(document).trigger(M.core.event.EDITOR_CONTENT_RESTORED),
          b.fire(M.core.event.EDITOR_CONTENT_RESTORED);
      });
    },
  };
});
define("core/first", ["jquery"], function (a) {
  a(document)
    .bind("ajaxStart", function () {
      M.util.js_pending("jq");
    })
    .bind("ajaxStop", function () {
      M.util.js_complete("jq");
    });
});
define("core/form-autocomplete", [
  "jquery",
  "core/log",
  "core/str",
  "core/templates",
  "core/notification",
], function (a, b, c, d, e) {
  var f = { DOWN: 40, ENTER: 13, SPACE: 32, ESCAPE: 27, COMMA: 44, UP: 38 },
    g = function (b, c) {
      var d = a(document.getElementById(c.selectionId)),
        e = d.children("[aria-selected=true]").length;
      for (b %= e; b < 0; ) b += e;
      var f = a(d.children("[aria-selected=true]").get(b)),
        g = c.selectionId + "-" + b;
      d.children().attr("data-active-selection", !1).attr("id", ""),
        f.attr("data-active-selection", !0).attr("id", g),
        d.attr("aria-activedescendant", g);
    },
    h = function (b, c, f) {
      var h = [],
        i = a(document.getElementById(c.selectionId)),
        j = i.attr("aria-activedescendant"),
        k = !1;
      j && (k = a(document.getElementById(j)).attr("data-value")),
        f.children("option").each(function (b, c) {
          a(c).prop("selected") &&
            h.push({ label: a(c).html(), value: a(c).attr("value") });
        });
      var l = a.extend({ items: h }, b, c);
      d.render("core/form_autocomplete_selection", l)
        .done(function (b) {
          i.empty().append(a(b).html()),
            k !== !1 &&
              i.children("[aria-selected=true]").each(function (b, d) {
                a(d).attr("data-value") === k && g(b, c);
              });
        })
        .fail(e.exception);
    },
    i = function (a) {
      "undefined" != typeof M.core_formchangechecker &&
        M.core_formchangechecker.set_form_changed(),
        a.change();
    },
    j = function (b, c, d, e) {
      var f = a(d).attr("data-value");
      b.multiple &&
        e.children("option").each(function (b, c) {
          a(c).attr("value") == f &&
            (a(c).prop("selected", !1),
            a(c).attr("data-iscustom") && a(c).remove());
        }),
        h(b, c, e),
        i(e);
    },
    k = function (b, c) {
      var d = a(document.getElementById(c.inputId)),
        e = a(document.getElementById(c.suggestionsId)),
        f = e.children("[aria-hidden=false]").length;
      for (b %= f; b < 0; ) b += f;
      var g = a(e.children("[aria-hidden=false]").get(b)),
        h = a(e.children("[role=option]")).index(g),
        i = c.suggestionsId + "-" + h;
      e.children().attr("aria-selected", !1).attr("id", ""),
        g.attr("aria-selected", !0).attr("id", i),
        d.attr("aria-activedescendant", i);
      var j = g.offset().top - e.offset().top + e.scrollTop() - e.height() / 2;
      e.animate({ scrollTop: j }, 100);
    },
    l = function (b) {
      var c = a(document.getElementById(b.suggestionsId)),
        d = c.children("[aria-selected=true]"),
        e = c.children("[aria-hidden=false]").index(d);
      k(e + 1, b);
    },
    m = function (b) {
      var c = a(document.getElementById(b.selectionId)),
        d = c.children("[data-active-selection=true]");
      if (!d) return void g(0, b);
      var e = c.children("[aria-selected=true]").index(d);
      g(e - 1, b);
    },
    n = function (b) {
      var c = a(document.getElementById(b.selectionId)),
        d = c.children("[data-active-selection=true]");
      if (!d) return void g(0, b);
      var e = c.children("[aria-selected=true]").index(d);
      g(e + 1, b);
    },
    o = function (b) {
      var c = a(document.getElementById(b.suggestionsId)),
        d = c.children("[aria-selected=true]"),
        e = c.children("[aria-hidden=false]").index(d);
      k(e - 1, b);
    },
    p = function (b) {
      var c = a(document.getElementById(b.inputId)),
        d = a(document.getElementById(b.suggestionsId));
      c.attr("aria-expanded", !1).attr("aria-activedescendant", b.selectionId),
        d.hide().attr("aria-hidden", !0);
    },
    q = function (b, f, g, h) {
      var i = a(document.getElementById(f.inputId)),
        j = a(document.getElementById(f.suggestionsId)),
        l = !1,
        m = [];
      h.children("option").each(function (b, c) {
        a(c).prop("selected") !== !0 &&
          (m[m.length] = { label: c.innerHTML, value: a(c).attr("value") });
      });
      var n = f.caseSensitive ? g : g.toLocaleLowerCase(),
        o = a.extend({ options: m }, b, f);
      d.render("core/form_autocomplete_suggestions", o)
        .done(function (d) {
          j.replaceWith(d),
            (j = a(document.getElementById(f.suggestionsId))),
            j.show().attr("aria-hidden", !1),
            j.children().each(function (c, d) {
              (d = a(d)),
                (b.caseSensitive && d.text().indexOf(n) > -1) ||
                (!b.caseSensitive &&
                  d.text().toLocaleLowerCase().indexOf(n) > -1)
                  ? (d.show().attr("aria-hidden", !1), (l = !0))
                  : d.hide().attr("aria-hidden", !0);
            }),
            i.attr("aria-expanded", !0),
            l
              ? b.tags || k(0, f)
              : c.get_string("nosuggestions", "form").done(function (a) {
                  j.html(a);
                });
        })
        .fail(e.exception);
    },
    r = function (b, c, d) {
      var e = a(document.getElementById(c.inputId)),
        f = e.val(),
        g = f.split(","),
        j = !1;
      a.each(g, function (c, e) {
        if (
          ((e = e.trim()),
          "" !== e &&
            (b.multiple || d.children("option").prop("selected", !1),
            d.children("option").each(function (b, c) {
              a(c).attr("value") == e && ((j = !0), a(c).prop("selected", !0));
            }),
            !j))
        ) {
          var f = a("<option>");
          f.append(e),
            f.attr("value", e),
            d.append(f),
            f.prop("selected", !0),
            f.attr("data-iscustom", !0);
        }
      }),
        h(b, c, d),
        i(d),
        e.val(""),
        p(c);
    },
    s = function (b, c, d) {
      var e = a(document.getElementById(c.inputId)),
        f = a(document.getElementById(c.suggestionsId)),
        g = f.children("[aria-selected=true]").attr("data-value");
      b.multiple || d.children("option").prop("selected", !1),
        d.children("option").each(function (b, c) {
          a(c).attr("value") == g && a(c).prop("selected", !0);
        }),
        h(b, c, d),
        i(d),
        e.val(""),
        p(c);
    },
    t = function (b, c, d, f, g) {
      var h = a(b.currentTarget).val();
      g.transport(
        c.selector,
        h,
        function (b) {
          var e = g.processResults(c.selector, b),
            h = [];
          if (
            (f.children("option").each(function (b, c) {
              (c = a(c)),
                c.prop("selected")
                  ? h.push(String(c.attr("value")))
                  : c.remove();
            }),
            !c.multiple && 0 === f.children("option").length)
          ) {
            var i = a("<option>");
            f.append(i);
          }
          a.each(e, function (b, c) {
            if (h.indexOf(String(c.value)) === -1) {
              var d = a("<option>");
              d.append(c.label), d.attr("value", c.value), f.append(d);
            }
          }),
            q(c, d, "", f);
        },
        e.exception
      );
    },
    u = function (b, c, d) {
      var e = a(document.getElementById(c.inputId));
      if (
        (e.on("keydown", function (g) {
          switch (g.keyCode) {
            case f.DOWN:
              return (
                !b.showSuggestions ||
                ("true" === e.attr("aria-expanded")
                  ? l(c)
                  : !e.val() && b.ajax
                  ? require([b.ajax], function (a) {
                      t(g, b, c, d, a);
                    })
                  : q(b, c, e.val(), d),
                g.preventDefault(),
                !1)
              );
            case f.UP:
              return o(c), g.preventDefault(), !1;
            case f.ENTER:
              var h = a(document.getElementById(c.suggestionsId));
              return (
                "true" === e.attr("aria-expanded") &&
                h.children("[aria-selected=true]").length > 0
                  ? s(b, c, d)
                  : b.tags && r(b, c, d),
                g.preventDefault(),
                !1
              );
            case f.ESCAPE:
              return (
                "true" === e.attr("aria-expanded") && p(c),
                g.preventDefault(),
                !1
              );
          }
          return !0;
        }),
        e.on("keypress", function (a) {
          return (
            a.keyCode !== f.COMMA ||
            (b.tags && r(b, c, d), a.preventDefault(), !1)
          );
        }),
        e.on("behat:set-value", function () {
          var f = a(document.getElementById(c.suggestionsId));
          "true" === e.attr("aria-expanded") &&
          f.children("[aria-selected=true]").length > 0
            ? s(b, c, d)
            : b.tags && r(b, c, d);
        }),
        e.on("blur", function () {
          window.setTimeout(function () {
            var f = a(document.activeElement);
            f.attr("id") != e.attr("id") && (b.tags && r(b, c, d), p(c));
          }, 500);
        }),
        b.showSuggestions)
      ) {
        var g = a(document.getElementById(c.downArrowId));
        g.on("click", function () {
          e.focus(), q(b, c, e.val(), d);
        });
      }
      var h = a(document.getElementById(c.suggestionsId));
      h.parent().on("click", "[role=option]", function (e) {
        var f = a(e.currentTarget).closest("[role=option]"),
          g = a(document.getElementById(c.suggestionsId)),
          h = g.children("[aria-hidden=false]").index(f);
        k(h, c), s(b, c, d);
      });
      var i = a(document.getElementById(c.selectionId));
      i.on("click", "[role=listitem]", function (e) {
        var f = a(e.currentTarget);
        j(b, c, f, d);
      }),
        i.on("keydown", function (e) {
          switch (e.keyCode) {
            case f.DOWN:
              return n(c), e.preventDefault(), !1;
            case f.UP:
              return m(c), e.preventDefault(), !1;
            case f.SPACE:
            case f.ENTER:
              var g = a(document.getElementById(c.selectionId)).children(
                "[data-active-selection=true]"
              );
              return g && (j(b, c, g, d), e.preventDefault()), !1;
          }
          return !0;
        }),
        b.showSuggestions &&
          e.on("input", function (e) {
            var f = a(e.currentTarget).val(),
              g = a(e.currentTarget).data("last-value");
            g !== f && q(b, c, f, d), a(e.currentTarget).data("last-value", f);
          });
    };
  return {
    enhance: function (f, g, i, j, k, l, m) {
      var n = {
        selector: f,
        tags: !1,
        ajax: !1,
        placeholder: j,
        caseSensitive: !1,
        showSuggestions: !0,
        noSelectionString: m,
      };
      "undefined" != typeof g && (n.tags = g),
        "undefined" != typeof i && (n.ajax = i),
        "undefined" != typeof k && (n.caseSensitive = k),
        "undefined" != typeof l && (n.showSuggestions = l),
        "undefined" == typeof m &&
          c
            .get_string("noselection", "form")
            .done(function (a) {
              n.noSelectionString = a;
            })
            .fail(e.exception);
      var o = a(f);
      if (!o) return void b.debug("Selector not found: " + f);
      o.hide().attr("aria-hidden", !0);
      var p = {
        selectId: o.attr("id"),
        inputId: "form_autocomplete_input-" + a.now(),
        suggestionsId: "form_autocomplete_suggestions-" + a.now(),
        selectionId: "form_autocomplete_selection-" + a.now(),
        downArrowId: "form_autocomplete_downarrow-" + a.now(),
      };
      n.multiple = o.attr("multiple");
      var q = a("[for=" + p.selectId + "]"),
        r = [];
      o.children("option").each(function (b, c) {
        r[b] = { label: c.innerHTML, value: a(c).attr("value") };
      });
      var s = a.extend({}, n, p);
      (s.options = r), (s.items = []);
      var v = d.render("core/form_autocomplete_input", s),
        w = d.render("core/form_autocomplete_suggestions", s),
        x = d.render("core/form_autocomplete_selection", s);
      a.when(v, w, x).done(function (b, c, d) {
        o.after(c),
          o.after(b),
          o.after(d),
          q.attr("for", p.inputId),
          u(n, p, o);
        var e = a(document.getElementById(p.inputId)),
          f = a(document.getElementById(p.suggestionsId));
        f.hide().attr("aria-hidden", !0),
          n.ajax &&
            require([n.ajax], function (b) {
              var c = null,
                d = function (a) {
                  t(a, n, p, o, b);
                },
                f = function (a) {
                  null !== c && (window.clearTimeout(c), (c = null)),
                    (c = window.setTimeout(d.bind(this, a), 300));
                };
              e.on("input", f);
              var g = a(document.getElementById(p.downArrowId));
              g.on("click", d);
            }),
          h(n, p, o);
      });
    },
  };
});
define("core/form-course-selector", ["core/ajax", "jquery"], function (a, b) {
  return {
    processResults: function (a, c) {
      var d = [],
        e = 0,
        f = String(b(a).data("exclude")).split(",");
      for (e = 0; e < c.courses.length; e++)
        f.indexOf(String(c.courses[e].id)) === -1 &&
          d.push({ value: c.courses[e].id, label: c.courses[e].displayname });
      return d;
    },
    transport: function (c, d, e, f) {
      var g = b(c),
        h = g.data("requiredcapabilities");
      h = "" !== h.trim() ? h.split(",") : [];
      var i = g.data("limittoenrolled"),
        j = g.data("includefrontpage"),
        k = null;
      "undefined" == typeof d && (d = "");
      var l = {
          criterianame: "search",
          criteriavalue: d,
          page: 0,
          perpage: 100,
          requiredcapabilities: h,
          limittoenrolled: i,
        },
        m = [{ methodname: "core_course_search_courses", args: l }];
      j &&
        m.push({
          methodname: "core_course_get_courses",
          args: { options: { ids: [j] } },
        }),
        (k = a.call(m)),
        b.when
          .apply(b.when, k)
          .done(function (a, b) {
            if (b && 1 == b.length) {
              var c = b.pop(),
                f =
                  "" === d ||
                  c.fullname.toUpperCase().indexOf(d.toUpperCase()) > -1 ||
                  c.shortname.toUpperCase().indexOf(d.toUpperCase()) > -1;
              f && a.courses.splice(0, 0, c);
            }
            e(a);
          })
          .fail(f);
    },
  };
});
define("core/fragment", ["jquery", "core/ajax"], function (a, b) {
  var c = function (c, d, e, f) {
    var g = [];
    for (var h in f) g.push({ name: h, value: f[h] });
    var i = a.Deferred(),
      j = b.call(
        [
          {
            methodname: "core_get_fragment",
            args: { component: c, callback: d, contextid: e, args: g },
          },
        ],
        !1
      );
    return (
      j[0]
        .done(function (a) {
          i.resolve(a);
        })
        .fail(function (a) {
          i.reject(a);
        }),
      i.promise()
    );
  };
  return {
    loadFragment: function (b, d, e, f) {
      var g = a.Deferred();
      return (
        a
          .when(c(b, d, e, f))
          .then(function (b) {
            var c = a(b.javascript),
              d = "";
            c.each(function (b, c) {
              c = a(c);
              var e = c.prop("tagName");
              if (e && "script" == e.toLowerCase())
                if (c.attr("src")) {
                  var f = !1;
                  a("script").each(function (b, d) {
                    return a(d).attr("src") == c.attr("src") && (f = !0), !f;
                  }),
                    f ||
                      ((d += " { "),
                      (d += ' node = document.createElement("script"); '),
                      (d += ' node.type = "text/javascript"; '),
                      (d +=
                        ' node.src = decodeURI("' +
                        encodeURI(c.attr("src")) +
                        '"); '),
                      (d +=
                        ' document.getElementsByTagName("head")[0].appendChild(node); '),
                      (d += " } "));
                } else d += " " + c.text();
            }),
              g.resolve(b.html, d);
          })
          .fail(function (a) {
            g.reject(a);
          }),
        g.promise()
      );
    },
  };
});
define("core/inplace_editable", [
  "jquery",
  "core/ajax",
  "core/templates",
  "core/notification",
  "core/str",
  "core/config",
  "core/url",
], function (a, b, c, d, e, f, g) {
  return (
    a("body").on(
      "click keypress",
      "[data-inplaceeditable] [data-inplaceeditablelink]",
      function (h) {
        if ("keypress" !== h.type || 13 === h.keyCode) {
          h.stopImmediatePropagation(), h.preventDefault();
          var i = a(this),
            j = i.closest("[data-inplaceeditable]"),
            k = function (b) {
              b.addClass("updating");
              var c = b.find("img.spinner");
              c.length
                ? c.show()
                : ((c = a("<img/>")
                    .attr("src", g.imageUrl("i/loading_small"))
                    .addClass("spinner")
                    .addClass("smallicon")),
                  b.append(c));
            },
            l = function (a) {
              a.removeClass("updating"), a.find("img.spinner").hide();
            },
            m = function (e, f) {
              k(e),
                b.call(
                  [
                    {
                      methodname: "core_update_inplace_editable",
                      args: {
                        itemid: e.attr("data-itemid"),
                        component: e.attr("data-component"),
                        itemtype: e.attr("data-itemtype"),
                        value: f,
                      },
                      done: function (b) {
                        var d = e.attr("data-value");
                        c.render("core/inplace_editable", b).done(function (
                          f,
                          g
                        ) {
                          var h = a(f);
                          c.replaceNode(e, h, g),
                            h.find("[data-inplaceeditablelink]").focus(),
                            h.trigger({
                              type: "updated",
                              ajaxreturn: b,
                              oldvalue: d,
                            });
                        });
                      },
                      fail: function (b) {
                        var c = a.Event("updatefailed", {
                          exception: b,
                          newvalue: f,
                        });
                        l(e),
                          e.trigger(c),
                          c.isDefaultPrevented() || d.exception(b);
                      },
                    },
                  ],
                  !0
                );
            },
            n = function (a) {
              a.find("input").off(),
                a.find("select").off(),
                a.html(a.attr("data-oldcontent")),
                a.removeAttr("data-oldcontent"),
                a.removeClass("inplaceeditingon"),
                a.find("[data-inplaceeditablelink]").focus();
            },
            o = function () {
              a("span.inplaceeditable.inplaceeditingon").each(function () {
                n(a(this));
              });
            },
            p = function (b, c) {
              var d,
                e = b;
              for (d = 0; d < c; d++)
                e += String(Math.floor(10 * Math.random()));
              return 0 === a("#" + e).length ? e : p(b, c);
            },
            q = function (b) {
              e.get_string("edittitleinstructions").done(function (c) {
                var d = a(
                    '<span class="editinstructions">' + c + "</span>"
                  ).attr("id", p("id_editinstructions_", 20)),
                  e = a('<input type="text"/>')
                    .attr("id", p("id_inplacevalue_", 20))
                    .attr("value", b.attr("data-value"))
                    .attr("aria-describedby", d.attr("id"))
                    .addClass("ignoredirty")
                    .addClass("form-control"),
                  g = a(
                    '<label class="accesshide">' +
                      j.attr("data-editlabel") +
                      "</label>"
                  ).attr("for", e.attr("id"));
                b.html("").append(d).append(g).append(e),
                  e.focus(),
                  e.select(),
                  e.on("keyup keypress focusout", function (a) {
                    if (!f.behatsiterunning || "focusout" !== a.type) {
                      if ("keypress" === a.type && 13 === a.keyCode) {
                        var c = e.val();
                        n(b), m(b, c);
                      }
                      (("keyup" === a.type && 27 === a.keyCode) ||
                        "focusout" === a.type) &&
                        n(b);
                    }
                  });
              });
            },
            r = function (a, b) {
              n(a), m(a, b);
            },
            s = function (b, c) {
              var d,
                e = a("<select></select>")
                  .attr("id", p("id_inplacevalue_", 20))
                  .addClass("custom-select"),
                g = a(
                  '<label class="accesshide">' +
                    j.attr("data-editlabel") +
                    "</label>"
                ).attr("for", e.attr("id"));
              for (d in c)
                e.append(
                  a("<option>").attr("value", c[d].key).html(c[d].value)
                );
              e.val(b.attr("data-value")),
                b.html("").append(g).append(e),
                e.focus(),
                e.select(),
                e.on("keyup change focusout", function (a) {
                  if (!f.behatsiterunning || "focusout" !== a.type) {
                    if ("change" === a.type) {
                      var c = e.val();
                      n(b), m(b, c);
                    }
                    (("keyup" === a.type && 27 === a.keyCode) ||
                      "focusout" === a.type) &&
                      n(b);
                  }
                });
            },
            t = function (b) {
              b.addClass("inplaceeditingon"),
                b.attr("data-oldcontent", b.html());
              var c = b.attr("data-type"),
                d = b.attr("data-options");
              "toggle" === c
                ? r(b, d)
                : "select" === c
                ? s(b, a.parseJSON(d))
                : q(b);
            };
          o(), t(j);
        }
      }
    ),
    {}
  );
});
define("core/key_codes", function () {
  return {
    tab: 9,
    enter: 13,
    escape: 27,
    space: 32,
    end: 35,
    home: 36,
    arrowLeft: 37,
    arrowUp: 38,
    arrowRight: 39,
    arrowDown: 40,
    8: 56,
    asterix: 106,
    pageUp: 33,
    pageDown: 34,
  };
});
define("core/localstorage", ["core/config"], function (a) {
  var b = !1,
    c = "",
    d = "",
    e = null,
    f = function () {
      if (a.jsrev == -1) return !1;
      if ("undefined" == typeof window.localStorage) return !1;
      var b = "test";
      try {
        return (
          (e = window.localStorage),
          null !== e && (e.setItem(b, "1"), e.removeItem(b), !0)
        );
      } catch (c) {
        return !1;
      }
    },
    g = function (a) {
      return c + a;
    },
    h = function () {
      var b = e.getItem(d);
      if (null === b) return void e.setItem(d, a.jsrev);
      var c = a.jsrev;
      c != b && (e.clear(), e.setItem(d, a.jsrev));
    },
    i = function (a) {
      var b,
        c,
        d,
        e = 0;
      if (0 === a.length) return e;
      for (b = 0, d = a.length; b < d; b++)
        (c = a.charCodeAt(b)), (e = (e << 5) - e + c), (e |= 0);
      return e;
    },
    j = function () {
      b = f();
      var e = a.wwwroot + "/" + a.jsrev,
        g = i(e);
      (c = g + "/"), (e = a.wwwroot + "/"), (g = i(e)), (d = g + "/jsrev");
    };
  return (
    j(),
    {
      get: function (a) {
        return !!b && (h(), (a = g(a)), e.getItem(a));
      },
      set: function (a, c) {
        if (!b) return !1;
        h(), (a = g(a));
        try {
          e.setItem(a, c);
        } catch (d) {
          return !1;
        }
        return !0;
      },
    }
  );
});
define("core/log", ["core/loglevel"], function (a) {
  var b = a.methodFactory;
  return (
    (a.methodFactory = function (a, c) {
      var d = b(a, c);
      return function (a, b) {
        d(b ? b + ": " + a : a);
      };
    }),
    (a.setConfig = function (b) {
      "undefined" != typeof b.level && a.setLevel(b.level);
    }),
    a
  );
});
!(function (a, b) {
  "use strict";
  "function" == typeof define && define.amd
    ? define("core/loglevel", b)
    : "object" == typeof module && module.exports
    ? (module.exports = b())
    : (a.log = b());
})(this, function () {
  "use strict";
  function a(a) {
    return (
      typeof console !== h &&
      (void 0 !== console[a]
        ? b(console, a)
        : void 0 !== console.log
        ? b(console, "log")
        : g)
    );
  }
  function b(a, b) {
    var c = a[b];
    if ("function" == typeof c.bind) return c.bind(a);
    try {
      return Function.prototype.bind.call(c, a);
    } catch (d) {
      return function () {
        return Function.prototype.apply.apply(c, [a, arguments]);
      };
    }
  }
  function c(a, b, c) {
    return function () {
      typeof console !== h &&
        (d.call(this, b, c), this[a].apply(this, arguments));
    };
  }
  function d(a, b) {
    for (var c = 0; c < i.length; c++) {
      var d = i[c];
      this[d] = c < a ? g : this.methodFactory(d, a, b);
    }
  }
  function e(b, d, e) {
    return a(b) || c.apply(this, arguments);
  }
  function f(a, b, c) {
    function f(a) {
      var b = (i[a] || "silent").toUpperCase();
      try {
        return void (window.localStorage[l] = b);
      } catch (c) {}
      try {
        window.document.cookie = encodeURIComponent(l) + "=" + b + ";";
      } catch (c) {}
    }
    function g() {
      var a;
      try {
        a = window.localStorage[l];
      } catch (b) {}
      if (typeof a === h)
        try {
          var c = window.document.cookie,
            d = c.indexOf(encodeURIComponent(l) + "=");
          d && (a = /^([^;]+)/.exec(c.slice(d))[1]);
        } catch (b) {}
      return void 0 === k.levels[a] && (a = void 0), a;
    }
    var j,
      k = this,
      l = "loglevel";
    a && (l += ":" + a),
      (k.levels = {
        TRACE: 0,
        DEBUG: 1,
        INFO: 2,
        WARN: 3,
        ERROR: 4,
        SILENT: 5,
      }),
      (k.methodFactory = c || e),
      (k.getLevel = function () {
        return j;
      }),
      (k.setLevel = function (b, c) {
        if (
          ("string" == typeof b &&
            void 0 !== k.levels[b.toUpperCase()] &&
            (b = k.levels[b.toUpperCase()]),
          !("number" == typeof b && b >= 0 && b <= k.levels.SILENT))
        )
          throw "log.setLevel() called with invalid level: " + b;
        if (
          ((j = b),
          c !== !1 && f(b),
          d.call(k, b, a),
          typeof console === h && b < k.levels.SILENT)
        )
          return "No console available for logging";
      }),
      (k.setDefaultLevel = function (a) {
        g() || k.setLevel(a, !1);
      }),
      (k.enableAll = function (a) {
        k.setLevel(k.levels.TRACE, a);
      }),
      (k.disableAll = function (a) {
        k.setLevel(k.levels.SILENT, a);
      });
    var m = g();
    null == m && (m = null == b ? "WARN" : b), k.setLevel(m, !1);
  }
  var g = function () {},
    h = "undefined",
    i = ["trace", "debug", "info", "warn", "error"],
    j = new f(),
    k = {};
  j.getLogger = function (a) {
    if ("string" != typeof a || "" === a)
      throw new TypeError("You must supply a name when creating a logger.");
    var b = k[a];
    return b || (b = k[a] = new f(a, j.getLevel(), j.methodFactory)), b;
  };
  var l = typeof window !== h ? window.log : void 0;
  return (
    (j.noConflict = function () {
      return typeof window !== h && window.log === j && (window.log = l), j;
    }),
    j
  );
});
define("core/modal", [
  "jquery",
  "core/templates",
  "core/notification",
  "core/key_codes",
  "core/custom_interaction_events",
  "core/modal_backdrop",
  "core/modal_events",
], function (a, b, c, d, e, f, g) {
  var h,
    i = {
      CONTAINER: '[data-region="modal-container"]',
      MODAL: '[data-region="modal"]',
      HEADER: '[data-region="header"]',
      TITLE: '[data-region="title"]',
      BODY: '[data-region="body"]',
      FOOTER: '[data-region="footer"]',
      HIDE: '[data-action="hide"]',
      DIALOG: "[role=dialog]",
      MENU_BAR: "[role=menubar]",
      HAS_Z_INDEX: ".moodle-has-zindex",
      CAN_RECEIVE_FOCUS:
        'input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]',
    },
    j = { LOADING: "core/loading", BACKDROP: "core/modal_backdrop" },
    k = function (b) {
      (this.root = a(b)),
        (this.modal = this.root.find(i.MODAL)),
        (this.header = this.modal.find(i.HEADER)),
        (this.title = this.header.find(i.TITLE)),
        (this.body = this.modal.find(i.BODY)),
        (this.footer = this.modal.find(i.FOOTER)),
        (this.hiddenSiblings = []),
        (this.isAttached = !1),
        (this.bodyJS = null),
        (this.footerJS = null),
        this.root.is(i.CONTAINER) ||
          c.exception({ message: "Element is not a modal container" }),
        this.modal.length ||
          c.exception({ message: "Container does not contain a modal" }),
        this.header.length ||
          c.exception({ message: "Modal is missing a header region" }),
        this.title.length ||
          c.exception({ message: "Modal header is missing a title region" }),
        this.body.length ||
          c.exception({ message: "Modal is missing a body region" }),
        this.footer.length ||
          c.exception({ message: "Modal is missing a footer region" }),
        this.registerEventListeners();
    };
  return (
    (k.prototype.attachToDOM = function () {
      this.isAttached ||
        (a("body").append(this.root),
        this.bodyJS && (b.runTemplateJS(this.bodyJS), (this.bodyJS = null)),
        this.footerJS &&
          (b.runTemplateJS(this.footerJS), (this.footerJS = null)),
        (this.isAttached = !0));
    }),
    (k.prototype.countOtherVisibleModals = function () {
      var b = 0;
      return (
        a("body")
          .find(i.CONTAINER)
          .each(
            function (c, d) {
              (d = a(d)), !this.root.is(d) && d.hasClass("show") && b++;
            }.bind(this)
          ),
        b
      );
    }),
    (k.prototype.getBackdrop = function () {
      return (
        h ||
          (h = b
            .render(j.BACKDROP, {})
            .then(function (b) {
              var c = a(b);
              return new f(c);
            })
            .fail(c.exception)),
        h
      );
    }),
    (k.prototype.getRoot = function () {
      return this.root;
    }),
    (k.prototype.getModal = function () {
      return this.modal;
    }),
    (k.prototype.getTitle = function () {
      return this.title;
    }),
    (k.prototype.getBody = function () {
      return this.body;
    }),
    (k.prototype.getFooter = function () {
      return this.footer;
    }),
    (k.prototype.setTitle = function (a) {
      var b = this.getTitle();
      b.html(a);
    }),
    (k.prototype.setBody = function (a) {
      var c = this.getBody();
      "string" == typeof a
        ? c.html(a)
        : b.render(j.LOADING, {}).done(
            function (d) {
              c.html(d),
                a.done(
                  function (a, d) {
                    c.html(a),
                      d &&
                        (this.isAttached
                          ? b.runTemplateJS(d)
                          : (this.bodyJS = d));
                  }.bind(this)
                );
            }.bind(this)
          );
    }),
    (k.prototype.setFooter = function (a) {
      var c = this.getFooter();
      "string" == typeof a
        ? c.html(a)
        : b.render(j.LOADING, {}).done(
            function (d) {
              c.html(d),
                a.done(
                  function (a, d) {
                    c.html(a),
                      d &&
                        (this.isAttached
                          ? b.runTemplateJS(d)
                          : (this.footerJS = d));
                  }.bind(this)
                );
            }.bind(this)
          );
    }),
    (k.prototype.setLarge = function () {
      this.isLarge() || this.getRoot().addClass("large");
    }),
    (k.prototype.isLarge = function () {
      return this.getRoot().hasClass("large");
    }),
    (k.prototype.setSmall = function () {
      this.isSmall() || this.getRoot().removeClass("large");
    }),
    (k.prototype.isSmall = function () {
      return !this.getRoot().hasClass("large");
    }),
    (k.prototype.calculateZIndex = function () {
      var b = a(i.DIALOG + ", " + i.MENU_BAR + ", " + i.HAS_Z_INDEX),
        c = parseInt(this.root.css("z-index"));
      return (
        b.each(function (b, d) {
          d = a(d);
          var e = d.css("z-index") ? parseInt(d.css("z-index")) : 0;
          e > c && (c = e);
        }),
        c
      );
    }),
    (k.prototype.isVisible = function () {
      return this.root.hasClass("show");
    }),
    (k.prototype.hasFocus = function () {
      var b = a(document.activeElement);
      return this.root.is(b) || this.root.has(b).length;
    }),
    (k.prototype.hasTransitions = function () {
      return this.getRoot().hasClass("fade");
    }),
    (k.prototype.show = function () {
      this.isVisible() ||
        (this.isAttached || this.attachToDOM(),
        this.getBackdrop().done(
          function (b) {
            var c = this.calculateZIndex(),
              d = c + 2,
              e = d - 1;
            this.root.css("z-index", d),
              b.setZIndex(e),
              b.show(),
              this.root.removeClass("hide").addClass("show"),
              this.accessibilityShow(),
              this.getTitle().focus(),
              a("body").addClass("modal-open"),
              this.root.trigger(g.shown, this);
          }.bind(this)
        ));
    }),
    (k.prototype.hide = function () {
      this.isVisible() &&
        this.getBackdrop().done(
          function (b) {
            this.countOtherVisibleModals() ||
              (b.hide(), a("body").removeClass("modal-open"));
            var c = parseInt(this.root.css("z-index"));
            this.root.css("z-index", ""),
              b.setZIndex(c - 3),
              this.accessibilityHide(),
              this.hasTransitions()
                ? this.getRoot().one(
                    "transitionend webkitTransitionEnd oTransitionEnd",
                    function () {
                      this.getRoot().removeClass("show").addClass("hide");
                    }.bind(this)
                  )
                : this.getRoot().removeClass("show").addClass("hide"),
              this.root.trigger(g.hidden, this);
          }.bind(this)
        );
    }),
    (k.prototype.destroy = function () {
      this.root.remove(), this.root.trigger(g.destroyed, this);
    }),
    (k.prototype.accessibilityShow = function () {
      a("body")
        .children()
        .each(
          function (b, c) {
            if (!this.root.is(c)) {
              c = a(c);
              var d = c.attr("aria-hidden");
              "true" !== d &&
                (c.data("previous-aria-hidden", d),
                this.hiddenSiblings.push(c),
                c.attr("aria-hidden", "true"));
            }
          }.bind(this)
        ),
        this.root.attr("aria-hidden", "false");
    }),
    (k.prototype.accessibilityHide = function () {
      this.root.attr("aria-hidden", "true"),
        a.each(this.hiddenSiblings, function (b, c) {
          c = a(c);
          var d = c.data("previous-aria-hidden");
          "undefined" == typeof d
            ? c.removeAttr("aria-hidden")
            : c.attr("aria-hidden", d);
        }),
        (this.hiddenSiblings = []);
    }),
    (k.prototype.handleTabLock = function (b) {
      if (this.hasFocus()) {
        var c = a(document.activeElement),
          d = this.modal.find(i.CAN_RECEIVE_FOCUS),
          e = d.first(),
          f = d.last();
        c.is(e) && b.shiftKey
          ? (f.focus(), b.preventDefault())
          : c.is(f) && !b.shiftKey && (e.focus(), b.preventDefault());
      }
    }),
    (k.prototype.registerEventListeners = function () {
      this.getRoot().on(
        "keydown",
        function (a) {
          this.isVisible() &&
            (a.keyCode == d.tab
              ? this.handleTabLock(a)
              : a.keyCode == d.escape && this.hide());
        }.bind(this)
      ),
        e.define(this.getModal(), [e.events.activate]),
        this.getModal().on(
          e.events.activate,
          i.HIDE,
          function (a, b) {
            this.hide(), b.originalEvent.preventDefault();
          }.bind(this)
        );
    }),
    k
  );
});
define("core/modal_backdrop", [
  "jquery",
  "core/templates",
  "core/notification",
], function (a, b, c) {
  var d = { ROOT: '[data-region="modal-backdrop"]' },
    e = function (b) {
      (this.root = a(b)),
        (this.isAttached = !1),
        this.root.is(d.ROOT) ||
          c.exception({ message: "Element is not a modal backdrop" });
    };
  return (
    (e.prototype.getRoot = function () {
      return this.root;
    }),
    (e.prototype.attachToDOM = function () {
      this.isAttached || (a("body").append(this.root), (this.isAttached = !0));
    }),
    (e.prototype.setZIndex = function (a) {
      this.root.css("z-index", a);
    }),
    (e.prototype.isVisible = function () {
      return this.root.hasClass("show");
    }),
    (e.prototype.hasTransitions = function () {
      return this.getRoot().hasClass("fade");
    }),
    (e.prototype.show = function () {
      this.isVisible() ||
        (this.isAttached || this.attachToDOM(),
        this.root.removeClass("hide").addClass("show"));
    }),
    (e.prototype.hide = function () {
      this.isVisible() &&
        (this.hasTransitions()
          ? this.getRoot().one(
              "transitionend webkitTransitionEnd oTransitionEnd",
              function () {
                this.getRoot().removeClass("show").addClass("hide");
              }.bind(this)
            )
          : this.getRoot().removeClass("show").addClass("hide"));
    }),
    (e.prototype.destroy = function () {
      this.root.remove();
    }),
    e
  );
});
define("core/modal_cancel", [
  "jquery",
  "core/notification",
  "core/custom_interaction_events",
  "core/modal",
  "core/modal_events",
], function (a, b, c, d, e) {
  var f = { CANCEL_BUTTON: '[data-action="cancel"]' },
    g = function (a) {
      d.call(this, a),
        this.getFooter().find(f.CANCEL_BUTTON).length ||
          b.exception({ message: "No cancel button found" });
    };
  return (
    (g.prototype = Object.create(d.prototype)),
    (g.prototype.constructor = g),
    (g.prototype.setFooter = function () {
      b.exception({ message: "Can not change the footer of a cancel modal" });
    }),
    (g.prototype.registerEventListeners = function () {
      d.prototype.registerEventListeners.call(this),
        this.getModal().on(
          c.events.activate,
          f.CANCEL_BUTTON,
          function (b, c) {
            var d = a.Event(e.cancel);
            this.getRoot().trigger(d, this),
              d.isDefaultPrevented() ||
                (this.hide(), c.originalEvent.preventDefault());
          }.bind(this)
        );
    }),
    g
  );
});
define("core/modal_confirm", [
  "jquery",
  "core/notification",
  "core/custom_interaction_events",
  "core/modal",
  "core/modal_events",
], function (a, b, c, d, e) {
  var f = {
      YES_BUTTON: '[data-action="yes"]',
      NO_BUTTON: '[data-action="no"]',
    },
    g = function (a) {
      d.call(this, a),
        this.getFooter().find(f.YES_BUTTON).length ||
          b.exception({ message: 'No "yes" button found' }),
        this.getFooter().find(f.NO_BUTTON).length ||
          b.exception({ message: 'No "no" button found' });
    };
  return (
    (g.prototype = Object.create(d.prototype)),
    (g.prototype.constructor = g),
    (g.prototype.setFooter = function () {
      b.exception({ message: "Can not change the footer of a confirm modal" });
    }),
    (g.prototype.registerEventListeners = function () {
      d.prototype.registerEventListeners.call(this),
        this.getModal().on(
          c.events.activate,
          f.YES_BUTTON,
          function (b, c) {
            var d = a.Event(e.yes);
            this.getRoot().trigger(d, this),
              d.isDefaultPrevented() ||
                (this.hide(), c.originalEvent.preventDefault());
          }.bind(this)
        ),
        this.getModal().on(
          c.events.activate,
          f.NO_BUTTON,
          function (b, c) {
            var d = a.Event(e.no);
            this.getRoot().trigger(d, this),
              d.isDefaultPrevented() ||
                (this.hide(), c.originalEvent.preventDefault());
          }.bind(this)
        );
    }),
    g
  );
});
define("core/modal_events", [], function () {
  return {
    shown: "modal:shown",
    hidden: "modal:hidden",
    destroyed: "modal:destroyed",
    save: "modal-save-cancel:save",
    cancel: "modal-save-cancel:cancel",
    yes: "modal-confirm:yes",
    no: "modal-confirm:no",
  };
});
define("core/modal_factory", [
  "jquery",
  "core/modal_events",
  "core/modal",
  "core/modal_save_cancel",
  "core/modal_confirm",
  "core/modal_cancel",
  "core/templates",
  "core/notification",
  "core/custom_interaction_events",
], function (a, b, c, d, e, f, g, h, i) {
  var j = {
      DEFAULT: "core/modal",
      SAVE_CANCEL: "core/modal_save_cancel",
      CONFIRM: "core/modal_confirm",
      CANCEL: "core/modal_cancel",
    },
    k = { DEFAULT: c, SAVE_CANCEL: d, CONFIRM: e, CANCEL: f },
    l = {
      DEFAULT: "DEFAULT",
      SAVE_CANCEL: "SAVE_CANCEL",
      CONFIRM: "CONFIRM",
      CANCEL: "CANCEL",
    },
    m = function (a, c) {
      "undefined" != typeof c &&
        (i.define(c, [i.events.activate]),
        c.on(i.events.activate, function (b, c) {
          a.show(), c.originalEvent.preventDefault();
        }),
        a.getRoot().on(b.hidden, function () {
          c.focus();
        }));
    },
    n = function (b, c, d) {
      c = a(c);
      var e = k[b],
        f = new e(c);
      return m(f, d), f;
    },
    o = function (b, c) {
      var d = j[b];
      return g
        .render(d, {})
        .then(function (d) {
          var e = a(d);
          return n(b, e, c);
        })
        .fail(h.exception);
    },
    p = function (a, b) {
      var c = a.type || l.DEFAULT,
        d = !!a.large;
      return (
        l[c] || (c = l.DEFAULT),
        o(c, b).then(function (b) {
          return (
            "undefined" != typeof a.title && b.setTitle(a.title),
            "undefined" != typeof a.body && b.setBody(a.body),
            "undefined" != typeof a.footer && b.setFooter(a.footer),
            d && b.setLarge(),
            b
          );
        })
      );
    };
  return { create: p, types: l };
});
define("core/modal_save_cancel", [
  "jquery",
  "core/notification",
  "core/custom_interaction_events",
  "core/modal",
  "core/modal_events",
], function (a, b, c, d, e) {
  var f = {
      SAVE_BUTTON: '[data-action="save"]',
      CANCEL_BUTTON: '[data-action="cancel"]',
    },
    g = function (a) {
      d.call(this, a),
        this.getFooter().find(f.SAVE_BUTTON).length ||
          b.exception({ message: "No save button found" }),
        this.getFooter().find(f.CANCEL_BUTTON).length ||
          b.exception({ message: "No cancel button found" });
    };
  return (
    (g.prototype = Object.create(d.prototype)),
    (g.prototype.constructor = g),
    (g.prototype.setFooter = function () {
      b.exception({
        message: "Can not change the footer of a save cancel modal",
      });
    }),
    (g.prototype.registerEventListeners = function () {
      d.prototype.registerEventListeners.call(this),
        this.getModal().on(
          c.events.activate,
          f.SAVE_BUTTON,
          function (b, c) {
            var d = a.Event(e.save);
            this.getRoot().trigger(d, this),
              d.isDefaultPrevented() ||
                (this.hide(), c.originalEvent.preventDefault());
          }.bind(this)
        ),
        this.getModal().on(
          c.events.activate,
          f.CANCEL_BUTTON,
          function (b, c) {
            var d = a.Event(e.cancel);
            this.getRoot().trigger(d, this),
              d.isDefaultPrevented() ||
                (this.hide(), c.originalEvent.preventDefault());
          }.bind(this)
        );
    }),
    g
  );
});
!(function (a, b) {
  "object" == typeof exports && exports && "string" != typeof exports.nodeName
    ? b(exports)
    : "function" == typeof define && define.amd
    ? define("core/mustache", ["exports"], b)
    : ((a.Mustache = {}), b(a.Mustache));
})(this, function (a) {
  function b(a) {
    return "function" == typeof a;
  }
  function c(a) {
    return p(a) ? "array" : typeof a;
  }
  function d(a) {
    return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
  }
  function e(a, b) {
    return null != a && "object" == typeof a && b in a;
  }
  function f(a, b) {
    return q.call(a, b);
  }
  function g(a) {
    return !f(r, a);
  }
  function h(a) {
    return String(a).replace(/[&<>"'`=\/]/g, function (a) {
      return s[a];
    });
  }
  function i(b, c) {
    function e() {
      if (r && !s) for (; q.length; ) delete o[q.pop()];
      else q = [];
      (r = !1), (s = !1);
    }
    function f(a) {
      if (
        ("string" == typeof a && (a = a.split(u, 2)), !p(a) || 2 !== a.length)
      )
        throw new Error("Invalid tags: " + a);
      (h = new RegExp(d(a[0]) + "\\s*")),
        (i = new RegExp("\\s*" + d(a[1]))),
        (m = new RegExp("\\s*" + d("}" + a[1])));
    }
    if (!b) return [];
    var h,
      i,
      m,
      n = [],
      o = [],
      q = [],
      r = !1,
      s = !1;
    f(c || a.tags);
    for (var y, z, A, B, C, D, E = new l(b); !E.eos(); ) {
      if (((y = E.pos), (A = E.scanUntil(h))))
        for (var F = 0, G = A.length; F < G; ++F)
          (B = A.charAt(F)),
            g(B) ? q.push(o.length) : (s = !0),
            o.push(["text", B, y, y + 1]),
            (y += 1),
            "\n" === B && e();
      if (!E.scan(h)) break;
      if (
        ((r = !0),
        (z = E.scan(x) || "name"),
        E.scan(t),
        "=" === z
          ? ((A = E.scanUntil(v)), E.scan(v), E.scanUntil(i))
          : "{" === z
          ? ((A = E.scanUntil(m)), E.scan(w), E.scanUntil(i), (z = "&"))
          : (A = E.scanUntil(i)),
        !E.scan(i))
      )
        throw new Error("Unclosed tag at " + E.pos);
      if (
        ((C = [z, A, y, E.pos]),
        o.push(C),
        "#" === z || "^" === z || "$" === z || "<" === z)
      )
        n.push(C);
      else if ("/" === z) {
        if (((D = n.pop()), !D))
          throw new Error('Unopened section "' + A + '" at ' + y);
        if (D[1] !== A)
          throw new Error('Unclosed section "' + D[1] + '" at ' + y);
      } else
        "name" === z || "{" === z || "&" === z ? (s = !0) : "=" === z && f(A);
    }
    if ((D = n.pop()))
      throw new Error('Unclosed section "' + D[1] + '" at ' + E.pos);
    return k(j(o));
  }
  function j(a) {
    for (var b, c, d = [], e = 0, f = a.length; e < f; ++e)
      (b = a[e]),
        b &&
          ("text" === b[0] && c && "text" === c[0]
            ? ((c[1] += b[1]), (c[3] = b[3]))
            : (d.push(b), (c = b)));
    return d;
  }
  function k(a) {
    for (var b, c, d = [], e = d, f = [], g = 0, h = a.length; g < h; ++g)
      switch (((b = a[g]), b[0])) {
        case "$":
        case "<":
        case "#":
        case "^":
          e.push(b), f.push(b), (e = b[4] = []);
          break;
        case "/":
          (c = f.pop()),
            (c[5] = b[2]),
            (e = f.length > 0 ? f[f.length - 1][4] : d);
          break;
        default:
          e.push(b);
      }
    return d;
  }
  function l(a) {
    (this.string = a), (this.tail = a), (this.pos = 0);
  }
  function m(a, b) {
    (this.view = a),
      (this.blocks = {}),
      (this.cache = { ".": this.view }),
      (this.parent = b);
  }
  function n() {
    this.cache = {};
  }
  var o = Object.prototype.toString,
    p =
      Array.isArray ||
      function (a) {
        return "[object Array]" === o.call(a);
      },
    q = RegExp.prototype.test,
    r = /\S/,
    s = {
      "&": "&amp;",
      "<": "&lt;",
      ">": "&gt;",
      '"': "&quot;",
      "'": "&#39;",
      "/": "&#x2F;",
      "`": "&#x60;",
      "=": "&#x3D;",
    },
    t = /\s*/,
    u = /\s+/,
    v = /\s*=/,
    w = /\s*\}/,
    x = /#|\^|\/|>|\{|&|=|!|\$|</;
  (l.prototype.eos = function () {
    return "" === this.tail;
  }),
    (l.prototype.scan = function (a) {
      var b = this.tail.match(a);
      if (!b || 0 !== b.index) return "";
      var c = b[0];
      return (
        (this.tail = this.tail.substring(c.length)), (this.pos += c.length), c
      );
    }),
    (l.prototype.scanUntil = function (a) {
      var b,
        c = this.tail.search(a);
      switch (c) {
        case -1:
          (b = this.tail), (this.tail = "");
          break;
        case 0:
          b = "";
          break;
        default:
          (b = this.tail.substring(0, c)), (this.tail = this.tail.substring(c));
      }
      return (this.pos += b.length), b;
    }),
    (m.prototype.push = function (a) {
      return new m(a, this);
    }),
    (m.prototype.setBlockVar = function (a, b) {
      var c = this.blocks;
      return (c[a] = b), b;
    }),
    (m.prototype.clearBlockVars = function () {
      this.blocks = {};
    }),
    (m.prototype.getBlockVar = function (a) {
      var b,
        c = this.blocks;
      return (
        c.hasOwnProperty(a)
          ? (b = c[a])
          : this.parent && (b = this.parent.getBlockVar(a)),
        b
      );
    }),
    (m.prototype.lookup = function (a) {
      var c,
        d = this.cache;
      if (d.hasOwnProperty(a)) c = d[a];
      else {
        for (var f, g, h = this, i = !1; h; ) {
          if (a.indexOf(".") > 0)
            for (
              c = h.view, f = a.split("."), g = 0;
              null != c && g < f.length;

            )
              g === f.length - 1 && (i = e(c, f[g])), (c = c[f[g++]]);
          else (c = h.view[a]), (i = e(h.view, a));
          if (i) break;
          h = h.parent;
        }
        d[a] = c;
      }
      return b(c) && (c = c.call(this.view)), c;
    }),
    (n.prototype.clearCache = function () {
      this.cache = {};
    }),
    (n.prototype.parse = function (a, b) {
      var c = this.cache,
        d = c[a];
      return null == d && (d = c[a] = i(a, b)), d;
    }),
    (n.prototype.render = function (a, b, c) {
      var d = this.parse(a),
        e = b instanceof m ? b : new m(b);
      return this.renderTokens(d, e, c, a);
    }),
    (n.prototype.renderTokens = function (a, b, c, d) {
      for (var e, f, g, h = "", i = 0, j = a.length; i < j; ++i)
        (g = void 0),
          (e = a[i]),
          (f = e[0]),
          "#" === f
            ? (g = this.renderSection(e, b, c, d))
            : "^" === f
            ? (g = this.renderInverted(e, b, c, d))
            : ">" === f
            ? (g = this.renderPartial(e, b, c, d))
            : "<" === f
            ? (g = this.renderBlock(e, b, c, d))
            : "$" === f
            ? (g = this.renderBlockVariable(e, b, c, d))
            : "&" === f
            ? (g = this.unescapedValue(e, b))
            : "name" === f
            ? (g = this.escapedValue(e, b))
            : "text" === f && (g = this.rawValue(e)),
          void 0 !== g && (h += g);
      return h;
    }),
    (n.prototype.renderSection = function (a, c, d, e) {
      function f(a) {
        return g.render(a, c, d);
      }
      var g = this,
        h = "",
        i = c.lookup(a[1]);
      if (i) {
        if (p(i))
          for (var j = 0, k = i.length; j < k; ++j)
            h += this.renderTokens(a[4], c.push(i[j]), d, e);
        else if (
          "object" == typeof i ||
          "string" == typeof i ||
          "number" == typeof i
        )
          h += this.renderTokens(a[4], c.push(i), d, e);
        else if (b(i)) {
          if ("string" != typeof e)
            throw new Error(
              "Cannot use higher-order sections without the original template"
            );
          (i = i.call(c.view, e.slice(a[3], a[5]), f)), null != i && (h += i);
        } else h += this.renderTokens(a[4], c, d, e);
        return h;
      }
    }),
    (n.prototype.renderInverted = function (a, b, c, d) {
      var e = b.lookup(a[1]);
      if (!e || (p(e) && 0 === e.length))
        return this.renderTokens(a[4], b, c, d);
    }),
    (n.prototype.renderPartial = function (a, c, d) {
      if (d) {
        var e = b(d) ? d(a[1]) : d[a[1]];
        return null != e ? this.renderTokens(this.parse(e), c, d, e) : void 0;
      }
    }),
    (n.prototype.renderBlock = function (a, c, d, e) {
      if (d) {
        var f = b(d) ? d(a[1]) : d[a[1]];
        null != f && c.clearBlockVars(), this.renderTokens(a[4], c, d, e);
        var g = this.renderTokens(this.parse(f), c, d, f);
        return c.clearBlockVars(), g;
      }
    }),
    (n.prototype.renderBlockVariable = function (a, b, c, d) {
      var e = a[1],
        f = b.getBlockVar(e);
      return f
        ? this.renderTokens(this.parse(f), b, c, f)
        : (b.setBlockVar(e, d.slice(a[3], a[5])),
          this.renderTokens(a[4], b, c, d));
    }),
    (n.prototype.unescapedValue = function (a, b) {
      var c = b.lookup(a[1]);
      if (null != c) return c;
    }),
    (n.prototype.escapedValue = function (b, c) {
      var d = c.lookup(b[1]);
      if (null != d) return a.escape(d);
    }),
    (n.prototype.rawValue = function (a) {
      return a[1];
    }),
    (a.name = "mustache.js"),
    (a.version = "2.2.1"),
    (a.tags = ["{{", "}}"]);
  var y = new n();
  (a.clearCache = function () {
    return y.clearCache();
  }),
    (a.parse = function (a, b) {
      return y.parse(a, b);
    }),
    (a.render = function (a, b, d) {
      if ("string" != typeof a)
        throw new TypeError(
          'Invalid template! Template should be a "string" but "' +
            c(a) +
            '" was given as the first argument for mustache#render(template, view, partials)'
        );
      return y.render(a, b, d);
    }),
    (a.to_html = function (c, d, e, f) {
      var g = a.render(c, d, e);
      return b(f) ? void f(g) : g;
    }),
    (a.escape = h),
    (a.Scanner = l),
    (a.Context = m),
    (a.Writer = n);
});
define("core/notification", ["core/yui", "jquery", "core/log"], function (
  a,
  b,
  c
) {
  var d = {
    types: {
      success: "core/notification_success",
      info: "core/notification_info",
      warning: "core/notification_warning",
      error: "core/notification_error",
    },
    fieldName: "user-notifications",
    fetchNotifications: function () {
      require(["core/ajax"], function (a) {
        var b = a.call([
          {
            methodname: "core_fetch_notifications",
            args: { contextid: d.contextid },
          },
        ]);
        b[0].done(d.addNotifications);
      });
    },
    addNotifications: function (a) {
      a || (a = []),
        b.each(a, function (a, b) {
          d.renderNotification(b.template, b.variables);
        });
    },
    setupTargetRegion: function () {
      var a = b("#" + d.fieldName);
      if (a.length) return !1;
      var c = b("<span>").attr("id", d.fieldName);
      return (
        (a = b("#region-main")),
        a.length
          ? a.prepend(c)
          : ((a = b('[role="main"]')),
            a.length ? a.prepend(c) : ((a = b("body")), a.prepend(c)))
      );
    },
    addNotification: function (a) {
      var c = d.types.error;
      return (
        (a = b.extend({ closebutton: !0, announce: !0, type: "error" }, a)),
        a.template
          ? ((c = a.template), delete a.template)
          : a.type &&
            ("undefined" != typeof d.types[a.type] && (c = d.types[a.type]),
            delete a.type),
        d.renderNotification(c, a)
      );
    },
    renderNotification: function (a, e) {
      return "undefined" != typeof e.message && e.message
        ? void require(["core/templates"], function (c) {
            c.render(a, e)
              .done(function (a, e) {
                b("#" + d.fieldName).prepend(a), c.runTemplateJS(e);
              })
              .fail(d.exception);
          })
        : void c.debug("Notification received without content. Skipping.");
    },
    alert: function (b, c, d) {
      a.use("moodle-core-notification-alert", function () {
        var a = new M.core.alert({ title: b, message: c, yesLabel: d });
        a.show();
      });
    },
    confirm: function (b, c, d, e, f, g) {
      a.use("moodle-core-notification-confirm", function () {
        var a = new M.core.confirm({
          title: b,
          question: c,
          yesLabel: d,
          noLabel: e,
        });
        a.on("complete-yes", function () {
          f();
        }),
          g &&
            a.on("complete-no", function () {
              g();
            }),
          a.show();
      });
    },
    exception: function (b) {
      if (
        ("undefined" == typeof b.stack && (b.stack = ""),
        b.debuginfo && (b.stack += b.debuginfo + "\n"),
        b.backtrace)
      ) {
        b.stack += b.backtrace;
        var c = b.backtrace.match(/line ([^ ]*) of/),
          d = b.backtrace.match(/ of ([^:]*): /);
        c && c[1] && (b.lineNumber = c[1]),
          d &&
            d[1] &&
            ((b.fileName = d[1]),
            b.fileName.length > 30 &&
              (b.fileName = "..." + b.fileName.substr(b.fileName.length - 27)));
      }
      "undefined" == typeof b.name && b.errorcode && (b.name = b.errorcode),
        a.use("moodle-core-notification-exception", function () {
          var a = new M.core.exception(b);
          a.show();
        });
    },
  };
  return {
    init: function (a, b) {
      (d.contextid = a),
        d.setupTargetRegion(),
        d.addNotifications(b),
        d.fetchNotifications();
    },
    fetchNotifications: d.fetchNotifications,
    addNotification: d.addNotification,
    alert: d.alert,
    confirm: d.confirm,
    exception: d.exception,
  };
});
define("core/permissionmanager", [
  "jquery",
  "core/config",
  "core/notification",
  "core/templates",
], function (a, b, c, d) {
  var e,
    f,
    g,
    h,
    i = {
      ADDROLE: "a.allowlink, a.prohibitlink",
      REMOVEROLE: "a.preventlink, a.unprohibitlink",
      UNPROHIBIT: "a.unprohibitlink",
    },
    j = a.Event("rolesloaded"),
    k = null,
    l = function () {
      var d = { contextid: e, getroles: 1, sesskey: b.sesskey };
      a.post(g + "roles/ajax.php", d, null, "json")
        .done(function (b) {
          try {
            (h = b),
              (l = function () {
                a("body").trigger(j);
              }),
              l();
          } catch (d) {
            c.exception(d);
          }
        })
        .fail(function (a, b, d) {
          c.exception(d);
        });
    },
    m = function (b, f, i) {
      var j = {
        contextid: e,
        roleid: f,
        sesskey: M.cfg.sesskey,
        action: i,
        capability: b.data("name"),
      };
      a.post(g + "roles/ajax.php", j, null, "json")
        .done(function (e) {
          var i = e;
          try {
            var j = {
              rolename: h[f],
              roleid: f,
              adminurl: g,
              imageurl: M.util.image_url("t/delete", "moodle"),
            };
            switch (i) {
              case "allow":
                (j.spanclass = "allowed"),
                  (j.linkclass = "preventlink"),
                  (j.action = "prevent");
                break;
              case "prohibit":
                (j.spanclass = "forbidden"),
                  (j.linkclass = "unprohibitlink"),
                  (j.action = "unprohibit");
                break;
              case "prevent":
                return void b
                  .find('a[data-role-id="' + f + '"]')
                  .first()
                  .closest(".allowed")
                  .remove();
              case "unprohibit":
                return void b
                  .find('a[data-role-id="' + f + '"]')
                  .first()
                  .closest(".forbidden")
                  .remove();
              default:
                return;
            }
            d.render("core/permissionmanager_role", j)
              .done(function (c) {
                if ("allow" == i) a(c).insertBefore(b.find(".allowmore:first"));
                else if ("prohibit" == i) {
                  a(c).insertBefore(b.find(".prohibitmore:first"));
                  var d = b
                    .find(".allowedroles")
                    .first()
                    .find('a[data-role-id="' + f + '"]');
                  d && d.first().closest(".allowed").remove();
                }
                k.hide();
              })
              .fail(c.exception);
          } catch (l) {
            c.exception(l);
          }
        })
        .fail(function (a, b, d) {
          c.exception(d);
        });
    },
    n = function (b) {
      b.preventDefault(),
        a("body").one("rolesloaded", function () {
          var e = a(b.currentTarget),
            g = e.data("action"),
            j = e.closest("tr.rolecap"),
            l = { cap: j.data("humanname"), context: f },
            n = M.util.get_string("role" + g + "info", "core_role", l);
          null === k &&
            (k = new M.core.dialogue({
              draggable: !0,
              modal: !0,
              closeButton: !0,
              width: "450px",
            })),
            k.set(
              "headerContent",
              M.util.get_string("role" + g + "header", "core_role")
            );
          var o,
            p,
            q = [];
          switch (g) {
            case "allow":
              p = j.find(i.REMOVEROLE);
              break;
            case "prohibit":
              p = j.find(i.UNPROHIBIT);
          }
          for (o in h) {
            var r = "",
              s = p.filter("[data-role-id='" + o + "']").length;
            s && (r = "disabled");
            var t = { roleid: o, rolename: h[o], disabled: r };
            q.push(t);
          }
          d.render("core/permissionmanager_panelcontent", {
            message: n,
            roles: q,
          })
            .done(function (b) {
              k.set("bodyContent", b),
                k.show(),
                a("div.role_buttons").delegate("input", "click", function (b) {
                  var c = a(b.currentTarget).data("role-id");
                  m(j, c, g);
                });
            })
            .fail(c.exception);
        }),
        l();
    },
    o = function (b) {
      b.preventDefault(),
        a("body").one("rolesloaded", function () {
          var d = a(b.currentTarget),
            e = d.data("action"),
            g = d.data("role-id"),
            i = d.closest("tr.rolecap"),
            j = { role: h[g], cap: i.data("humanname"), context: f };
          c.confirm(
            M.util.get_string("confirmunassigntitle", "core_role"),
            M.util.get_string("confirmrole" + e, "core_role", j),
            M.util.get_string("confirmunassignyes", "core_role"),
            M.util.get_string("confirmunassignno", "core_role"),
            function () {
              m(i, g, e);
            }
          );
        }),
        l();
    };
  return {
    initialize: function (b) {
      (e = b.contextid), (f = b.contextname), (g = b.adminurl);
      var c = a("body");
      c.delegate(i.ADDROLE, "click", n), c.delegate(i.REMOVEROLE, "click", o);
    },
  };
});
define("core/popover_region_controller", [
  "jquery",
  "core/str",
  "core/custom_interaction_events",
], function (a, b, c) {
  var d = {
      CONTENT: ".popover-region-content",
      CONTENT_CONTAINER: ".popover-region-content-container",
      MENU_CONTAINER: ".popover-region-container",
      MENU_TOGGLE: ".popover-region-toggle",
      CAN_RECEIVE_FOCUS:
        'input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]',
    },
    e = function (b) {
      (this.root = a(b)),
        (this.content = this.root.find(d.CONTENT)),
        (this.contentContainer = this.root.find(d.CONTENT_CONTAINER)),
        (this.menuContainer = this.root.find(d.MENU_CONTAINER)),
        (this.menuToggle = this.root.find(d.MENU_TOGGLE)),
        (this.isLoading = !1),
        (this.promises = {
          closeHandlers: a.Deferred(),
          navigationHandlers: a.Deferred(),
        }),
        this.registerBaseEventListeners();
    };
  return (
    (e.prototype.events = function () {
      return {
        menuOpened: "popoverregion:menuopened",
        menuClosed: "popoverregion:menuclosed",
        startLoading: "popoverregion:startLoading",
        stopLoading: "popoverregion:stopLoading",
      };
    }),
    (e.prototype.getContentContainer = function () {
      return this.contentContainer;
    }),
    (e.prototype.getContent = function () {
      return this.content;
    }),
    (e.prototype.isMenuOpen = function () {
      return !this.root.hasClass("collapsed");
    }),
    (e.prototype.toggleMenu = function () {
      this.isMenuOpen() ? this.closeMenu() : this.openMenu();
    }),
    (e.prototype.closeMenu = function () {
      this.isMenuOpen() &&
        (this.root.addClass("collapsed"),
        this.menuContainer.attr("aria-expanded", "false"),
        this.menuContainer.attr("aria-hidden", "true"),
        this.updateButtonAriaLabel(),
        this.root.trigger(this.events().menuClosed));
    }),
    (e.prototype.openMenu = function () {
      this.isMenuOpen() ||
        (this.root.removeClass("collapsed"),
        this.menuContainer.attr("aria-expanded", "true"),
        this.menuContainer.attr("aria-hidden", "false"),
        this.updateButtonAriaLabel(),
        this.promises.closeHandlers.resolve(),
        this.promises.navigationHandlers.resolve(),
        this.root.trigger(this.events().menuOpened));
    }),
    (e.prototype.updateButtonAriaLabel = function () {
      this.isMenuOpen()
        ? b.get_string("hidepopoverwindow").done(
            function (a) {
              this.menuToggle.attr("aria-label", a);
            }.bind(this)
          )
        : b.get_string("showpopoverwindow").done(
            function (a) {
              this.menuToggle.attr("aria-label", a);
            }.bind(this)
          );
    }),
    (e.prototype.startLoading = function () {
      (this.isLoading = !0),
        this.getContentContainer().addClass("loading"),
        this.getContentContainer().attr("aria-busy", "true"),
        this.root.trigger(this.events().startLoading);
    }),
    (e.prototype.stopLoading = function () {
      (this.isLoading = !1),
        this.getContentContainer().removeClass("loading"),
        this.getContentContainer().attr("aria-busy", "false"),
        this.root.trigger(this.events().stopLoading);
    }),
    (e.prototype.focusMenuToggle = function () {
      this.menuToggle.focus();
    }),
    (e.prototype.contentItemHasFocus = function () {
      return this.getContentItemWithFocus().length > 0;
    }),
    (e.prototype.getContentItemWithFocus = function () {
      var b = a(document.activeElement),
        c = this.getContent().children(),
        d = c.filter(b);
      return d.length || (d = c.has(b)), d;
    }),
    (e.prototype.focusContentItem = function (a) {
      a.is(d.CAN_RECEIVE_FOCUS)
        ? a.focus()
        : a.find(d.CAN_RECEIVE_FOCUS).first().focus();
    }),
    (e.prototype.focusFirstContentItem = function () {
      this.focusContentItem(this.getContent().children().first());
    }),
    (e.prototype.focusLastContentItem = function () {
      this.focusContentItem(this.getContent().children().last());
    }),
    (e.prototype.focusNextContentItem = function () {
      var a = this.getContentItemWithFocus();
      a.length && a.next() && this.focusContentItem(a.next());
    }),
    (e.prototype.focusPreviousContentItem = function () {
      var a = this.getContentItemWithFocus();
      a.length && a.prev() && this.focusContentItem(a.prev());
    }),
    (e.prototype.registerBaseEventListeners = function () {
      c.define(this.root, [c.events.activate, c.events.escape]),
        this.root.on(
          c.events.activate,
          d.MENU_TOGGLE,
          function () {
            this.toggleMenu();
          }.bind(this)
        ),
        this.promises.closeHandlers.done(
          function () {
            this.root.on(
              c.events.escape,
              function () {
                this.closeMenu(), this.focusMenuToggle();
              }.bind(this)
            ),
              a("html").click(
                function (b) {
                  var c = a(b.target);
                  this.root.is(c) ||
                    this.root.has(c).length ||
                    this.closeMenu();
                }.bind(this)
              ),
              c.define(this.getContentContainer(), [c.events.scrollBottom]);
          }.bind(this)
        );
    }),
    (e.prototype.registerListNavigationEventListeners = function () {
      c.define(this.root, [c.events.down]),
        this.root.on(
          c.events.down,
          function (a, b) {
            this.isMenuOpen()
              ? this.contentItemHasFocus()
                ? this.focusNextContentItem()
                : this.focusFirstContentItem()
              : (this.openMenu(), this.focusFirstContentItem()),
              b.originalEvent.preventDefault();
          }.bind(this)
        ),
        this.promises.navigationHandlers.done(
          function () {
            c.define(this.root, [c.events.up, c.events.home, c.events.end]),
              this.root.on(
                c.events.up,
                function (a, b) {
                  this.focusPreviousContentItem(),
                    b.originalEvent.preventDefault();
                }.bind(this)
              ),
              this.root.on(
                c.events.home,
                function (a, b) {
                  this.focusFirstContentItem(),
                    b.originalEvent.preventDefault();
                }.bind(this)
              ),
              this.root.on(
                c.events.end,
                function (a, b) {
                  this.focusLastContentItem(), b.originalEvent.preventDefault();
                }.bind(this)
              );
          }.bind(this)
        );
    }),
    e
  );
});
define("core/search-input", ["jquery"], function (a) {
  var b = null,
    c = function (a) {
      b.hasClass("expanded") ? e() : d(a);
    },
    d = function (c) {
      var d = a(document).width();
      if ("keydown" !== c.type || 13 === c.keyCode || 32 === c.keyCode)
        return d <= 767 && ("click" === c.type || "keydown" === c.type)
          ? void f()
          : void (
              d <= 767 ||
              ("keydown" === c.type && c.preventDefault(),
              b.addClass("expanded"),
              b.find("form").addClass("expanded"),
              b.find("input").focus())
            );
    },
    e = function () {
      b.removeClass("expanded"), b.find("form").removeClass("expanded");
    },
    f = function () {
      b.find("form").submit();
    };
  return {
    init: function (d) {
      (b = a("#" + d)), b.on("click mouseover keydown", "div", c);
    },
  };
});
define("core/str", ["jquery", "core/ajax", "core/localstorage"], function (
  a,
  b,
  c
) {
  var d = [];
  return {
    get_string: function (a, b, c, d) {
      var e = this.get_strings([{ key: a, component: b, param: c, lang: d }]);
      return e.then(function (a) {
        return a[0];
      });
    },
    get_strings: function (e) {
      var f,
        g = a.Deferred(),
        h = [],
        i = 0,
        j = !1;
      for (i = 0; i < e.length; i++)
        if (
          ((f = e[i]),
          "undefined" == typeof f.lang &&
            (f.lang = a("html").attr("lang").replace("-", "_")),
          (f.cacheKey = "core_str/" + f.key + "/" + f.component + "/" + f.lang),
          "undefined" == typeof M.str[f.component] ||
            "undefined" == typeof M.str[f.component][f.key])
        ) {
          var k = c.get(f.cacheKey);
          k
            ? ("undefined" == typeof M.str[f.component] &&
                (M.str[f.component] = []),
              (M.str[f.component][f.key] = k))
            : (j = !0);
        }
      if (j) {
        var l = [],
          m = [],
          n = function (a) {
            this.resolve(a);
          },
          o = function (a) {
            this.reject(a);
          };
        for (i = 0; i < e.length; i++)
          if (((f = e[i]), "undefined" != typeof d[f.cacheKey]))
            m.push(d[f.cacheKey]);
          else {
            var p = a.Deferred();
            l.push({
              methodname: "core_get_string",
              args: {
                stringid: f.key,
                component: f.component,
                lang: f.lang,
                stringparams: [],
              },
              done: n.bind(p),
              fail: o.bind(p),
            }),
              (d[f.cacheKey] = p.promise()),
              m.push(d[f.cacheKey]);
          }
        l.length > 0 && b.call(l, !0, !1),
          a.when
            .apply(null, m)
            .done(function () {
              var a = 0;
              for (a = 0; a < arguments.length; a++)
                (f = e[a]),
                  "undefined" == typeof M.str[f.component] &&
                    (M.str[f.component] = []),
                  (M.str[f.component][f.key] = arguments[a]),
                  c.set(
                    "core_str/" + f.key + "/" + f.component + "/" + f.lang,
                    arguments[a]
                  ),
                  (h[a] = M.util
                    .get_string(f.key, f.component, f.param)
                    .trim());
              g.resolve(h);
            })
            .fail(function (a) {
              g.reject(a);
            });
      } else {
        for (i = 0; i < e.length; i++)
          (f = e[i]), (h[i] = M.util.get_string(f.key, f.component, f.param));
        g.resolve(h);
      }
      return g.promise();
    },
  };
});
define("core/tag", [
  "jquery",
  "core/ajax",
  "core/templates",
  "core/notification",
  "core/str",
], function (a, b, c, d, e) {
  return {
    initTagindexPage: function () {
      a("body").delegate(
        ".tagarea[data-ta] a[data-quickload=1]",
        "click",
        function (d) {
          d.preventDefault();
          var e = a(this),
            f = e[0].search.replace(/^\?/, ""),
            g = e.closest(".tagarea[data-ta]"),
            h = f.split("&").reduce(function (a, b) {
              var c = b.split("=");
              return (a[c[0]] = decodeURIComponent(c[1])), a;
            }, {}),
            i = b.call(
              [{ methodname: "core_tag_get_tagindex", args: { tagindex: h } }],
              !0
            );
          a.when.apply(a, i).done(function (a) {
            c.render("core_tag/index", a).done(function (a) {
              g.replaceWith(a);
            });
          });
        }
      );
    },
    initManagePage: function () {
      a("body").on("updated", "[data-inplaceeditable]", function (b) {
        if (
          (e.get_string("now").done(function (c) {
            a(b.target).closest("tr").find("td.col-timemodified").html(c);
          }),
          "tagflag" === b.ajaxreturn.itemtype)
        ) {
          var c = a(b.target).closest("tr");
          "0" === b.ajaxreturn.value
            ? c.removeClass("flagged-tag")
            : c.addClass("flagged-tag");
        }
      }),
        a(".tag-management-table").delegate(
          "a.tagdelete",
          "click",
          function (b) {
            b.preventDefault();
            var c = a(this).attr("href");
            e.get_strings([
              { key: "delete" },
              { key: "confirmdeletetag", component: "tag" },
              { key: "yes" },
              { key: "no" },
            ]).done(function (a) {
              d.confirm(a[0], a[1], a[2], a[3], function () {
                window.location.href = c;
              });
            });
          }
        ),
        a("#tag-management-delete").click(function (b) {
          var c = a(this).closest("form").get(0),
            f = a(c).find("input[type=checkbox]:checked").length;
          if (f) {
            var g = a("<input type='hidden'/>").attr("name", this.name);
            b.preventDefault(),
              e
                .get_strings([
                  { key: "delete" },
                  { key: "confirmdeletetags", component: "tag" },
                  { key: "yes" },
                  { key: "no" },
                ])
                .done(function (a) {
                  d.confirm(a[0], a[1], a[2], a[3], function () {
                    g.appendTo(c), c.submit();
                  });
                });
          }
        }),
        a("#tag-management-combine").click(function (b) {
          b.preventDefault();
          var c = a(this).closest("form").get(0),
            f = a(c).find("input[type=checkbox]:checked");
          if (f.length <= 1)
            return void e
              .get_strings([
                { key: "combineselected", component: "tag" },
                { key: "selectmultipletags", component: "tag" },
                { key: "ok" },
              ])
              .done(function (a) {
                d.alert(a[0], a[1], a[2]);
              });
          var g = a("<input type='hidden'/>").attr("name", this.name);
          e.get_strings([
            { key: "combineselected", component: "tag" },
            { key: "selectmaintag", component: "tag" },
            { key: "continue" },
            { key: "cancel" },
          ]).done(function (b) {
            var d = a(
              '<div><form id="combinetags_form" class="form-inline"><p class="description"></p><p class="options"></p><p class="mdl-align"><input type="submit" id="combinetags_submit"/><input type="button" id="combinetags_cancel"/></p></form></div>'
            );
            d.find(".description").html(b[1]),
              d.find("#combinetags_submit").attr("value", b[2]),
              d.find("#combinetags_cancel").attr("value", b[3]);
            var e = d.find(".options");
            f.each(function () {
              var b = a(this).val(),
                c = a(
                  ".inplaceeditable[data-itemtype=tagname][data-itemid=" +
                    b +
                    "]"
                ).attr("data-value");
              e.append(
                a(
                  '<input type="radio" name="maintag" id="combinetags_maintag_' +
                    b +
                    '" value="' +
                    b +
                    '"/><label for="combinetags_maintag_' +
                    b +
                    '">' +
                    c +
                    "</label><br>"
                )
              );
            });
            var h = new M.core.dialogue({
              draggable: !0,
              modal: !0,
              closeButton: !0,
              headerContent: b[0],
              bodyContent: d.html(),
            });
            h.show(),
              a("#combinetags_form input[type=radio]")
                .first()
                .focus()
                .prop("checked", !0),
              a("#combinetags_form #combinetags_cancel").on(
                "click",
                function () {
                  h.destroy();
                }
              ),
              a("#combinetags_form").on("submit", function () {
                g.appendTo(c);
                var b = a(
                  "input[name=maintag]:checked",
                  "#combinetags_form"
                ).val();
                return (
                  a("<input type='hidden'/>")
                    .attr("name", "maintag")
                    .attr("value", b)
                    .appendTo(c),
                  c.submit(),
                  !1
                );
              });
          });
        }),
        a("body").on(
          "updatefailed",
          "[data-inplaceeditable][data-itemtype=tagname]",
          function (b) {
            var c = b.exception,
              f = b.newvalue,
              g = a(b.target).attr("data-itemid");
            "namesalreadybeeingused" === c.errorcode &&
              (b.preventDefault(),
              e
                .get_strings([
                  { key: "nameuseddocombine", component: "tag" },
                  { key: "yes" },
                  { key: "cancel" },
                ])
                .done(function (a) {
                  d.confirm(b.message, a[0], a[1], a[2], function () {
                    window.location.href =
                      window.location.href +
                      "&newname=" +
                      encodeURIComponent(f) +
                      "&tagid=" +
                      encodeURIComponent(g) +
                      "&action=renamecombine&sesskey=" +
                      M.cfg.sesskey;
                  });
                }));
          }
        ),
        a("body").on("click", "a[data-action=addstandardtag]", function (b) {
          b.preventDefault(),
            e
              .get_strings([
                { key: "addotags", component: "tag" },
                { key: "inputstandardtags", component: "tag" },
                { key: "continue" },
                { key: "cancel" },
              ])
              .done(function (b) {
                var c = a(
                  '<div><form id="addtags_form" class="form-inline" method="POST"><input type="hidden" name="action" value="addstandardtag"/><input type="hidden" name="sesskey" value="' +
                    M.cfg.sesskey +
                    '"/><p><label for="id_tagslist">' +
                    b[1] +
                    '</label><input type="text" id="id_tagslist" name="tagslist"/></p><p class="mdl-align"><input type="submit" id="addtags_submit"/><input type="button" id="addtags_cancel"/></p></form></div>'
                );
                c.find("#addtags_form").attr("action", window.location.href),
                  c.find("#addtags_submit").attr("value", b[2]),
                  c.find("#addtags_cancel").attr("value", b[3]);
                var d = new M.core.dialogue({
                  draggable: !0,
                  modal: !0,
                  closeButton: !0,
                  headerContent: b[0],
                  bodyContent: c.html(),
                });
                d.show(),
                  a("#addtags_form input[type=text]").focus(),
                  a("#addtags_form #addtags_cancel").on("click", function () {
                    d.destroy();
                  });
              });
        });
    },
    initManageCollectionsPage: function () {
      a("body").on("updated", "[data-inplaceeditable]", function (b) {
        var c,
          d,
          e,
          f = b.ajaxreturn;
        "core_tag" === f.component &&
          "tagareaenable" === f.itemtype &&
          ((c = a(this).attr("data-itemid")),
          a(
            ".tag-collections-table ul[data-collectionid] li[data-areaid=" +
              c +
              "]"
          ).hide(),
          (e = f.value),
          "1" === e
            ? (a(this).closest("tr").removeClass("dimmed_text"),
              (d = a(this)
                .closest("tr")
                .find('[data-itemtype="tagareacollection"]')
                .attr("data-value")),
              a(
                ".tag-collections-table ul[data-collectionid=" +
                  d +
                  "] li[data-areaid=" +
                  c +
                  "]"
              ).show())
            : a(this).closest("tr").addClass("dimmed_text")),
          "core_tag" === f.component &&
            "tagareacollection" === f.itemtype &&
            ((c = a(this).attr("data-itemid")),
            a(
              ".tag-collections-table ul[data-collectionid] li[data-areaid=" +
                c +
                "]"
            ).hide(),
            (d = a(this).attr("data-value")),
            (e = a(this)
              .closest("tr")
              .find('[data-itemtype="tagareaenable"]')
              .attr("data-value")),
            "1" === e &&
              a(
                ".tag-collections-table ul[data-collectionid=" +
                  d +
                  "] li[data-areaid=" +
                  c +
                  "]"
              ).show());
      }),
        a("body").on("click", ".addtagcoll > a", function (b) {
          b.preventDefault();
          var c = a(this).attr("data-url") + "&sesskey=" + M.cfg.sesskey;
          e.get_strings([
            { key: "addtagcoll", component: "tag" },
            { key: "name" },
            { key: "searchable", component: "tag" },
            { key: "create" },
            { key: "cancel" },
          ]).done(function (b) {
            var d = a(
              '<div><form id="addtagcoll_form" class="form-inline"><p><label for="addtagcoll_name"></label>: <input id="addtagcoll_name" type="text"/></p><p><label for="addtagcoll_searchable"></label>: <input id="addtagcoll_searchable" type="checkbox" value="1" checked/></p><p class="mdl-align"><input type="submit" id="addtagcoll_submit"/><input type="button" id="addtagcoll_cancel"/></p></form></div>'
            );
            d.find('label[for="addtagcoll_name"]').html(b[1]),
              d.find('label[for="addtagcoll_searchable"]').html(b[2]),
              d.find("#addtagcoll_submit").attr("value", b[3]),
              d.find("#addtagcoll_cancel").attr("value", b[4]);
            var e = new M.core.dialogue({
              draggable: !0,
              modal: !0,
              closeButton: !0,
              headerContent: b[0],
              bodyContent: d.html(),
            });
            e.show(),
              a("#addtagcoll_form #addtagcoll_name").focus(),
              a("#addtagcoll_form #addtagcoll_cancel").on("click", function () {
                e.destroy();
              }),
              a("#addtagcoll_form").on("submit", function () {
                var b = a("#addtagcoll_form #addtagcoll_name").val(),
                  d = a("#addtagcoll_form #addtagcoll_searchable").prop(
                    "checked"
                  )
                    ? 1
                    : 0;
                return (
                  String(b).length > 0 &&
                    (window.location.href =
                      c +
                      "&name=" +
                      encodeURIComponent(b) +
                      "&searchable=" +
                      d),
                  !1
                );
              });
          });
        }),
        a("body").on(
          "click",
          ".tag-collections-table .action_delete",
          function (b) {
            b.preventDefault();
            var c = a(this).attr("data-url") + "&sesskey=" + M.cfg.sesskey;
            e.get_strings([
              { key: "delete" },
              {
                key: "suredeletecoll",
                component: "tag",
                param: a(this).attr("data-collname"),
              },
              { key: "yes" },
              { key: "no" },
            ]).done(function (a) {
              d.confirm(a[0], a[1], a[2], a[3], function () {
                window.location.href = c;
              });
            });
          }
        );
    },
  };
});
define("core/templates", [
  "core/mustache",
  "jquery",
  "core/ajax",
  "core/str",
  "core/notification",
  "core/url",
  "core/log",
  "core/config",
  "core/localstorage",
  "core/event",
  "core/yui",
  "core/log",
], function (a, b, c, d, e, f, g, h, i, j, k, l) {
  var m = 0,
    n = {},
    o = {},
    p = function () {
      (this.requiredStrings = []),
        (this.requiredJS = []),
        (this.currentThemeName = "");
    };
  (p.prototype.requiredStrings = null),
    (p.prototype.requiredJS = null),
    (p.prototype.currentThemeName = ""),
    (p.prototype.getTemplate = function (a) {
      var d = a.split("/"),
        e = d.shift(),
        f = d.shift(),
        g = this.currentThemeName + "/" + a;
      if (g in o) return o[g];
      var h = i.get("core_template/" + g);
      if (h)
        return (n[g] = h), (o[g] = b.Deferred().resolve(h).promise()), o[g];
      var j = c.call(
        [
          {
            methodname: "core_output_load_template",
            args: {
              component: e,
              template: f,
              themename: this.currentThemeName,
            },
          },
        ],
        !0,
        !1
      );
      return (
        (o[g] = j[0].then(function (a) {
          return (n[g] = a), i.set("core_template/" + g, a), a;
        })),
        o[g]
      );
    }),
    (p.prototype.partialHelper = function (a) {
      var b = this.currentThemeName + "/" + a;
      return (
        b in n ||
          e.exception(new Error("Failed to pre-fetch the template: " + a)),
        n[b]
      );
    }),
    (p.prototype.pixHelper = function (b, c, d) {
      var e,
        g = c.split(","),
        h = "",
        i = "",
        j = "";
      g.length > 0 && (h = g.shift().trim()),
        g.length > 0 && (i = g.shift().trim()),
        g.length > 0 && (j = g.join(",").trim());
      var k = f.imageUrl(h, i),
        l = {
          attributes: [
            { name: "src", value: k },
            { name: "alt", value: d(j) },
            { name: "title", value: d(j) },
            { name: "class", value: "smallicon" },
          ],
        },
        m = this.currentThemeName + "/core/pix_icon",
        o = n[m];
      return (e = a.render(o, l, this.partialHelper.bind(this))), e.trim();
    }),
    (p.prototype.jsHelper = function (a, b, c) {
      return this.requiredJS.push(c(b, a)), "";
    }),
    (p.prototype.stringHelper = function (a, b, c) {
      var d = b.split(","),
        e = "",
        f = "",
        g = "";
      d.length > 0 && (e = d.shift().trim()),
        d.length > 0 && (f = d.shift().trim()),
        d.length > 0 && (g = d.join(",").trim()),
        "" !== g && (g = c(g, a)),
        0 === g.indexOf("{") && 0 !== g.indexOf("{{") && (g = JSON.parse(g));
      var h = this.requiredStrings.length;
      return (
        this.requiredStrings.push({ key: e, component: f, param: g }),
        "[[_s" + h + "]]"
      );
    }),
    (p.prototype.quoteHelper = function (a, b, c) {
      var d = c(b.trim(), a);
      return (
        (d = d
          .replace('"', '\\"')
          .replace(/([\{\}]{2,3})/g, "{{=<% %>=}}$1<%={{ }}=%>")),
        '"' + d + '"'
      );
    }),
    (p.prototype.addHelpers = function (a, b) {
      (this.currentThemeName = b),
        (this.requiredStrings = []),
        (this.requiredJS = []),
        (a.uniqid = m++),
        (a.str = function () {
          return this.stringHelper.bind(this, a);
        }.bind(this)),
        (a.pix = function () {
          return this.pixHelper.bind(this, a);
        }.bind(this)),
        (a.js = function () {
          return this.jsHelper.bind(this, a);
        }.bind(this)),
        (a.quote = function () {
          return this.quoteHelper.bind(this, a);
        }.bind(this)),
        (a.globals = { config: h }),
        (a.currentTheme = b);
    }),
    (p.prototype.getJS = function (a) {
      var b = "";
      return (
        this.requiredJS.length > 0 && (b = this.requiredJS.join(";\n")),
        this.treatStringsInContent(b, a)
      );
    }),
    (p.prototype.treatStringsInContent = function (a, b) {
      var c,
        d,
        e,
        f,
        g,
        h,
        i = /\[\[_s\d+\]\]/;
      do {
        for (c = "", d = a.search(i); d > -1; ) {
          (c += a.substring(0, d)),
            (a = a.substr(d)),
            (e = ""),
            (f = 4),
            (g = a.substr(f, 1));
          do (e += g), f++, (g = a.substr(f, 1));
          while ("]" != g);
          (h = b[parseInt(e, 10)]),
            "undefined" == typeof h &&
              (l.debug("Could not find string for pattern [[_s" + e + "]]."),
              (h = "")),
            (c += h),
            (a = a.substr(6 + e.length)),
            (d = a.search(i));
        }
        (a = c + a), (d = a.search(i));
      } while (d > -1);
      return a;
    }),
    (p.prototype.doRender = function (c, e, f) {
      return (
        (this.currentThemeName = f),
        this.getTemplate("core/pix_icon").then(
          function () {
            this.addHelpers(e, f);
            var g = a.render(c, e, this.partialHelper.bind(this));
            return this.requiredStrings.length > 0
              ? d.get_strings(this.requiredStrings).then(
                  function (a) {
                    return (
                      (g = this.treatStringsInContent(g, a)),
                      b.Deferred().resolve(g, this.getJS(a)).promise()
                    );
                  }.bind(this)
                )
              : b.Deferred().resolve(g.trim(), this.getJS([])).promise();
          }.bind(this)
        )
      );
    });
  var q = function (a) {
      if ("" !== a.trim()) {
        var c = b("<script>").attr("type", "text/javascript").html(a);
        b("head").append(c);
      }
    },
    r = function (a, c, d, e) {
      var f = b(a);
      if (f.length) {
        var g = b(c),
          h = null;
        e
          ? ((h = new k.NodeList(f.children().get())),
            h.destroy(!0),
            f.empty(),
            f.append(g))
          : ((h = new k.NodeList(f.get())), h.destroy(!0), f.replaceWith(g)),
          q(d),
          j.notifyFilterContentUpdated(g);
      }
    };
  (p.prototype.scanForPartials = function (b) {
    var c = a.parse(b),
      d = [],
      e = function (a, b) {
        var c, d;
        for (c = 0; c < a.length; c++)
          (d = a[c]),
            (">" != d[0] && "<" != d[0]) || b.push(d[1]),
            d.length > 4 && e(d[4], b);
      };
    return e(c, d), d;
  }),
    (p.prototype.cachePartials = function (a) {
      return this.getTemplate(a).then(
        function (a) {
          var c,
            d = this.scanForPartials(a),
            e = [];
          for (c = 0; c < d.length; c++) {
            var f = this.currentThemeName + "/" + d[c];
            f in o || e.push(this.cachePartials(d[c]));
          }
          return b.when.apply(b, e).then(function () {
            return a;
          });
        }.bind(this)
      );
    }),
    (p.prototype.render = function (a, b, c) {
      return (
        "undefined" == typeof c && (c = h.theme),
        (this.currentThemeName = c),
        this.cachePartials(a).then(
          function (a) {
            return this.doRender(a, b, c);
          }.bind(this)
        )
      );
    });
  var s = function (a, c, d) {
      var e = b(a);
      e.length && (e.prepend(c), q(d), j.notifyFilterContentUpdated(e));
    },
    t = function (a, c, d) {
      var e = b(a);
      e.length && (e.append(c), q(d), j.notifyFilterContentUpdated(e));
    };
  return {
    render: function (a, b, c) {
      var d = new p();
      return d.render(a, b, c);
    },
    runTemplateJS: q,
    replaceNodeContents: function (a, b, c) {
      r(a, b, c, !0);
    },
    replaceNode: function (a, b, c) {
      r(a, b, c, !1);
    },
    prependNodeContents: function (a, b, c) {
      s(a, b, c);
    },
    appendNodeContents: function (a, b, c) {
      t(a, b, c);
    },
  };
});
define("core/tooltip", ["jquery"], function (a) {
  var b = function (b) {
    (this._regionSelector = b),
      a(this._regionSelector).each(
        function (b, c) {
          var d = a(c).attr("aria-describedby");
          if (d) {
            var e = document.getElementById(d);
            if (e) {
              var f = "tooltip" == a(e).attr("role");
              f && (a(e).hide(), a(c).attr("tabindex", "0")),
                a(c).on("focus", this._handleFocus.bind(this)),
                a(c).on("mouseover", this._handleMouseOver.bind(this)),
                a(c).on("mouseout", this._handleMouseOut.bind(this)),
                a(c).on("blur", this._handleBlur.bind(this)),
                a(c).on("keydown", this._handleKeyDown.bind(this));
            }
          }
        }.bind(this)
      );
  };
  return (
    (b.prototype._regionSelector = null),
    (b.prototype._showTooltip = function (b) {
      var c = a(b.target),
        d = c.attr("aria-describedby");
      if (d) {
        var e = a(document.getElementById(d));
        if ((e.show(), e.attr("aria-hidden", "false"), !e.is(".tooltip"))) {
          var f = a('<div class="tooltip-inner"></div>');
          f.append(e.contents()),
            e.append(f),
            e.addClass("tooltip"),
            e.addClass("bottom"),
            e.append('<div class="tooltip-arrow"></div>');
        }
        var g = c.offset();
        (g.top += c.height() + 10), a(e).offset(g);
      }
    }),
    (b.prototype._hideTooltip = function (b) {
      var c = a(b.target),
        d = c.attr("aria-describedby");
      if (d) {
        var e = document.getElementById(d);
        a(e).hide(), a(e).attr("aria-hidden", "true");
      }
    }),
    (b.prototype._handleFocus = function (a) {
      this._showTooltip(a);
    }),
    (b.prototype._handleKeyDown = function (a) {
      27 == a.which && this._hideTooltip(a);
    }),
    (b.prototype._handleMouseOver = function (a) {
      this._showTooltip(a);
    }),
    (b.prototype._handleMouseOut = function (b) {
      var c = a(b.target);
      c.is(":focus") || this._hideTooltip(b);
    }),
    (b.prototype._handleBlur = function (a) {
      this._hideTooltip(a);
    }),
    b
  );
});
define("core/tree", ["jquery"], function (a) {
  var b = {
      ITEM: "[role=treeitem]",
      GROUP:
        "[role=treeitem]:has([role=group]), [role=treeitem][aria-owns], [role=treeitem][data-requires-ajax=true]",
      CLOSED_GROUP:
        "[role=treeitem]:has([role=group])[aria-expanded=false], [role=treeitem][aria-owns][aria-expanded=false], [role=treeitem][data-requires-ajax=true][aria-expanded=false]",
      FIRST_ITEM: "[role=treeitem]:first",
      VISIBLE_ITEM: "[role=treeitem]:visible",
      UNLOADED_AJAX_ITEM:
        "[role=treeitem][data-requires-ajax=true][data-loaded=false][aria-expanded=true]",
    },
    c = function (c, d) {
      (this.treeRoot = a(c)),
        this.treeRoot.data("activeItem", null),
        (this.selectCallback = d),
        (this.keys = {
          tab: 9,
          enter: 13,
          space: 32,
          pageup: 33,
          pagedown: 34,
          end: 35,
          home: 36,
          left: 37,
          up: 38,
          right: 39,
          down: 40,
          asterisk: 106,
        }),
        this.initialiseNodes(this.treeRoot),
        this.setActiveItem(this.treeRoot.find(b.FIRST_ITEM)),
        this.refreshVisibleItemsCache(),
        this.bindEventHandlers();
    };
  return (
    (c.prototype.refreshVisibleItemsCache = function () {
      this.treeRoot.data("visibleItems", this.treeRoot.find(b.VISIBLE_ITEM));
    }),
    (c.prototype.getVisibleItems = function () {
      return this.treeRoot.data("visibleItems");
    }),
    (c.prototype.setActiveItem = function (a) {
      var b = this.treeRoot.data("activeItem");
      a !== b &&
        (b && (b.attr("tabindex", "-1"), b.attr("aria-selected", "false")),
        a.attr("tabindex", "0"),
        a.attr("aria-selected", "true"),
        this.treeRoot.data("activeItem", a),
        "function" == typeof this.selectCallback && this.selectCallback(a));
    }),
    (c.prototype.isGroupItem = function (a) {
      return a.is(b.GROUP);
    }),
    (c.prototype.getGroupFromItem = function (a) {
      return (
        this.treeRoot.find("#" + a.attr("aria-owns")) ||
        a.children("[role=group]")
      );
    }),
    (c.prototype.isGroupCollapsed = function (a) {
      return "false" === a.attr("aria-expanded");
    }),
    (c.prototype.isGroupCollapsible = function (a) {
      return "false" !== a.attr("data-collapsible");
    }),
    (c.prototype.initialiseNodes = function (c) {
      this.removeAllFromTabOrder(c), this.setAriaSelectedFalseOnItems(c);
      var d = this;
      c.find(b.UNLOADED_AJAX_ITEM).each(function () {
        var b = a(this);
        d.collapseGroup(b), d.expandGroup(b);
      });
    }),
    (c.prototype.removeAllFromTabOrder = function (b) {
      b.find("*").attr("tabindex", "-1"),
        this.getGroupFromItem(a(b)).find("*").attr("tabindex", "-1");
    }),
    (c.prototype.setAriaSelectedFalseOnItems = function (a) {
      a.find(b.ITEM).attr("aria-selected", "false");
    }),
    (c.prototype.expandAllGroups = function () {
      var c = this;
      this.treeRoot.find(b.CLOSED_GROUP).each(function () {
        var b = a(this);
        c.expandGroup(a(this)).done(function () {
          c.expandAllChildGroups(b);
        });
      });
    }),
    (c.prototype.expandAllChildGroups = function (c) {
      var d = this;
      this.getGroupFromItem(c)
        .find(b.CLOSED_GROUP)
        .each(function () {
          var b = a(this);
          d.expandGroup(a(this)).done(function () {
            d.expandAllChildGroups(b);
          });
        });
    }),
    (c.prototype.expandGroup = function (b) {
      var c = a.Deferred();
      if ("false" !== b.attr("data-expandable") && this.isGroupCollapsed(b))
        if (
          "true" === b.attr("data-requires-ajax") &&
          "true" !== b.attr("data-loaded")
        ) {
          b.attr("data-loaded", !1);
          var d = b.closest("[data-ajax-loader]").attr("data-ajax-loader"),
            e = this;
          b.addClass("loading"),
            require([d], function (a) {
              a.load(b).done(function () {
                b.attr("data-loaded", !0),
                  e.initialiseNodes(b),
                  e.finishExpandingGroup(b),
                  b.removeClass("loading"),
                  c.resolve();
              });
            });
        } else this.finishExpandingGroup(b), c.resolve();
      else c.resolve();
      return c;
    }),
    (c.prototype.finishExpandingGroup = function (a) {
      var b = this.getGroupFromItem(a);
      b.attr("aria-hidden", "false"),
        a.attr("aria-expanded", "true"),
        this.refreshVisibleItemsCache();
    }),
    (c.prototype.collapseGroup = function (a) {
      if (this.isGroupCollapsible(a) && !this.isGroupCollapsed(a)) {
        var b = this.getGroupFromItem(a);
        b.attr("aria-hidden", "true"),
          a.attr("aria-expanded", "false"),
          this.refreshVisibleItemsCache();
      }
    }),
    (c.prototype.toggleGroup = function (a) {
      "true" === a.attr("aria-expanded")
        ? this.collapseGroup(a)
        : this.expandGroup(a);
    }),
    (c.prototype.handleKeyDown = function (c, d) {
      var e = this.getVisibleItems().index(c);
      if (
        d.altKey ||
        d.ctrlKey ||
        d.metaKey ||
        (d.shiftKey && d.keyCode != this.keys.tab)
      )
        return !0;
      switch (d.keyCode) {
        case this.keys.home:
          return (
            this.getVisibleItems().first().focus(), d.stopPropagation(), !1
          );
        case this.keys.end:
          return this.getVisibleItems().last().focus(), d.stopPropagation(), !1;
        case this.keys.enter:
          var f = c.children("a").length
            ? c.children("a")
            : c.children().not(b.GROUP).find("a");
          return (
            f.length
              ? (window.location.href = f.first().attr("href"))
              : this.isGroupItem(c) && this.toggleGroup(c, !0),
            d.stopPropagation(),
            !1
          );
        case this.keys.space:
          return (
            this.isGroupItem(c) && this.toggleGroup(c, !0),
            d.stopPropagation(),
            !1
          );
        case this.keys.left:
          var g = function (b) {
            b.getVisibleItems()
              .filter(function () {
                return b.getGroupFromItem(a(this)).has(c).length;
              })
              .focus();
          };
          return (
            this.isGroupItem(c)
              ? this.isGroupCollapsed(c)
                ? g(this)
                : this.collapseGroup(c)
              : g(this),
            d.stopPropagation(),
            !1
          );
        case this.keys.right:
          return (
            this.isGroupItem(c) &&
              (this.isGroupCollapsed(c)
                ? this.expandGroup(c)
                : this.getGroupFromItem(c).find(b.ITEM).first().focus()),
            d.stopPropagation(),
            !1
          );
        case this.keys.up:
          if (e > 0) {
            var h = this.getVisibleItems().eq(e - 1);
            h.focus();
          }
          return d.stopPropagation(), !1;
        case this.keys.down:
          if (e < this.getVisibleItems().length - 1) {
            var i = this.getVisibleItems().eq(e + 1);
            i.focus();
          }
          return d.stopPropagation(), !1;
        case this.keys.asterisk:
          return this.expandAllGroups(), d.stopPropagation(), !1;
      }
      return !0;
    }),
    (c.prototype.handleClick = function (a, b) {
      return (
        !!(b.altKey || b.ctrlKey || b.shiftKey || b.metaKey) ||
        (a.focus(),
        this.isGroupItem(a) && this.toggleGroup(a),
        b.stopPropagation(),
        !0)
      );
    }),
    (c.prototype.handleFocus = function (a, b) {
      return this.setActiveItem(a), b.stopPropagation(), !0;
    }),
    (c.prototype.bindEventHandlers = function () {
      var c = this;
      this.treeRoot.on(
        {
          click: function (b) {
            return c.handleClick(a(this), b);
          },
          keydown: function (b) {
            return c.handleKeyDown(a(this), b);
          },
          focus: function (b) {
            return c.handleFocus(a(this), b);
          },
        },
        b.ITEM
      );
    }),
    c
  );
});
define("core/url", ["jquery", "core/config"], function (a, b) {
  return {
    fileUrl: function (a, c) {
      var d = b.wwwroot + a;
      return (
        "/" != c.charAt(0) && (c = "/" + c),
        (d += b.slasharguments ? c : "?file=" + encodeURIComponent(c))
      );
    },
    relativeUrl: function (c, d, e) {
      if (
        0 === c.indexOf("http:") ||
        0 === c.indexOf("https:") ||
        c.indexOf("://") >= 0
      )
        throw new Error("relativeUrl function does not accept absolute urls");
      "/" != c.charAt(0) && (c = "/" + c),
        "admin" !== b.admin &&
          (c = c.replace(/^\/admin\//, "/" + b.admin + "/")),
        (d = d || {}),
        e && (d.sesskey = b.sesskey);
      var f = "";
      return (
        Object.keys(d).length &&
          (f = a
            .map(d, function (a, b) {
              return b + "=" + a;
            })
            .join("&")),
        "" !== f ? b.wwwroot + c + "?" + f : b.wwwroot + c
      );
    },
    imageUrl: function (a, b) {
      return M.util.image_url(a, b);
    },
  };
});
define("core/yui", function () {
  return Y;
});
define("core_form/passwordunmask", ["jquery", "core/templates"], function (
  a,
  b
) {
  var c = function (b) {
    (this.wrapperSelector =
      '[data-passwordunmask="wrapper"][data-passwordunmaskid="' + b + '"]'),
      (this.wrapper = a(this.wrapperSelector)),
      (this.editorSpace = this.wrapper.find('[data-passwordunmask="editor"]')),
      (this.editLink = this.wrapper.find('a[data-passwordunmask="edit"]')),
      (this.editInstructions = this.wrapper.find(
        '[data-passwordunmask="instructions"]'
      )),
      (this.displayValue = this.wrapper.find(
        '[data-passwordunmask="displayvalue"]'
      )),
      (this.inputFieldLabel = a('label[for="' + b + '"]')),
      (this.inputField = this.editorSpace.find(document.getElementById(b))),
      this.inputField.attr("type", "hidden"),
      this.inputField.removeClass("hiddenifjs"),
      this.editInstructions.attr("id") ||
        this.editInstructions.attr("id", b + "_instructions"),
      this.editInstructions.hide(),
      this.setDisplayValue(),
      this.addListeners();
  };
  return (
    (c.prototype.addListeners = function () {
      return (
        this.wrapper.on(
          "click keypress",
          '[data-passwordunmask="edit"]',
          a.proxy(function (b) {
            ("keypress" === b.type && 13 !== b.keyCode) ||
              (b.stopImmediatePropagation(),
              b.preventDefault(),
              "hidden" !== this.inputField.attr("type")
                ? "click" === b.type || a(b.relatedTarget).is(":input")
                  ? this.turnEditingOff(!1)
                  : this.turnEditingOff(!0)
                : this.turnEditingOn());
          }, this)
        ),
        this.wrapper.on(
          "click keypress",
          '[data-passwordunmask="unmask"]',
          a.proxy(function (a) {
            ("keypress" === a.type && 13 !== a.keyCode) ||
              (a.stopImmediatePropagation(),
              a.preventDefault(),
              this.wrapper.data("unmasked", !this.wrapper.data("unmasked")),
              this.setDisplayValue());
          }, this)
        ),
        this.wrapper.on(
          "keydown",
          "input",
          a.proxy(function (a) {
            ("keydown" === a.type && 13 !== a.keyCode) ||
              (a.stopImmediatePropagation(),
              a.preventDefault(),
              this.turnEditingOff(!0));
          }, this)
        ),
        this.inputFieldLabel.on(
          "click",
          a.proxy(function (a) {
            a.preventDefault(), this.turnEditingOn();
          }, this)
        ),
        this
      );
    }),
    (c.prototype.checkFocusOut = function (b) {
      this.isEditing() &&
        window.setTimeout(
          a.proxy(function () {
            var c = b.relatedTarget || document.activeElement;
            this.wrapper.has(a(c)).length ||
              this.turnEditingOff(!a(c).is(":input,a"));
          }, this),
          100
        );
    }),
    (c.prototype.passwordVisible = function () {
      return !!this.wrapper.data("unmasked");
    }),
    (c.prototype.isEditing = function () {
      return "hidden" !== this.inputField.attr("type");
    }),
    (c.prototype.turnEditingOn = function () {
      var b = this.getDisplayValue();
      return (
        this.passwordVisible()
          ? this.inputField.attr("type", "text")
          : this.inputField.attr("type", "password"),
        this.inputField.val(b),
        this.inputField.attr("size", this.inputField.attr("data-size")),
        this.editInstructions.length &&
          (this.inputField.attr(
            "aria-describedby",
            this.editInstructions.attr("id")
          ),
          this.editInstructions.show()),
        this.wrapper.attr("data-passwordunmask-visible", 1),
        this.editLink.hide(),
        this.inputField.focus().select(),
        a("body").on(
          "focusout",
          this.wrapperSelector,
          a.proxy(this.checkFocusOut, this)
        ),
        this
      );
    }),
    (c.prototype.turnEditingOff = function (b) {
      a("body").off("focusout", this.wrapperSelector, this.checkFocusOut);
      var c = this.getDisplayValue();
      return (
        this.inputField.attr("type", "hidden").attr("aria-describedby", null),
        this.inputField.val(c),
        this.editInstructions.hide(),
        this.wrapper.removeAttr("data-passwordunmask-visible"),
        this.inputField.removeAttr("size"),
        this.editLink.show(),
        this.setDisplayValue(),
        b && this.editLink.focus(),
        this
      );
    }),
    (c.prototype.getDisplayValue = function () {
      return this.inputField.val();
    }),
    (c.prototype.setDisplayValue = function () {
      var c = this.getDisplayValue();
      return (
        this.isEditing() &&
          (this.wrapper.data("unmasked")
            ? this.inputField.attr("type", "text")
            : this.inputField.attr("type", "password"),
          this.inputField.val(c)),
        c && this.wrapper.data("unmasked")
          ? this.displayValue.text(c)
          : (c || (c = ""),
            b
              .render("core_form/element-passwordunmask-fill", {
                element: {
                  frozen: this.inputField.is("[readonly]"),
                  value: c,
                  valuechars: c.split(""),
                },
              })
              .done(
                a.proxy(function (a, c) {
                  this.displayValue.html(a), b.runTemplateJS(c);
                }, this)
              )),
        this
      );
    }),
    c
  );
});
define("core_grades/edittree_index", ["jquery"], function (a) {
  var b = function () {
    a("body").on("change", ".itemselect.ignoredirty", b.checkMoveMenuState),
      a("body").on(
        "click",
        '[data-action="grade_edittree-index-bulkselect"]',
        b.toggleAllSelectItems
      ),
      a("body").on("change", ".weightoverride", b.toggleWeightInput),
      a("#menumoveafter").on("change", function () {
        var b = a(this).closest("form"),
          c = b.find("#bulkmoveinput");
        c.val(1), b.submit();
      }),
      b.checkMoveMenuState();
  };
  return (
    (b.toggleWeightInput = function (b) {
      b.preventDefault();
      var c = a(this),
        d = c.closest("tr");
      a('input[name="weight_' + d.data("itemid") + '"]').prop(
        "disabled",
        !c.prop("checked")
      );
    }),
    (b.toggleAllSelectItems = function (c) {
      c.preventDefault();
      var d = a(this),
        e = d.closest("tr");
      a("." + e.data("category") + " .itemselect").prop(
        "checked",
        d.data("checked")
      ),
        b.checkMoveMenuState();
    }),
    (b.getMoveMenu = function () {
      return a("#menumoveafter");
    }),
    (b.checkMoveMenuState = function () {
      var c = b.getMoveMenu();
      if (!c.length) return !1;
      var d;
      return (
        a(".itemselect").each(function () {
          return (d = a(this).prop("checked")), !d;
        }),
        c.prop("disabled", !d),
        d
      );
    }),
    { enhance: b }
  );
});
define("core_message/message_area", [
  "jquery",
  "core_message/message_area_contacts",
  "core_message/message_area_messages",
  "core_message/message_area_profile",
  "core_message/message_area_tabs",
  "core_message/message_area_search",
], function (a, b, c, d, e, f) {
  function g(b, c, d, e) {
    (this.node = a(b)),
      (this.pollmin = c),
      (this.pollmax = d),
      (this.polltimeout = e),
      this._init();
  }
  return (
    (g.prototype.node = null),
    (g.prototype.pollmin = null),
    (g.prototype.pollmax = null),
    (g.prototype.polltimeout = null),
    (g.prototype._init = function () {
      new b(this), new c(this), new d(this), new e(this), new f(this);
    }),
    (g.prototype.onDelegateEvent = function (a, b, c) {
      this.node.on(a, b, c);
    }),
    (g.prototype.onCustomEvent = function (a, b) {
      this.node.on(a, b);
    }),
    (g.prototype.trigger = function (a, b) {
      "undefined" == typeof b && (b = ""), this.node.trigger(a, b);
    }),
    (g.prototype.find = function (a) {
      return this.node.find(a);
    }),
    (g.prototype.getCurrentUserId = function () {
      return this.node.data("userid");
    }),
    (g.prototype.showContactsFirst = function () {
      return !!this.node.data("displaycontacts");
    }),
    g
  );
});
define("core_message/message_area_actions", [
  "core_message/message_area_events",
], function (a) {
  function b(a) {
    this.messageArea = a;
  }
  var c = { MESSAGES: "[data-region='messages']" };
  return (
    (b.prototype.messageArea = null),
    (b.prototype.chooseMessagesToDelete = function () {
      0 !== this.messageArea.find(c.MESSAGES).length &&
        this.messageArea.trigger(a.CHOOSEMESSAGESTODELETE);
    }),
    b
  );
});
define("core_message/message_area_contacts", [
  "jquery",
  "core/ajax",
  "core/templates",
  "core/notification",
  "core/custom_interaction_events",
  "core/str",
  "core_message/message_area_events",
], function (a, b, c, d, e, f, g) {
  function h(a) {
    (this.messageArea = a), this._init();
  }
  var i = {
    CONTACT: "[data-region='contact']",
    CONTACTICONBLOCKED: "[data-region='contact-icon-blocked']",
    CONTACTS: "[data-region='contacts'][data-region-content='contacts']",
    CONTACTSAREA: "[data-region='contacts-area']",
    CONVERSATIONS:
      "[data-region='contacts'][data-region-content='conversations']",
    COURSE: "[data-region='course']",
    LASTMESSAGETEXT: "[data-region='last-message-text']",
    LASTMESSAGEUSER: "[data-region='last-message-user']",
    LOADINGICON: ".loading-icon",
    MESSAGETEXT: "[data-region='message-text']",
    MESSAGINGAREA: "[data-region='messaging-area']",
    NOCONTACTS: "[data-region=no-contacts]",
    SEARCHBOX: "[data-region='search-box']",
    SEARCHRESULTSAREA: "[data-region='search-results-area']",
    SEARCHTEXTAREA: "[data-region='search-text-area']",
    SELECTEDVIEWCONVERSATION: "[data-action='view-contact-msg'].selected",
    SELECTEDVIEWPROFILE: "[data-action='view-contact-profile'].selected",
    SHOWMESSAGES: "[data-action='show-messages']",
    VIEWCONVERSATION: "[data-action='view-contact-msg']",
    VIEWPROFILE: "[data-action='view-contact-profile']",
  };
  return (
    (h.prototype._isLoadingConversations = !1),
    (h.prototype._isLoadingContacts = !1),
    (h.prototype._numContactsDisplayed = 0),
    (h.prototype._numContactsToRetrieve = 20),
    (h.prototype._numConversationsDisplayed = 0),
    (h.prototype._numConversationsToRetrieve = 20),
    (h.prototype._messageLength = 60),
    (h.prototype.messageArea = null),
    (h.prototype._init = function () {
      e.define(this.messageArea.node, [
        e.events.activate,
        e.events.down,
        e.events.up,
      ]),
        this.messageArea.onCustomEvent(
          g.MESSAGESEARCHCANCELED,
          this._viewConversations.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.USERSSEARCHCANCELED,
          this._viewContacts.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CONTACTSSELECTED,
          this._viewContacts.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CONVERSATIONDELETED,
          this._deleteConversation.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CONVERSATIONSSELECTED,
          this._viewConversations.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CONTACTSSELECTED,
          this._viewContacts.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.MESSAGESDELETED,
          this._updateLastMessage.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.MESSAGESENT,
          this._handleMessageSent.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CONTACTREMOVED,
          function (a, b) {
            this._removeContact(i.CONTACTS, b);
          }.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CONTACTADDED,
          function (a, b) {
            this._addContact(b);
          }.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CONTACTBLOCKED,
          function (a, b) {
            this._blockContact(b);
          }.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CONTACTUNBLOCKED,
          function (a, b) {
            this._unblockContact(b);
          }.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CHOOSEMESSAGESTODELETE,
          this._startDeleting.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CANCELDELETEMESSAGES,
          this._stopDeleting.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.activate,
          i.VIEWCONVERSATION,
          this._viewConversation.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.activate,
          i.VIEWPROFILE,
          this._viewContact.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.activate,
          i.SHOWMESSAGES,
          this._showMessagingArea.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.up,
          i.CONTACT,
          this._selectPreviousContact.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.down,
          i.CONTACT,
          this._selectNextContact.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.up,
          i.VIEWCONVERSATION,
          this._selectPreviousConversation.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.down,
          i.VIEWCONVERSATION,
          this._selectNextConversation.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.up,
          i.COURSE,
          this._selectPreviousCourse.bind()
        ),
        this.messageArea.onDelegateEvent(
          e.events.down,
          i.COURSE,
          this._selectNextCourse.bind()
        ),
        this.messageArea.onDelegateEvent(
          "focus",
          i.SEARCHBOX,
          this._setSearching.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          "blur",
          i.SEARCHBOX,
          this._clearSearching.bind(this)
        ),
        e.define(this.messageArea.find(i.CONVERSATIONS), [
          e.events.scrollBottom,
        ]),
        e.define(this.messageArea.find(i.CONTACTS), [e.events.scrollBottom]),
        this.messageArea.onDelegateEvent(
          e.events.scrollBottom,
          i.CONVERSATIONS,
          this._loadConversations.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.scrollBottom,
          i.CONTACTS,
          this._loadContacts.bind(this)
        ),
        this.messageArea.showContactsFirst() ||
          (this._numConversationsDisplayed = 20);
    }),
    (h.prototype._startDeleting = function () {
      this.messageArea.find(i.CONTACTSAREA).addClass("editing");
    }),
    (h.prototype._stopDeleting = function () {
      this.messageArea.find(i.CONTACTSAREA).removeClass("editing");
    }),
    (h.prototype._viewConversations = function () {
      0 === this._numConversationsDisplayed && this._loadConversations(),
        this.messageArea.find(i.CONTACTS).hide(),
        this.messageArea.find(i.CONVERSATIONS).show();
    }),
    (h.prototype._viewContacts = function () {
      0 === this._numContactsDisplayed && this._loadContacts(),
        this.messageArea.find(i.CONVERSATIONS).hide(),
        this.messageArea.find(i.CONTACTS).show();
    }),
    (h.prototype._handleMessageSent = function (a, b, c) {
      this._viewConversations();
      var d = this._getUserNode(i.CONVERSATIONS, b);
      if (0 === d.length) {
        var e = this._getUserNode(i.CONTACTS, b);
        if (
          (0 === e.length && (e = this._getUserNode(i.SEARCHRESULTSAREA, b)),
          0 == e.length)
        )
          return;
        (d = e.clone()),
          d.attr("data-action", "view-contact-msg"),
          this.messageArea.find(i.CONVERSATIONS + " " + i.NOCONTACTS).remove(),
          this._numConversationsDisplayed++;
      }
      d.prependTo(this.messageArea.find(i.CONVERSATIONS)),
        this.messageArea.find(i.CONVERSATIONS).scrollTop(0),
        this._updateContactText(d, c, !0),
        this._setSelectedUser("[data-userid='" + b + "']");
    }),
    (h.prototype._loadConversations = function () {
      if (this._isLoadingConversations) return !1;
      this._isLoadingConversations = !0;
      var a = 0;
      return c
        .render("core/loading", {})
        .then(
          function (a, b) {
            return (
              this._numConversationsDisplayed
                ? c.appendNodeContents(
                    this.messageArea.find(i.CONVERSATIONS),
                    "<div style='text-align:center'>" + a + "</div>",
                    b
                  )
                : c.replaceNodeContents(
                    this.messageArea.find(i.CONVERSATIONS),
                    "<div style='text-align:center'>" + a + "</div>",
                    b
                  ),
              this._getItems(
                "core_message_data_for_messagearea_conversations",
                this._numConversationsDisplayed,
                this._numConversationsToRetrieve
              )
            );
          }.bind(this)
        )
        .then(function (b) {
          return (
            (a = b.contacts.length),
            (b.isconversation = !0),
            c.render("core_message/message_area_contacts", b)
          );
        })
        .then(
          function (b, d) {
            this.messageArea
              .find(i.CONVERSATIONS + " " + i.LOADINGICON)
              .remove(),
              a > 0
                ? (c.appendNodeContents(
                    this.messageArea.find(i.CONVERSATIONS),
                    b,
                    d
                  ),
                  (this._numConversationsDisplayed +=
                    this._numConversationsToRetrieve))
                : this._numConversationsDisplayed ||
                  c.replaceNodeContents(
                    this.messageArea.find(i.CONVERSATIONS),
                    b,
                    d
                  ),
              (this._isLoadingConversations = !1);
          }.bind(this)
        )
        .fail(d.exception);
    }),
    (h.prototype._loadContacts = function () {
      if (this._isLoadingContacts) return !1;
      this._isLoadingContacts = !0;
      var a = 0;
      return c
        .render("core/loading", {})
        .then(
          function (a, b) {
            return (
              this._numContactsDisplayed
                ? c.appendNodeContents(
                    this.messageArea.find(i.CONTACTS),
                    "<div style='text-align:center'>" + a + "</div>",
                    b
                  )
                : c.replaceNodeContents(
                    this.messageArea.find(i.CONTACTS),
                    "<div style='text-align:center'>" + a + "</div>",
                    b
                  ),
              this._getItems(
                "core_message_data_for_messagearea_contacts",
                this._numContactsDisplayed,
                this._numContactsToRetrieve
              )
            );
          }.bind(this)
        )
        .then(function (b) {
          return (
            (a = b.contacts.length),
            (b.isconversation = !1),
            c.render("core_message/message_area_contacts", b)
          );
        })
        .then(
          function (b, d) {
            this.messageArea.find(i.CONTACTS + " " + i.LOADINGICON).remove(),
              a > 0
                ? (c.appendNodeContents(
                    this.messageArea.find(i.CONTACTS),
                    b,
                    d
                  ),
                  (this._numContactsDisplayed += a))
                : this._numContactsDisplayed ||
                  c.replaceNodeContents(
                    this.messageArea.find(i.CONTACTS),
                    b,
                    d
                  ),
              (this._isLoadingContacts = !1);
          }.bind(this)
        )
        .fail(d.exception);
    }),
    (h.prototype._viewConversation = function (b) {
      this.messageArea.trigger(g.CANCELDELETEMESSAGES);
      var c = a(b.currentTarget).data("userid"),
        d = a(b.currentTarget).data("messageid"),
        e = "[data-userid='" + c + "']";
      d && (e = "[data-messageid='" + d + "']"),
        this._setSelectedUser(e),
        this.messageArea.trigger(g.CONVERSATIONSELECTED, c),
        this.messageArea.find(i.SELECTEDVIEWPROFILE).removeClass("selected"),
        this._showMessagingArea();
    }),
    (h.prototype._viewContact = function (b) {
      this.messageArea.trigger(g.CANCELDELETEMESSAGES);
      var c = a(b.currentTarget).data("userid");
      this._setSelectedUser("[data-userid='" + c + "']"),
        this.messageArea.trigger(g.CONTACTSELECTED, c),
        this.messageArea
          .find(i.SELECTEDVIEWCONVERSATION)
          .removeClass("selected"),
        this._showMessagingArea();
    }),
    (h.prototype._getItems = function (a, c, d) {
      var e = b.call([
        {
          methodname: a,
          args: {
            userid: this.messageArea.getCurrentUserId(),
            limitfrom: c,
            limitnum: d,
          },
        },
      ]);
      return e[0];
    }),
    (h.prototype._deleteConversation = function (a, b) {
      this._removeContact(i.CONVERSATIONS, b),
        this._numConversationsDisplayed--,
        this._hideMessagingArea(),
        this._stopDeleting();
    }),
    (h.prototype._updateLastMessage = function (a, b, c) {
      if (c) {
        var d = this._getUserNode(i.CONVERSATIONS, b),
          e = c.find(i.MESSAGETEXT).text().trim(),
          f = !1;
        c.data("useridto") == b && (f = !0), this._updateContactText(d, e, f);
      }
      this._stopDeleting();
    }),
    (h.prototype._addContact = function () {
      this.messageArea.find(i.CONTACTS).empty(),
        (this._numContactsDisplayed = 0),
        this._loadContacts();
    }),
    (h.prototype._removeContact = function (a, b) {
      this._getUserNode(a, b).remove(), this._numContactsDisplayed--;
    }),
    (h.prototype._blockContact = function (a) {
      var b = this._getUserNode(i.CONTACTS, a);
      b.find(i.CONTACTICONBLOCKED).removeClass("hidden"),
        (b = this._getUserNode(i.CONVERSATIONS, a)),
        b.find(i.CONTACTICONBLOCKED).removeClass("hidden"),
        (b = this._getUserNode(i.SEARCHRESULTSAREA, a)),
        b.find(i.CONTACTICONBLOCKED).removeClass("hidden");
    }),
    (h.prototype._unblockContact = function (a) {
      var b = this._getUserNode(i.CONTACTS, a);
      b.find(i.CONTACTICONBLOCKED).addClass("hidden"),
        (b = this._getUserNode(i.CONVERSATIONS, a)),
        b.find(i.CONTACTICONBLOCKED).addClass("hidden"),
        (b = this._getUserNode(i.SEARCHRESULTSAREA, a)),
        b.find(i.CONTACTICONBLOCKED).addClass("hidden");
    }),
    (h.prototype._getUserNode = function (a, b) {
      return this.messageArea.find(
        a + " " + i.CONTACT + "[data-userid='" + b + "']"
      );
    }),
    (h.prototype._setSelectedUser = function (a) {
      this.messageArea.find(i.CONTACT).removeClass("selected"),
        this.messageArea.find(i.CONTACT).attr("aria-pressed", !1),
        this.messageArea.find(i.CONTACT + a).addClass("selected"),
        this.messageArea.find(i.CONTACT + a).attr("aria-pressed", !0);
    }),
    (h.prototype._getContactText = function (b) {
      return (
        (b = a(document.createElement("div")).html(b).text()),
        b.length > this._messageLength &&
          ((b = b.substr(0, this._messageLength - 3)), (b += "...")),
        b
      );
    }),
    (h.prototype._updateContactText = function (a, b, c) {
      (b = this._getContactText(b)),
        c
          ? f
              .get_string("you", "message")
              .done(function (b) {
                a.find(i.LASTMESSAGEUSER).empty().append(b);
              })
              .always(function () {
                a.find(i.LASTMESSAGETEXT).empty().append(b);
              })
          : (a.find(i.LASTMESSAGEUSER).empty(),
            a.find(i.LASTMESSAGETEXT).empty().append(b));
    }),
    (h.prototype._selectNextContact = function (b, c) {
      var d = a(b.target).closest(i.CONTACT),
        e = d.next();
      e.focus(),
        c.originalEvent.preventDefault(),
        c.originalEvent.stopPropagation();
    }),
    (h.prototype._selectPreviousContact = function (b, c) {
      var d = a(b.target).closest(i.CONTACT),
        e = d.prev();
      e.focus(),
        c.originalEvent.preventDefault(),
        c.originalEvent.stopPropagation();
    }),
    (h.prototype._selectNextCourse = function (b, c) {
      var d = a(b.target).closest(i.COURSE);
      d.next().focus(),
        c.originalEvent.preventDefault(),
        c.originalEvent.stopPropagation();
    }),
    (h.prototype._selectPreviousCourse = function (b, c) {
      var d = a(b.target).closest(i.COURSE);
      d.prev().focus(),
        c.originalEvent.preventDefault(),
        c.originalEvent.stopPropagation();
    }),
    (h.prototype._selectNextConversation = function (b, c) {
      var d = a(b.target).closest(i.VIEWCONVERSATION),
        e = d.next();
      e.focus(),
        c.originalEvent.preventDefault(),
        c.originalEvent.stopPropagation();
    }),
    (h.prototype._selectPreviousConversation = function (b, c) {
      var d = a(b.target).closest(i.VIEWCONVERSATION),
        e = d.prev();
      e.focus(),
        c.originalEvent.preventDefault(),
        c.originalEvent.stopPropagation();
    }),
    (h.prototype._setSearching = function () {
      a(i.SEARCHTEXTAREA).addClass("searching");
    }),
    (h.prototype._clearSearching = function () {
      a(i.SEARCHTEXTAREA).removeClass("searching");
    }),
    (h.prototype._showMessagingArea = function () {
      this.messageArea
        .find(i.MESSAGINGAREA)
        .removeClass("hide-messages")
        .addClass("show-messages");
    }),
    (h.prototype._hideMessagingArea = function () {
      this.messageArea
        .find(i.MESSAGINGAREA)
        .removeClass("show-messages")
        .addClass("hide-messages");
    }),
    h
  );
});
define("core_message/message_area_events", [], function () {
  return {
    CANCELDELETEMESSAGES: "cancel-delete-messages",
    CHOOSEMESSAGESTODELETE: "choose-messages-to-delete",
    CONTACTADDED: "contact-added",
    CONTACTBLOCKED: "contact-blocked",
    CONTACTREMOVED: "contact-removed",
    CONTACTSELECTED: "contact-selected",
    CONTACTSSELECTED: "contacts-selected",
    CONTACTUNBLOCKED: "contact-unblocked",
    CONVERSATIONDELETED: "conversation-deleted",
    CONVERSATIONSELECTED: "conversation-selected",
    CONVERSATIONSSELECTED: "conversations-selected",
    MESSAGESDELETED: "messages-deleted",
    MESSAGESEARCHCANCELED: "message-search-canceled",
    MESSAGESENT: "message-sent",
    SENDMESSAGE: "message-send",
    USERSSEARCHCANCELED: "users-search-canceled",
  };
});
define("core_message/message_area_messages", [
  "jquery",
  "core/ajax",
  "core/templates",
  "core/notification",
  "core/custom_interaction_events",
  "core/auto_rows",
  "core_message/message_area_actions",
  "core/modal_factory",
  "core/modal_events",
  "core/str",
  "core_message/message_area_events",
  "core/backoff_timer",
], function (a, b, c, d, e, f, g, h, i, j, k, l) {
  function m(a) {
    (this.messageArea = a), this._init();
  }
  var n = 500,
    o = 50,
    p = {
      BLOCKTIME: "[data-region='blocktime']",
      CANCELDELETEMESSAGES: "[data-action='cancel-delete-messages']",
      CONTACT: "[data-region='contact']",
      CONVERSATIONS:
        "[data-region='contacts'][data-region-content='conversations']",
      DELETEALLMESSAGES: "[data-action='delete-all-messages']",
      DELETEMESSAGES: "[data-action='delete-messages']",
      LOADINGICON: ".loading-icon",
      MESSAGE: "[data-region='message']",
      MESSAGERESPONSE: "[data-region='response']",
      MESSAGES: "[data-region='messages']",
      MESSAGESAREA: "[data-region='messages-area']",
      MESSAGINGAREA: "[data-region='messaging-area']",
      SENDMESSAGE: "[data-action='send-message']",
      SENDMESSAGETEXT: "[data-region='send-message-txt']",
      SHOWCONTACTS: "[data-action='show-contacts']",
      STARTDELETEMESSAGES: "[data-action='start-delete-messages']",
    },
    q = 1e3;
  return (
    (m.prototype._isSendingMessage = !1),
    (m.prototype._isLoadingMessages = !1),
    (m.prototype._numMessagesDisplayed = 0),
    (m.prototype._messageQueue = []),
    (m.prototype._numMessagesToRetrieve = 20),
    (m.prototype._confirmationModal = null),
    (m.prototype._latestMessageTimestamp = 0),
    (m.prototype._backoffTimer = null),
    (m.prototype.messageArea = null),
    (m.prototype._init = function () {
      e.define(this.messageArea.node, [
        e.events.activate,
        e.events.up,
        e.events.down,
        e.events.enter,
      ]),
        a(window).height() <= 670 && (n = 400),
        f.init(this.messageArea.node),
        this.messageArea.onCustomEvent(
          k.CONVERSATIONSELECTED,
          this._viewMessages.bind(this)
        ),
        this.messageArea.onCustomEvent(
          k.SENDMESSAGE,
          this._viewMessages.bind(this)
        ),
        this.messageArea.onCustomEvent(
          k.CHOOSEMESSAGESTODELETE,
          this._chooseMessagesToDelete.bind(this)
        ),
        this.messageArea.onCustomEvent(
          k.CANCELDELETEMESSAGES,
          this._hideDeleteAction.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.activate,
          p.SENDMESSAGE,
          this._sendMessage.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.activate,
          p.STARTDELETEMESSAGES,
          this._startDeleting.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.activate,
          p.DELETEMESSAGES,
          this._deleteMessages.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.activate,
          p.DELETEALLMESSAGES,
          this._deleteAllMessages.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.activate,
          p.CANCELDELETEMESSAGES,
          this._triggerCancelMessagesToDelete.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.activate,
          p.MESSAGE,
          this._toggleMessage.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.activate,
          p.SHOWCONTACTS,
          this._hideMessagingArea.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.up,
          p.MESSAGE,
          this._selectPreviousMessage.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.down,
          p.MESSAGE,
          this._selectNextMessage.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          "focus",
          p.SENDMESSAGETEXT,
          this._setMessaging.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          "blur",
          p.SENDMESSAGETEXT,
          this._clearMessaging.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          e.events.enter,
          p.SENDMESSAGETEXT,
          this._sendMessageHandler.bind(this)
        ),
        a(document).on(
          f.events.ROW_CHANGE,
          this._adjustMessagesAreaHeight.bind(this)
        );
      var b = this.messageArea.find(p.MESSAGES);
      b.length &&
        (this._addScrollEventListener(b.find(p.MESSAGE).length),
        (this._latestMessageTimestamp = b
          .find(p.MESSAGE + ":last")
          .data("timecreated"))),
        (this._backoffTimer = new l(
          this._loadNewMessages.bind(this),
          l.getIncrementalCallback(
            this.messageArea.pollmin * q,
            q,
            this.messageArea.pollmax * q,
            this.messageArea.polltimeout * q
          )
        )),
        this._backoffTimer.start();
    }),
    (m.prototype._viewMessages = function (e, f) {
      (this._numMessagesDisplayed = 0),
        this._backoffTimer.stop(),
        (this._latestMessageTimestamp = 0);
      var g = b.call([
          {
            methodname: "core_message_mark_all_messages_as_read",
            args: {
              useridto: this.messageArea.getCurrentUserId(),
              useridfrom: f,
            },
          },
        ]),
        h = 0;
      return c
        .render("core/loading", {})
        .then(
          function (a, b) {
            return (
              c.replaceNodeContents(
                this.messageArea.find(p.MESSAGESAREA),
                a,
                b
              ),
              g[0]
            );
          }.bind(this)
        )
        .then(
          function () {
            var b = this.messageArea.find(
              p.CONVERSATIONS + " " + p.CONTACT + "[data-userid='" + f + "']"
            );
            return (
              b.hasClass("unread") &&
                (b.removeClass("unread"),
                a(document).trigger("messagearea:conversationselected", f)),
              this._getMessages(f)
            );
          }.bind(this)
        )
        .then(function (a) {
          return (
            (h = a.messages.length),
            c.render("core_message/message_area_messages_area", a)
          );
        })
        .then(
          function (a, b) {
            c.replaceNodeContents(this.messageArea.find(p.MESSAGESAREA), a, b),
              this._addScrollEventListener(h),
              this._backoffTimer.restart(),
              this.messageArea.find(p.SENDMESSAGETEXT).focus();
          }.bind(this)
        )
        .fail(d.exception);
    }),
    (m.prototype._loadMessages = function () {
      if (this._isLoadingMessages) return !1;
      this._isLoadingMessages = !0;
      var b = 0;
      return c
        .render("core/loading", {})
        .then(
          function (a, b) {
            return (
              c.prependNodeContents(
                this.messageArea.find(p.MESSAGES),
                "<div style='text-align:center'>" + a + "</div>",
                b
              ),
              this._getMessages(this._getUserId())
            );
          }.bind(this)
        )
        .then(function (a) {
          return (
            (b = a.messages.length),
            c.render("core_message/message_area_messages", a)
          );
        })
        .then(
          function (d, e) {
            if (
              (this.messageArea.find(p.MESSAGES + " " + p.LOADINGICON).remove(),
              b > 0)
            ) {
              var f = a("<div>" + d + "</div>");
              this._hasMatchingBlockTime(this.messageArea.node, f, !0) &&
                this.messageArea.node.find(p.BLOCKTIME + ":first").remove();
              var g = this.messageArea.find(p.MESSAGES)[0].scrollHeight;
              c.prependNodeContents(this.messageArea.find(p.MESSAGES), d, e);
              var h = this.messageArea.find(p.MESSAGES)[0].scrollHeight;
              this.messageArea.find(p.MESSAGES).scrollTop(h - g),
                (this._numMessagesDisplayed += b);
            }
            this._isLoadingMessages = !1;
          }.bind(this)
        )
        .fail(d.exception);
    }),
    (m.prototype._loadNewMessages = function () {
      if (this._isLoadingMessages) return !1;
      if (!this._getUserId()) return !1;
      this._isLoadingMessages = !0;
      var a = !1,
        b = this.messageArea.find(p.MESSAGES);
      if (0 !== b.length) {
        var c = b.scrollTop(),
          e = b.innerHeight(),
          f = b[0].scrollHeight;
        c + e >= f && (a = !0);
      }
      return this._getMessages(this._getUserId(), !0)
        .then(
          function (b) {
            return this._addMessagesToDom(b.messages, a);
          }.bind(this)
        )
        .always(
          function () {
            this._isLoadingMessages = !1;
          }.bind(this)
        )
        .fail(d.exception);
    }),
    (m.prototype._getMessages = function (a, c) {
      var e = {
        currentuserid: this.messageArea.getCurrentUserId(),
        otheruserid: a,
        limitfrom: this._numMessagesDisplayed,
        limitnum: this._numMessagesToRetrieve,
        newest: !0,
      };
      c &&
        ((e.timefrom = this._latestMessageTimestamp),
        (e.limitfrom = 0),
        (e.limitnum = 0));
      var f = b.call([
        { methodname: "core_message_data_for_messagearea_messages", args: e },
      ]);
      return f[0]
        .then(
          function (a) {
            var b = a.messages;
            if (b && b.length) {
              var c = b[b.length - 1];
              c.timecreated > this._latestMessageTimestamp &&
                (this._latestMessageTimestamp = c.timecreated + 1);
            }
            return a;
          }.bind(this)
        )
        .fail(
          function (a) {
            this._backoffTimer.stop(), d.exception(a);
          }.bind(this)
        );
    }),
    (m.prototype._sendMessage = function () {
      var a = this.messageArea.find(p.SENDMESSAGETEXT),
        c = a.val().trim();
      if ("" === c) return !1;
      if (this._isSendingMessage) return !1;
      this._isSendingMessage = !0;
      var e = b.call([
        {
          methodname: "core_message_send_instant_messages",
          args: { messages: [{ touserid: this._getUserId(), text: c }] },
        },
      ]);
      return (
        a.prop("disabled", !0),
        e[0]
          .then(
            function (a) {
              if (a.length < 0) throw new Error("Invalid response");
              if (a[0].errormessage) throw new Error(a[0].errormessage);
              return (
                this.messageArea.trigger(k.MESSAGESENT, [this._getUserId(), c]),
                this._addLastMessageToDom()
              );
            }.bind(this)
          )
          .then(
            function () {
              this._isSendingMessage = !1;
            }.bind(this)
          )
          .always(function () {
            a.prop("disabled", !1), a.focus();
          })
          .fail(d.exception)
      );
    }),
    (m.prototype._chooseMessagesToDelete = function () {
      this.messageArea.find(p.MESSAGESAREA).addClass("editing"),
        this.messageArea
          .find(p.MESSAGE)
          .attr("role", "checkbox")
          .attr("aria-checked", "false");
    }),
    (m.prototype._deleteMessages = function () {
      var c = this.messageArea.getCurrentUserId(),
        e = this.messageArea.find(p.MESSAGE + "[aria-checked='true']"),
        f = [],
        g = [];
      e.each(function (b, d) {
        var e = a(d),
          h = e.data("messageid"),
          i = e.data("messageread") ? 1 : 0;
        g.push(e),
          f.push({
            methodname: "core_message_delete_message",
            args: { messageid: h, userid: c, read: i },
          });
      }),
        f.length > 0
          ? b.call(f)[f.length - 1].then(
              function () {
                var b = null,
                  c = this.messageArea.find(p.MESSAGE),
                  d = c.last(),
                  e = g[g.length - 1];
                a.each(g, function (a, b) {
                  b.remove();
                }),
                  d.data("id") === e.data("id") &&
                    (b = this.messageArea.find(p.MESSAGE).last()),
                  a.each(
                    g,
                    function (a, b) {
                      var c = b.data("blocktime");
                      0 ===
                        this.messageArea.find(
                          p.MESSAGE + "[data-blocktime='" + c + "']"
                        ).length &&
                        this.messageArea
                          .find(p.BLOCKTIME + "[data-blocktime='" + c + "']")
                          .remove();
                    }.bind(this)
                  ),
                  0 === this.messageArea.find(p.MESSAGE).length &&
                    this.messageArea
                      .find(
                        p.CONVERSATIONS +
                          " " +
                          p.CONTACT +
                          "[data-userid='" +
                          this._getUserId() +
                          "']"
                      )
                      .remove(),
                  this.messageArea.trigger(k.MESSAGESDELETED, [
                    this._getUserId(),
                    b,
                  ]);
              }.bind(this),
              d.exception
            )
          : this.messageArea.trigger(k.MESSAGESDELETED, this._getUserId()),
        this._hideDeleteAction();
    }),
    (m.prototype._addScrollEventListener = function (a) {
      this._scrollBottom(),
        (this._numMessagesDisplayed = a),
        e.define(this.messageArea.find(p.MESSAGES), [e.events.scrollTop]),
        this.messageArea.onCustomEvent(
          e.events.scrollTop,
          this._loadMessages.bind(this)
        );
    }),
    (m.prototype._deleteAllMessages = function () {
      this._confirmationModal
        ? this._confirmationModal.show()
        : j
            .get_strings([
              { key: "confirm" },
              { key: "deleteallconfirm", component: "message" },
            ])
            .done(
              function (a) {
                h.create(
                  { title: a[0], type: h.types.CONFIRM, body: a[1] },
                  this.messageArea.find(p.DELETEALLMESSAGES)
                ).done(
                  function (a) {
                    (this._confirmationModal = a),
                      a.getRoot().on(
                        i.yes,
                        function () {
                          var a = this._getUserId(),
                            c = {
                              methodname: "core_message_delete_conversation",
                              args: {
                                userid: this.messageArea.getCurrentUserId(),
                                otheruserid: a,
                              },
                            };
                          b.call([c])[0].then(
                            function () {
                              this.messageArea.find(p.MESSAGESAREA).empty(),
                                this.messageArea.trigger(
                                  k.CONVERSATIONDELETED,
                                  a
                                ),
                                this._hideDeleteAction();
                            }.bind(this),
                            d.exception
                          );
                        }.bind(this)
                      ),
                      a.show();
                  }.bind(this)
                );
              }.bind(this)
            );
    }),
    (m.prototype._hideDeleteAction = function () {
      this.messageArea
        .find(p.MESSAGE)
        .removeAttr("role")
        .removeAttr("aria-checked"),
        this.messageArea.find(p.MESSAGESAREA).removeClass("editing");
    }),
    (m.prototype._triggerCancelMessagesToDelete = function () {
      this.messageArea.trigger(k.CANCELDELETEMESSAGES);
    }),
    (m.prototype._addMessagesToDom = function (b, d) {
      var e = 0,
        f = this.messageArea.find(p.MESSAGES);
      return (
        (b = b.filter(
          function (a) {
            var b = "" + a.id + a.isread;
            if (this._messageQueue[b]) return !1;
            var c = f.find(p.MESSAGE + '[data-id="' + b + '"]');
            return c.length || (this._messageQueue[b] = !0), !c.length;
          }.bind(this)
        )),
        (e = b.length),
        c.render("core_message/message_area_messages", { messages: b }).then(
          function (b, f) {
            if (e > 0) {
              var g = a("<div>" + b + "</div>");
              this._hasMatchingBlockTime(this.messageArea.node, g, !1) &&
                g.find(p.BLOCKTIME + ":first").remove(),
                c.appendNodeContents(this.messageArea.find(p.MESSAGES), g, f),
                d && this._scrollBottom(),
                (this._numMessagesDisplayed += e),
                this._backoffTimer.restart();
            }
          }.bind(this)
        )
      );
    }),
    (m.prototype._addLastMessageToDom = function () {
      var a = b.call([
        {
          methodname:
            "core_message_data_for_messagearea_get_most_recent_message",
          args: {
            currentuserid: this.messageArea.getCurrentUserId(),
            otheruserid: this._getUserId(),
          },
        },
      ]);
      return a[0]
        .then(
          function (a) {
            return this._addMessagesToDom([a], !0);
          }.bind(this)
        )
        .always(
          function () {
            this.messageArea.find(p.SENDMESSAGETEXT).val("").trigger("input");
          }.bind(this)
        )
        .fail(d.exception);
    }),
    (m.prototype._getUserId = function () {
      return this.messageArea.find(p.MESSAGES).data("userid");
    }),
    (m.prototype._scrollBottom = function () {
      var a = this.messageArea.find(p.MESSAGES);
      0 !== a.length && a.scrollTop(a[0].scrollHeight);
    }),
    (m.prototype._selectPreviousMessage = function (b, c) {
      var d = a(b.target).closest(p.MESSAGE);
      do d = d.prev();
      while (d.length && !d.is(p.MESSAGE));
      d.focus(),
        c.originalEvent.preventDefault(),
        c.originalEvent.stopPropagation();
    }),
    (m.prototype._selectNextMessage = function (b, c) {
      var d = a(b.target).closest(p.MESSAGE);
      do d = d.next();
      while (d.length && !d.is(p.MESSAGE));
      d.focus(),
        c.originalEvent.preventDefault(),
        c.originalEvent.stopPropagation();
    }),
    (m.prototype._setMessaging = function (b) {
      a(b.target).closest(p.MESSAGERESPONSE).addClass("messaging");
    }),
    (m.prototype._clearMessaging = function (b) {
      a(b.target).closest(p.MESSAGERESPONSE).removeClass("messaging");
    }),
    (m.prototype._startDeleting = function (a) {
      var b = new g(this.messageArea);
      b.chooseMessagesToDelete(), a.preventDefault();
    }),
    (m.prototype._isEditing = function () {
      return this.messageArea.find(p.MESSAGESAREA).hasClass("editing");
    }),
    (m.prototype._toggleMessage = function (b) {
      if (this._isEditing()) {
        var c = a(b.target).closest(p.MESSAGE);
        "true" === c.attr("aria-checked")
          ? c.attr("aria-checked", "false")
          : c.attr("aria-checked", "true");
      }
    }),
    (m.prototype._adjustMessagesAreaHeight = function () {
      var a = this.messageArea.find(p.MESSAGES),
        b = this.messageArea.find(p.MESSAGERESPONSE),
        c = b.outerHeight(),
        d = c - o,
        e = n - d;
      a.outerHeight(e);
    }),
    (m.prototype._sendMessageHandler = function (a, b) {
      b.originalEvent.preventDefault(), this._sendMessage();
    }),
    (m.prototype._hideMessagingArea = function () {
      this.messageArea
        .find(p.MESSAGINGAREA)
        .removeClass("show-messages")
        .addClass("hide-messages");
    }),
    (m.prototype._hasMatchingBlockTime = function (a, b, c) {
      var d, e, f, g;
      return (
        c ? ((e = ":first"), (g = ":last")) : ((e = ":last"), (g = ":first")),
        (d = a.find(p.BLOCKTIME + e)),
        (f = b.find(p.BLOCKTIME + g)),
        !(!d.length || !f.length) && d.data("blocktime") == f.data("blocktime")
      );
    }),
    m
  );
});
define("core_message/message_area_profile", [
  "jquery",
  "core/ajax",
  "core/templates",
  "core/notification",
  "core/str",
  "core/config",
  "core/custom_interaction_events",
  "core_message/message_area_events",
], function (a, b, c, d, e, f, g, h) {
  function i(a) {
    (this.messageArea = a), this._init();
  }
  var j = {
    PROFILE: "[data-region='profile']",
    PROFILEADDCONTACT: "[data-action='profile-add-contact']",
    PROFILEBLOCKCONTACT: "[data-action='profile-block-contact']",
    PROFILEREMOVECONTACT: "[data-action='profile-remove-contact']",
    PROFILESENDMESSAGE: "[data-action='profile-send-message']",
    PROFILEUNBLOCKCONTACT: "[data-action='profile-unblock-contact']",
    PROFILEVIEW: "[data-action='profile-view']",
    SHOWCONTACTS: "[data-action='show-contacts']",
    MESSAGESAREA: "[data-region='messages-area']",
    MESSAGINGAREA: "[data-region='messaging-area']",
  };
  return (
    (i.prototype.messageArea = null),
    (i.prototype._init = function () {
      g.define(this.messageArea.node, [g.events.activate]),
        this.messageArea.onCustomEvent(
          h.CONTACTSELECTED,
          this._viewProfile.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          g.events.activate,
          j.PROFILEVIEW,
          function (a, b) {
            this._viewFullProfile(), b.originalEvent.preventDefault();
          }.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          g.events.activate,
          j.PROFILESENDMESSAGE,
          function (a, b) {
            this._sendMessage(), b.originalEvent.preventDefault();
          }.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          g.events.activate,
          j.PROFILEUNBLOCKCONTACT,
          function (a, b) {
            this._unblockContact(), b.originalEvent.preventDefault();
          }.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          g.events.activate,
          j.PROFILEBLOCKCONTACT,
          function (a, b) {
            this._blockContact(), b.originalEvent.preventDefault();
          }.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          g.events.activate,
          j.PROFILEADDCONTACT,
          function (a, b) {
            this._addContact(), b.originalEvent.preventDefault();
          }.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          g.events.activate,
          j.PROFILEREMOVECONTACT,
          function (a, b) {
            this._removeContact(), b.originalEvent.preventDefault();
          }.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          g.events.activate,
          j.SHOWCONTACTS,
          this._hideMessagingArea.bind(this)
        );
    }),
    (i.prototype._viewProfile = function (a, e) {
      c.render("core/loading", {}).done(
        function (a, b) {
          c.replaceNodeContents(this.messageArea.find(j.MESSAGESAREA), a, b);
        }.bind(this)
      );
      var f = b.call([
        {
          methodname: "core_message_data_for_messagearea_get_profile",
          args: {
            currentuserid: this.messageArea.getCurrentUserId(),
            otheruserid: e,
          },
        },
      ]);
      return f[0]
        .then(function (a) {
          return c.render("core_message/message_area_profile", a);
        })
        .then(
          function (a, b) {
            c.replaceNodeContents(this.messageArea.find(j.MESSAGESAREA), a, b);
          }.bind(this)
        )
        .fail(d.exception);
    }),
    (i.prototype._viewFullProfile = function () {
      window.location.href =
        f.wwwroot + "/user/profile.php?id=" + this._getUserId();
    }),
    (i.prototype._sendMessage = function () {
      this.messageArea.trigger(h.SENDMESSAGE, this._getUserId());
    }),
    (i.prototype._blockContact = function () {
      var a = this._performAction(
        "core_message_block_contacts",
        "unblockcontact",
        "profile-block-contact",
        "profile-unblock-contact",
        ""
      );
      return a.then(
        function () {
          this.messageArea.trigger(h.CONTACTBLOCKED, this._getUserId());
        }.bind(this)
      );
    }),
    (i.prototype._unblockContact = function () {
      var a = this._performAction(
        "core_message_unblock_contacts",
        "blockcontact",
        "profile-unblock-contact",
        "profile-block-contact",
        "danger"
      );
      return a.then(
        function () {
          this.messageArea.trigger(h.CONTACTUNBLOCKED, this._getUserId());
        }.bind(this)
      );
    }),
    (i.prototype._addContact = function () {
      var a = this._performAction(
        "core_message_create_contacts",
        "removecontact",
        "profile-add-contact",
        "profile-remove-contact",
        "danger"
      );
      return a.then(
        function () {
          this.messageArea.trigger(h.CONTACTADDED, this._getUserId());
        }.bind(this)
      );
    }),
    (i.prototype._removeContact = function () {
      var a = this._performAction(
        "core_message_delete_contacts",
        "addcontact",
        "profile-remove-contact",
        "profile-add-contact",
        ""
      );
      return a.then(
        function () {
          this.messageArea.trigger(h.CONTACTREMOVED, this._getUserId());
        }.bind(this)
      );
    }),
    (i.prototype._performAction = function (a, c, f, g, h) {
      var i = b.call([
        {
          methodname: a,
          args: {
            userid: this.messageArea.getCurrentUserId(),
            userids: [this._getUserId()],
          },
        },
      ]);
      return i[0]
        .then(function () {
          return e.get_string(c, "message");
        })
        .then(
          function (a) {
            this._changeText(a, f, g, h);
          }.bind(this)
        )
        .fail(d.exception);
    }),
    (i.prototype._changeText = function (a, b, c, d) {
      var e = this.messageArea.find("[data-action='" + b + "']");
      e.text(a), e.removeClass(), d && e.addClass(d), e.attr("data-action", c);
    }),
    (i.prototype._getUserId = function () {
      return this.messageArea.find(j.PROFILE).data("userid");
    }),
    (i.prototype._hideMessagingArea = function () {
      this.messageArea
        .find(j.MESSAGINGAREA)
        .removeClass("show-messages")
        .addClass("hide-messages");
    }),
    i
  );
});
define("core_message/message_area_search", [
  "jquery",
  "core/ajax",
  "core/templates",
  "core/notification",
  "core/str",
  "core/custom_interaction_events",
  "core_message/message_area_events",
], function (a, b, c, d, e, f, g) {
  function h(a) {
    (this.messageArea = a), this._init();
  }
  var i = {
    CONTACTS: "[data-region='contacts'][data-region-content='contacts']",
    CONTACTSAREA: "[data-region='contacts-area']",
    CONVERSATIONS:
      "[data-region='contacts'][data-region-content='conversations']",
    DELETESEARCHFILTER: "[data-region='search-filter-area']",
    LOADINGICON: ".loading-icon",
    SEARCHBOX: "[data-region='search-box']",
    SEARCHFILTER: "[data-region='search-filter']",
    SEARCHFILTERAREA: "[data-region='search-filter-area']",
    SEARCHRESULTSAREA: "[data-region='search-results-area']",
    SEARCHTEXTAREA: "[data-region='search-text-area']",
    SEARCHUSERSINCOURSE: "[data-action='search-users-in-course']",
  };
  return (
    (h.prototype.messageArea = null),
    (h.prototype._searchArea = null),
    (h.prototype._courseid = null),
    (h.prototype._isLoading = !1),
    (h.prototype._numMessagesDisplayed = 0),
    (h.prototype._numMessagesToRetrieve = 20),
    (h.prototype._numUsersDisplayed = 0),
    (h.prototype._numUsersToRetrieve = 20),
    (h.prototype._searchAreas = {
      MESSAGES: "messages",
      USERS: "users",
      USERSINCOURSE: "usersincourse",
    }),
    (h.prototype._requestTimeout = null),
    (h.prototype._init = function () {
      this.messageArea
        .find(i.SEARCHTEXTAREA)
        .on("input", this._searchRequest.bind(this)),
        this.messageArea.onDelegateEvent(
          f.events.activate,
          i.SEARCHUSERSINCOURSE,
          function (b) {
            this._setFilter(a(b.currentTarget).html()),
              this._setPlaceholderText("searchforuser"),
              this._clearSearchArea(),
              (this._searchArea = this._searchAreas.USERSINCOURSE),
              (this._courseid = a(b.currentTarget).data("courseid")),
              this._searchUsersInCourse(),
              this.messageArea.find(i.SEARCHBOX).focus();
          }.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          f.events.activate,
          i.DELETESEARCHFILTER,
          function () {
            this._hideSearchResults(),
              (this._searchArea = this._searchAreas.USERS),
              this._setPlaceholderText("searchforuserorcourse"),
              this.messageArea.trigger(g.USERSSEARCHCANCELED),
              this.messageArea.find(i.SEARCHBOX).focus();
          }.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CONVERSATIONSSELECTED,
          function () {
            this._hideSearchResults(),
              (this._searchArea = this._searchAreas.MESSAGES),
              this._setPlaceholderText("searchmessages");
          }.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.CONTACTSSELECTED,
          function () {
            this._hideSearchResults(),
              (this._searchArea = this._searchAreas.USERS),
              this._setPlaceholderText("searchforuserorcourse");
          }.bind(this)
        ),
        this.messageArea.onCustomEvent(
          g.MESSAGESENT,
          function () {
            this._hideSearchResults(),
              (this._searchArea = this._searchAreas.MESSAGES),
              this._setPlaceholderText("searchmessages");
          }.bind(this)
        ),
        f.define(this.messageArea.find(i.SEARCHRESULTSAREA), [
          f.events.scrollBottom,
        ]),
        this.messageArea.onDelegateEvent(
          f.events.scrollBottom,
          i.SEARCHRESULTSAREA,
          function () {
            this._searchArea == this._searchAreas.MESSAGES
              ? this._searchMessages()
              : this._searchArea == this._searchAreas.USERSINCOURSE &&
                this._searchUsersInCourse();
          }.bind(this)
        ),
        (this._searchArea = this.messageArea.showContactsFirst()
          ? this._searchAreas.USERS
          : this._searchAreas.MESSAGES);
    }),
    (h.prototype._searchRequest = function () {
      var a = this.messageArea.find(i.SEARCHTEXTAREA + " input").val();
      return (
        this._requestTimeout && clearTimeout(this._requestTimeout),
        "" === a.trim()
          ? void (this._searchArea == this._searchAreas.MESSAGES
              ? (this._hideSearchResults(),
                this.messageArea.trigger(g.MESSAGESEARCHCANCELED))
              : this._searchArea == this._searchAreas.USERS
              ? (this._hideSearchResults(),
                this.messageArea.trigger(g.USERSSEARCHCANCELED))
              : this._searchArea == this._searchAreas.USERSINCOURSE &&
                (this._clearSearchArea(), this._searchUsersInCourse()))
          : (this.messageArea.find(i.CONVERSATIONS).hide(),
            this.messageArea.find(i.CONTACTS).hide(),
            this.messageArea.find(i.SEARCHRESULTSAREA).show(),
            void (this._searchArea == this._searchAreas.MESSAGES
              ? (this._requestTimeout = setTimeout(
                  function () {
                    this._clearSearchArea(),
                      (this._numMessagesDisplayed = 0),
                      this._searchMessages();
                  }.bind(this),
                  300
                ))
              : this._searchArea == this._searchAreas.USERSINCOURSE
              ? (this._requestTimeout = setTimeout(
                  function () {
                    this._clearSearchArea(),
                      (this._numUsersDisplayed = 0),
                      this._searchUsersInCourse();
                  }.bind(this),
                  300
                ))
              : (this._requestTimeout = setTimeout(
                  function () {
                    this._clearSearchArea(),
                      (this._numUsersDisplayed = 0),
                      this._searchUsers();
                  }.bind(this),
                  300
                ))))
      );
    }),
    (h.prototype._searchMessages = function () {
      if (this._isLoading) return !1;
      var a = this.messageArea.find(i.SEARCHBOX).val();
      this._isLoading = !0;
      var e = b.call([
          {
            methodname: "core_message_data_for_messagearea_search_messages",
            args: {
              userid: this.messageArea.getCurrentUserId(),
              search: a,
              limitfrom: this._numMessagesDisplayed,
              limitnum: this._numMessagesToRetrieve,
            },
          },
        ]),
        f = 0;
      return c
        .render("core/loading", {})
        .then(
          function (a, b) {
            return (
              c.appendNodeContents(
                this.messageArea.find(i.SEARCHRESULTSAREA),
                "<div style='text-align:center'>" + a + "</div>",
                b
              ),
              e[0]
            );
          }.bind(this)
        )
        .then(function (a) {
          return (
            (f = a.contacts.length),
            c.render("core_message/message_area_message_search_results", a)
          );
        })
        .then(
          function (a, b) {
            this.messageArea
              .find(i.SEARCHRESULTSAREA + " " + i.LOADINGICON)
              .remove(),
              f > 0
                ? (c.appendNodeContents(
                    this.messageArea.find(i.SEARCHRESULTSAREA),
                    a,
                    b
                  ),
                  (this._numMessagesDisplayed += f))
                : 0 == this._numMessagesDisplayed &&
                  c.replaceNodeContents(
                    this.messageArea.find(i.SEARCHRESULTSAREA),
                    a,
                    b
                  ),
              (this._isLoading = !1);
          }.bind(this)
        )
        .fail(d.exception);
    }),
    (h.prototype._searchUsers = function () {
      var a = this.messageArea.find(i.SEARCHBOX).val(),
        e = b.call([
          {
            methodname: "core_message_data_for_messagearea_search_users",
            args: {
              userid: this.messageArea.getCurrentUserId(),
              search: a,
              limitnum: this._numUsersToRetrieve,
            },
          },
        ]);
      return c
        .render("core/loading", {})
        .then(
          function (a, b) {
            return (
              c.replaceNodeContents(
                this.messageArea.find(i.SEARCHRESULTSAREA),
                "<div style='text-align:center'>" + a + "</div>",
                b
              ),
              e[0]
            );
          }.bind(this)
        )
        .then(function (a) {
          return (
            a.contacts.length > 0 && (a.hascontacts = !0),
            a.courses.length > 0 && (a.hascourses = !0),
            a.noncontacts.length > 0 && (a.hasnoncontacts = !0),
            c.render("core_message/message_area_user_search_results", a)
          );
        })
        .then(
          function (a, b) {
            c.replaceNodeContents(
              this.messageArea.find(i.SEARCHRESULTSAREA),
              a,
              b
            );
          }.bind(this)
        )
        .fail(d.exception);
    }),
    (h.prototype._searchUsersInCourse = function () {
      if (this._isLoading) return !1;
      var a = this.messageArea.find(i.SEARCHBOX).val();
      this._isLoading = !0;
      var e = b.call([
          {
            methodname:
              "core_message_data_for_messagearea_search_users_in_course",
            args: {
              userid: this.messageArea.getCurrentUserId(),
              courseid: this._courseid,
              search: a,
              limitfrom: this._numUsersDisplayed,
              limitnum: this._numUsersToRetrieve,
            },
          },
        ]),
        f = 0;
      return c
        .render("core/loading", {})
        .then(
          function (a, b) {
            return (
              c.appendNodeContents(
                this.messageArea.find(i.SEARCHRESULTSAREA),
                "<div style='text-align:center'>" + a + "</div>",
                b
              ),
              e[0]
            );
          }.bind(this)
        )
        .then(function (a) {
          return (
            (f = a.contacts.length),
            f > 0 && (a.hascontacts = !0),
            c.render("core_message/message_area_user_search_results", a)
          );
        })
        .then(
          function (a, b) {
            this.messageArea
              .find(i.SEARCHRESULTSAREA + " " + i.LOADINGICON)
              .remove(),
              f > 0
                ? (c.appendNodeContents(
                    this.messageArea.find(i.SEARCHRESULTSAREA),
                    a,
                    b
                  ),
                  (this._numUsersDisplayed += f))
                : 0 == this._numUsersDisplayed &&
                  c.replaceNodeContents(
                    this.messageArea.find(i.SEARCHRESULTSAREA),
                    a,
                    b
                  ),
              (this._isLoading = !1);
          }.bind(this)
        )
        .fail(d.exception);
    }),
    (h.prototype._setPlaceholderText = function (a) {
      return e.get_string(a, "message").then(
        function (a) {
          this.messageArea
            .find(i.SEARCHTEXTAREA + " input")
            .attr("placeholder", a);
        }.bind(this)
      );
    }),
    (h.prototype._setFilter = function (a) {
      this.messageArea.find(i.SEARCHBOX).val(""),
        this.messageArea.find(i.CONTACTSAREA).addClass("searchfilter"),
        this.messageArea.find(i.SEARCHFILTERAREA).show(),
        this.messageArea.find(i.SEARCHFILTER).html(a),
        e.get_string("removecoursefilter", "message", a).then(
          function (a) {
            this.messageArea.find(i.SEARCHFILTERAREA).attr("aria-label", a);
          }.bind(this)
        );
    }),
    (h.prototype._clearFilters = function () {
      this.messageArea.find(i.CONTACTSAREA).removeClass("searchfilter"),
        this.messageArea.find(i.SEARCHFILTER).empty(),
        this.messageArea.find(i.SEARCHFILTERAREA).hide(),
        this.messageArea.find(i.SEARCHFILTERAREA).removeAttr("aria-label");
    }),
    (h.prototype._clearSearchArea = function () {
      this.messageArea.find(i.SEARCHRESULTSAREA).empty();
    }),
    (h.prototype._hideSearchResults = function () {
      this._clearFilters(),
        this.messageArea.find(i.SEARCHTEXTAREA + " input").val(""),
        this._clearSearchArea(),
        this.messageArea.find(i.SEARCHRESULTSAREA).hide();
    }),
    h
  );
});
define("core_message/message_area_tabs", [
  "core/custom_interaction_events",
  "core_message/message_area_events",
], function (a, b) {
  function c(a) {
    (this.messageArea = a), this._init();
  }
  var d = {
    ACTIVECONTACTSTAB:
      "[data-region='contacts-area'] [role='tab'][aria-selected='true']",
    CONTACTSPANELS: "[data-region='contacts']",
    VIEWCONTACTS: "[data-action='contacts-view']",
    VIEWCONVERSATIONS: "[data-action='conversations-view']",
  };
  return (
    (c.prototype.messageArea = null),
    (c.prototype._init = function () {
      a.define(this.messageArea.node, [
        a.events.activate,
        a.events.up,
        a.events.down,
        a.events.next,
        a.events.previous,
        a.events.ctrlPageUp,
        a.events.ctrlPageDown,
      ]),
        this.messageArea.onDelegateEvent(
          a.events.activate,
          d.VIEWCONVERSATIONS,
          this._viewConversations.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          a.events.activate,
          d.VIEWCONTACTS,
          this._viewContacts.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          a.events.up,
          d.VIEWCONVERSATIONS,
          this._toggleTabs.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          a.events.down,
          d.VIEWCONVERSATIONS,
          this._toggleTabs.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          a.events.next,
          d.VIEWCONVERSATIONS,
          this._toggleTabs.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          a.events.previous,
          d.VIEWCONVERSATIONS,
          this._toggleTabs.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          a.events.up,
          d.VIEWCONTACTS,
          this._toggleTabs.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          a.events.down,
          d.VIEWCONTACTS,
          this._toggleTabs.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          a.events.next,
          d.VIEWCONTACTS,
          this._toggleTabs.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          a.events.previous,
          d.VIEWCONTACTS,
          this._toggleTabs.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          a.events.ctrlPageUp,
          d.CONTACTSPANELS,
          this._toggleTabs.bind(this)
        ),
        this.messageArea.onDelegateEvent(
          a.events.ctrlPageDown,
          d.CONTACTSPANELS,
          this._toggleTabs.bind(this)
        ),
        this.messageArea.onCustomEvent(
          b.MESSAGESENT,
          function () {
            this._selectTab(d.VIEWCONVERSATIONS, d.VIEWCONTACTS);
          }.bind(this)
        );
    }),
    (c.prototype._viewConversations = function () {
      this.messageArea.trigger(b.CONVERSATIONSSELECTED),
        this._selectTab(d.VIEWCONVERSATIONS, d.VIEWCONTACTS);
    }),
    (c.prototype._viewContacts = function () {
      this.messageArea.trigger(b.CONTACTSSELECTED),
        this._selectTab(d.VIEWCONTACTS, d.VIEWCONVERSATIONS);
    }),
    (c.prototype._selectTab = function (a, b) {
      (b = this.messageArea.find(b)),
        b.removeClass("selected"),
        b.attr("aria-selected", "false"),
        b.attr("tabindex", "-1"),
        (a = this.messageArea.find(a)),
        a.addClass("selected"),
        a.attr("aria-selected", "true"),
        a.attr("tabindex", "0");
    }),
    (c.prototype._toggleTabs = function (a, b) {
      var c = this.messageArea.find(d.ACTIVECONTACTSTAB);
      c.is(d.VIEWCONVERSATIONS)
        ? this._viewContacts()
        : this._viewConversations(),
        this.messageArea.find(d.ACTIVECONTACTSTAB).focus(),
        a.preventDefault(),
        a.stopPropagation(),
        b.originalEvent.preventDefault(),
        b.originalEvent.stopPropagation();
    }),
    c
  );
});
define("core_message/message_notification_preference", [
  "jquery",
  "core_message/notification_preference",
], function (a, b) {
  var c = { PREFERENCE_KEY: "[data-preference-key]" },
    d = function (a, c) {
      b.call(this, a, c);
    };
  return (
    (d.prototype = Object.create(b.prototype)),
    (d.prototype.constructor = d),
    (d.prototype.getPreferenceKey = function () {
      return this.root.find(c.PREFERENCE_KEY).attr("data-preference-key");
    }),
    d
  );
});
define("core_message/message_preferences", [
  "jquery",
  "core/ajax",
  "core/notification",
  "core_message/message_notification_preference",
  "core/custom_interaction_events",
], function (a, b, c, d, e) {
  var f = {
      PREFERENCE: "[data-state]",
      PREFERENCES_CONTAINER: '[data-region="preferences-container"]',
      BLOCK_NON_CONTACTS:
        '[data-region="block-non-contacts-container"] [data-block-non-contacts]',
      BLOCK_NON_CONTACTS_CONTAINER:
        '[data-region="block-non-contacts-container"]',
    },
    g = function (b) {
      (this.root = a(b)), this.registerEventListeners();
    };
  return (
    (g.prototype.preferencesDisabled = function () {
      return this.root.find(f.PREFERENCES_CONTAINER).hasClass("disabled");
    }),
    (g.prototype.saveBlockNonContactsStatus = function () {
      var d = this.root.find(f.BLOCK_NON_CONTACTS),
        e = this.root.find(f.BLOCK_NON_CONTACTS_CONTAINER),
        g = d.prop("checked");
      if (e.hasClass("loading")) return a.Deferred().resolve();
      e.addClass("loading");
      var h = {
        methodname: "core_user_update_user_preferences",
        args: {
          preferences: [
            { type: d.attr("data-preference-key"), value: g ? 1 : 0 },
          ],
        },
      };
      return b
        .call([h])[0]
        .fail(c.exception)
        .always(function () {
          e.removeClass("loading");
        });
    }),
    (g.prototype.registerEventListeners = function () {
      e.define(this.root, [e.events.activate]),
        this.root.on(
          e.events.activate,
          f.BLOCK_NON_CONTACTS,
          function () {
            this.saveBlockNonContactsStatus();
          }.bind(this)
        ),
        this.root.on(
          "change",
          function (b) {
            if (!this.preferencesDisabled()) {
              var c = a(b.target).closest(f.PREFERENCES_CONTAINER),
                e = a(b.target).closest(f.PREFERENCE),
                g = new d(c);
              e.addClass("loading"),
                g.save().always(function () {
                  e.removeClass("loading");
                });
            }
          }.bind(this)
        );
    }),
    g
  );
});
define("core_message/message_repository", [
  "jquery",
  "core/ajax",
  "core/notification",
], function (a, b, c) {
  var d = function (a) {
      "undefined" == typeof a.limit && (a.limit = 0),
        "undefined" == typeof a.offset && (a.offset = 0),
        (a.limitfrom = a.offset),
        (a.limitnum = a.limit),
        delete a.limit,
        delete a.offset;
      var d = {
          methodname: "core_message_data_for_messagearea_conversations",
          args: a,
        },
        e = b.call([d])[0];
      return e.fail(c.exception), e;
    },
    e = function (a) {
      var d = {
          methodname: "core_message_get_unread_conversations_count",
          args: a,
        },
        e = b.call([d])[0];
      return e.fail(c.exception), e;
    },
    f = function (a) {
      var d = { methodname: "core_message_mark_all_messages_as_read", args: a },
        e = b.call([d])[0];
      return e.fail(c.exception), e;
    };
  return { query: d, countUnreadConversations: e, markAllAsRead: f };
});
define("core_message/notification_preference", [
  "jquery",
  "core/ajax",
  "core/notification",
  "core_message/notification_processor",
], function (a, b, c, d) {
  var e = {
      PROCESSOR: "[data-processor-name]",
      STATE_INPUTS: "[data-state] input",
    },
    f = function (b, c) {
      (this.root = a(b)), (this.userId = c);
    };
  return (
    (f.prototype.getPreferenceKey = function () {
      return this.root.attr("data-preference-key");
    }),
    (f.prototype.getLoggedInPreferenceKey = function () {
      return this.getPreferenceKey() + "_loggedin";
    }),
    (f.prototype.getLoggedOffPreferenceKey = function () {
      return this.getPreferenceKey() + "_loggedoff";
    }),
    (f.prototype.getProcessors = function () {
      return this.root.find(e.PROCESSOR).map(function (b, c) {
        return new d(a(c));
      });
    }),
    (f.prototype.startLoading = function () {
      this.root.addClass("loading"),
        this.root.find(e.STATE_INPUTS).prop("disabled", !0);
    }),
    (f.prototype.stopLoading = function () {
      this.root.removeClass("loading"),
        this.root.find(e.STATE_INPUTS).prop("disabled", !1);
    }),
    (f.prototype.isLoading = function () {
      return this.root.hasClass("loading");
    }),
    (f.prototype.save = function () {
      if (this.isLoading()) return a.Deferred().resolve();
      this.startLoading();
      var d = "",
        e = "";
      this.getProcessors().each(function (a, b) {
        b.isLoggedInEnabled() &&
          ("" === d ? (d = b.getName()) : (d += "," + b.getName())),
          b.isLoggedOffEnabled() &&
            ("" === e ? (e = b.getName()) : (e += "," + b.getName()));
      }),
        "" === d && (d = "none"),
        "" === e && (e = "none");
      var f = {
          userid: this.userId,
          preferences: [
            { type: this.getLoggedInPreferenceKey(), value: d },
            { type: this.getLoggedOffPreferenceKey(), value: e },
          ],
        },
        g = { methodname: "core_user_update_user_preferences", args: f };
      return b
        .call([g])[0]
        .fail(c.exception)
        .always(
          function () {
            this.stopLoading();
          }.bind(this)
        );
    }),
    f
  );
});
define("core_message/notification_processor", ["jquery"], function (a) {
  var b = {
      STATE_NONE: '[data-state="none"]',
      STATE_BOTH: '[data-state="both"]',
      STATE_LOGGED_IN: '[data-state="loggedin"]',
      STATE_LOGGED_OFF: '[data-state="loggedoff"]',
    },
    c = function (b) {
      this.root = a(b);
    };
  return (
    (c.prototype.getName = function () {
      return this.root.attr("data-processor-name");
    }),
    (c.prototype.isLoggedInEnabled = function () {
      var a = this.root.find(b.STATE_NONE).find("input");
      if (a.prop("checked")) return !1;
      var c = this.root.find(b.STATE_BOTH).find("input"),
        d = this.root.find(b.STATE_LOGGED_IN).find("input");
      return d.prop("checked") || c.prop("checked");
    }),
    (c.prototype.isLoggedOffEnabled = function () {
      var a = this.root.find(b.STATE_NONE).find("input");
      if (a.prop("checked")) return !1;
      var c = this.root.find(b.STATE_BOTH).find("input"),
        d = this.root.find(b.STATE_LOGGED_OFF).find("input");
      return d.prop("checked") || c.prop("checked");
    }),
    c
  );
});
define("core_message/notification_processor_settings", [
  "jquery",
  "core/ajax",
  "core/notification",
  "core/fragment",
  "core/templates",
  "core/str",
  "tool_lp/dialogue",
], function (a, b, c, d, e, f, g) {
  var h = {
      PROCESSOR: "[data-processor-name]",
      PREFERENCE_ROW: '[data-region="preference-row"]',
    },
    i = function (b) {
      (this.root = a(b)),
        (this.name = this.root.attr("data-name")),
        (this.userId = this.root.attr("data-user-id")),
        (this.contextId = this.root.attr("data-context-id"));
    };
  return (
    (i.prototype.show = function () {
      d.loadFragment("message", "processor_settings", this.contextId, {
        userid: this.userId,
        type: this.name,
      }).done(
        function (b, c) {
          f.get_string("processorsettings", "message").done(
            function (d) {
              var f = new g(
                d,
                b,
                function () {
                  e.runTemplateJS(c);
                },
                function () {
                  f.close();
                }
              );
              a(document).on(
                "mpp:formsubmitted",
                function () {
                  f.close(), this.updateConfiguredStatus();
                }.bind(this)
              ),
                a(document).on("mpp:formcancelled", function () {
                  f.close();
                });
            }.bind(this)
          );
        }.bind(this)
      );
    }),
    (i.prototype.updateConfiguredStatus = function () {
      var d = this.root.closest(h.PROCESSOR);
      if (!d.hasClass("unconfigured")) return !1;
      var e = d.attr("data-processor-name"),
        f = {
          methodname: "core_message_get_message_processor",
          args: { name: e, userid: this.userId },
        };
      return b
        .call([f])[0]
        .fail(c.exception)
        .done(function (b) {
          if (b.userconfigured) {
            var c = a(h.PREFERENCE_ROW + ' [data-processor-name="' + e + '"]');
            d.removeClass("unconfigured"), c.removeClass("disabled");
          }
        });
    }),
    i
  );
});
define("core_message/preferences_notifications_list_controller", [
  "jquery",
  "core/ajax",
  "core/notification",
  "core/custom_interaction_events",
  "core_message/notification_preference",
  "core_message/notification_processor_settings",
], function (a, b, c, d, e, f) {
  var g = {
      DISABLE_NOTIFICATIONS:
        '[data-region="disable-notification-container"] [data-disable-notifications]',
      DISABLE_NOTIFICATIONS_CONTAINER:
        '[data-region="disable-notification-container"]',
      PREFERENCE: "[data-state]",
      PREFERENCE_ROW: '[data-region="preference-row"]',
      PREFERENCE_INPUT: "[data-state] input",
      PROCESSOR_SETTING: "[data-processor-setting]",
    },
    h = function (b) {
      (this.root = a(b)),
        (this.userId = this.root.attr("data-user-id")),
        this.registerEventListeners();
    };
  return (
    (h.prototype.isDisabled = function () {
      return this.root.hasClass("disabled");
    }),
    (h.prototype.setDisabled = function () {
      this.root.addClass("disabled"),
        this.root.find(g.PREFERENCE_INPUT).prop("disabled", !0);
    }),
    (h.prototype.setEnabled = function () {
      this.root.removeClass("disabled"),
        this.root.find(g.PREFERENCE_INPUT).prop("disabled", !1);
    }),
    (h.prototype.toggleDisableAllStatus = function () {
      var d = a(g.DISABLE_NOTIFICATIONS),
        e = a(g.DISABLE_NOTIFICATIONS_CONTAINER),
        f = d.prop("checked");
      if (e.hasClass("loading")) return a.Deferred().resolve();
      e.addClass("loading");
      var h = {
        methodname: "core_user_update_user_preferences",
        args: { userid: this.userId, emailstop: f ? 1 : 0 },
      };
      return b
        .call([h])[0]
        .done(
          function () {
            f ? this.setDisabled() : this.setEnabled();
          }.bind(this)
        )
        .always(function () {
          e.removeClass("loading");
        })
        .fail(c.exception);
    }),
    (h.prototype.registerEventListeners = function () {
      var b = a(g.DISABLE_NOTIFICATIONS);
      d.define(this.root, [d.events.activate]),
        this.root.on(
          "change",
          function (b) {
            if (!this.isDisabled()) {
              var c = a(b.target).closest(g.PREFERENCE),
                d = a(b.target).closest(g.PREFERENCE_ROW),
                f = new e(d, this.userId);
              c.addClass("loading"),
                f.save().always(function () {
                  c.removeClass("loading");
                });
            }
          }.bind(this)
        ),
        this.root.on(d.events.activate, g.PROCESSOR_SETTING, function (b, c) {
          var d = a(b.target).closest(g.PROCESSOR_SETTING),
            e = new f(d);
          e.show(), c.originalEvent.preventDefault();
        }),
        d.define(b, [d.events.activate]),
        b.on(
          d.events.activate,
          function () {
            this.toggleDisableAllStatus();
          }.bind(this)
        );
    }),
    h
  );
});
define("core_message/preferences_processor_form", [
  "jquery",
  "core/ajax",
  "core/notification",
  "core/custom_interaction_events",
], function (a, b, c, d) {
  var e = function (b) {
    (this.root = a(b)),
      (this.userId = this.root.attr("data-user-id")),
      (this.name = this.root.attr("data-processor-name")),
      this.root.find("form").on(
        "submit",
        function (b) {
          b.preventDefault(),
            this.save().done(function () {
              a(document).trigger("mpp:formsubmitted");
            });
        }.bind(this)
      );
    var c = this.root.find("[data-cancel-button]");
    d.define(c, [d.events.activate]),
      c.on(d.events.activate, function () {
        a(document).trigger("mpp:formcancelled");
      });
  };
  return (
    (e.prototype.startLoading = function () {
      this.root.addClass("loading");
    }),
    (e.prototype.stopLoading = function () {
      this.root.removeClass("loading");
    }),
    (e.prototype.isLoading = function () {
      return this.root.hasClass("loading");
    }),
    (e.prototype.save = function () {
      if (this.isLoading()) return a.Deferred();
      this.startLoading();
      var d = this.root.find("form").serializeArray(),
        e = {
          methodname: "core_message_message_processor_config_form",
          args: { userid: this.userId, name: this.name, formvalues: d },
        };
      return b
        .call([e])[0]
        .fail(c.exception)
        .always(
          function () {
            this.stopLoading();
          }.bind(this)
        );
    }),
    e
  );
});
define("core_message/toggle_contact_button", [
  "jquery",
  "core/ajax",
  "core/templates",
  "core/notification",
  "core/custom_interaction_events",
], function (a, b, c, d, e) {
  var f = function (a) {
      return "1" == a.attr("data-is-contact");
    },
    g = function (a) {
      a.attr("data-is-contact", "1");
    },
    h = function (a) {
      a.attr("data-is-contact", "0");
    },
    i = function (a) {
      return a.attr("data-userid");
    },
    j = function (a) {
      return a.hasClass("loading") || a.attr("disabled");
    },
    k = function (c, e) {
      return j(c)
        ? a.Deferred()
        : (c.addClass("loading"),
          c.attr("disabled", "disabled"),
          b
            .call([e])[0]
            .fail(d.exception)
            .always(function () {
              c.removeClass("loading"), c.removeAttr("disabled");
            }));
    },
    l = function (a) {
      if (!j(a)) {
        var b = {
          methodname: "core_message_create_contacts",
          args: { userids: [i(a)] },
        };
        k(a, b).done(function () {
          g(a),
            c.render("message/remove_contact_button", {}).done(function (b, d) {
              c.replaceNodeContents(a, b, d);
            });
        });
      }
    },
    m = function (a) {
      if (!j(a)) {
        var b = {
          methodname: "core_message_delete_contacts",
          args: { userids: [i(a)] },
        };
        k(a, b).done(function () {
          h(a),
            c.render("message/add_contact_button", {}).done(function (b, d) {
              c.replaceNodeContents(a, b, d);
            });
        });
      }
    },
    n = function (b) {
      (b = a(b)),
        b.children(".loading-icon").length ||
          c.render("core/loading", {}).done(function (a, c) {
            b.append(a, c);
          }),
        e.define(b, [e.events.activate]),
        b.on(e.events.activate, function (a, c) {
          f(b) ? m(b) : l(b),
            a.preventDefault(),
            c.originalEvent.preventDefault();
        });
    };
  return { enhance: n };
});
define("qtype_coderunner/aceinterface", ["jquery"], function (a) {
  function b(b, c) {
    var d = a(document.getElementById(b)),
      e = parseInt(d.css("height")),
      f = parseInt(d.css("width")),
      g = d[0] === document.activeElement;
    (this.HANDLE_SIZE = 6),
      (this.MIN_WIDTH = 300),
      (this.MIN_HEIGHT = 100),
      (this.editNode = a("<div></div>")),
      (this.wrapperNode = a(
        "<div id='" + b + "_wrapper' class='ace_wrapper'></div>"
      )),
      (this.editor = null),
      (this.contents_changed = !1),
      (this.hLast = e - this.HANDLE_SIZE),
      (this.wLast = f - this.HANDLE_SIZE),
      (this.textarea = d),
      (this.capturingTab = !0),
      (this.clickInProgress = !1),
      this.wrapperNode.css({
        resize: "both",
        overflow: "hidden",
        height: e,
        width: f,
        minWidth: this.MIN_WIDTH,
        minHeight: this.MIN_HEIGHT,
      }),
      this.editNode.css({
        resize: "none",
        height: e - this.HANDLE_SIZE,
        width: f - this.HANDLE_SIZE,
      }),
      d.after(this.wrapperNode),
      this.wrapperNode.append(this.editNode),
      (this.editor = window.ace.edit(this.editNode.get(0))),
      d.prop("readonly") && this.editor.setReadOnly(!0),
      this.editor.setOptions({
        enableBasicAutocompletion: !0,
        newLineMode: "unix",
      }),
      (this.editor.$blockScrolling = 1 / 0),
      this.reload(c),
      this.setEventHandlers(d),
      this.captureTab(),
      a(".ace_gutter").addClass("moodle-has-zindex"),
      d.hide(),
      g && (this.editor.focus(), this.editor.navigateFileEnd());
  }
  (b.prototype.captureTab = function () {
    (this.capturingTab = !0),
      this.editor.commands.bindKeys({ Tab: "indent", "Shift-Tab": "outdent" });
  }),
    (b.prototype.releaseTab = function () {
      (this.capturingTab = !1),
        this.editor.commands.bindKeys({ Tab: null, "Shift-Tab": null });
    }),
    (b.prototype.setEventHandlers = function () {
      var a = this.wrapperNode.parent(),
        b = 9,
        c = 27,
        d = 77;
      this.editor.getSession().on(
        "change",
        function () {
          this.textarea.val(this.editor.getSession().getValue()),
            (this.contents_changed = !0);
        }.bind(this)
      ),
        this.editor.on(
          "blur",
          function () {
            this.contents_changed && this.textarea.trigger("change");
          }.bind(this)
        ),
        (a.get(0).onmousemove = function () {
          var a = this.wrapperNode.outerHeight(),
            b = this.wrapperNode.outerWidth();
          (a == this.hLast && b == this.wLast) ||
            (this.editNode.outerHeight(a - this.HANDLE_SIZE),
            this.editNode.outerWidth(b - this.HANDLE_SIZE),
            this.editor.resize(),
            (this.hLast = a),
            (this.wLast = b));
        }.bind(this));
      var e = this;
      this.editor.on("mousedown", function () {
        e.clickInProgress = !0;
      }),
        this.editor.on("focus", function () {
          e.clickInProgress ? e.captureTab() : e.releaseTab();
        }),
        this.editor.on("click", function () {
          e.clickInProgress = !1;
        }),
        this.editor.container.addEventListener(
          "keydown",
          function (a) {
            (void 0 !== a.which && 0 === a.which) ||
              (a.keyCode === d && a.ctrlKey && !a.altKey
                ? (e.capturingTab ? e.releaseTab() : e.captureTab(),
                  a.preventDefault())
                : a.keyCode === c
                ? e.releaseTab()
                : a.shiftKey ||
                  a.ctrlKey ||
                  a.altKey ||
                  a.keyCode == b ||
                  e.captureTab());
          },
          !0
        );
    }),
    (b.prototype.close = function () {
      var a = this.editor.isFocused();
      this.textarea.val(this.editor.getSession().getValue()),
        this.editor.destroy(),
        this.wrapperNode.remove(),
        this.textarea.show(),
        a &&
          (this.textarea.focus(),
          (this.textarea[0].selectionStart = this.textarea[0].value.length));
    }),
    (b.prototype.reload = function (a) {
      var b = this.editor.getSession();
      b.setValue(this.textarea.val()), a && b.setMode(a.mode);
    });
  var c = function () {
    (this.editableFields = {}),
      (this.activeEditors = {}),
      (this.modelist = window.ace.require("ace/ext/modelist")),
      window.ace.require("ace/ext/language_tools");
    var b = this;
    a(document.body).on("keydown", function (a) {
      var c = 77;
      a.keyCode === c &&
        a.ctrlKey &&
        a.altKey &&
        (0 === Object.keys(b.activeEditors).length
          ? b.startUsingAce()
          : b.stopUsingAce());
    });
  };
  return (
    (c.prototype.findMode = function (a) {
      var b,
        c,
        d,
        e = [];
      "octave" === a.toLowerCase()
        ? (a = "matlab")
        : "nodejs" === a.toLowerCase() && (a = "javascript"),
        (e = [a, a.replace(/\d*$/, "")]);
      for (var f = 0; f < e.length; f++)
        if (
          ((b = e[f]),
          (c = "input." + b),
          (d =
            this.modelist.modesByName[b] ||
            this.modelist.modesByName[b.toLowerCase()] ||
            this.modelist.getModeForPath(c) ||
            this.modelist.getModeForPath(c.toLowerCase())),
          d && "text" !== d.name)
        )
          return d;
    }),
    (c.prototype.initAce = function (a, c) {
      var d = this.findMode(c);
      (this.editableFields[a] = c),
        this.activeEditors[a]
          ? this.activeEditors[a].reload(d)
          : (this.activeEditors[a] = new b(a, d));
    }),
    (c.prototype.stopUsingAce = function () {
      for (var a in this.activeEditors) this.activeEditors[a].close();
      this.activeEditors = {};
    }),
    (c.prototype.startUsingAce = function () {
      for (var a in this.editableFields)
        this.initAce(a, this.editableFields[a]);
    }),
    new c()
  );
});
define("qtype_coderunner/authorform", ["jquery"], function (a) {
  function b() {
    a().ready(c);
  }
  function c() {
    function b(b, c) {
      var d =
        a("#id_" + b).is(":visible") ||
        a("#id_" + b + "_wrapper").is(":visible");
      "undefined" == typeof c &&
        (c = o.prop("value") ? o.prop("value") : n.prop("value")),
        m.prop("checked") &&
          d &&
          require(["qtype_coderunner/aceinterface"], function (a) {
            a.initAce("id_" + b, c.toLowerCase());
          });
    }
    function c(a) {
      var c = a ? "block" : "none";
      q.css("display", c),
        r.css("display", c),
        a && b("template", n.prop("value"));
    }
    function e(b, e) {
      var f, h, i;
      for (var j in d)
        (f = d[j]),
          (h = e[j] ? e[j] : f[2]),
          f.length > 3 && ((i = f[3]), (h = i(h))),
          a(f[0]).prop(f[1], h);
      v.prop("value", b),
        p.prop("checked", !1),
        x.html(g(b, e.questiontext)),
        c(!1);
    }
    function f(a, b) {
      var c;
      window.alert(h("prototype_load_failure") + b),
        (c = h("prototype_error") + "\n"),
        (c += b + "\n"),
        (c += "CourseId: " + w + ", qtype: " + a),
        l.prop("value", c);
    }
    function g(a, b) {
      var c = '<p class="question-type-details-header">';
      return (c += h("coderunner_question_type")), (c += a + "</p>\n" + b);
    }
    function h(a) {
      return M.util.get_string(a, "qtype_coderunner");
    }
    function i() {
      var b = k.children("option:selected").text();
      "" !== b &&
        "Undefined" !== b &&
        (k.children("option:first-child").prop("disabled", "disabled"),
        a
          .getJSON(
            M.cfg.wwwroot + "/question/type/coderunner/ajax.php",
            { qtype: b, courseid: w, sesskey: M.cfg.sesskey },
            function (a) {
              a.success ? e(b, a) : f(b, a.error);
            }
          )
          .fail(function () {
            window.alert(h("error_loading_prototype")),
              l.prop("value", h("ajax_error"));
          }));
    }
    function j() {
      "3" === y.val() ? z.show() : z.hide();
    }
    var k = a("#id_coderunnertype"),
      l = a("#id_template"),
      m = a("#id_useace"),
      n = a("#id_language"),
      o = a("#id_acelang"),
      p = a("#id_customise"),
      q = a("#id_customisationheader"),
      r = a("#id_advancedcustomisationheader"),
      s = p.prop("checked"),
      t = a("#id_prototypetype"),
      u = a("#id_answerpreloadhdr"),
      v = a("#id_typename"),
      w = a('input[name="courseid"]').prop("value"),
      x = a("#qtype-help"),
      y = a("select#id_precheck"),
      z = a("div.testtype");
    1 == t.prop("value") &&
      (window.alert(h("proceed_at_own_risk")),
      t.prop("disabled", !0),
      k.prop("disabled", !0),
      p.prop("disabled", !0)),
      b("answer"),
      b("answerpreload"),
      c(s),
      s ? x.html("<p>" + h("info_unavailable") + "</p>") : i(),
      j(),
      p.on("change", function () {
        var a = p.prop("checked");
        a
          ? c(!0)
          : window.confirm(h("confirm_proceed"))
          ? c(!1)
          : p.prop("checked", !0);
      }),
      o.on("change", function () {
        b("answer"), b("answerpreload");
      }),
      k.on("change", function () {
        (p.prop("checked") && !window.confirm(h("question_type_changed"))) ||
          i();
      }),
      m.on("change", function () {
        var a = m.prop("checked");
        a
          ? (b("template", n.prop("value")), b("answer"), b("answerpreload"))
          : require(["qtype_coderunner/aceinterface"], function (a) {
              a.stopUsingAce();
            });
      }),
      y.on("change", j);
    var A = new MutationObserver(function () {
      b("answerpreload");
    });
    A.observe(u.get(0), { attributes: !0 });
  }
  var d = {
    template: ["#id_template", "value", ""],
    iscombinatortemplate: [
      "#id_iscombinatortemplate",
      "checked",
      "",
      function (a) {
        return "1" === a;
      },
    ],
    cputimelimitsecs: ["#id_cputimelimitsecs", "value", ""],
    memlimitmb: ["#id_memlimitmb", "value", ""],
    sandbox: ["#id_sandbox", "value", "DEFAULT"],
    sandboxparams: ["#id_sandboxparams", "value", ""],
    testsplitterre: [
      "#id_testsplitterre",
      "value",
      "",
      function (a) {
        return a.replace("\n", "\\n");
      },
    ],
    grader: ["#id_grader", "value", "EqualityGrader"],
    resultcolumns: ["#id_resultcolumns", "value", ""],
    language: ["#id_language", "value", ""],
    acelang: ["#id_acelang", "value", ""],
  };
  return { initEditForm: b };
});
define("qtype_coderunner/showdiff", ["jquery"], function (a) {
  function b(a, b) {
    var c,
      d,
      e,
      f = a.length,
      g = b.length;
    for (c = [], d = 0; d <= f; d += 1) c[d] = new Array(g + 1).fill(0);
    for (d = 0; d < f; d += 1)
      for (e = 0; e < g; e += 1)
        a[d] == b[e]
          ? (c[d + 1][e + 1] = 1 + c[d][e])
          : (c[d + 1][e + 1] = Math.max(c[d][e + 1], c[d + 1][e]));
    return c;
  }
  function c(a, c) {
    var d, e, f, g, h, i;
    for (
      d = b(a, c),
        i = d[a.length][c.length],
        h = [],
        e = a.length,
        f = c.length,
        g = i - 1;
      g >= 0;

    )
      a[e - 1] == c[f - 1]
        ? ((h[g] = a[e - 1]), (g -= 1), (e -= 1), (f -= 1))
        : d[e - 1][f] == d[e][f]
        ? (e -= 1)
        : (f -= 1);
    return h;
  }
  function d(a, b, c, d) {
    var e,
      f = "",
      g = !1,
      h = 0;
    for (
      void 0 === c && (c = "<del>"), void 0 === d && (d = "</del>"), e = 0;
      e < a.length;
      e += 1
    )
      h < b.length && a[e] == b[h]
        ? (g && ((f += d), (g = !1)), (h += 1))
        : g || ((f += c), (g = !0)),
        (f += a[e]);
    return g && (f += d), f;
  }
  function e(a) {
    return a.tagName.toLowerCase();
  }
  function f(a) {
    function b() {
      var a, b;
      return (
        "&" != f[g]
          ? ((a = f[g]), (g += 1))
          : ((b = f
              .substring(g, f.length)
              .match(/(^&[a-zA-Z]+;)|(^&#[0-9]+;)|(^&#[xX][0-9a-fA-F]+;)/)),
            null === b
              ? ((a = f[g]), (g += 1))
              : ((a = b[0]), (g += a.length))),
        a
      );
    }
    var c,
      d = "pre" === e(a),
      f = a.innerHTML,
      g = 0;
    for (
      d && (f = f.replace(/\n/g, k + "\n")),
        f = f.replace(/(<br ?.*?>)/g, k + "$1"),
        c = [],
        g = 0;
      g < f.length;

    )
      c.push(b());
    return c;
  }
  function g(a, b) {
    var e,
      g,
      h,
      i = "<del>",
      j = "</del>";
    (e = f(a)),
      (g = f(b)),
      (h = c(e, g)),
      (a.innerHTML = d(e, h, i, j)),
      (b.innerHTML = d(g, h, i, j));
  }
  function h(a, b) {
    var c = new RegExp("(</?del[^>]*>)|(" + k + ")", "g");
    (a.innerHTML = a.innerHTML.replace(c, "")),
      (b.innerHTML = b.innerHTML.replace(c, ""));
  }
  function i(a, b, c, d) {
    for (var e, f, g, h, i = 0; i < a.length; i++)
      (e = a[i]),
        (f = e.getElementsByTagName("td")),
        (g = f[c]),
        (h = f[b]),
        d(g, h);
  }
  function j(b, c, d) {
    var e,
      f,
      j = a('[id="' + b + '"]'),
      k = a("table.coderunner-test-results tbody tr"),
      l = a("table.coderunner-test-results th"),
      m = 0;
    l.each(function () {
      "Got" === a(this).html()
        ? (e = m)
        : "Expected" === a(this).html() && (f = m),
        (m += 1);
    }),
      e && f
        ? j.on("click", function () {
            j.prop("value") === c
              ? (i(k.toArray(), e, f, g), j.prop("value", d))
              : (i(k.toArray(), e, f, h), j.prop("value", c));
          })
        : ((j.enabled = !1), j.hide());
  }
  var k = "↩";
  return { initDiffButton: j };
});
define("qtype_coderunner/textareas", ["jquery"], function (a) {
  function b() {
    a("textarea.edit_code").each(d);
  }
  function c(b) {
    a(document.getElementById(b)).each(d);
  }
  function d() {
    var b = 9,
      c = 13,
      d = 27,
      f = 77;
    a(this).data("clickInProgress", !1),
      a(this).data("capturingTab", !0),
      a(this).on("mousedown", function () {
        a(this).data("clickInProgress", !0);
      }),
      a(this).on("focusin", function () {
        a(this).data("capturingTab", a(this).data("clickInProgress"));
      }),
      a(this).on("click", function () {
        a(this).data("clickInProgress", !1);
      }),
      a(this).on("keydown", function (g) {
        if (
          !(
            (window.hasOwnProperty("behattesting") && window.behattesting) ||
            (void 0 !== g.which && 0 === g.which)
          )
        )
          if (g.keyCode == b && a(this).data("capturingTab"))
            (g.shiftKey || e(this, "    ")) && g.preventDefault();
          else if (g.keyCode === c && void 0 !== this.selectionStart) {
            for (
              var h = this.value.substring(0, this.selectionStart),
                i = h.lastIndexOf("\n"),
                j = h.substring(i + 1),
                k = "",
                l = 0;
              l < j.length && " " === j.charAt(l);
              l++
            )
              k += " ";
            e(this, "\n" + k) && g.preventDefault(),
              a(this).data("capturingTab", !0);
          } else
            g.keyCode === f && g.ctrlKey && !g.altKey
              ? (a(this).data("capturingTab", !a(this).data("capturingTab")),
                g.preventDefault())
              : g.keyCode === d
              ? a(this).data("capturingTab", !1)
              : g.ctrlKey || g.altKey || a(this).data("capturingTab", !0);
      });
  }
  function e(a, b) {
    if (void 0 !== a.selectionStart) {
      var c = a.value.substring(0, a.selectionStart),
        d = a.selectionEnd,
        e = a.value.substring(a.selectionEnd, a.value.length),
        f = a.scrollTop;
      a.value = c + b + e;
      var g = d + b.length;
      return (
        (a.selectionStart = g), (a.selectionEnd = g), (a.scrollTop = f), !0
      );
    }
    if (document.selection && document.selection.createRange) {
      var h = document.selection.createRange(),
        i = h.duplicate();
      return (
        i.moveToElementText(a), i.setEndPoint("EndToEnd", h), (h.text = b), !0
      );
    }
    return !1;
  }
  return { setupAllTAs: b, initQuestionTA: c };
});
define("mod_assign/grading_actions", [
  "jquery",
  "mod_assign/grading_events",
], function (a, b) {
  var c = function (b) {
    (this._regionSelector = b),
      (this._region = a(b)),
      this.registerEventListeners();
  };
  return (
    (c.prototype._regionSelector = null),
    (c.prototype._lastUserId = 0),
    (c.prototype._region = null),
    (c.prototype._showActionsForm = function (a, b) {
      var c = this._region.find("[data-region=grading-actions-form]");
      b != this._lastUserId && b > 0 && (this._lastUserId = b),
        b > 0 ? c.removeClass("hide") : c.addClass("hide");
    }),
    (c.prototype._trigger = function (b) {
      a(document).trigger(b);
    }),
    (c.prototype.getReviewPanelElement = function () {
      return a('[data-region="review-panel"]');
    }),
    (c.prototype.hasReviewPanelElement = function () {
      return this.getReviewPanelElement().length > 0;
    }),
    (c.prototype.getCollapseGradePanelButton = function () {
      return a('[data-region="grade-actions"] .collapse-grade-panel');
    }),
    (c.prototype.getCollapseReviewPanelButton = function () {
      return a('[data-region="grade-actions"] .collapse-review-panel');
    }),
    (c.prototype.getExpandAllPanelsButton = function () {
      return a('[data-region="grade-actions"] .collapse-none');
    }),
    (c.prototype.resetLayoutButtons = function () {
      this.getCollapseGradePanelButton().removeClass("active"),
        this.getCollapseReviewPanelButton().removeClass("active"),
        this.getExpandAllPanelsButton().removeClass("active");
    }),
    (c.prototype.collapseReviewPanel = function () {
      a(document).trigger(b.COLLAPSE_REVIEW_PANEL),
        a(document).trigger(b.EXPAND_GRADE_PANEL),
        this.resetLayoutButtons(),
        this.getCollapseReviewPanelButton().addClass("active");
    }),
    (c.prototype.collapseGradePanel = function () {
      a(document).trigger(b.COLLAPSE_GRADE_PANEL),
        a(document).trigger(b.EXPAND_REVIEW_PANEL),
        this.resetLayoutButtons(),
        this.getCollapseGradePanelButton().addClass("active");
    }),
    (c.prototype.expandAllPanels = function () {
      a(document).trigger(b.EXPAND_GRADE_PANEL),
        a(document).trigger(b.EXPAND_REVIEW_PANEL),
        this.resetLayoutButtons(),
        this.getExpandAllPanelsButton().addClass("active");
    }),
    (c.prototype.registerEventListeners = function () {
      if (this.hasReviewPanelElement()) {
        var b = this.getCollapseReviewPanelButton();
        b.click(
          function (a) {
            this.collapseReviewPanel(), a.preventDefault();
          }.bind(this)
        ),
          b.keydown(
            function (a) {
              a.metaKey ||
                a.shiftKey ||
                a.altKey ||
                a.ctrlKey ||
                (13 !== a.keyCode && 32 !== a.keyCode) ||
                (this.collapseReviewPanel(), a.preventDefault());
            }.bind(this)
          );
        var c = this.getCollapseGradePanelButton();
        c.click(
          function (a) {
            this.collapseGradePanel(), a.preventDefault();
          }.bind(this)
        ),
          c.keydown(
            function (a) {
              a.metaKey ||
                a.shiftKey ||
                a.altKey ||
                a.ctrlKey ||
                (13 !== a.keyCode && 32 !== a.keyCode) ||
                (this.collapseGradePanel(), a.preventDefault());
            }.bind(this)
          );
        var d = this.getExpandAllPanelsButton();
        d.click(
          function (a) {
            this.expandAllPanels(), a.preventDefault();
          }.bind(this)
        ),
          d.keydown(
            function (a) {
              a.metaKey ||
                a.shiftKey ||
                a.altKey ||
                a.ctrlKey ||
                (13 !== a.keyCode && 32 !== a.keyCode) ||
                (this.expandAllPanels(), a.preventDefault());
            }.bind(this)
          );
      }
      a(document).on("user-changed", this._showActionsForm.bind(this)),
        this._region
          .find('[name="savechanges"]')
          .on("click", this._trigger.bind(this, "save-changes")),
        this._region
          .find('[name="resetbutton"]')
          .on("click", this._trigger.bind(this, "reset")),
        this._region.find("form").on("submit", function (a) {
          a.preventDefault();
        });
    }),
    c
  );
});
define("mod_assign/grading_events", function () {
  return {
    COLLAPSE_REVIEW_PANEL: "grading:collapse-review-panel",
    EXPAND_REVIEW_PANEL: "grading:expand-review-panel",
    COLLAPSE_GRADE_PANEL: "grading:collapse-grade-panel",
    EXPAND_GRADE_PANEL: "grading:expand-grade-panel",
  };
});
define("mod_assign/grading_form_change_checker", ["jquery"], function (a) {
  return {
    saveFormState: function (b) {
      a(b).trigger("save-form-state");
      var c = a(b).serialize();
      a(b).data("saved-form-state", c);
    },
    checkFormForChanges: function (b) {
      a(b).trigger("save-form-state");
      var c = a(b).serialize(),
        d = a(b).data("saved-form-state");
      return "undefined" != typeof d && d != c;
    },
  };
});
define("mod_assign/grading_navigation", [
  "jquery",
  "core/notification",
  "core/str",
  "core/form-autocomplete",
  "core/ajax",
  "mod_assign/grading_form_change_checker",
], function (a, b, c, d, e, f) {
  var g = function (e) {
    (this._regionSelector = e),
      (this._region = a(e)),
      (this._filters = []),
      (this._users = []),
      (this._filteredUsers = []),
      this._loadAllUsers(),
      this._region
        .find('[data-action="previous-user"]')
        .on("click", this._handlePreviousUser.bind(this)),
      this._region
        .find('[data-action="next-user"]')
        .on("click", this._handleNextUser.bind(this)),
      this._region
        .find('[data-action="change-user"]')
        .on("change", this._handleChangeUser.bind(this)),
      this._region
        .find('[data-region="user-filters"]')
        .on("click", this._toggleExpandFilters.bind(this)),
      a(document).on("user-changed", this._refreshSelector.bind(this));
    var f = this._region.find('[data-region="user-filters"]'),
      g = a(document.getElementById(f.attr("aria-controls")));
    g.on("change", '[type="checkbox"]', this._filterChanged.bind(this));
    var h = a('[data-region="grading-navigation-panel"]').data("first-userid");
    h && this._selectUserById(h),
      c
        .get_string("changeuser", "mod_assign")
        .done(function (a) {
          d.enhance(
            "[data-action=change-user]",
            !1,
            "mod_assign/participant_selector",
            a
          );
        })
        .fail(b.exception),
      a(document).bind(
        "start-loading-user",
        function () {
          this._isLoading = !0;
        }.bind(this)
      ),
      a(document).bind(
        "finish-loading-user",
        function () {
          this._isLoading = !1;
        }.bind(this)
      );
  };
  return (
    (g.prototype._isLoading = !1),
    (g.prototype._regionSelector = null),
    (g.prototype._filters = null),
    (g.prototype._users = null),
    (g.prototype._region = null),
    (g.prototype._loadAllUsers = function () {
      var a = this._region.find("[data-action=change-user]"),
        c = a.attr("data-assignmentid"),
        d = a.attr("data-groupid");
      e.call([
        {
          methodname: "mod_assign_list_participants",
          args: { assignid: c, groupid: d, filter: "", onlyids: !0 },
          done: this._usersLoaded.bind(this),
          fail: b.exception,
        },
      ]);
    }),
    (g.prototype._usersLoaded = function (b) {
      if (((this._filteredUsers = this._users = b), this._users.length)) {
        var c = this._region.find('[data-region="user-filters"]'),
          d = a(document.getElementById(c.attr("aria-controls")));
        d.find('[type="checkbox"]').trigger("change");
      } else this._selectNoUser();
    }),
    (g.prototype._checkClickOutsideConfigureFilters = function (b) {
      var c = this._region.find('[data-region="configure-filters"]');
      if (!c.is(b.target) && 0 === c.has(b.target).length) {
        var d = this._region.find('[data-region="user-filters"]');
        c.hide(),
          c.attr("aria-hidden", "true"),
          d.attr("aria-expanded", "false"),
          a(document).unbind("click.mod_assign_grading_navigation");
      }
    }),
    (g.prototype._filterChanged = function (d) {
      var e = a(d.target).attr("name"),
        f = e.split("_").pop(),
        g = a(d.target).prop("checked");
      if (g)
        this._filters.indexOf(f) == -1 &&
          (this._filters[this._filters.length] = f);
      else {
        var h = this._filters.indexOf(f);
        h != -1 && this._filters.splice(h, 1);
      }
      var i = [];
      this._region
        .find('[data-region="configure-filters"]')
        .find('[type="checkbox"]')
        .each(function (b, c) {
          a(c).prop("checked") && (i[i.length] = a(c).closest("label").text());
        }),
        i.length
          ? this._region
              .find('[data-region="user-filters"] span')
              .text(i.join(", "))
          : c
              .get_string("nofilters", "mod_assign")
              .done(
                function (a) {
                  this._region
                    .find('[data-region="user-filters"] span')
                    .text(a);
                }.bind(this)
              )
              .fail(b.exception);
      var j = this._region.find("[data-action=change-user]"),
        k = j.attr("data-selected"),
        l = 0;
      (this._filteredUsers = []),
        a.each(
          this._users,
          function (b, c) {
            var d = !0;
            a.each(this._filters, function (a, b) {
              "submitted" == b
                ? "0" == c.submitted && (d = !1)
                : "notsubmitted" == b
                ? "1" == c.submitted && (d = !1)
                : "requiregrading" == b && "0" == c.requiregrading && (d = !1);
            }),
              d &&
                ((this._filteredUsers[this._filteredUsers.length] = c),
                k == c.id && (l = this._filteredUsers.length - 1));
          }.bind(this)
        ),
        this._filteredUsers.length
          ? this._selectUserById(this._filteredUsers[l].id)
          : this._selectNoUser();
    }),
    (g.prototype._selectNoUser = function () {
      this._isLoading ||
        (f.checkFormForChanges('[data-region="grade-panel"] .gradeform')
          ? c
              .get_strings([
                { key: "unsavedchanges", component: "mod_assign" },
                { key: "unsavedchangesquestion", component: "mod_assign" },
                { key: "saveandcontinue", component: "mod_assign" },
                { key: "cancel", component: "core" },
              ])
              .done(function (c) {
                b.confirm(c[0], c[1], c[2], c[3], function () {
                  a(document).trigger("save-changes", -1);
                });
              })
          : a(document).trigger("user-changed", -1));
    }),
    (g.prototype._selectUserById = function (d) {
      var e = this._region.find("[data-action=change-user]"),
        g = parseInt(d, 10);
      this._isLoading ||
        (f.checkFormForChanges('[data-region="grade-panel"] .gradeform')
          ? c
              .get_strings([
                { key: "unsavedchanges", component: "mod_assign" },
                { key: "unsavedchangesquestion", component: "mod_assign" },
                { key: "saveandcontinue", component: "mod_assign" },
                { key: "cancel", component: "core" },
              ])
              .done(function (c) {
                b.confirm(c[0], c[1], c[2], c[3], function () {
                  a(document).trigger("save-changes", g);
                });
              })
          : (e.attr("data-selected", d),
            !isNaN(g) && g > 0 && a(document).trigger("user-changed", d)));
    }),
    (g.prototype._toggleExpandFilters = function (b) {
      b.preventDefault();
      var c = a(b.target).closest('[data-region="user-filters"]'),
        d = "true" == c.attr("aria-expanded"),
        e = a(document.getElementById(c.attr("aria-controls")));
      d
        ? (e.hide(),
          e.attr("aria-hidden", "true"),
          c.attr("aria-expanded", "false"),
          a(document).unbind("click.mod_assign_grading_navigation"))
        : (e.css("display", "inline-block"),
          e.attr("aria-hidden", "false"),
          c.attr("aria-expanded", "true"),
          b.stopPropagation(),
          a(document).on(
            "click.mod_assign_grading_navigation",
            this._checkClickOutsideConfigureFilters.bind(this)
          ));
    }),
    (g.prototype._handlePreviousUser = function (a) {
      a.preventDefault();
      var b = this._region.find("[data-action=change-user]"),
        c = b.attr("data-selected"),
        d = 0,
        e = 0;
      for (d = 0; d < this._filteredUsers.length; d++)
        if (this._filteredUsers[d].id == c) {
          e = d;
          break;
        }
      var f = this._filteredUsers.length,
        g = e - 1;
      g < 0 && (g = f - 1),
        f && this._selectUserById(this._filteredUsers[g].id);
    }),
    (g.prototype._handleNextUser = function (a) {
      a.preventDefault();
      var b = this._region.find("[data-action=change-user]"),
        c = b.attr("data-selected"),
        d = 0,
        e = 0;
      for (d = 0; d < this._filteredUsers.length; d++)
        if (this._filteredUsers[d].id == c) {
          e = d;
          break;
        }
      var f = this._filteredUsers.length,
        g = (e + 1) % f;
      f && this._selectUserById(this._filteredUsers[g].id);
    }),
    (g.prototype._refreshCount = function () {
      var a = this._region.find("[data-action=change-user]"),
        d = a.attr("data-selected"),
        e = 0,
        f = 0;
      if (isNaN(d) || d <= 0)
        this._region.find('[data-region="user-count"]').hide();
      else {
        for (
          this._region.find('[data-region="user-count"]').show(), e = 0;
          e < this._filteredUsers.length;
          e++
        )
          if (this._filteredUsers[e].id == d) {
            f = e;
            break;
          }
        var g = this._filteredUsers.length;
        g && (f += 1);
        var h = { x: f, y: g };
        c.get_string("xofy", "mod_assign", h)
          .done(
            function (a) {
              this._region.find('[data-region="user-count-summary"]').text(a);
            }.bind(this)
          )
          .fail(b.exception);
      }
    }),
    (g.prototype._refreshSelector = function (a, b) {
      var c = this._region.find("[data-action=change-user]");
      (b = parseInt(b, 10)),
        !isNaN(b) && b > 0 && c.attr("data-selected", b),
        this._refreshCount();
    }),
    (g.prototype._handleChangeUser = function () {
      var d = this._region.find("[data-action=change-user]"),
        e = parseInt(d.val(), 10);
      this._isLoading ||
        (f.checkFormForChanges('[data-region="grade-panel"] .gradeform')
          ? c
              .get_strings([
                { key: "unsavedchanges", component: "mod_assign" },
                { key: "unsavedchangesquestion", component: "mod_assign" },
                { key: "saveandcontinue", component: "mod_assign" },
                { key: "cancel", component: "core" },
              ])
              .done(function (c) {
                b.confirm(c[0], c[1], c[2], c[3], function () {
                  a(document).trigger("save-changes", e);
                });
              })
          : !isNaN(e) &&
            e > 0 &&
            (d.attr("data-selected", e),
            a(document).trigger("user-changed", e)));
    }),
    g
  );
});
define("mod_assign/grading_navigation_user_info", [
  "jquery",
  "core/notification",
  "core/ajax",
  "core/templates",
], function (a, b, c, d) {
  var e = function (b) {
    (this._regionSelector = b),
      (this._region = a(b)),
      (this._userCache = {}),
      a(document).on("user-changed", this._refreshUserInfo.bind(this));
  };
  return (
    (e.prototype._regionSelector = null),
    (e.prototype._userCache = null),
    (e.prototype._region = null),
    (e.prototype._lastUserId = 0),
    (e.prototype._getAssignmentId = function () {
      return this._region.attr("data-assignmentid");
    }),
    (e.prototype._refreshUserInfo = function (e, f) {
      var g = a.Deferred();
      this._lastUserId != f &&
        ((this._lastUserId = f),
        d
          .render("mod_assign/loading", {})
          .done(
            function (e, h) {
              if (
                (this._region.fadeOut(
                  "fast",
                  function () {
                    d.replaceNodeContents(this._region, e, h),
                      this._region.fadeIn("fast");
                  }.bind(this)
                ),
                f < 0)
              )
                return void d
                  .render("mod_assign/grading_navigation_no_users", {})
                  .done(
                    function (a, b) {
                      this._region.fadeOut(
                        "fast",
                        function () {
                          d.replaceNodeContents(this._region, a, b),
                            this._region.fadeIn("fast");
                        }.bind(this)
                      );
                    }.bind(this)
                  )
                  .fail(b.exception);
              if ("undefined" != typeof this._userCache[f])
                g.resolve(this._userCache[f]);
              else {
                var i = this._getAssignmentId(),
                  j = c.call([
                    {
                      methodname: "mod_assign_get_participant",
                      args: { userid: f, assignid: i, embeduser: !0 },
                    },
                  ]);
                j[0]
                  .done(
                    function (a) {
                      a.hasOwnProperty("id")
                        ? ((this._userCache[f] = a),
                          g.resolve(this._userCache[f]))
                        : g.reject("No users");
                    }.bind(this)
                  )
                  .fail(b.exception);
              }
              g.done(
                function (c) {
                  var e = a("[data-showuseridentity]")
                      .data("showuseridentity")
                      .split(","),
                    f = [];
                  (c.courseid = a(
                    '[data-region="grading-navigation-panel"]'
                  ).attr("data-courseid")),
                    c.user &&
                      (a.each(e, function (a, b) {
                        "undefined" != typeof c.user[b] &&
                          "" !== c.user[b] &&
                          ((c.hasidentity = !0), f.push(c.user[b]));
                      }),
                      (c.identity = f.join(", ")),
                      c.user.profileimageurl &&
                        (c.profileimageurl = c.user.profileimageurl)),
                    d
                      .render("mod_assign/grading_navigation_user_summary", c)
                      .done(
                        function (a, b) {
                          this._region.fadeOut(
                            "fast",
                            function () {
                              d.replaceNodeContents(this._region, a, b),
                                this._region.fadeIn("fast");
                            }.bind(this)
                          );
                        }.bind(this)
                      )
                      .fail(b.exception);
                }.bind(this)
              ).fail(
                function () {
                  d.render("mod_assign/grading_navigation_no_users", {})
                    .done(
                      function (a, b) {
                        this._region.fadeOut(
                          "fast",
                          function () {
                            d.replaceNodeContents(this._region, a, b),
                              this._region.fadeIn("fast");
                          }.bind(this)
                        );
                      }.bind(this)
                    )
                    .fail(b.exception);
                }.bind(this)
              );
            }.bind(this)
          )
          .fail(b.exception));
    }),
    e
  );
});
define("mod_assign/grading_panel", [
  "jquery",
  "core/yui",
  "core/notification",
  "core/templates",
  "core/fragment",
  "core/ajax",
  "core/str",
  "mod_assign/grading_form_change_checker",
  "mod_assign/grading_events",
], function (a, b, c, d, e, f, g, h, i) {
  var j = function (b) {
    (this._regionSelector = b),
      (this._region = a(b)),
      (this._userCache = []),
      this.registerEventListeners();
  };
  return (
    (j.prototype._regionSelector = null),
    (j.prototype._lastUserId = 0),
    (j.prototype._lastAttemptNumber = -1),
    (j.prototype._region = null),
    (j.prototype._niceReplaceNodeContents = function (b, c, e) {
      var f = a.Deferred();
      return (
        b.fadeOut("fast", function () {
          d.replaceNodeContents(b, c, e),
            b.fadeIn("fast", function () {
              f.resolve();
            });
        }),
        f.promise()
      );
    }),
    (j.prototype._saveFormState = function () {
      "undefined" != typeof window.tinyMCE && window.tinyMCE.triggerSave();
      var b = a(
        '[data-region="grading-actions-form"] [name="sendstudentnotifications"]'
      ).prop("checked");
      a('.gradeform [name="sendstudentnotifications"]').val(b);
    }),
    (j.prototype._submitForm = function (b, d) {
      var e = a(this._region.find("form.gradeform"));
      a('[data-region="overlay"]').show(), e.trigger("save-form-state");
      var g = e.serialize(),
        h = this._region.attr("data-assignmentid");
      f.call([
        {
          methodname: "mod_assign_submit_grading_form",
          args: {
            assignmentid: h,
            userid: this._lastUserId,
            jsonformdata: JSON.stringify(g),
          },
          done: this._handleFormSubmissionResponse.bind(this, g, d),
          fail: c.exception,
        },
      ]);
    }),
    (j.prototype._handleFormSubmissionResponse = function (d, e, f) {
      "undefined" == typeof e && (e = this._lastUserId),
        f.length
          ? a(document).trigger("reset", [this._lastUserId, d])
          : (g
              .get_strings([
                { key: "changessaved", component: "core" },
                { key: "gradechangessaveddetail", component: "mod_assign" },
              ])
              .done(function (a) {
                c.alert(a[0], a[1]);
              })
              .fail(c.exception),
            b.use("moodle-core-formchangechecker", function () {
              M.core_formchangechecker.reset_form_dirty_state();
            }),
            e == this._lastUserId
              ? a(document).trigger("reset", e)
              : a(document).trigger("user-changed", e)),
        a('[data-region="overlay"]').hide();
    }),
    (j.prototype._resetForm = function (b, c, d) {
      var e = a.Event("custom");
      "undefined" == typeof c && (c = this._lastUserId),
        (this._lastUserId = 0),
        this._refreshGradingPanel(e, c, d);
    }),
    (j.prototype._chooseAttempt = function (b) {
      var d = a(b.target),
        e = d.data("submissions"),
        f = a(document.getElementById(e)),
        h = f.clone(),
        i = h.wrap(a("<form/>")).html();
      g.get_strings([
        { key: "viewadifferentattempt", component: "mod_assign" },
        { key: "view", component: "core" },
        { key: "cancel", component: "core" },
      ])
        .done(
          function (b) {
            c.confirm(
              b[0],
              i,
              b[1],
              b[2],
              function () {
                var b = a(
                  "input:radio[name='select-attemptnumber']:checked"
                ).val();
                this._refreshGradingPanel(null, this._lastUserId, "", b);
              }.bind(this)
            );
          }.bind(this)
        )
        .fail(c.exception);
    }),
    (j.prototype._addPopoutButtons = function (b) {
      var e = a(b);
      d.render("mod_assign/popout_button", {})
        .done(
          function (a) {
            var b = e
              .find(
                '[data-fieldtype="filemanager"],[data-fieldtype="editor"],[data-fieldtype="grading"]'
              )
              .closest(".fitem");
            b.addClass("has-popout").find("label").parent().append(a),
              e.on(
                "click",
                '[data-region="popout-button"]',
                this._togglePopout.bind(this)
              );
          }.bind(this)
        )
        .fail(c.exception);
    }),
    (j.prototype._togglePopout = function (b) {
      b.preventDefault();
      var c = a(b.target).closest(".fitem");
      c.hasClass("popout")
        ? a(".popout").removeClass("popout")
        : (a(".popout").removeClass("popout"),
          c.addClass("popout"),
          c.addClass("moodle-has-zindex"));
    }),
    (j.prototype._refreshGradingPanel = function (b, f, g, i) {
      var j = this._region.attr("data-contextid");
      "undefined" == typeof g && (g = ""),
        "undefined" == typeof i && (i = -1),
        (this._lastUserId == f && this._lastAttemptNumber == i && "" === g) ||
          ((this._lastUserId = f),
          (this._lastAttemptNumber = i),
          a(document).trigger("start-loading-user"),
          window.M.util.js_pending("mod-assign-loading-user"),
          d
            .render("mod_assign/loading", {})
            .done(
              function (b, d) {
                this._niceReplaceNodeContents(this._region, b, d).done(
                  function () {
                    if (f > 0) {
                      this._region.show();
                      var b = {
                        userid: f,
                        attemptnumber: i,
                        jsonformdata: JSON.stringify(g),
                      };
                      e
                        .loadFragment("mod_assign", "gradingpanel", j, b)
                        .done(
                          function (b, d) {
                            this._niceReplaceNodeContents(this._region, b, d)
                              .done(
                                function () {
                                  h.saveFormState(
                                    '[data-region="grade-panel"] .gradeform'
                                  ),
                                    a(document).on(
                                      "editor-content-restored",
                                      function () {
                                        h.saveFormState(
                                          '[data-region="grade-panel"] .gradeform'
                                        );
                                      }
                                    ),
                                    a('[data-region="attempt-chooser"]').on(
                                      "click",
                                      this._chooseAttempt.bind(this)
                                    ),
                                    this._addPopoutButtons(
                                      '[data-region="grade-panel"] .gradeform'
                                    ),
                                    a(document).trigger("finish-loading-user"),
                                    window.M.util.js_complete(
                                      "mod-assign-loading-user"
                                    );
                                }.bind(this)
                              )
                              .fail(c.exception);
                          }.bind(this)
                        )
                        .fail(c.exception),
                        a('[data-region="review-panel"]').show();
                    } else
                      this._region.hide(),
                        a('[data-region="review-panel"]').hide(),
                        a(document).trigger("finish-loading-user"),
                        window.M.util.js_complete("mod-assign-loading-user");
                  }.bind(this)
                );
              }.bind(this)
            )
            .fail(c.exception));
    }),
    (j.prototype.getPanelElement = function () {
      return a('[data-region="grade-panel"]');
    }),
    (j.prototype.collapsePanel = function () {
      this.getPanelElement().addClass("collapsed");
    }),
    (j.prototype.expandPanel = function () {
      this.getPanelElement().removeClass("collapsed");
    }),
    (j.prototype.registerEventListeners = function () {
      var b = a(document),
        c = a(this._region);
      c.on("submit", "form", function (a) {
        a.preventDefault();
      }),
        b.on("user-changed", this._refreshGradingPanel.bind(this)),
        b.on("save-changes", this._submitForm.bind(this)),
        b.on("reset", this._resetForm.bind(this)),
        b.on("save-form-state", this._saveFormState.bind(this)),
        b.on(
          i.COLLAPSE_GRADE_PANEL,
          function () {
            this.collapsePanel();
          }.bind(this)
        ),
        b.on(
          i.COLLAPSE_REVIEW_PANEL,
          function () {
            this.expandPanel();
          }.bind(this)
        ),
        b.on(
          i.EXPAND_GRADE_PANEL,
          function () {
            this.expandPanel();
          }.bind(this)
        );
    }),
    j
  );
});
define("mod_assign/grading_review_panel", [
  "jquery",
  "mod_assign/grading_events",
], function (a, b) {
  var c = function () {
    (this._region = a('[data-region="review-panel-content"]')),
      this.registerEventListeners();
  };
  return (
    (c.prototype._region = null),
    (c.prototype.getReviewPanel = function (a) {
      var b = this._region.data("panel-owner");
      return (
        "undefined" == typeof b && this._region.data("review-panel-plugin", a),
        this._region.data("review-panel-plugin") == a && this._region[0]
      );
    }),
    (c.prototype.getTogglePanelButton = function () {
      return this.getPanelElement().find('[data-region="review-panel-toggle"]');
    }),
    (c.prototype.getPanelElement = function () {
      return a('[data-region="review-panel"]');
    }),
    (c.prototype.getPanelContentElement = function () {
      return a('[data-region="review-panel-content"]');
    }),
    (c.prototype.togglePanel = function () {
      this.getPanelElement().hasClass("collapsed")
        ? a(document).trigger(b.EXPAND_REVIEW_PANEL)
        : a(document).trigger(b.COLLAPSE_REVIEW_PANEL);
    }),
    (c.prototype.collapsePanel = function () {
      this.getPanelElement()
        .addClass("collapsed")
        .removeClass("grade-panel-collapsed"),
        this.getPanelContentElement().attr("aria-hidden", !0);
    }),
    (c.prototype.expandPanel = function () {
      this.getPanelElement().removeClass("collapsed"),
        this.getPanelContentElement().removeAttr("aria-hidden");
    }),
    (c.prototype.registerEventListeners = function () {
      var c = this.getTogglePanelButton();
      c.click(
        function (a) {
          this.togglePanel(), a.preventDefault();
        }.bind(this)
      ),
        c.keydown(
          function (a) {
            a.metaKey ||
              a.shiftKey ||
              a.altKey ||
              a.ctrlKey ||
              (13 !== a.keyCode && 32 !== a.keyCode) ||
              (this.togglePanel(), a.preventDefault());
          }.bind(this)
        );
      var d = a(document);
      d.on(
        b.COLLAPSE_REVIEW_PANEL,
        function () {
          this.collapsePanel();
        }.bind(this)
      ),
        d.on(
          b.COLLAPSE_GRADE_PANEL,
          function () {
            this.expandPanel(),
              this.getPanelElement().addClass("grade-panel-collapsed");
          }.bind(this)
        ),
        d.on(
          b.EXPAND_REVIEW_PANEL,
          function () {
            this.expandPanel();
          }.bind(this)
        ),
        d.on(
          b.EXPAND_GRADE_PANEL,
          function () {
            this.getPanelElement().removeClass("grade-panel-collapsed");
          }.bind(this)
        );
    }),
    c
  );
});
define("mod_assign/participant_selector", [
  "core/ajax",
  "jquery",
  "core/templates",
], function (a, b, c) {
  return {
    processResults: function (a, b) {
      return b;
    },
    transport: function (d, e, f, g) {
      var h = b(d).attr("data-assignmentid"),
        i = b(d).attr("data-groupid"),
        j = b('[data-region="configure-filters"] input[type="checkbox"]'),
        k = [];
      j.each(function (a, c) {
        k[b(c).attr("name")] = b(c).prop("checked");
      }),
        a
          .call([
            {
              methodname: "mod_assign_list_participants",
              args: {
                assignid: h,
                groupid: i,
                filter: e,
                limit: 30,
                includeenrolments: !1,
              },
            },
          ])[0]
          .then(function (a) {
            var d = [],
              e = b("[data-showuseridentity]")
                .data("showuseridentity")
                .split(",");
            return (
              b.each(a, function (a, f) {
                var g = f,
                  h = [],
                  i = !0;
                k.filter_submitted && !f.submitted && (i = !1),
                  k.filter_notsubmitted && f.submitted && (i = !1),
                  k.filter_requiregrading && !f.requiregrading && (i = !1),
                  i &&
                    (b.each(e, function (a, b) {
                      "undefined" != typeof f[b] &&
                        "" !== f[b] &&
                        ((g.hasidentity = !0), h.push(f[b]));
                    }),
                    (g.identity = h.join(", ")),
                    d.push(
                      c
                        .render("mod_assign/list_participant_user_summary", g)
                        .then(function (a) {
                          return { value: f.id, label: a };
                        })
                    ));
              }),
              b.when.apply(b, d)
            );
          })
          .then(function () {
            var a = [];
            arguments[0] && (a = Array.prototype.slice.call(arguments)), f(a);
          })
          ["catch"](g);
    },
  };
});
define("mod_feedback/edit", [
  "jquery",
  "core/ajax",
  "core/str",
  "core/notification",
], function (a, b, c, d) {
  var e = {
    deleteItem: function (b) {
      b.preventDefault(),
        c
          .get_strings([
            { key: "confirmation", component: "admin" },
            { key: "confirmdeleteitem", component: "mod_feedback" },
            { key: "yes", component: "moodle" },
            { key: "no", component: "moodle" },
          ])
          .done(function (c) {
            d.confirm(
              c[0],
              c[1],
              c[2],
              c[3],
              a.proxy(function () {
                window.location = a(this).attr("href");
              }, b.currentTarget)
            );
          });
    },
    setup: function () {
      a("body").delegate('[data-action="delete"]', "click", e.deleteItem);
    },
  };
  return { setup: e.setup };
});
define("mod_lti/cartridge_registration_form", [
  "jquery",
  "core/ajax",
  "core/notification",
  "mod_lti/tool_type",
  "mod_lti/events",
  "mod_lti/keys",
  "core/str",
], function (a, b, c, d, e, f, g) {
  var h = {
      CARTRIDGE_URL: "#cartridge-url",
      CONSUMER_KEY: "#registration-key",
      SHARED_SECRET: "#registration-secret",
      REGISTRATION_FORM: "#cartridge-registration-form",
      REGISTRATION_SUBMIT_BUTTON: "#cartridge-registration-submit",
      REGISTRATION_CANCEL_BUTTON: "#cartridge-registration-cancel",
    },
    i = function () {
      return a(h.REGISTRATION_FORM).attr("data-cartridge-url");
    },
    j = function () {
      return a(h.REGISTRATION_SUBMIT_BUTTON);
    },
    k = function () {
      return a(h.REGISTRATION_CANCEL_BUTTON);
    },
    l = function () {
      return a(h.CONSUMER_KEY).val();
    },
    m = function () {
      return a(h.SHARED_SECRET).val();
    },
    n = function () {
      j().addClass("loading");
    },
    o = function () {
      j().removeClass("loading");
    },
    p = function () {
      return j().hasClass("loading");
    },
    q = function () {
      if (p()) return !1;
      var b = i();
      if ("" === b) return !1;
      n();
      var f = l(),
        h = m(),
        j = d.create({ cartridgeurl: b, key: f, secret: h });
      return (
        j
          .done(function () {
            g.get_string("successfullycreatedtooltype", "mod_lti")
              .done(function (b) {
                a(document).trigger(e.NEW_TOOL_TYPE),
                  a(document).trigger(e.STOP_CARTRIDGE_REGISTRATION),
                  a(document).trigger(e.REGISTRATION_FEEDBACK, { message: b });
              })
              .fail(c.exception);
          })
          .fail(function () {
            g.get_string("failedtocreatetooltype", "mod_lti")
              .done(function (b) {
                a(document).trigger(e.NEW_TOOL_TYPE),
                  a(document).trigger(e.STOP_CARTRIDGE_REGISTRATION),
                  a(document).trigger(e.REGISTRATION_FEEDBACK, {
                    message: b,
                    error: !0,
                  });
              })
              .fail(c.exception);
          })
          .always(function () {
            o();
          }),
        j
      );
    },
    r = function () {
      var b = a(h.REGISTRATION_FORM);
      b.submit(function (a) {
        a.preventDefault(), q();
      });
      var c = k();
      c.click(function (b) {
        b.preventDefault(), a(document).trigger(e.STOP_CARTRIDGE_REGISTRATION);
      }),
        c.keypress(function (a) {
          a.metaKey ||
            a.shiftKey ||
            a.altKey ||
            a.ctrlKey ||
            (a.keyCode != f.ENTER && a.keyCode != f.SPACE) ||
            (a.preventDefault(), c.click());
        });
    };
  return {
    init: function () {
      r();
    },
  };
});
define("mod_lti/contentitem", [
  "jquery",
  "core/notification",
  "core/str",
  "core/templates",
  "mod_lti/form-field",
  "core/modal_factory",
  "core/modal_events",
], function (a, b, c, d, e, f, g) {
  var h,
    i = {
      init: function (a, e) {
        var i = "";
        c.get_string("selectcontent", "lti").then(function (c) {
          i = c;
          var j = { url: a, postData: e },
            k = d.render("mod_lti/contentitem", j);
          h
            ? (h.setBody(k), h.show())
            : f.create({ title: i, body: k, large: !0 }).done(function (a) {
                (h = a),
                  h.show(),
                  a.getRoot().on(g.hidden, function () {
                    a.setBody(""), b.fetchNotifications();
                  });
              });
        });
      },
    },
    j = [
      new e("name", e.TYPES.TEXT, !1, ""),
      new e("introeditor", e.TYPES.EDITOR, !1, ""),
      new e("toolurl", e.TYPES.TEXT, !0, ""),
      new e("securetoolurl", e.TYPES.TEXT, !0, ""),
      new e("instructorchoiceacceptgrades", e.TYPES.CHECKBOX, !0, !0),
      new e("instructorchoicesendname", e.TYPES.CHECKBOX, !0, !0),
      new e("instructorchoicesendemailaddr", e.TYPES.CHECKBOX, !0, !0),
      new e("instructorcustomparameters", e.TYPES.TEXT, !0, ""),
      new e("icon", e.TYPES.TEXT, !0, ""),
      new e("secureicon", e.TYPES.TEXT, !0, ""),
      new e("launchcontainer", e.TYPES.SELECT, !0, 0),
    ];
  return (
    (window.processContentItemReturnData = function (b) {
      h && h.hide();
      var c;
      for (c in j) {
        var d = j[c],
          e = null;
        "undefined" !== a.type(b[d.name]) && (e = b[d.name]),
          d.setFieldValue(e);
      }
    }),
    i
  );
});
define("mod_lti/contentitem_return", ["jquery"], function (a) {
  return {
    init: function (b) {
      a(window).ready(function () {
        window != top && parent.processContentItemReturnData(b);
      });
    },
  };
});
define("mod_lti/events", [], function () {
  return {
    NEW_TOOL_TYPE: "lti.tool.type.new",
    START_EXTERNAL_REGISTRATION: "lti.registration.external.start",
    STOP_EXTERNAL_REGISTRATION: "lti.registration.external.stop",
    START_CARTRIDGE_REGISTRATION: "lti.registration.cartridge.start",
    STOP_CARTRIDGE_REGISTRATION: "lti.registration.cartridge.stop",
    REGISTRATION_FEEDBACK: "lti.registration.feedback",
    CAPABILITIES_AGREE: "lti.tool.type.capabilities.agree",
    CAPABILITIES_DECLINE: "lti.tool.type.capabilities.decline",
  };
});
define("mod_lti/external_registration", [
  "jquery",
  "core/ajax",
  "core/notification",
  "core/templates",
  "mod_lti/events",
  "mod_lti/tool_proxy",
  "mod_lti/tool_type",
  "mod_lti/keys",
  "core/str",
], function (a, b, c, d, e, f, g, h, i) {
  var j = {
      EXTERNAL_REGISTRATION_CONTAINER: "#external-registration-page-container",
      EXTERNAL_REGISTRATION_TEMPLATE_CONTAINER:
        "#external-registration-template-container",
      EXTERNAL_REGISTRATION_CANCEL_BUTTON: "#cancel-external-registration",
      TOOL_TYPE_CAPABILITIES_CONTAINER: "#tool-type-capabilities-container",
      TOOL_TYPE_CAPABILITIES_TEMPLATE_CONTAINER:
        "#tool-type-capabilities-template-container",
      CAPABILITIES_AGREE_CONTAINER: ".capabilities-container",
    },
    k = function () {
      return a(j.EXTERNAL_REGISTRATION_CANCEL_BUTTON);
    },
    l = function () {
      return a(j.EXTERNAL_REGISTRATION_CONTAINER);
    },
    m = function () {
      return a(j.EXTERNAL_REGISTRATION_TEMPLATE_CONTAINER);
    },
    n = function () {
      return a(j.TOOL_TYPE_CAPABILITIES_CONTAINER);
    },
    o = function () {
      return a(j.TOOL_TYPE_CAPABILITIES_TEMPLATE_CONTAINER);
    },
    p = function () {
      n().addClass("loading");
    },
    q = function () {
      n().removeClass("loading");
    },
    r = function () {
      k().addClass("loading");
    },
    s = function () {
      k().removeClass("loading");
    },
    t = function () {
      n().addClass("hidden");
    },
    u = function () {
      n().removeClass("hidden");
    },
    v = function () {
      l().addClass("hidden");
    },
    w = function () {
      l().removeClass("hidden");
    },
    x = function (a) {
      var b = k();
      b.attr("data-tool-proxy-id", a);
    },
    y = function () {
      var a = k();
      return a.attr("data-tool-proxy-id");
    },
    z = function () {
      var a = k();
      a.removeAttr("data-tool-proxy-id");
    },
    A = function () {
      return !!y();
    },
    B = function () {
      var a = k();
      return a.attr("data-tool-proxy-new") && A();
    },
    C = function () {
      var a = k();
      return a.attr("data-tool-proxy-new", "new");
    },
    D = function () {
      var a = k();
      return a.removeAttr("data-tool-proxy-new");
    },
    E = function (a) {
      var c = {
        methodname: "mod_lti_get_tool_proxy_registration_request",
        args: { id: a },
      };
      return b.call([c])[0];
    },
    F = function () {
      r();
      var b = a.Deferred();
      if (B()) {
        var d = y();
        f["delete"](d)
          .done(function () {
            b.resolve();
          })
          .fail(function (a) {
            b.reject(a);
          });
      } else b.resolve();
      return (
        b
          .done(function () {
            L(), s();
          })
          .fail(function (b) {
            c.exception(b),
              L(),
              s(),
              i
                .get_string("failedtodeletetoolproxy", "mod_lti")
                .done(function (b) {
                  var c = { message: b, error: !0 };
                  a(document).trigger(e.REGISTRATION_FEEDBACK, c);
                })
                .fail(c.exception);
          }),
        b
      );
    },
    G = function (a) {
      var b = d.render("mod_lti/tool_proxy_registration_form", a);
      return (
        b
          .done(function (a, b) {
            var c = m();
            c.append(a), d.runTemplateJS(b), c.find("form").submit(), w();
          })
          .fail(c.exception),
        b
      );
    },
    H = function (a) {
      return g.update({ id: a.id, state: g.constants.state.configured });
    },
    I = function (b) {
      var f = a.Deferred();
      return (
        d
          .render("mod_lti/tool_type_capabilities_agree", b)
          .done(function (a, c) {
            var g = o();
            v(), u(), d.replaceNodeContents(g, a, c);
            var h = g.find(j.CAPABILITIES_AGREE_CONTAINER);
            h.on(e.CAPABILITIES_AGREE, function () {
              p(),
                H(b).always(function () {
                  q(), g.empty(), f.resolve();
                });
            }),
              h.on(e.CAPABILITIES_DECLINE, function () {
                g.empty(), f.resolve();
              });
          })
          .fail(f.reject),
        f
          .done(function () {
            t();
          })
          .fail(c.exception),
        f
      );
    },
    J = function (b) {
      var c = a.Deferred();
      return (
        b && "" !== b
          ? f
              .create({ regurl: b })
              .done(function (a) {
                C(), (c = K(a.id));
              })
              .fail(function (b) {
                F();
                var d = { message: b.message, error: !0 };
                a(document).trigger(e.REGISTRATION_FEEDBACK, d), c.reject(b);
              })
          : c.resolve(),
        c
      );
    },
    K = function (b) {
      var c = a.Deferred();
      return (
        x(b),
        E(b)
          .done(function (a) {
            G(a)
              .done(function () {
                c.resolve();
              })
              .fail(c.fail);
          })
          .fail(c.fail),
        c
      );
    },
    L = function () {
      A() && z(), D(!1), v();
      var b = m();
      b.empty(), a(document).trigger(e.STOP_EXTERNAL_REGISTRATION);
    },
    M = function () {
      a(document).on(e.START_EXTERNAL_REGISTRATION, function (a, b) {
        b && (b.url && J(b.url), b.proxyid && K(b.proxyid));
      });
      var b = k();
      b.click(function (a) {
        a.preventDefault(), F();
      }),
        b.keypress(function (a) {
          a.metaKey ||
            a.shiftKey ||
            a.altKey ||
            a.ctrlKey ||
            (a.keyCode != h.ENTER && a.keyCode != h.SPACE) ||
            (a.preventDefault(), F());
        }),
        (window.triggerExternalRegistrationComplete = function (b) {
          var d = a.Deferred(),
            f = { message: "", error: !1 };
          if ("success" == b.status) {
            if (
              (i
                .get_string("successfullycreatedtooltype", "mod_lti")
                .done(function (a) {
                  f.message = a;
                })
                .fail(c.exception),
              d
                .done(function () {
                  L(),
                    a(document).trigger(e.REGISTRATION_FEEDBACK, f),
                    a(document).trigger(e.NEW_TOOL_TYPE);
                })
                .fail(c.exception),
              B())
            ) {
              var h = y();
              g.getFromToolProxyId(h)
                .done(function (a) {
                  if (a && a.length) {
                    var b = a[0];
                    b.hascapabilitygroups
                      ? I(b).always(function () {
                          d.resolve();
                        })
                      : d.resolve();
                  } else d.resolve();
                })
                .fail(function () {
                  d.resolve();
                });
            }
          } else
            (f.message = b.error),
              (f.error = !0),
              d
                .done(function () {
                  F().always(function () {
                    a(document).trigger(e.REGISTRATION_FEEDBACK, f);
                  });
                })
                .fail(c.exception),
              d.resolve();
          return d;
        });
    };
  return {
    init: function () {
      M();
    },
  };
});
define("mod_lti/external_registration_return", [], function () {
  return {
    init: function (a, b, c, d) {
      window.parent &&
        window.parent.triggerExternalRegistrationComplete({
          message: a,
          error: b,
          id: c,
          status: d,
        });
    },
  };
});
define("mod_lti/form-field", ["jquery"], function (a) {
  var b = function (a, b, c, d) {
    (this.name = a),
      (this.id = "id_" + this.name),
      (this.selector = "#" + this.id),
      (this.type = b),
      (this.resetIfUndefined = c),
      (this.defaultValue = d);
  };
  return (
    (b.TYPES = { TEXT: 1, SELECT: 2, CHECKBOX: 3, EDITOR: 4 }),
    (b.prototype.setFieldValue = function (c) {
      if (null === c) {
        if (!this.resetIfUndefined) return;
        c = this.defaultValue;
      }
      switch (this.type) {
        case b.TYPES.CHECKBOX:
          c
            ? a(this.selector).prop("checked", !0)
            : a(this.selector).prop("checked", !1);
          break;
        case b.TYPES.EDITOR:
          if ("undefined" !== a.type(c.text)) {
            var d = a(this.selector + "editable");
            d.length
              ? d.html(c.text)
              : "undefined" != typeof tinyMCE &&
                tinyMCE.execInstanceCommand(
                  this.id,
                  "mceInsertContent",
                  !1,
                  c.text
                ),
              a(this.selector).val(c.text);
          }
          break;
        default:
          a(this.selector).val(c);
      }
    }),
    b
  );
});
define("mod_lti/keys", [], function () {
  return { ENTER: 13, SPACE: 32 };
});
define("mod_lti/tool_card_controller", [
  "jquery",
  "core/ajax",
  "core/notification",
  "core/templates",
  "mod_lti/tool_type",
  "mod_lti/events",
  "mod_lti/keys",
  "core/str",
], function (a, b, c, d, e, f, g, h) {
  var i = {
      DELETE_BUTTON: ".delete",
      NAME_ELEMENT: ".name",
      DESCRIPTION_ELEMENT: ".description",
      CAPABILITIES_CONTAINER: ".capabilities-container",
      ACTIVATE_BUTTON: ".tool-card-footer a.activate",
    },
    j = 2e3,
    k = function (a) {
      return a.find(i.DELETE_BUTTON);
    },
    l = function (a) {
      return a.find(i.NAME_ELEMENT);
    },
    m = function (a) {
      return a.find(i.DESCRIPTION_ELEMENT);
    },
    n = function (a) {
      return a.find(i.ACTIVATE_BUTTON);
    },
    o = function (a) {
      return !!n(a).length;
    },
    p = function (a) {
      return a.find(i.CAPABILITIES_CONTAINER);
    },
    q = function (a) {
      return !!p(a).length;
    },
    r = function (a) {
      return a.attr("data-type-id");
    },
    s = function (a) {
      a.removeClass("announcement loading success fail capabilities");
    },
    t = function (a) {
      s(a), a.addClass("announcement loading");
    },
    u = function (a) {
      a.removeClass("announcement loading");
    },
    v = function (b) {
      var c = a.Deferred();
      return (
        s(b),
        b.addClass("announcement success"),
        setTimeout(function () {
          b.removeClass("announcement success"), c.resolve();
        }, j),
        c
      );
    },
    w = function (b) {
      var c = a.Deferred();
      return (
        s(b),
        b.addClass("announcement fail"),
        setTimeout(function () {
          b.removeClass("announcement fail"), c.resolve();
        }, j),
        c
      );
    },
    x = function (b) {
      var d = a.Deferred(),
        f = r(b);
      return (
        t(b),
        "" === f
          ? a.Deferred().resolve()
          : (h
              .get_strings([
                { key: "delete", component: "mod_lti" },
                { key: "delete_confirmation", component: "mod_lti" },
                { key: "delete", component: "mod_lti" },
                { key: "cancel", component: "core" },
              ])
              .done(function (a) {
                c.confirm(
                  a[0],
                  a[1],
                  a[2],
                  a[3],
                  function () {
                    e["delete"](f)
                      .done(function () {
                        u(b),
                          v(b)
                            .done(function () {
                              b.remove();
                            })
                            .fail(c.exception)
                            .always(function () {
                              d.resolve();
                            });
                      })
                      .fail(function (a) {
                        w(b), d.reject(a);
                      });
                  },
                  function () {
                    u(b), d.resolve();
                  }
                );
              })
              .fail(function (a) {
                u(b), c.exception(a), d.reject(a);
              }),
            d)
      );
    },
    y = function (a, b) {
      a.attr("data-val-snapshot", b);
    },
    z = function (a) {
      return a.attr("data-val-snapshot");
    },
    A = function (a) {
      var b = m(a);
      if (!b.hasClass("loading")) {
        var c = b.text().trim();
        y(b, c);
      }
    },
    B = function (b) {
      var d = r(b);
      if ("" === d) return a.Deferred().resolve();
      var f = m(b);
      if (f.hasClass("loading")) return a.Deferred().resolve();
      var g = f.text().trim(),
        h = z(f);
      if (h == g) return a.Deferred().resolve();
      f.addClass("loading");
      var i = e.update({ id: d, description: g });
      return (
        i
          .done(function (a) {
            f.removeClass("loading"), f.text(a.description);
          })
          .fail(c.exception),
        i.fail(function () {
          f.removeClass("loading");
        }),
        i
      );
    },
    C = function (a) {
      var b = l(a);
      if (!b.hasClass("loading")) {
        var c = b.text().trim();
        y(b, c);
      }
    },
    D = function (b) {
      var c = r(b);
      if ("" === c) return a.Deferred().resolve();
      var d = l(b);
      if (d.hasClass("loading")) return a.Deferred().resolve();
      var f = d.text().trim(),
        g = z(d);
      if (g == f) return a.Deferred().resolve();
      d.addClass("loading");
      var h = e.update({ id: c, name: f });
      return (
        h.done(function (a) {
          d.removeClass("loading"), d.text(a.name);
        }),
        h.fail(function () {
          d.removeClass("loading");
        }),
        h
      );
    },
    E = function (b) {
      var c = r(b);
      if ("" === c) return a.Deferred().resolve();
      t(b);
      var f = e.update({ id: c, state: e.constants.state.configured });
      return (
        f.done(function (c) {
          u(b);
          var e = v(b),
            f = d.render("mod_lti/tool_card", c);
          a.when(f, e).then(function (a) {
            var c = a[0],
              e = a[1];
            d.replaceNode(b, c, e);
          });
        }),
        f.fail(function () {
          u(b), w(b);
        }),
        f
      );
    },
    F = function (a) {
      a.addClass("announcement capabilities");
    },
    G = function (a) {
      a.removeClass("announcement capabilities");
    },
    H = function (a) {
      q(a) ? F(a) : E(a);
    },
    I = function (a) {
      var b = k(a);
      b.click(function (b) {
        b.preventDefault(), x(a);
      }),
        b.keypress(function (a) {
          a.metaKey ||
            a.shiftKey ||
            a.altKey ||
            a.ctrlKey ||
            (a.keyCode != g.ENTER && a.keyCode != g.SPACE) ||
            (a.preventDefault(), b.click());
        });
      var c = m(a);
      c.focus(function (b) {
        b.preventDefault(), A(a);
      }),
        c.blur(function (b) {
          b.preventDefault(), B(a);
        }),
        c.keypress(function (a) {
          a.metaKey ||
            a.shiftKey ||
            a.altKey ||
            a.ctrlKey ||
            (a.keyCode == g.ENTER && (a.preventDefault(), c.blur()));
        });
      var d = l(a);
      if (
        (d.focus(function (b) {
          b.preventDefault(), C(a);
        }),
        d.blur(function (b) {
          b.preventDefault(), D(a);
        }),
        d.keypress(function (a) {
          a.metaKey ||
            a.shiftKey ||
            a.altKey ||
            a.ctrlKey ||
            (a.keyCode == g.ENTER && (a.preventDefault(), d.blur()));
        }),
        o(a))
      ) {
        var e = n(a);
        e.click(function (b) {
          b.preventDefault(), H(a);
        }),
          e.keypress(function (a) {
            a.metaKey ||
              a.shiftKey ||
              a.altKey ||
              a.ctrlKey ||
              (a.keyCode != g.ENTER && a.keyCode != g.SPACE) ||
              (a.preventDefault(), e.click());
          });
      }
      if (q(a)) {
        var h = p(a);
        h.on(f.CAPABILITIES_AGREE, function () {
          E(a);
        }),
          h.on(f.CAPABILITIES_DECLINE, function () {
            G(a);
          });
      }
    };
  return {
    init: function (a) {
      I(a);
    },
  };
});
define("mod_lti/tool_configure_controller", [
  "jquery",
  "core/ajax",
  "core/notification",
  "core/templates",
  "mod_lti/events",
  "mod_lti/keys",
  "mod_lti/tool_type",
  "mod_lti/tool_proxy",
  "core/str",
], function (a, b, c, d, e, f, g, h, i) {
  var j = {
      EXTERNAL_REGISTRATION_CONTAINER: "#external-registration-container",
      EXTERNAL_REGISTRATION_PAGE_CONTAINER:
        "#external-registration-page-container",
      CARTRIDGE_REGISTRATION_CONTAINER: "#cartridge-registration-container",
      CARTRIDGE_REGISTRATION_FORM: "#cartridge-registration-form",
      ADD_TOOL_FORM: "#add-tool-form",
      TOOL_LIST_CONTAINER: "#tool-list-container",
      TOOL_CREATE_BUTTON: "#tool-create-button",
      REGISTRATION_CHOICE_CONTAINER: "#registration-choice-container",
      TOOL_URL: "#tool-url",
    },
    k = function () {
      return a(j.TOOL_CREATE_BUTTON);
    },
    l = function () {
      return a(j.TOOL_LIST_CONTAINER);
    },
    m = function () {
      return a(j.EXTERNAL_REGISTRATION_CONTAINER);
    },
    n = function () {
      return a(j.CARTRIDGE_REGISTRATION_CONTAINER);
    },
    o = function () {
      return a(j.REGISTRATION_CHOICE_CONTAINER);
    },
    p = function () {
      return a(j.TOOL_URL).val();
    },
    q = function () {
      m().addClass("hidden");
    },
    r = function () {
      n().addClass("hidden");
    },
    s = function () {
      o().addClass("hidden");
    },
    t = function () {
      r(), s(), m().removeClass("hidden"), w(m());
    },
    u = function (a) {
      q(),
        s(),
        n().removeClass("hidden"),
        n().find(j.CARTRIDGE_REGISTRATION_FORM).attr("data-cartridge-url", a),
        w(n());
    },
    v = function () {
      q(), r(), o().removeClass("hidden"), w(o());
    },
    w = function (a) {
      var b = a.children().detach();
      b.appendTo(a);
    },
    x = function () {
      l().addClass("hidden");
    },
    y = function () {
      l().removeClass("hidden");
    },
    z = function (a) {
      var b = a.error ? "error" : "success";
      c.addNotification({ message: a.message, type: b });
    },
    A = function (a) {
      a.addClass("loading");
    },
    B = function (a) {
      a.removeClass("loading");
    },
    C = function () {
      var b = a.Deferred(),
        e = l();
      A(e),
        a
          .when(g.query(), h.query({ orphanedonly: !0 }))
          .done(function (a, c) {
            d.render("mod_lti/tool_list", { tools: a, proxies: c })
              .done(function (a, c) {
                e.empty(), e.append(a), d.runTemplateJS(c), b.resolve();
              })
              .fail(b.reject);
          })
          .fail(b.reject),
        b.fail(c.exception).always(function () {
          B(e);
        });
    },
    D = function () {
      var b = a.trim(p());
      if ("" === b) return a.Deferred().resolve();
      var d = k();
      A(d);
      var f = g.isCartridge(b);
      return (
        f.always(function () {
          B(d);
        }),
        f.done(function (c) {
          c.iscartridge
            ? (a(j.TOOL_URL).val(""),
              a(document).trigger(e.START_CARTRIDGE_REGISTRATION, b))
            : a(document).trigger(e.START_EXTERNAL_REGISTRATION, { url: b });
        }),
        f.fail(function () {
          i.get_string("errorbadurl", "mod_lti")
            .done(function (b) {
              a(document).trigger(e.REGISTRATION_FEEDBACK, {
                message: b,
                error: !0,
              });
            })
            .fail(c.exception);
        }),
        f
      );
    },
    E = function () {
      a(document).on(e.NEW_TOOL_TYPE, function () {
        C();
      }),
        a(document).on(e.START_EXTERNAL_REGISTRATION, function () {
          t(), a(j.TOOL_URL).val(""), x();
        }),
        a(document).on(e.STOP_EXTERNAL_REGISTRATION, function () {
          y(), v();
        }),
        a(document).on(e.START_CARTRIDGE_REGISTRATION, function (a, b) {
          u(b);
        }),
        a(document).on(e.STOP_CARTRIDGE_REGISTRATION, function () {
          n()
            .find(j.CARTRIDGE_REGISTRATION_FORM)
            .removeAttr("data-cartridge-url"),
            v();
        }),
        a(document).on(e.REGISTRATION_FEEDBACK, function (a, b) {
          z(b);
        });
      var b = a(j.ADD_TOOL_FORM);
      b.submit(function (a) {
        a.preventDefault(), D();
      });
    };
  return {
    init: function () {
      E(), C();
    },
  };
});
define("mod_lti/tool_proxy", ["core/ajax", "core/notification"], function (
  a,
  b
) {
  return {
    query: function (c) {
      var d = { methodname: "mod_lti_get_tool_proxies", args: c || {} },
        e = a.call([d])[0];
      return e.fail(b.exception), e;
    },
    delete: function (c) {
      var d = { methodname: "mod_lti_delete_tool_proxy", args: { id: c } },
        e = a.call([d])[0];
      return e.fail(b.exception), e;
    },
    create: function (b) {
      var c = { methodname: "mod_lti_create_tool_proxy", args: b },
        d = a.call([c])[0];
      return d;
    },
  };
});
define("mod_lti/tool_proxy_card_controller", [
  "jquery",
  "core/ajax",
  "core/notification",
  "core/templates",
  "mod_lti/tool_proxy",
  "mod_lti/events",
  "mod_lti/keys",
  "core/str",
], function (a, b, c, d, e, f, g, h) {
  var i = {
      DELETE_BUTTON: ".delete",
      CAPABILITIES_CONTAINER: ".capabilities-container",
      ACTIVATE_BUTTON: ".tool-card-footer a.activate",
    },
    j = 2e3,
    k = function (a) {
      return a.find(i.DELETE_BUTTON);
    },
    l = function (a) {
      return a.find(i.ACTIVATE_BUTTON);
    },
    m = function (a) {
      return a.attr("data-proxy-id");
    },
    n = function (a) {
      a.removeClass("announcement loading success fail capabilities");
    },
    o = function (a) {
      n(a), a.addClass("announcement loading");
    },
    p = function (a) {
      a.removeClass("announcement loading");
    },
    q = function (b) {
      var c = a.Deferred();
      return (
        n(b),
        b.addClass("announcement success"),
        setTimeout(function () {
          b.removeClass("announcement success"), c.resolve();
        }, j),
        c
      );
    },
    r = function (b) {
      var c = a.Deferred();
      return (
        n(b),
        b.addClass("announcement fail"),
        setTimeout(function () {
          b.removeClass("announcement fail"), c.resolve();
        }, j),
        c
      );
    },
    s = function (b) {
      var d = a.Deferred(),
        f = m(b);
      return (
        o(b),
        "" === f
          ? a.Deferred().resolve()
          : (h
              .get_strings([
                { key: "delete", component: "mod_lti" },
                { key: "delete_confirmation", component: "mod_lti" },
                { key: "delete", component: "mod_lti" },
                { key: "cancel", component: "core" },
              ])
              .done(function (a) {
                c.confirm(
                  a[0],
                  a[1],
                  a[2],
                  a[3],
                  function () {
                    e["delete"](f)
                      .done(function () {
                        p(b),
                          q(b)
                            .done(function () {
                              b.remove(), d.resolve();
                            })
                            .fail(c.exception);
                      })
                      .fail(function (a) {
                        r(b), d.reject(a);
                      });
                  },
                  function () {
                    p(b), d.resolve();
                  }
                );
              })
              .fail(function (a) {
                p(b), c.exception(a), d.reject(a);
              }),
            d)
      );
    },
    t = function (b) {
      var c = { proxyid: m(b) };
      a(document).trigger(f.START_EXTERNAL_REGISTRATION, c);
    },
    u = function (a) {
      var b = k(a);
      b.click(function (b) {
        b.preventDefault(), s(a);
      }),
        b.keypress(function (a) {
          a.metaKey ||
            a.shiftKey ||
            a.altKey ||
            a.ctrlKey ||
            (a.keyCode != g.ENTER && a.keyCode != g.SPACE) ||
            (a.preventDefault(), b.click());
        });
      var c = l(a);
      c.click(function (b) {
        b.preventDefault(), t(a);
      }),
        c.keypress(function (a) {
          a.metaKey ||
            a.shiftKey ||
            a.altKey ||
            a.ctrlKey ||
            (a.keyCode != g.ENTER && a.keyCode != g.SPACE) ||
            (a.preventDefault(), c.click());
        });
    };
  return {
    init: function (a) {
      u(a);
    },
  };
});
define("mod_lti/tool_type", ["core/ajax", "core/notification"], function (
  a,
  b
) {
  return {
    query: function (c) {
      var d = { methodname: "mod_lti_get_tool_types", args: c || {} },
        e = a.call([d])[0];
      return e.fail(b.exception), e;
    },
    create: function (b) {
      var c = { methodname: "mod_lti_create_tool_type", args: b },
        d = a.call([c])[0];
      return d;
    },
    update: function (c) {
      var d = { methodname: "mod_lti_update_tool_type", args: c },
        e = a.call([d])[0];
      return e.fail(b.exception), e;
    },
    delete: function (c) {
      var d = { methodname: "mod_lti_delete_tool_type", args: { id: c } },
        e = a.call([d])[0];
      return e.fail(b.exception), e;
    },
    getFromToolProxyId: function (a) {
      return this.query({ toolproxyid: a });
    },
    isCartridge: function (b) {
      var c = { methodname: "mod_lti_is_cartridge", args: { url: b } },
        d = a.call([c])[0];
      return d;
    },
    constants: { state: { configured: 1, pending: 2, rejected: 3 } },
  };
});
define("mod_quiz/preflightcheck", ["jquery", "core/yui"], function (a, b) {
  var c = {
    confirmDialogue: null,
    init: function (a, d, e, f) {
      var g = a;
      b.use("moodle-core-notification", function () {
        b.one(e) &&
          ((c.confirmDialogue = new M.core.dialogue({
            headerContent: d,
            bodyContent: b.one(e),
            draggable: !0,
            visible: !1,
            center: !0,
            modal: !0,
            width: null,
            extraClasses: ["mod_quiz_preflight_popup"],
          })),
          b.one(a).on("click", c.displayDialogue),
          b.one("#id_cancel").on("click", c.hideDialogue),
          (g = c.confirmDialogue
            .get("boundingBox")
            .one('[name="submitbutton"]'))),
          f && b.one(g).on("click", c.launchQuizPopup, c, f);
      });
    },
    displayDialogue: function (a) {
      a && a.halt(), c.confirmDialogue.show();
    },
    hideDialogue: function (a) {
      a && a.halt(), c.confirmDialogue.hide(a);
    },
    launchQuizPopup: function (a, c) {
      a.halt(),
        b.use("moodle-core-formchangechecker", "io-form", function () {
          M.core_formchangechecker.reset_form_dirty_state();
          var d = a.target.ancestor("form");
          window.openpopup(a, {
            url:
              d.get("action") +
              "?" +
              b.IO.stringify(d).replace(/\bcancel=/, "x="),
            windowname: "quizpopup",
            options: c,
            fullscreen: !0,
          });
        });
    },
  };
  return c;
});
define("mod_quiz/timeopencheck", ["jquery"], function (e) {
  var t = {
    pluginname: "mod_quiz",
    view: function (t) {
      1 == e("#timeopencheck>span.timeopencheck_timer").length &&
        t > 0 &&
        ((t *= 1e3),
        setInterval(function () {
          var n = new Date(),
            o = t - n.getTime();
          if (o <= 0) location.reload();
          else {
            var i = Math.floor(o / 1e3 / 60 / 60);
            o -= 1e3 * i * 60 * 60;
            var a = Math.floor(o / 1e3 / 60);
            o -= 1e3 * a * 60;
            var r = Math.floor(o / 1e3);
            i < 10 && (i = "0" + i),
              a < 10 && (a = "0" + a),
              r < 10 && (r = "0" + r),
              e("#timeopencheck>span.timeopencheck_timer").text(
                i + ":" + a + ":" + r
              );
          }
        }, 1e3));
    },
  };
  return t;
});
define("mod_uboffline/bootstrapTable", [
  "mod_uboffline/config",
  "bootstrapTable",
], function (n, o) {
  return o;
});

define("mod_uboffline/config", [], function () {
  window.requirejs.config({
    paths: {
      bootstrapTable:
        M.cfg.wwwroot +
        "/mod/uboffline/js/bootstrap-table-1.18.3/bootstrap-table.min",
      tableExport:
        M.cfg.wwwroot +
        "/mod/uboffline/js/bootstrap-table-1.18.3/bootstrap-table-export.min",
      customView:
        M.cfg.wwwroot +
        "/mod/uboffline/js/bootstrap-table-1.18.3/bootstrap-table-custom-view.min",
    },
    shim: {
      bootstrapTable: { deps: ["jquery"], exports: "bootstrapTable" },
      tableExport: {
        deps: ["jquery", "bootstrapTable"],
        exports: "tableExport",
      },
      customView: {
        deps: ["jquery", "bootstrapTable", "tableExport"],
        exports: "customView",
      },
    },
  });
});

define("mod_uboffline/customView", [
  "mod_uboffline/config",
  "customView",
], function (n, e) {
  return e;
});

define("mod_uboffline/tableExport", [
  "mod_uboffline/config",
  "tableExport",
], function (n, e) {
  return e;
});

define("mod_uboffline/uboffline", [
  "jquery",
  "core/yui",
  "core/modal_factory",
  "core/templates",
  "mod_uboffline/bootstrapTable",
  "mod_uboffline/tableExport",
], function (e, t, i, d, a, o) {
  e("#dialog").hide();
  var s, r, n, v, l;
  M.cfg.wwwroot;
  function c(t, i) {
    let d;
    if (
      ((d = JSON.stringify(t)),
      e(
        "#dialog > div > div > div.modal-body > form > div > input[name=start]"
      ).val(moment(t.start).valueOf()),
      e(
        "#dialog > div > div > div.modal-body > form > div > input[name=end]"
      ).val(moment(t.end).valueOf() ? moment(t.end).valueOf() : ""),
      e(
        "#dialog > div > div > div.modal-body > form > div > input[name=allDay]"
      ).val(t.allDay),
      e(
        "#dialog > div > div > div.modal-body > form > div > input[name=proc_type]"
      ).val(i),
      e(
        "#dialog > div > div > div.modal-body > form > div > input[name=vinfo]"
      ).val(d),
      "ADD_EVENT" === i &&
        (e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year option"
        ).attr("selected", !1),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year option"
        )
          .filter(function () {
            return e(this).attr("value") == moment(t.start).format("YYYY");
          })
          .attr("selected", !0),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year"
        ).val(moment(t.start).format("YYYY")),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month option"
        ).attr("selected", !1),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month option"
        )
          .filter(function () {
            return e(this).attr("value") == moment(t.start).format("M");
          })
          .attr("selected", !0),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month"
        ).val(moment(t.start).format("M")),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day option"
        ).attr("selected", !1),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day option"
        )
          .filter(function () {
            return e(this).attr("value") == moment(t.start).format("D");
          })
          .attr("selected", !0),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day"
        ).val(moment(t.start).format("D"))),
      "EDIT_EVENT" === i &&
        (e(
          "#dialog > div > div > div.modal-body > form > div > input[name=mrid]"
        ).val(t.event.extendedProps.mrid),
        e(
          "#dialog > div > div > div.modal-body > form > div > input[name=eventid]"
        ).val(t.event.id),
        e("#id_tab-reservation-conditions-repeat option").attr("selected", !1),
        1 === parseInt(t.event.extendedProps.repeatype) &&
          (f(),
          e(
            "#dialog > div > div > div.modal-body > form > div > input[name=repeatype]"
          ).val("no-repeat"),
          e("#id_tab-reservation-conditions-repeat option")
            .filter(function () {
              return "no-repeat" == e(this).attr("value");
            })
            .attr("selected", !0),
          e("#id_tab-reservation-conditions-repeat").val("no-repeat")),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year option"
        ).attr("selected", !1),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year option"
        )
          .filter(function () {
            return (
              e(this).attr("value") ==
              moment(1e3 * t.event.extendedProps.activitystartdate).format(
                "YYYY"
              )
            );
          })
          .attr("selected", !0),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year"
        ).val(
          moment(1e3 * t.event.extendedProps.activitystartdate).format("YYYY")
        ),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month option"
        ).attr("selected", !1),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month option"
        )
          .filter(function () {
            return (
              e(this).attr("value") ==
              moment(1e3 * t.event.extendedProps.activitystartdate).format("M")
            );
          })
          .attr("selected", !0),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month"
        ).val(
          moment(1e3 * t.event.extendedProps.activitystartdate).format("M")
        ),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day option"
        ).attr("selected", !1),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day option"
        )
          .filter(function () {
            return (
              e(this).attr("value") ==
              moment(1e3 * t.event.extendedProps.activitystartdate).format("D")
            );
          })
          .attr("selected", !0),
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day"
        ).val(
          moment(1e3 * t.event.extendedProps.activitystartdate).format("D")
        ),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour option"
        ).attr("selected", !1),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour option"
        )
          .filter(function () {
            return (
              e(this).attr("value") ==
              moment(1e3 * t.event.extendedProps.activitystartdate).format("H")
            );
          })
          .attr("selected", !0),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour"
        ).val(
          moment(1e3 * t.event.extendedProps.activitystartdate).format("H")
        ),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute option"
        ).attr("selected", !1),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute option"
        )
          .filter(function () {
            return (
              e(this).attr("value") ==
              moment(1e3 * t.event.extendedProps.activitystartdate).format("m")
            );
          })
          .attr("selected", !0),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute"
        ).val(
          moment(1e3 * t.event.extendedProps.activitystartdate).format("m")
        ),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour option"
        ).attr("selected", !1),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour option"
        )
          .filter(function () {
            return (
              e(this).attr("value") ==
              moment(1e3 * t.event.extendedProps.activityenddate).format("H")
            );
          })
          .attr("selected", !0),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour"
        ).val(moment(1e3 * t.event.extendedProps.activityenddate).format("H")),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute option"
        ).attr("selected", !1),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute option"
        )
          .filter(function () {
            return (
              e(this).attr("value") ==
              moment(1e3 * t.event.extendedProps.activityenddate).format("m")
            );
          })
          .attr("selected", !0),
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute"
        ).val(moment(1e3 * t.event.extendedProps.activityenddate).format("m"))),
      "REPEATEDIT_EVENT" === i)
    ) {
      e(
        "#dialog > div > div > div.modal-body > form > div > input[name=mrid]"
      ).val(t.event.extendedProps.mrid),
        e(
          "#dialog > div > div > div.modal-body > form > div > input[name=eventid]"
        ).val(t.event.id),
        e("#id_tab-reservation-conditions-repeat option").attr("selected", !1),
        1 === parseInt(t.event.extendedProps.repeatype) &&
          (f(),
          e(
            "#dialog > div > div > div.modal-body > form > div > input[name=repeatype]"
          ).val("no-repeat"),
          e("#id_tab-reservation-conditions-repeat option")
            .filter(function () {
              return "no-repeat" == e(this).attr("value");
            })
            .attr("selected", !0),
          e("#id_tab-reservation-conditions-repeat").val("no-repeat")),
        2 === parseInt(t.event.extendedProps.repeatype) &&
          (p(),
          e(
            "#dialog > div > div > div.modal-body > form > div > input[name=repeatype]"
          ).val("repeat-daily"),
          e("#id_tab-reservation-conditions-repeat option")
            .filter(function () {
              return "repeat-daily" == e(this).attr("value");
            })
            .attr("selected", !0),
          e("#id_tab-reservation-conditions-repeat").val("repeat-daily")),
        3 === parseInt(t.event.extendedProps.repeatype) &&
          (y(),
          e(
            "#dialog > div > div > div.modal-body > form > div > input[name=repeatype]"
          ).val("repeat-weekly"),
          e("#id_tab-reservation-conditions-repeat option")
            .filter(function () {
              return "repeat-weekly" == e(this).attr("value");
            })
            .attr("selected", !0),
          e("#id_tab-reservation-conditions-repeat").val("repeat-weekly")),
        4 === parseInt(t.event.extendedProps.repeatype) &&
          (_(),
          e(
            "#dialog > div > div > div.modal-body > form > div > input[name=repeatype]"
          ).val("repeat-weekly-mon-fri"),
          e("#id_tab-reservation-conditions-repeat option")
            .filter(function () {
              return "repeat-weekly-mon-fri" == e(this).attr("value");
            })
            .attr("selected", !0),
          e("#id_tab-reservation-conditions-repeat").val(
            "repeat-weekly-mon-fri"
          )),
        e("#id_tab-reservation-conditions-repeat-cycle").val(
          parseInt(t.event.extendedProps.repeatcycle)
        ),
        e("#tab-reservation-conditions-repeat-cycle-week-mon").prop(
          "checked",
          1 ===
            parseInt(
              parseInt(t.event.extendedProps.repeatweek).toString(2).charAt(0)
            )
        ),
        e("#tab-reservation-conditions-repeat-cycle-week-tue").prop(
          "checked",
          1 ===
            parseInt(
              parseInt(t.event.extendedProps.repeatweek).toString(2).charAt(1)
            )
        ),
        e("#tab-reservation-conditions-repeat-cycle-week-wed").prop(
          "checked",
          1 ===
            parseInt(
              parseInt(t.event.extendedProps.repeatweek).toString(2).charAt(2)
            )
        ),
        e("#tab-reservation-conditions-repeat-cycle-week-thu").prop(
          "checked",
          1 ===
            parseInt(
              parseInt(t.event.extendedProps.repeatweek).toString(2).charAt(3)
            )
        ),
        e("#tab-reservation-conditions-repeat-cycle-week-fri").prop(
          "checked",
          1 ===
            parseInt(
              parseInt(t.event.extendedProps.repeatweek).toString(2).charAt(4)
            )
        ),
        e("#tab-reservation-conditions-repeat-cycle-week-sat").prop(
          "checked",
          1 ===
            parseInt(
              parseInt(t.event.extendedProps.repeatweek).toString(2).charAt(5)
            )
        ),
        e("#tab-reservation-conditions-repeat-cycle-week-sun").prop(
          "checked",
          1 ===
            parseInt(
              parseInt(t.event.extendedProps.repeatweek).toString(2).charAt(6)
            )
        ),
        u();
      let i = e(
        "#fgroup_id_radioar > fieldset input[name=reservationmodify]:checked "
      ).val();
      e(
        "#dialog > div > div > div.modal-body > form > div > input[name=reservationmodify]"
      ).val(i),
        "onlySelected" === i &&
          (e("#dialog div#modal-reservationmodify-header").html(
            "선택한 일정만 수정"
          ),
          e("#fitem_id_tab-reservation-conditions-repeat").hide(),
          f(),
          e(
            "#dialog > div > div > div.modal-body > form > div > input[name=repeatype]"
          ).val("no-repeat"),
          e("#id_tab-reservation-conditions-repeat option")
            .filter(function () {
              return "no-repeat" == e(this).attr("value");
            })
            .attr("selected", !0),
          e("#id_tab-reservation-conditions-repeat").val("no-repeat"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year option"
          )
            .filter(function () {
              return (
                e(this).attr("value") == moment(t.event.start).format("YYYY")
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year"
          ).val(moment(t.event.start).format("YYYY")),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month option"
          )
            .filter(function () {
              return e(this).attr("value") == moment(t.event.start).format("M");
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month"
          ).val(moment(t.event.start).format("M")),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day option"
          )
            .filter(function () {
              return e(this).attr("value") == moment(t.event.start).format("D");
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day"
          ).val(moment(t.event.start).format("D")),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour option"
          )
            .filter(function () {
              return e(this).attr("value") == moment(t.event.start).format("H");
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour"
          ).val(moment(t.event.start).format("H")),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute option"
          )
            .filter(function () {
              return e(this).attr("value") == moment(t.event.start).format("m");
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute"
          ).val(moment(t.event.start).format("m")),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour option"
          )
            .filter(function () {
              return e(this).attr("value") == moment(t.event.end).format("H");
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour"
          ).val(moment(t.event.end).format("H")),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute option"
          )
            .filter(function () {
              return e(this).attr("value") == moment(t.event.end).format("m");
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute"
          ).val(moment(t.event.end).format("m"))),
        "futureSelected" === i &&
          (e("#dialog div#modal-reservationmodify-header").html(
            "선택한 일정부터 이후 일정까지 모두 수정 (선택한 일정 이전은 유지)"
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year option"
          )
            .filter(function () {
              return (
                e(this).attr("value") == moment(t.event.start).format("YYYY")
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year"
          ).val(moment(t.event.start).format("YYYY")),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month option"
          )
            .filter(function () {
              return e(this).attr("value") == moment(t.event.start).format("M");
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month"
          ).val(moment(t.event.start).format("M")),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day option"
          )
            .filter(function () {
              return e(this).attr("value") == moment(t.event.start).format("D");
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day"
          ).val(moment(t.event.start).format("D")),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_year option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_year option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activityenddate).format(
                  "YYYY"
                )
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_year"
          ).val(
            moment(1e3 * t.event.extendedProps.activityenddate).format("YYYY")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_month option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_month option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activityenddate).format("M")
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_month"
          ).val(
            moment(1e3 * t.event.extendedProps.activityenddate).format("M")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_day option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_day option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activityenddate).format("D")
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_day"
          ).val(
            moment(1e3 * t.event.extendedProps.activityenddate).format("D")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activitystartdate).format(
                  "H"
                )
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour"
          ).val(
            moment(1e3 * t.event.extendedProps.activitystartdate).format("H")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activitystartdate).format(
                  "m"
                )
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute"
          ).val(
            moment(1e3 * t.event.extendedProps.activitystartdate).format("m")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activityenddate).format("H")
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour"
          ).val(
            moment(1e3 * t.event.extendedProps.activityenddate).format("H")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activityenddate).format("m")
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute"
          ).val(
            moment(1e3 * t.event.extendedProps.activityenddate).format("m")
          )),
        "fullSelected" === i &&
          (e("#dialog div#modal-reservationmodify-header").html(
            "전체 반복 일정 수정"
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activitystartdate).format(
                  "YYYY"
                )
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_year"
          ).val(
            moment(1e3 * t.event.extendedProps.activitystartdate).format("YYYY")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activitystartdate).format(
                  "M"
                )
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_month"
          ).val(
            moment(1e3 * t.event.extendedProps.activitystartdate).format("M")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activitystartdate).format(
                  "D"
                )
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > select#id_tab-reservation-conditions-activity-set-date_day"
          ).val(
            moment(1e3 * t.event.extendedProps.activitystartdate).format("D")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_year option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_year option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activityenddate).format(
                  "YYYY"
                )
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_year"
          ).val(
            moment(1e3 * t.event.extendedProps.activityenddate).format("YYYY")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_month option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_month option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activityenddate).format("M")
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_month"
          ).val(
            moment(1e3 * t.event.extendedProps.activityenddate).format("M")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_day option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_day option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activityenddate).format("D")
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select#id_tab-reservation-conditions-activity-set-date-to_day"
          ).val(
            moment(1e3 * t.event.extendedProps.activityenddate).format("D")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activitystartdate).format(
                  "H"
                )
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_hour"
          ).val(
            moment(1e3 * t.event.extendedProps.activitystartdate).format("H")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activitystartdate).format(
                  "m"
                )
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select#id_tab-reservation-conditions-activity-time_minute"
          ).val(
            moment(1e3 * t.event.extendedProps.activitystartdate).format("m")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activityenddate).format("H")
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_hour"
          ).val(
            moment(1e3 * t.event.extendedProps.activityenddate).format("H")
          ),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute option"
          ).attr("selected", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute option"
          )
            .filter(function () {
              return (
                e(this).attr("value") ==
                moment(1e3 * t.event.extendedProps.activityenddate).format("m")
              );
            })
            .attr("selected", !0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset select#id_tab-reservation-conditions-activity-time-to_minute"
          ).val(
            moment(1e3 * t.event.extendedProps.activityenddate).format("m")
          ));
    }
    e("#dialog").modal();
  }
  function m(t, i, d) {
    let a;
    (a = JSON.stringify(t)),
      e(
        "#repeateditdialog > div > div > div.modal-body > form > div > input[name=start]"
      ).val(moment(t.event.start).valueOf()),
      e(
        "#repeateditdialog > div > div > div.modal-body > form > div > input[name=end]"
      ).val(moment(t.event.end).valueOf() ? moment(t.event).valueOf() : ""),
      e(
        "#repeateditdialog > div > div > div.modal-body > form > div > input[name=allDay]"
      ).val(t.event.allDay),
      e(
        "#repeateditdialog > div > div > div.modal-body > form > div > input[name=mrid]"
      ).val(d),
      e(
        "#repeateditdialog > div > div > div.modal-body > form > div > input[name=vinfo]"
      ).val(a),
      e("#repeateditdialog").modal();
  }
  function u() {
    e("input[name=tab-reservation-conditions-repeat-cycle-hidden]").val(
      String(
        e("#tab-reservation-conditions-repeat-cycle-week-mon:checked").length
      ) +
        String(
          e("#tab-reservation-conditions-repeat-cycle-week-tue:checked").length
        ) +
        String(
          e("#tab-reservation-conditions-repeat-cycle-week-wed:checked").length
        ) +
        String(
          e("#tab-reservation-conditions-repeat-cycle-week-thu:checked").length
        ) +
        String(
          e("#tab-reservation-conditions-repeat-cycle-week-fri:checked").length
        ) +
        String(
          e("#tab-reservation-conditions-repeat-cycle-week-sat:checked").length
        ) +
        String(
          e("#tab-reservation-conditions-repeat-cycle-week-sun:checked").length
        )
    );
  }
  function b(t) {
    let i = e(
        "#dialog > div > div > div.modal-body > form > div > input[name=tabtype]"
      ).val(),
      d = e(
        "#dialog > div > div > div.modal-body > form > div > input[name=sesskey]"
      ).val();
    confirm("삭제하시겠습니까?") &&
      e.ajax({
        type: "POST",
        url: "action_.php",
        data: {
          proc_type: "DELETE_EVENT",
          cmid: t.event.extendedProps.cmid,
          tabtype: i,
          sesskey: d,
          eventid: t.event.id,
          start: t.event.start.valueOf(),
          end: t.event.end ? t.event.end.valueOf() : "",
          mrid: t.event.extendedProps.mrid,
        },
        success: function (e) {
          if (parseInt(e.code) > 0) {
            let e =
              "/mod/uboffline/viewtabreservationconditions.php?id=" +
              t.event.extendedProps.cmid +
              "&tabtype=" +
              i +
              "&curday=" +
              t.event.start.valueOf();
            window.location.href = e;
          }
        },
      });
  }
  function f() {
    e("#id_tab-reservation-conditions-repeat-cycle").val(0),
      e("#fitem_id_tab-reservation-conditions-repeat-cycle").hide(),
      e(".tab-reservation-conditions-repeat-cycle-week-checkbox").hide(),
      e("#tab-reservation-conditions-repeat-cycle-day").hide(),
      e("#tab-reservation-conditions-repeat-cycle-week").hide(),
      e("#fitem_id_tab-reservation-conditions-activity-set-date-to").hide();
  }
  function p() {
    e("#id_tab-reservation-conditions-repeat-cycle").val(""),
      e(
        "#fitem_id_tab-reservation-conditions-repeat-cycle > div + .felement , .ftext"
      ).css({ display: "flex" }),
      e("#tab-reservation-conditions-repeat-cycle-day").show(),
      e("#tab-reservation-conditions-repeat-cycle-week").hide(),
      e(".tab-reservation-conditions-repeat-cycle-week-checkbox").hide(),
      e("#fitem_id_tab-reservation-conditions-repeat-cycle").show(),
      e("#fitem_id_tab-reservation-conditions-activity-set-date-to").show();
  }
  function y() {
    e("#id_tab-reservation-conditions-repeat-cycle").val(""),
      e("#tab-reservation-conditions-repeat-cycle-day").hide(),
      e("#tab-reservation-conditions-repeat-cycle-week").show(),
      e(".tab-reservation-conditions-repeat-cycle-week-checkbox").show(),
      e("#fitem_id_tab-reservation-conditions-repeat-cycle").show(),
      e("#fitem_id_tab-reservation-conditions-activity-set-date-to").show();
  }
  function _() {
    e("#id_tab-reservation-conditions-repeat-cycle").val(""),
      e("#tab-reservation-conditions-repeat-cycle-day").hide(),
      e("#tab-reservation-conditions-repeat-cycle-week").show(),
      e(".tab-reservation-conditions-repeat-cycle-week-checkbox").hide(),
      e("#fitem_id_tab-reservation-conditions-repeat-cycle").show(),
      e("#fitem_id_tab-reservation-conditions-activity-set-date-to").show();
  }
  function h(t, i) {
    if ("ADD_RESERVED_STATUS_EVENT" === i) {
      let d;
      e(
        "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=proc_type]"
      ).val(i),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > legend > a.fheader:nth(0)"
        ).text("예약 등록"),
        (d = JSON.stringify(t)),
        e("#vinfo").val(d),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=vinfo]"
        ).val(d),
        e(
          "div.search-ubreservedstatus > form > div > div > div > select option"
        ).attr("selected", !1),
        e(
          "div.search-ubreservedstatus > form > div > div > div > input[name=keyword]"
        ).val(""),
        e(
          "div.search-ubreservedstatus > form > div > div > div > input#ubrestatussearchcancel"
        ).hide(),
        e(
          "div.ubreservedstatus-results > table > tbody > tr > td > input[type=radio]"
        ).attr("checked", !1),
        e("div.ubreservedstatus-results > table > tbody > tr ").show(),
        e("div.search-ubreservedstatus").show(),
        e("div.ubreservedstatus-results").show(),
        e("timetable#timetable").hide(),
        e("#editdelete").hide(),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangegrade]"
        ).val(""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangetime]"
        ).val(""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=mrefid]"
        ).val(""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflinereserveid]"
        ).val(""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form"
        ).hide(),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset#id_reservedfeedback"
        ).hide(),
        e("#openAddReservedStatusDialog").modal();
    }
    if ("EDIT_RESERVED_STATUS_EVENT" === i) {
      let d;
      e(
        "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=proc_type]"
      ).val(i),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > legend > a.fheader:nth(0)"
        ).text("예약 수정"),
        (d = JSON.stringify(t)),
        e("#vinfo").val(d),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=vinfo]"
        ).val(d),
        e(
          "div.search-ubreservedstatus > form > div > div > div > select option"
        ).attr("selected", !1),
        e(
          "div.search-ubreservedstatus > form > div > div > div > input[name=keyword]"
        ).val(""),
        e(
          "div.search-ubreservedstatus > form > div > div > div > input#ubrestatussearchcancel"
        ).hide(),
        e(
          "div.ubreservedstatus-results > table > tbody > tr > td > input[type=radio]"
        ).attr("checked", !1),
        e("div.ubreservedstatus-results > table > tbody > tr ").show(),
        e("div.search-ubreservedstatus").show(),
        e("div.ubreservedstatus-results").show(),
        e("timetable#timetable").hide(),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form"
        ).hide(),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset#id_reservedfeedback"
        ).show(),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
        ).hide(),
        e("input[name=submitbutton]").ready(function () {
          e(
            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
          ).css("margin-left") ||
            (e("input[name=submitbutton]").after(
              "<button id='editclose' type='button' class='btn btn-default' data-dismiss='modal'>Close</button>"
            ),
            e("input[name=submitbutton] + button ").css("margin-left", 10));
        }),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
        ).hide(),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
        ).css("display", "flex"),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
        ).css("justify-content", "flex-end"),
        e("#editdelete").show(),
        e("#editclose").show(),
        e("input[name=submitbutton]").ready(function () {
          e(
            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > button.btn-delete"
          ).css("margin-right")
            ? (e("#editdelete").show(), e("#editclose").show())
            : (e("input[name=submitbutton]").before(
                "<button id='editdelete' type='button' class='btn btn-danger btn-delete' data-dismiss='modal'>삭제</button>"
              ),
              e(".felement.fsubmit > button.btn-delete").css("margin-right", 5),
              e("#editclose").show()),
            e("#editdelete").click(function (e) {
              g(t, "DELETE_RESERVED_STATUS_EVENT");
            });
        }),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset#id_reservedfeedback > legend > a"
        ).attr("aria-expanded") &&
          (e(
            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset#id_reservedfeedback"
          ).addClass("collapsed"),
          e(
            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset#id_reservedfeedback > legend > a"
          ).attr("aria-expanded", !1)),
        e("div.search-ubreservedstatus").hide(),
        e("div.ubreservedstatus-results").hide(),
        e("timetable#timetable").show();
      let a = "",
        o = "",
        s = "",
        r = "",
        n = "",
        v = "",
        l = "",
        c = "",
        m = "",
        u = "",
        b = "",
        f = "";
      t &&
        ((a = t.event._def.extendedProps.userid
          ? t.event._def.extendedProps.userid
          : ""),
        (o = t.event._def.extendedProps.firstname
          ? t.event._def.extendedProps.firstname
          : ""),
        (s = t.event._def.extendedProps.reservedatetime
          ? t.event._def.extendedProps.reservedatetime
          : ""),
        (r = t.event._def.extendedProps.mresid
          ? t.event._def.extendedProps.mresid
          : ""),
        (n = t.event._def.extendedProps.idnumber
          ? t.event._def.extendedProps.idnumber
          : ""),
        (v = t.event._def.extendedProps.department
          ? t.event._def.extendedProps.department
          : ""),
        (l = t.event._def.extendedProps.gname
          ? t.event._def.extendedProps.gname
          : ""),
        (c = t.event._def.extendedProps.phone2
          ? t.event._def.extendedProps.phone2
          : ""),
        (m = t.event._def.extendedProps.mrefid
          ? t.event._def.extendedProps.mrefid
          : ""),
        (u = t.event._def.extendedProps.isparticipation
          ? t.event._def.extendedProps.isparticipation
          : ""),
        (b = t.event._def.extendedProps.resgrade
          ? t.event._def.extendedProps.resgrade
          : ""),
        (f = t.event._def.extendedProps.resgradefeedback
          ? t.event._def.extendedProps.resgradefeedback
          : "")),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reserveusername > div.fstatic"
        ).text(o),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reserveuserid]"
        ).val(a),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reservedatetime]"
        ).val(s),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflinereserveid]"
        ).val(r),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate > div.fstatic"
        ).text(""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate > div.fstatic"
        ).text(moment(1e3 * s).format("YYYY-MM-DD")),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
        ).text(""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
        ).text(moment(1e3 * s).format("HH:mm")),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_residnumber > div.fstatic"
        ).text(n),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_resdept > div.fstatic"
        ).text(v),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_resteam > div.fstatic"
        ).text(l),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_restel > div.fstatic"
        ).text(c),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=mrefid]"
        ).val(m),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedisparticipation > div > select#id_reservedisparticipation option"
        )
          .filter(function () {
            return e(this).attr("selected", !1), e(this).attr("value") == u;
          })
          .attr("selected", !0),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedgrade > div > input#id_reservedgrade"
        ).val(b),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedresgradefeedback > div > textarea#id_reservedresgradefeedback"
        ).text(f),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangegrade]"
        ).val(""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangetime]"
        ).val(""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedisparticipation > div > select#id_reservedisparticipation"
        ).change(function (t) {
          e(
            "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangegrade]"
          ).val(!0),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
            ).show();
        }),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedgrade > div > input#id_reservedgrade"
        ).keyup(function (t) {
          e(
            "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangegrade]"
          ).val(!0),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
            ).show();
        }),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedresgradefeedback > div > textarea#id_reservedresgradefeedback"
        ).keyup(function (t) {
          e(
            "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangegrade]"
          ).val(!0),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
            ).show();
        }),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form"
        ).show(),
        e("timetable#timetable table#timetables.table").ready(function () {
          let t = e("#fitem_id_reservedate div.fstatic").text(),
            i = e("#fitem_id_reservetime div.fstatic").text();
          R(1e3 * (new Date(t + " " + i).valueOf() / 1e3 + 32400)),
            e("timecardtable#timecardtable").show();
        }),
        e("#openAddReservedStatusDialog").modal();
    }
  }
  function g(t, i) {
    let d,
      a = e("#cmid").val(),
      o = e("#tabtype").val(),
      s = e("#subtabtype").val(),
      r = e("#sesskey").val(),
      n =
        (e("#curday").val(), e("#activitypth").val(), e("#is_professor").val());
    (d = {
      proc_type: i,
      cmid: a,
      tabtype: o,
      subtabtype: s,
      sesskey: r,
      is_professor: n,
      mresid: t.event.extendedProps.mresid,
      mresuboffline: t.event.extendedProps.ubofflineid,
      mresuserid: t.event.extendedProps.userid,
      mresubreservation: t.event.extendedProps.ubreservation,
      mresreservedatetime: t.event.extendedProps.reservedatetime,
      mresreservestate: t.event.extendedProps.reservestate,
    }),
      confirm("삭제하시겠습니까?") &&
        e.ajax({
          type: "POST",
          url: "action_.php",
          data: d,
          success: function (e) {
            let t;
            3 == o &&
              1 == s &&
              (t =
                "/mod/uboffline/viewtabreservationstatus.php?id=" +
                a +
                "&tabtype=" +
                o +
                "&subtabtype=" +
                s),
              3 == o &&
                2 == s &&
                (t =
                  "/mod/uboffline/viewtabreservationstatusdays.php?id=" +
                  a +
                  "&tabtype=" +
                  o +
                  "&subtabtype=" +
                  s),
              3 == o &&
                3 == s &&
                (t =
                  "/mod/uboffline/viewtabreservationstatusstudents.php?id=" +
                  a +
                  "&tabtype=" +
                  o +
                  "&subtabtype=" +
                  s),
              4 == o &&
                (t =
                  "/mod/uboffline/viewtabevaluation.php?id=" +
                  a +
                  "&tabtype=" +
                  o),
              (window.location.href = t);
          },
        });
  }
  function S() {
    e("#dateselector-calendar-panel").css("z-index", "1100"),
      e("div.ubReservedStatusDays > form").ready(function () {
        e("div.ubReservedStatusDays > form > fieldset#id_desc > legend").hide();
        let t =
          0.3 *
          e("div.ubReservedStatusDays > form #id_reservedselectedtype")
            .css("width")
            .replace("px", "");
        e("div.ubReservedStatusDays > form #id_reservedselectedtype").css(
          "width",
          t
        ),
          e("div.ubReservedStatusDays > form #id_reservedselectedtype")
            .parent()
            .css("display", "flex"),
          e("div.ubReservedStatusDays > form #id_reservedselectedtype").after(
            e("div.ubReservedStatusDays > form #id_reservedselectedword").css(
              "margin-left",
              10
            )
          ),
          e("div.ubReservedStatusDays > form #id_reservedselectedword").after(
            e("div.ubReservedStatusDays > form #id_submitbutton").css(
              "margin-left",
              10
            )
          );
        let i =
          1 *
          e("div.ubReservedStatusDays > form #id_reservedselectedword")
            .css("height")
            .replace("px", "");
        e("div.ubReservedStatusDays > form #id_submitbutton").css("height", i),
          e(
            "div.ubReservedStatusDays > form #fitem_id_reservedselectedword"
          ).hide(),
          e("div.ubReservedStatusDays > form #fitem_id_submitbutton").hide(),
          e("div.ubReservedStatusDays > form #id_submitbutton").show(),
          e(
            "div.ubReservedStatusDays > form #fitem_id_reservedselecteddatetime"
          ).show(),
          e(
            "div.ubReservedStatusDays > form #fitem_id_reservedselectedweeksdatetime"
          ).hide(),
          e("div.ubReservedStatusDays > form #id_submitbutton").click(function (
            t
          ) {
            (window.onbeforeunload = null),
              t.preventDefault(),
              e("reservedtable#reservedtable table#reservedtables").ready(
                function () {
                  !(function () {
                    let t = e("#cmid").val(),
                      i = e("#tabtype").val(),
                      d = e("#subtabtype").val(),
                      a = e("#sesskey").val(),
                      o = e("#curday").val(),
                      s = e(
                        "div.ubReservedStatusDays > form input[name=subproc_type]"
                      ).val(),
                      n =
                        (e("#activitypth").val(),
                        e("#is_professor").val(),
                        e(
                          "div.ubReservedStatusDays > form #id_reservedselectedperiod"
                        ).val()),
                      v = e(
                        "div.ubReservedStatusDays > form #id_reservedselecteddatetime_year"
                      ).val(),
                      l = e(
                        "div.ubReservedStatusDays > form #id_reservedselecteddatetime_month"
                      ).val(),
                      c = e(
                        "div.ubReservedStatusDays > form #id_reservedselecteddatetime_day"
                      ).val(),
                      m = moment(
                        new Date(v + "-" + l + "-" + c).valueOf()
                      ).format("YYYY-MM-DD"),
                      u = e(
                        "div.ubReservedStatusDays > form #id_reservedselectedweeksdatetime option:selected"
                      ).val(),
                      b = e(
                        "div.ubReservedStatusDays > form #id_reservedselectedstate"
                      ).val(),
                      f = e(
                        "div.ubReservedStatusDays > form #id_reservedselectedtype"
                      ).val(),
                      p = e(
                        "div.ubReservedStatusDays > form #id_reservedselectedword"
                      ).val();
                    e.ajax({
                      url: "action_.php",
                      data: {
                        proc_type: "SEARCH_RESERVED_STATUS_EVENT",
                        subproc_type: s,
                        cmid: t,
                        tabtype: i,
                        subtabtype: d,
                        sesskey: a,
                        curday: o,
                        resperiod: n,
                        resdatetime_year: v,
                        resdatetime_month: l,
                        resdatetime_day: c,
                        resdatetime: m,
                        resdatetime_week: u,
                        resstate: b,
                        ressearchtype: f,
                        ressearchword: p,
                      },
                      type: "POST",
                      success: function (e) {
                        r(e);
                      },
                    });
                  })();
                }
              );
          }),
          e("#id_reservedselectedperiod").click(function (t) {
            t.preventDefault(),
              "days" == e(this).val()
                ? (e("#fitem_id_reservedselecteddatetime").show(),
                  e("#fitem_id_reservedselectedweeksdatetime").hide())
                : (e("#fitem_id_reservedselecteddatetime").hide(),
                  e("#fitem_id_reservedselectedweeksdatetime").show());
          });
      }),
      e("#reservedtables").ready(function () {
        let t = e("reservedtable#reservedtable table#reservedtables");
        r = function (a) {
          if (
            (t.bootstrapTable("destroy"),
            t.bootstrapTable({
              id: "reservedtables",
              data: a.timetables,
              classes: "table table-bordered table-hover table-borderless",
              locale: "ko-KR",
              responseHandler: function (e) {
                return (
                  e.forEach(function (e, t) {
                    e.index = t;
                  }),
                  e
                );
              },
            }),
            (s = t),
            "weeks" === a.event.resperiod)
          ) {
            let i = t.find("thead > tr > th").length;
            t.find("tbody > tr > td > label input[type=checkbox]:checked").each(
              function () {
                let d = e(this)
                    .parent()
                    .parent()
                    .parent()
                    .find("td:nth-child(" + i + "n+8)")
                    .text(),
                  a = e(this).parent().parent();
                a.removeClass("bs-checkbox"),
                  a.css("font-weight", "bold"),
                  a.attr("data-tableexport-colspan", i),
                  a.text(d);
                for (let e = 2; e <= i; e++) {
                  a.parent()
                    .find("td:nth-child(" + i + "n+" + e + ")")
                    .attr("data-tableexport-display", "none");
                }
                t.bootstrapTable("mergeCells", {
                  index: e(this).data("index"),
                  field: "state",
                  colspan: i,
                });
              }
            );
          }
          e(
            "div.ubReservedStatusStudents > reservedtable#reservedtable table#reservedtables"
          ).ready(function () {
            let t = e(
              "div.ubReservedStatusStudents table#reservedtables > thead > tr > th"
            ).length;
            e("button.fc-userdetail-button").click(function (a) {
              let o,
                r,
                n = e(this)
                  .closest("tr")
                  .find("td:nth-child(" + t + "n+1) label input[type=checkbox]")
                  .data("index");
              s.bootstrapTable("uncheckAll"), s.bootstrapTable("check", n);
              e.map(s.bootstrapTable("getSelections"), function (e) {
                (o = e.fullname), (r = e.phone2);
              });
              let v = { username: o, userphone: r };
              i.create({
                type: i.types.CANCEL,
                title: "연락처",
                body: d.render("mod_uboffline/modal_user_phone_view", v),
                large: !1,
              }).then(function (e) {
                e.show();
              });
            });
          }),
            e("#reservedtables").ready(function () {
              let t = e("#reservedtables > thead > tr > th").length;
              e("button.fc-userupdate-button").click(function (i) {
                let d = e(this).attr("id").replace("uu", ""),
                  a = e(this)
                    .closest("tr")
                    .find(
                      "td:nth-child(" + t + "n+1) label input[type=checkbox]"
                    )
                    .data("index");
                s.bootstrapTable("uncheckAll"),
                  s.bootstrapTable("check", a),
                  e("div.search-ubreservedstatus").hide(),
                  e("div.ubreservedstatus-results").hide(),
                  e("timetable#timetable").hide(),
                  e("timecardtable#timecardtable").hide(),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form"
                  ).show(),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset#id_reservedfeedback"
                  ).show(),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
                  ).css("display", "flex"),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
                  ).css("justify-content", "flex-end"),
                  e("#editdelete").show(),
                  e("#editclose").show(),
                  e(
                    "#openAddReservedStatusDialog input[name=submitbutton]"
                  ).ready(function () {
                    e(
                      "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > button.btn-delete"
                    ).css("margin-right")
                      ? (e("#editdelete").show(), e("#editclose").show())
                      : (e(
                          "#openAddReservedStatusDialog input[name=submitbutton]"
                        ).before(
                          "<button id='editdelete' type='button' class='btn btn-danger btn-delete' data-dismiss='modal'>삭제</button>"
                        ),
                        e(".felement.fsubmit > button.btn-delete").css(
                          "margin-right",
                          5
                        ),
                        e("#editclose").show()),
                      e("#editdelete").click(function (t) {
                        let i;
                        (i = {
                          event: {
                            extendedProps: {
                              mresid: e(
                                "#openAddReservedStatusDialog form input[name=ubofflinereserveid]"
                              ).val(),
                              ubofflineid: e(
                                "#openAddReservedStatusDialog form input[name=ubofflineid]"
                              ).val(),
                              userid: e(
                                "#openAddReservedStatusDialog form input[name=reserveuserid]"
                              ).val(),
                              ubreservation: e(
                                "#openAddReservedStatusDialog form input[name=ubofflinereservationsid]"
                              ).val(),
                              reservedatetime: e(
                                "#openAddReservedStatusDialog form input[name=reservedatetime]"
                              ).val(),
                              reservestate: e(
                                "#openAddReservedStatusDialog form input[name=reservestate]"
                              ).val(),
                            },
                          },
                        }),
                          g(i, "DELETE_RESERVED_STATUS_EVENT");
                      });
                  }),
                  k(d);
              });
            }),
            e(
              "div.ubReservedStatusStudents > reservedtable#reservedtable table#reservedtables"
            ).ready(function () {
              let t = e("#reservedtables > thead > tr > th").length;
              e("button.fc-userinsert-button").click(function (i) {
                let d,
                  a,
                  o = e(this)
                    .closest("tr")
                    .find(
                      "td:nth-child(" + t + "n+1) label input[type=checkbox]"
                    )
                    .data("index");
                s.bootstrapTable("uncheckAll"), s.bootstrapTable("check", o);
                e.map(s.bootstrapTable("getSelections"), function (e) {
                  (d = P(e, { start: moment(1e3 * e.id00).valueOf() })),
                    window.console.log(
                      new Date().toISOString(),
                      "userinsert row.id00",
                      d
                    );
                });
                (a = JSON.stringify(d)),
                  e("#vinfo").val(a),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=vinfo]"
                  ).val(a),
                  e("#id_reserve_datetime_year option")
                    .filter(function () {
                      return (
                        e(this).attr("selected", !1),
                        e(this).attr("value") ==
                          parseInt(moment(d.start).format("YYYY"))
                      );
                    })
                    .attr("selected", !0)
                    .parent("select")
                    .val(parseInt(moment(d.start).format("YYYY"))),
                  e("#id_reserve_datetime_month option")
                    .filter(function () {
                      return (
                        e(this).attr("selected", !1),
                        e(this).attr("value") ==
                          parseInt(moment(d.start).format("MM"))
                      );
                    })
                    .attr("selected", !0)
                    .parent("select")
                    .val(parseInt(moment(d.start).format("MM"))),
                  e("#id_reserve_datetime_day option")
                    .filter(function () {
                      return (
                        e(this).attr("selected", !1),
                        e(this).attr("value") ==
                          parseInt(moment(d.start).format("DD"))
                      );
                    })
                    .attr("selected", !0)
                    .parent("select")
                    .val(parseInt(moment(d.start).format("DD"))),
                  e("#id_reserve_datetime_hour option")
                    .filter(function () {
                      return (
                        e(this).attr("selected", !1),
                        e(this).attr("value") ==
                          parseInt(moment(d.start).format("HH"))
                      );
                    })
                    .attr("selected", !0)
                    .parent("select")
                    .val(parseInt(moment(d.start).format("HH"))),
                  e("#id_reserve_datetime_minute option")
                    .filter(function () {
                      return (
                        e(this).attr("selected", !1),
                        e(this).attr("value") ==
                          parseInt(moment(d.start).format("mm"))
                      );
                    })
                    .attr("selected", !0)
                    .parent("select")
                    .val(parseInt(moment(d.start).format("mm")));
                e(
                  "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=proc_type]"
                ).val("ADD_RESERVED_STATUS_EVENT"),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > legend > a.fheader:nth(0)"
                  ).text("예약 등록"),
                  e(
                    "div.search-ubreservedstatus > form > div > div > div > select option"
                  ).attr("selected", !1),
                  e(
                    "div.search-ubreservedstatus > form > div > div > div > input[name=keyword]"
                  ).val(""),
                  e(
                    "div.search-ubreservedstatus > form > div > div > div > input#ubrestatussearchcancel"
                  ).hide(),
                  e(
                    "div.ubreservedstatus-results > table > tbody > tr > td > input[type=radio]"
                  ).attr("checked", !1),
                  e(
                    "div.ubreservedstatus-results > table > tbody > tr "
                  ).show(),
                  e("div.search-ubreservedstatus").show(),
                  e("div.ubreservedstatus-results").show(),
                  e("timetable#timetable").hide(),
                  e("#editdelete").hide(),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangegrade]"
                  ).val(""),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangetime]"
                  ).val(""),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=mrefid]"
                  ).val(""),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflinereserveid]"
                  ).val(""),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form"
                  ).hide(),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset#id_reservedfeedback"
                  ).hide(),
                  e("#openAddReservedStatusDialog").modal();
              }),
                e("#id_reserve_datetime_year").change(function (e) {
                  x();
                }),
                e("#id_reserve_datetime_month").change(function (e) {
                  x();
                }),
                e("#id_reserve_datetime_day").change(function (e) {
                  x();
                }),
                e("#id_reserve_datetime_hour").change(function (e) {
                  x();
                }),
                e("#id_reserve_datetime_minute").change(function (e) {
                  x();
                });
            }),
            e("#dateselector-calendar-panel").css("z-index", "1100"),
            e("reservedtable#reservedtable div.fixed-table-loading").hide(),
            e("#ubReservedStatusStudentsbuttons").css("display", "flex"),
            e("#ubReservedStatusStudentsbuttons").show(),
            e(".evaluationbuttones").css("display", "flex"),
            e(".evaluationbuttones").show();
        };
      });
  }
  function D() {
    e("#dateselector-calendar-panel").css("z-index", "1100"),
      e("div.ubReservedStatusStudents > form").ready(function () {
        e(
          "div.ubReservedStatusStudents > form > fieldset#id_desc > legend"
        ).hide();
        let t =
          0.3 *
          e("div.ubReservedStatusStudents > form #id_reservedselectedtype")
            .css("width")
            .replace("px", "");
        e("div.ubReservedStatusStudents > form #id_reservedselectedtype").css(
          "width",
          t
        ),
          e("div.ubReservedStatusStudents > form #id_reservedselectedtype")
            .parent()
            .css("display", "flex"),
          e(
            "div.ubReservedStatusStudents > form #id_reservedselectedtype"
          ).after(
            e(
              "div.ubReservedStatusStudents > form #id_reservedselectedword"
            ).css("margin-left", 10)
          ),
          e(
            "div.ubReservedStatusStudents > form #id_reservedselectedword"
          ).after(
            e("div.ubReservedStatusStudents > form #id_submitbutton").css(
              "margin-left",
              10
            )
          );
        let i =
          1 *
          e("div.ubReservedStatusStudents > form #id_reservedselectedword")
            .css("height")
            .replace("px", "");
        e("div.ubReservedStatusStudents > form #id_submitbutton").css(
          "height",
          i
        ),
          e(
            "div.ubReservedStatusStudents > form #fitem_id_reservedselectedword"
          ).hide(),
          e(
            "div.ubReservedStatusStudents > form #fitem_id_submitbutton"
          ).hide(),
          e("div.ubReservedStatusStudents > form #id_submitbutton").show(),
          e("div.ubReservedStatusStudents > form #id_submitbutton").click(
            function (t) {
              (window.onbeforeunload = null),
                t.preventDefault(),
                e("reservedtable#reservedtable table#reservedtables").ready(
                  function () {
                    !(function () {
                      let t = e("#cmid").val(),
                        i = e("#tabtype").val(),
                        d = e("#subtabtype").val(),
                        a = e("#sesskey").val(),
                        o = e("#curday").val(),
                        s = e(
                          "div.ubReservedStatusStudents > form input[name=subproc_type]"
                        ).val(),
                        n =
                          (e("#activitypth").val(),
                          e("#is_professor").val(),
                          e(
                            "div.ubReservedStatusStudents > form #id_reservedselectedperiod"
                          ).val()),
                        v = e(
                          "div.ubReservedStatusStudents > form #id_reservedselecteddatetime_year"
                        ).val()
                          ? e(
                              "div.ubReservedStatusStudents > form #id_reservedselecteddatetime_year"
                            ).val()
                          : "",
                        l = e(
                          "div.ubReservedStatusStudents > form #id_reservedselecteddatetime_month"
                        ).val()
                          ? e(
                              "div.ubReservedStatusStudents > form #id_reservedselecteddatetime_month"
                            ).val()
                          : "",
                        c = e(
                          "div.ubReservedStatusStudents > form #id_reservedselecteddatetime_day"
                        ).val()
                          ? e(
                              "div.ubReservedStatusStudents > form #id_reservedselecteddatetime_day"
                            ).val()
                          : "",
                        m = v ? c + "-" + l + "-" + v : "",
                        u = e(
                          "div.ubReservedStatusStudents > form #id_reservedselectedstate"
                        ).val(),
                        b = e(
                          "div.ubReservedStatusStudents > form #id_reservedselectedtype"
                        ).val(),
                        f = e(
                          "div.ubReservedStatusStudents > form #id_reservedselectedword"
                        ).val();
                      e.ajax({
                        url: "action_.php",
                        data: {
                          proc_type: "SEARCH_RESERVED_STATUS_EVENT",
                          subproc_type: s,
                          cmid: t,
                          tabtype: i,
                          subtabtype: d,
                          sesskey: a,
                          curday: o,
                          resperiod: n,
                          resdatetime_year: v,
                          resdatetime_month: l,
                          resdatetime_day: c,
                          resdatetime: m,
                          resstate: u,
                          ressearchtype: b,
                          ressearchword: f,
                        },
                        type: "POST",
                        success: function (e) {
                          r(e);
                        },
                      });
                    })();
                  }
                );
            }
          );
      }),
      e("#reservedtables").ready(function () {
        let t = e("reservedtable#reservedtable table#reservedtables");
        r = function (a) {
          t.bootstrapTable("destroy"),
            t.bootstrapTable({
              id: "reservedtables",
              data: a.data,
              classes: "table table-bordered table-hover table-borderless",
              locale: "ko-KR",
            }),
            (s = t),
            e(
              "div.ubReservedStatusStudents > reservedtable#reservedtable table#reservedtables"
            ).ready(function () {
              let t = e(
                "div.ubReservedStatusStudents table#reservedtables > thead > tr > th"
              ).length;
              e("button.fc-userdetail-button").click(function (a) {
                let o,
                  r,
                  n = e(this)
                    .closest("tr")
                    .find(
                      "td:nth-child(" + t + "n+1) label input[type=checkbox]"
                    )
                    .data("index");
                s.bootstrapTable("uncheckAll"), s.bootstrapTable("check", n);
                e.map(s.bootstrapTable("getSelections"), function (e) {
                  (o = e.fullname), (r = e.phone2);
                });
                let v = { username: o, userphone: r };
                i.create({
                  type: i.types.CANCEL,
                  title: "연락처",
                  body: d.render("mod_uboffline/modal_user_phone_view", v),
                  large: !1,
                }).then(function (e) {
                  e.show();
                });
              });
            }),
            e(
              "div.ubReservedStatusStudents > reservedtable#reservedtable table#reservedtables"
            ).ready(function () {
              let t = e(
                "div.ubReservedStatusStudents table#reservedtables > thead > tr > th"
              ).length;
              e(
                "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
              ).css("display", "flex"),
                e(
                  "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
                ).css("justify-content", "flex-end"),
                e("#editdelete").show(),
                e("#editclose").show(),
                e(
                  "#openAddReservedStatusDialog input[name=submitbutton]"
                ).ready(function () {
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > button.btn-delete"
                  ).css("margin-right")
                    ? (e("#editdelete").show(), e("#editclose").show())
                    : (e(
                        "#openAddReservedStatusDialog input[name=submitbutton]"
                      ).before(
                        "<button id='editdelete' type='button' class='btn btn-danger btn-delete' data-dismiss='modal'>삭제</button>"
                      ),
                      e(".felement.fsubmit > button.btn-delete").css(
                        "margin-right",
                        5
                      ),
                      e("#editclose").show()),
                    e("#editdelete").click(function (t) {
                      let i;
                      (i = {
                        event: {
                          extendedProps: {
                            mresid: e(
                              "#openAddReservedStatusDialog form input[name=ubofflinereserveid]"
                            ).val(),
                            ubofflineid: e(
                              "#openAddReservedStatusDialog form input[name=ubofflineid]"
                            ).val(),
                            userid: e(
                              "#openAddReservedStatusDialog form input[name=reserveuserid]"
                            ).val(),
                            ubreservation: e(
                              "#openAddReservedStatusDialog form input[name=ubofflinereservationsid]"
                            ).val(),
                            reservedatetime: e(
                              "#openAddReservedStatusDialog form input[name=reservedatetime]"
                            ).val(),
                            reservestate: e(
                              "#openAddReservedStatusDialog form input[name=reservestate]"
                            ).val(),
                          },
                        },
                      }),
                        g(i, "DELETE_RESERVED_STATUS_EVENT");
                    });
                }),
                e("button.fc-userupdate-button").click(function (i) {
                  let d = e(this).attr("id").replace("uu", ""),
                    a = e(this)
                      .closest("tr")
                      .find(
                        "td:nth-child(" + t + "n+1) label input[type=checkbox]"
                      )
                      .data("index");
                  s.bootstrapTable("uncheckAll"),
                    s.bootstrapTable("check", a),
                    k(d);
                });
            }),
            e(
              "div.ubReservedStatusStudents > reservedtable#reservedtable table#reservedtables"
            ).ready(function () {
              let t = e(
                "div.ubReservedStatusStudents table#reservedtables > thead > tr > th"
              ).length;
              e("button.fc-userinsert-button").click(function (i) {
                e(this).attr("id").replace("ui", "");
                let d = e(this)
                  .closest("tr")
                  .find("td:nth-child(" + t + "n+1) label input[type=checkbox]")
                  .data("index");
                s.bootstrapTable("uncheckAll"),
                  s.bootstrapTable("check", d),
                  (function (t) {
                    let i = "ADD_RESERVED_STATUS_EVENT";
                    e(
                      "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=proc_type]"
                    ).val(i),
                      e(
                        "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > legend > a.fheader:nth(0)"
                      ).text("예약 신청 일시");
                    e.map(s.bootstrapTable("getSelections"), function (t) {
                      e(
                        "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reserveuserid]"
                      ).val(t.id),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reservedatetime]"
                        ).val(t.reservedatetime),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflineid]"
                        ).val(t.ubofflineid),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflinereservationsid]"
                        ).val(t.ubreservationid),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflinereserveid]"
                        ).val(t.reserveid),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=mrefid]"
                        ).val(t.mrefid),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangegrade]"
                        ).val(!0),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reserveusername > div.fstatic"
                        ).text(t.fullname ? t.fullname : ""),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_residnumber > div.fstatic"
                        ).text(t.idnumber ? t.idnumber : ""),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_resdept > div.fstatic"
                        ).text(t.department ? t.department : ""),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_resteam > div.fstatic"
                        ).text(t.gname ? t.gname : ""),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_restel > div.fstatic"
                        ).text(t.phone2 ? t.phone2 : ""),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate > div.fstatic"
                        ).text(
                          t.reservedatetime_ymd ? t.reservedatetime_ymd : ""
                        ),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
                        ).text(
                          t.reservedatetime_hm ? t.reservedatetime_hm : ""
                        ),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedisparticipation > div > select#id_reservedisparticipation option"
                        )
                          .filter(function () {
                            return (
                              e(this).attr("selected", !1),
                              e(this).attr("value") == t.isparticipation
                            );
                          })
                          .attr("selected", !0)
                          .parent()
                          .val(t.isparticipation),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedgrade > div > input#id_reservedgrade"
                        ).val(t.resgrade ? t.resgrade : ""),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedresgradefeedback > div > textarea#id_reservedresgradefeedback"
                        ).text(t.resgradefeedback ? t.resgradefeedback : "");
                    });
                    e(
                      "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset#id_reservedfeedback"
                    ).hide(),
                      e(
                        "#openAddReservedStatusDialog > div > div > div.modal-body > form #fitem_id_submitbutton"
                      ).hide(),
                      e(
                        "#openAddReservedStatusDialog > div > div > div.modal-body > form #fitem_id_submitbutton"
                      )
                        .parent("div")
                        .css("display", "flex"),
                      e(
                        "#openAddReservedStatusDialog > div > div > div.modal-body > form #fitem_id_submitbutton"
                      )
                        .parent("div")
                        .css("justify-content", "flex-end"),
                      e(
                        "#openAddReservedStatusDialog > div > div > div.modal-body > form #fitem_id_submitbutton"
                      )
                        .parent("div")
                        .css("margin-right", "20px"),
                      e(
                        "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate"
                      ).hide(),
                      e(
                        "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime"
                      ).hide(),
                      e(
                        "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reserve_datetime"
                      ).show(),
                      e("timecardtable#timecardtable").hide(),
                      e("#openAddReservedStatusDialog").modal();
                  })();
              }),
                e("#id_reserve_datetime_year").change(function (e) {
                  x();
                }),
                e("#id_reserve_datetime_month").change(function (e) {
                  x();
                }),
                e("#id_reserve_datetime_day").change(function (e) {
                  x();
                }),
                e("#id_reserve_datetime_hour").change(function (e) {
                  x();
                }),
                e("#id_reserve_datetime_minute").change(function (e) {
                  x();
                });
            }),
            e("#dateselector-calendar-panel").css("z-index", "1100"),
            e("reservedtable#reservedtable div.fixed-table-loading").hide(),
            e("#ubReservedStatusStudentsbuttons").css("display", "flex"),
            e("#ubReservedStatusStudentsbuttons").show(),
            e(".evaluationbuttones").css("display", "flex"),
            e(".evaluationbuttones").show();
        };
      });
  }
  function k(t) {
    e(
      "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset#id_reservedfeedback"
    ).show(),
      e(
        "#openAddReservedStatusDialog > div > div > div.modal-body > form #fitem_id_submitbutton"
      ).show(),
      e(
        "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate"
      ).show(),
      e(
        "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime"
      ).show(),
      e(
        "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reserve_datetime"
      ).hide(),
      e("timetable#timetable").hide(),
      e("timecardtable#timecardtable").hide(),
      e(
        "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=proc_type]"
      ).val("EDIT_RESERVED_STATUS_EVENT"),
      e(
        "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > legend > a.fheader:nth(0)"
      ).text("학생 상세 정보");
    e.map(s.bootstrapTable("getSelections"), function (t) {
      e(
        "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reserveuserid]"
      ).val(t.id),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reservedatetime]"
        ).val(t.reservedatetime),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reservestate]"
        ).val(t.reservestate),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflineid]"
        ).val(t.ubofflineid),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflinereservationsid]"
        ).val(t.ubreservationid),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflinereserveid]"
        ).val(t.reserveid),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=mrefid]"
        ).val(t.mrefid),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangegrade]"
        ).val(!0),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reserveusername > div.fstatic"
        ).text(t.fullname ? t.fullname : ""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_residnumber > div.fstatic"
        ).text(t.idnumber ? t.idnumber : ""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_resdept > div.fstatic"
        ).text(t.department ? t.department : ""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_resteam > div.fstatic"
        ).text(t.gname ? t.gname : ""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_restel > div.fstatic"
        ).text(t.phone2 ? t.phone2 : ""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate > div.fstatic"
        ).text(t.reservedatetime_ymd ? t.reservedatetime_ymd : ""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
        ).text(t.reservedatetime_hm ? t.reservedatetime_hm : ""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedisparticipation > div > select#id_reservedisparticipation option"
        )
          .filter(function () {
            return (
              e(this).attr("selected", !1),
              e(this).attr("value") == t.isparticipation
            );
          })
          .attr("selected", !0)
          .parent()
          .val(t.isparticipation),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedgrade > div > input#id_reservedgrade"
        ).val(t.resgrade ? t.resgrade : ""),
        e(
          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedresgradefeedback > div > textarea#id_reservedresgradefeedback"
        ).text(t.resgradefeedback ? t.resgradefeedback : "");
    });
    e("#openAddReservedStatusDialog").modal();
  }
  function x() {
    let t = e("#id_reserve_datetime_year option:selected").val(),
      i = e("#id_reserve_datetime_month option:selected").val(),
      d = e("#id_reserve_datetime_day option:selected").val(),
      a = e("#id_reserve_datetime_hour option:selected").val(),
      o = e("#id_reserve_datetime_minute option:selected").val();
    R(
      1e3 *
        (new Date(t + "-" + i + "-" + d + " " + a + ":" + o).valueOf() / 1e3 +
          32400)
    ),
      e("timecardtable#timecardtable").show();
  }
  function R(t) {
    let i = e("#cmid").val(),
      d = e("#tabtype").val(),
      a = e("#subtabtype").val(),
      o = e("#sesskey").val(),
      s = e("#curday").val();
    e("#activitypth").val(), e("#is_professor").val();
    e.ajax({
      url: "action_.php",
      data: {
        proc_type: "FETCH_TIMETABLE_RESERVE",
        cmid: i,
        tabtype: d,
        subtabtype: a,
        sesskey: o,
        start: t,
        curday: s,
      },
      type: "POST",
      success: function (e) {
        n(e);
      },
    });
  }
  function w() {
    e("#sendform input[name=cmid]").val(),
      e("#sendform input[name=tabtype]").val(),
      e("#sendform input[name=sesskey]").val(),
      e("#sendform input[name=is_professor]").val();
    let t = e("#formactionid option:selected").val();
    t && (e("#sendform").attr("action", t), e("#sendform").submit());
  }
  function A() {
    e("#dateselector-calendar-panel").css("z-index", "1100"),
      e("div.ubEvaluation > form").ready(function () {
        let t =
          0.3 *
          e("div.ubEvaluation > form #id_evaluationsearchtype")
            .css("width")
            .replace("px", "");
        e("div.ubEvaluation > form #id_evaluationsearchtype").css("width", t),
          e("div.ubEvaluation > form #id_evaluationsearchtype").after(
            e("div.ubEvaluation > form #id_evaluationsearchword")
          ),
          e("div.ubEvaluation > form #id_evaluationsearchword").after(
            e("div.ubEvaluation > form #id_submitbutton")
          );
        let i =
          1 *
          e("div.ubEvaluation > form #id_evaluationsearchword")
            .css("height")
            .replace("px", "");
        e("div.ubEvaluation > form #id_submitbutton").css("height", i),
          e("div.ubEvaluation > form #id_submitbutton").click(function (t) {
            (window.onbeforeunload = null),
              t.preventDefault(),
              e("evaluationtable#evaluationtable table#evaluationtables").ready(
                function () {
                  !(function () {
                    let t = e("div.ubEvaluation > form input[name=cmid]").val(),
                      i = e(
                        "div.ubEvaluation > form input[name=tabtype]"
                      ).val(),
                      d = e(
                        "div.ubEvaluation > form input[name=sesskey]"
                      ).val(),
                      a =
                        (e(
                          "div.ubEvaluation > form input[name=is_professor]"
                        ).val(),
                        e("div.ubEvaluation > form #id_evaluationgrade").val()),
                      o = e(
                        "div.ubEvaluation > form #id_evaluationattend"
                      ).val(),
                      s = e(
                        "div.ubEvaluation > form #id_evaluationreserved"
                      ).val(),
                      r = e(
                        "div.ubEvaluation > form #id_evaluationsearchtype"
                      ).val(),
                      n = e(
                        "div.ubEvaluation > form #id_evaluationsearchword"
                      ).val();
                    e.ajax({
                      url: "action_.php",
                      data: {
                        proc_type: "SEARCH_EVALUATION_EVENT",
                        cmid: t,
                        tabtype: i,
                        sesskey: d,
                        evagrade: a,
                        evaattend: o,
                        evastate: s,
                        evasearchtype: r,
                        evasearchword: n,
                      },
                      type: "POST",
                      success: function (e) {
                        window.console.log(
                          new Date().toISOString(),
                          "SEARCH_EVALUATION_EVENT",
                          e
                        ),
                          l(e);
                      },
                    });
                  })();
                }
              );
          });
      }),
      e("#evaluationtables").ready(function () {
        let t = e("evaluationtable#evaluationtable table#evaluationtables");
        l = function (i) {
          t.bootstrapTable("destroy"),
            t.bootstrapTable({
              id: "evaluationtables",
              data: i.data,
              classes: "table table-bordered table-hover table-borderless",
              locale: "ko-KR",
            }),
            (v = t),
            e(
              "div.ubEvaluation > evaluationtable#evaluationtable table#evaluationtables"
            ).ready(function () {
              let t = e(
                "div.ubEvaluation table#evaluationtables > thead > tr > th"
              ).length;
              e("div.ubEvaluation .evaluationattend").change(function (i) {
                e(this)
                  .closest("tr")
                  .find("td:nth-child(" + t + "n+1)")
                  .attr("data-isedit", !0);
                let d = e(this)
                  .closest("tr")
                  .find("td:nth-child(" + t + "n+1) label input[type=checkbox]")
                  .data("index");
                v.bootstrapTable("check", d);
              }),
                e("div.ubEvaluation .resgrade").change(function (i) {
                  var d;
                  (d = e(this)),
                    parseInt(d.val()) >= 100 && d.val(100),
                    e(this)
                      .closest("tr")
                      .find("td:nth-child(" + t + "n+1)")
                      .attr("data-isedit", !0);
                  let a = e(this)
                    .closest("tr")
                    .find(
                      "td:nth-child(" + t + "n+1) label input[type=checkbox]"
                    )
                    .data("index");
                  v.bootstrapTable("check", a);
                }),
                e("div.ubEvaluation .resgradefeedback").change(function (i) {
                  e(this)
                    .closest("tr")
                    .find("td:nth-child(" + t + "n+1)")
                    .attr("data-isedit", !0);
                  let d = e(this)
                    .closest("tr")
                    .find(
                      "td:nth-child(" + t + "n+1) label input[type=checkbox]"
                    )
                    .data("index");
                  v.bootstrapTable("check", d);
                }),
                e("button.fc-usergrade-button").click(function (i) {
                  e(this).attr("id").replace("ug", "");
                  e(this)
                    .closest("tr")
                    .find("td:nth-child(" + t + "n+1)")
                    .attr("data-isedit", !0);
                  let d = e(this)
                    .closest("tr")
                    .find(
                      "td:nth-child(" + t + "n+1) label input[type=checkbox]"
                    )
                    .data("index");
                  v.bootstrapTable("uncheckAll"),
                    v.bootstrapTable("check", d),
                    (function (t) {
                      let i = "EDIT_RESERVED_STATUS_EVENT";
                      e(
                        "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=proc_type]"
                      ).val(i),
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > legend > a.fheader:nth(0)"
                        ).text("현황");
                      e.map(v.bootstrapTable("getSelections"), function (t) {
                        e(
                          "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reserveuserid]"
                        ).val(t.id),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reservedatetime]"
                          ).val(t.reservedatetime),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflineid]"
                          ).val(t.ubofflineid),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflinereservationsid]"
                          ).val(t.ubreservationid),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflinereserveid]"
                          ).val(t.reserveid),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=mrefid]"
                          ).val(t.mrefid),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangegrade]"
                          ).val(!0),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reserveusername > div.fstatic"
                          ).text(t.fullname),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_residnumber > div.fstatic"
                          ).text(t.idnumber),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_resdept > div.fstatic"
                          ).text(t.department),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_resteam > div.fstatic"
                          ).text(t.gname),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_restel > div.fstatic"
                          ).text(t.phone2),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate > div.fstatic"
                          ).text(t.reservedatetime_ymd),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
                          ).text(t.reservedatetime_hm),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedisparticipation > div > select#id_reservedisparticipation option"
                          )
                            .filter(function () {
                              return (
                                e(this).attr("selected", !1),
                                e(this).attr("value") == t.isparticipation
                              );
                            })
                            .attr("selected", !0),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedgrade > div > input#id_reservedgrade"
                          ).val(t.resgrade),
                          e(
                            "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedresgradefeedback > div > textarea#id_reservedresgradefeedback"
                          ).text(t.resgradefeedback);
                      });
                      e("#openAddReservedStatusDialog").modal();
                    })();
                });
            }),
            e("#evaluationbuttons").css("display", "flex"),
            e("#evaluationbuttons").show(),
            e(".evaluationbuttones").css("display", "flex"),
            e(".evaluationbuttones").show();
        };
      });
  }
  function E() {
    e("div.ubEvaluation #id_updatebutton").click(function (t) {
      if (
        ((window.onbeforeunload = null),
        t.preventDefault(),
        e(
          "div.ubEvaluation table#evaluationtables > tbody > tr > td label input[type=checkbox]:checked"
        ).length)
      ) {
        let t = e(
          "div.ubEvaluation table#evaluationtables > thead > tr > th"
        ).length;
        !(function (t) {
          let i = e("div.ubEvaluation > form input[name=cmid]").val(),
            d = e("div.ubEvaluation > form input[name=tabtype]").val(),
            a = e("div.ubEvaluation > form input[name=sesskey]").val();
          e("div.ubEvaluation > form input[name=is_professor]").val();
          e.ajax({
            url: "action_.php",
            data: {
              proc_type: "UPSERT_EVALUATION_EVENT",
              cmid: i,
              tabtype: d,
              sesskey: a,
              rawdatas: t,
            },
            type: "POST",
            success: function (e) {
              let t =
                "/mod/uboffline/viewtabevaluation.php?id=" +
                i +
                "&tabtype=" +
                d;
              window.location.href = t;
            },
          });
        })(
          e.map(v.bootstrapTable("getSelections"), function (i) {
            let d = {},
              a = i.rnum,
              o = e(
                "div.ubEvaluation table#evaluationtables > tbody > tr:nth-child(" +
                  a +
                  ") > td:nth-child(" +
                  t +
                  "n+10) > select option:selected "
              ),
              s = e(
                "div.ubEvaluation table#evaluationtables > tbody > tr:nth-child(" +
                  a +
                  ") > td:nth-child(" +
                  t +
                  "n+11) > div > input "
              ),
              r = e(
                "div.ubEvaluation table#evaluationtables > tbody > tr:nth-child(" +
                  a +
                  ") > td:nth-child(" +
                  t +
                  "n+12) > textarea "
              );
            (d.id = parseInt(i.mrefid)),
              (d.uboffline = parseInt(i.ubofflineid)),
              (d.userid = parseInt(i.id));
            let n = 0;
            return (
              "attend_done" === o.val() && (n = 1),
              (d.isparticipation = n),
              (d.resgrade = parseInt(s.val())),
              (d.resgradefeedback = r.val()),
              d
            );
          })
        );
      }
    });
  }
  function T() {
    e("div.ubEvaluation #id_sendbutton").click(function (t) {
      if (
        ((window.onbeforeunload = null),
        t.preventDefault(),
        e("#selecteduser").remove(),
        e("#sendform").prepend(
          '<div id="selecteduser" style="display: none;"></div>'
        ),
        e(
          "div.ubEvaluation table#evaluationtables > tbody > tr > td label input[type=checkbox]:checked"
        ).length)
      ) {
        e("div.ubEvaluation table#evaluationtables > thead > tr > th").length,
          e.map(v.bootstrapTable("getSelections"), function (t) {
            e("#selecteduser").prepend(
              "<input name='user" + t.id + "' type='hidden' />"
            );
          });
        !(function () {
          e("div.ubEvaluation > form input[name=cmid]").val(),
            e("div.ubEvaluation > form input[name=tabtype]").val(),
            e("div.ubEvaluation > form input[name=sesskey]").val(),
            e("div.ubEvaluation > form input[name=is_professor]").val();
          let t = e("#formactionid option:selected").val();
          t && (e("#sendform").attr("action", t), e("#sendform").submit());
        })();
      }
    }),
      e("div.ubEvaluation #id_exportbutton").click(function (e) {
        exportDatafunc_();
      });
  }
  function P(t, i) {
    let d = [];
    return (
      e.map(t, function (e, t) {
        d[t] = e;
      }),
      e.map(i, function (e, t) {
        d[t] = e;
      }),
      d
    );
  }
  return {
    initi: function () {
      !(function () {
        let t,
          i,
          d = e("#cmid").val(),
          a = e("#tabtype").val(),
          o = e("#sesskey").val(),
          s =
            (e("#curday").val(),
            e("#viewtabreservationconditions input[name=activitypth]").val()),
          r = parseInt(s) / 600;
        i = 60 === r ? "01:00" : "00:" + r + ":00";
        var n = document.getElementById("calendar"),
          v = new FullCalendar.Calendar(n, {
            locale: "ko",
            timeZone: "Asia/Seoul",
            editable: !0,
            headerToolbar: {
              left: "prev,next today title",
              center: "dayGridMonth,timeGridWeek",
              right: "",
            },
            buttonText: { today: "오늘", month: "월간", week: "주간" },
            eventColor: "#3788d8",
            eventTextColor: "#fff",
            initialDate: moment(1e3 * e("#curday").val()).format("YYYY-MM-DD"),
            slotDuration: i,
            customButtons: {
              today: {
                text: "오늘",
                click: function () {
                  e("#curday").val(e("#today").val()), v.today();
                },
              },
              prev: {
                text: "left-single-arrow",
                click: function () {
                  let i;
                  e("#curday").val(),
                    "dayGridMonth" === t &&
                      (i = moment(1e3 * e("#curday").val()).subtract(
                        1,
                        "months"
                      )),
                    "timeGridWeek" === t &&
                      (i = moment(1e3 * e("#curday").val()).subtract(
                        7,
                        "days"
                      )),
                    e("#curday").val(i.valueOf() / 1e3),
                    v.prev();
                },
              },
              next: {
                text: "right-single-arrow",
                click: function () {
                  let i;
                  e("#curday").val(),
                    "dayGridMonth" === t &&
                      (i = moment(1e3 * e("#curday").val()).add(1, "months")),
                    "timeGridWeek" === t &&
                      (i = moment(1e3 * e("#curday").val()).add(7, "days")),
                    e("#curday").val(i.valueOf() / 1e3),
                    v.next();
                },
              },
            },
            displayEventTime: !1,
            eventContent: function (e) {
              "true" === e.event.allDay
                ? (e.event.allDay = !0)
                : (e.event.allDay = !1);
            },
            selectable: !0,
            events: function (t, i, s) {
              e.ajax({
                url: "action_.php",
                dataType: "json",
                data: {
                  proc_type: "FETCH_EVENT",
                  cmid: d,
                  tabtype: a,
                  sesskey: o,
                  start: t.start.valueOf(),
                  end: t.end.valueOf(),
                  allDay: t.allDay,
                  curday: e("#curday").val(),
                },
                success: function (e) {
                  window.console.log(
                    new Date().toISOString(),
                    "FETCH_EVENT",
                    e.events
                  ),
                    i(e.events);
                },
              });
            },
            select: function (t) {
              e("#dialog fieldset .felement.fsubmit button.btn-delete").hide(),
                c(t, "ADD_EVENT");
            },
            eventDrop: function (t) {
              1 ===
                parseInt(v.getEventById(t.event.id).extendedProps.repeatype) &&
                e.ajax({
                  url: "action_.php",
                  data: {
                    proc_type: "EDIT_EVENT",
                    cmid: d,
                    tabtype: a,
                    sesskey: o,
                    eventid: t.event.id,
                    start: t.event.start.valueOf(),
                    end: t.event.end ? t.event.end.valueOf() : "",
                    mrid: v.getEventById(t.event.id).extendedProps.mrid,
                    repeatype: v.getEventById(t.event.id).extendedProps
                      .repeatype,
                  },
                  type: "POST",
                  success: function (e) {
                    parseInt(e.code);
                  },
                }),
                parseInt(v.getEventById(t.event.id).extendedProps.repeatype) >
                  1 &&
                  (m(t, 0, v.getEventById(t.event.id).extendedProps.mrid),
                  e(
                    "#repeateditdialog form button[data-dismiss=modal].btn-default"
                  ).click(function (e) {
                    t.revert();
                  }),
                  e(
                    "#dialog form button[data-dismiss=modal].btn-default"
                  ).click(function (e) {
                    t.revert();
                  }));
            },
            eventClick: function (t) {
              1 ===
                parseInt(v.getEventById(t.event.id).extendedProps.repeatype) &&
                (e(
                  "#dialog fieldset .felement.fsubmit button.btn-delete"
                ).show(),
                c(t, "EDIT_EVENT")),
                parseInt(v.getEventById(t.event.id).extendedProps.repeatype) >
                  1 && m(t, 0, v.getEventById(t.event.id).extendedProps.mrid);
            },
            viewClassNames: function (e) {
              t = e.view.type;
            },
          });
        v.render();
      })();
    },
    sayHello: function (e, t) {},
    set1: function (t, i) {
      !(function (t, i) {
        e("#dateselector-calendar-panel").css("z-index", "1100"),
          e("#fitem_id_tab-reservation-conditions-repeat-cycle").hide(),
          e(".tab-reservation-conditions-repeat-cycle-week-checkbox").hide(),
          e("#id_tab-reservation-conditions-repeat-cycle").wrapAll(
            "<div id='tab-reservation-conditions-repeat-cycle-row-day' class='col-sm-8' style='display: flex; align-items: center; padding: 0;'></div>"
          ),
          e("#id_tab-reservation-conditions-repeat-cycle").after(
            "<div id='tab-reservation-conditions-repeat-cycle-day'>" +
              t +
              "</div>"
          ),
          e("#tab-reservation-conditions-repeat-cycle-day").hide(),
          e("#id_tab-reservation-conditions-repeat-cycle").val(0),
          e("#tab-reservation-conditions-repeat-cycle-row-day")
            .parent("div .felement")
            .css("display", "flex"),
          e("#tab-reservation-conditions-repeat-cycle-row-day")
            .parent("div .felement")
            .css("flex-direction", "column"),
          e("#tab-reservation-conditions-repeat-cycle-day").ready(function () {
            e("#tab-reservation-conditions-repeat-cycle-day").after(
              "<div id='tab-reservation-conditions-repeat-cycle-week'>" +
                i +
                "</div>"
            ),
              e("#tab-reservation-conditions-repeat-cycle-week").hide();
          });
      })(t, i);
    },
    set2: function (t, i, d, a, o, s, r) {
      !(function (t, i, d, a, o, s, r) {
        e("#tab-reservation-conditions-repeat-cycle-row-day").ready(
          function () {
            e("#tab-reservation-conditions-repeat-cycle-row-day").after(
              "<div class='tab-reservation-conditions-repeat-cycle-week-checkbox'>"
            ),
              e(
                ".tab-reservation-conditions-repeat-cycle-week-checkbox"
              ).show();
          }
        ),
          e(".tab-reservation-conditions-repeat-cycle-week-checkbox").ready(
            function () {
              e(
                ".tab-reservation-conditions-repeat-cycle-week-checkbox"
              ).prepend(
                "<span><input type='checkbox' value='0' name='tab-reservation-conditions-repeat-cycle-week-sun' id='tab-reservation-conditions-repeat-cycle-week-sun' >" +
                  t +
                  "</span>"
              );
            }
          ),
          e("#tab-reservation-conditions-repeat-cycle-week-sun").ready(
            function () {
              e(
                ".tab-reservation-conditions-repeat-cycle-week-checkbox"
              ).append(
                "<span><input type='checkbox' value='0' checked='checked' name='tab-reservation-conditions-repeat-cycle-week-mon' id='tab-reservation-conditions-repeat-cycle-week-mon' >" +
                  i +
                  "</span>"
              );
            }
          ),
          e("#tab-reservation-conditions-repeat-cycle-week-mon").ready(
            function () {
              e(
                ".tab-reservation-conditions-repeat-cycle-week-checkbox"
              ).append(
                "<span><input type='checkbox' value='0' name='tab-reservation-conditions-repeat-cycle-week-tue' id='tab-reservation-conditions-repeat-cycle-week-tue' >" +
                  d +
                  "</span>"
              );
            }
          ),
          e("#tab-reservation-conditions-repeat-cycle-week-tue").ready(
            function () {
              e(
                ".tab-reservation-conditions-repeat-cycle-week-checkbox"
              ).append(
                "<span><input type='checkbox' value='0' name='tab-reservation-conditions-repeat-cycle-week-wed' id='tab-reservation-conditions-repeat-cycle-week-wed' >" +
                  a +
                  "</span>"
              );
            }
          ),
          e("#tab-reservation-conditions-repeat-cycle-week-wed").ready(
            function () {
              e(
                ".tab-reservation-conditions-repeat-cycle-week-checkbox"
              ).append(
                "<span><input type='checkbox' value='0' name='tab-reservation-conditions-repeat-cycle-week-thu' id='tab-reservation-conditions-repeat-cycle-week-thu' >" +
                  o +
                  "</span>"
              );
            }
          ),
          e("#tab-reservation-conditions-repeat-cycle-week-thu").ready(
            function () {
              e(
                ".tab-reservation-conditions-repeat-cycle-week-checkbox"
              ).append(
                "<span><input type='checkbox' value='0' name='tab-reservation-conditions-repeat-cycle-week-fri' id='tab-reservation-conditions-repeat-cycle-week-fri' >" +
                  s +
                  "</span>"
              );
            }
          ),
          e("#tab-reservation-conditions-repeat-cycle-week-fri").ready(
            function () {
              e(
                ".tab-reservation-conditions-repeat-cycle-week-checkbox"
              ).append(
                "<span><input type='checkbox' value='0' name='tab-reservation-conditions-repeat-cycle-week-sat' id='tab-reservation-conditions-repeat-cycle-week-sat' >" +
                  r +
                  "</span>"
              );
            }
          );
      })(t, i, d, a, o, s, r);
    },
    set3: function () {
      e("#tab-reservation-conditions-repeat-cycle-week-sun").click(function (
        e
      ) {
        u();
      }),
        e("#tab-reservation-conditions-repeat-cycle-week-mon").click(function (
          e
        ) {
          u();
        }),
        e("#tab-reservation-conditions-repeat-cycle-week-tue").click(function (
          e
        ) {
          u();
        }),
        e("#tab-reservation-conditions-repeat-cycle-week-wed").click(function (
          e
        ) {
          u();
        }),
        e("#tab-reservation-conditions-repeat-cycle-week-thu").click(function (
          e
        ) {
          u();
        }),
        e("#tab-reservation-conditions-repeat-cycle-week-fri").click(function (
          e
        ) {
          u();
        }),
        e("#tab-reservation-conditions-repeat-cycle-week-sat").click(function (
          e
        ) {
          u();
        }),
        e("#tab-reservation-conditions-repeat-cycle-week-sat").ready(
          function () {
            u();
          }
        );
    },
    set4: function (t, i, d) {
      !(function (t, i, d) {
        e(
          "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset"
        ).css("display", "flex"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset"
          ).css("align-items", "center"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date > fieldset > a"
          ).after("<div>" + t + "</div>"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset"
          ).css("display", "flex"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset"
          ).css("align-items", "center"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
          ).after("<div id='tab-reservation-conditions-to'>" + i + "</div>"),
          e("#tab-reservation-conditions-to").ready(function () {
            e("#tab-reservation-conditions-to").append(
              "<span>&nbsp;&nbsp;&nbsp;<input type='checkbox' value='0' name='tab-reservation-conditions-activity-end-date' id='tab-reservation-conditions-activity-end-date' >" +
                d +
                "</span>"
            );
          }),
          e("#fitem_id_tab-reservation-conditions-activity-set-date-to").hide(),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select"
          ).prop("disabled", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
          ).attr("disabled", !1),
          e(
            "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
          ).removeClass("disabled"),
          e(
            "input[name=tab-reservation-conditions-activity-end-date-hidden]"
          ).val(0);
      })(t, i, d);
    },
    set5: function (t, i) {
      !(function (t, i) {
        e(
          "#fitem_id_tab-reservation-conditions-activity-time > fieldset > select:nth-of-type(-n+3):nth-of-type(n+1) "
        ).hide(),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset"
          ).css("padding", 0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > a"
          ).hide(),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset"
          ).css("display", "flex"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset"
          ).css("align-items", "center"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset > a"
          ).after("<div>" + t + "</div>"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time-to > fieldset > select:nth-of-type(-n+3):nth-of-type(n+1) "
          ).hide(),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time-to > fieldset"
          ).css("padding", 0),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time-to > fieldset > a"
          ).hide(),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time-to > fieldset"
          ).css("display", "contents"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time-to > fieldset"
          ).css("align-items", "center"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time-to > fieldset > a"
          ).after("<div id='tab-reservation-conditions-to'>" + i + "</div>"),
          e(
            "#fitem_id_tab-reservation-conditions-activity-time-to > fieldset"
          ).appendTo(
            "#fitem_id_tab-reservation-conditions-activity-time > fieldset"
          );
      })(t, i);
    },
    set6: function () {
      e("input[name=submitbutton]").ready(function () {
        e("input[name=submitbutton]").after(
          "<button type='button' class='btn btn-default' data-dismiss='modal'>Close</button>"
        ),
          e("input[name=submitbutton] + button ").css("margin-left", 10);
      }),
        e("input[name=submitbutton]").ready(function () {
          e("input[name=submitbutton]").before(
            "<button type='button' class='btn btn-danger btn-delete' data-dismiss='modal'>삭제</button>"
          ),
            e(".felement.fsubmit > button.btn-delete").css("margin-right", 5);
        }),
        e("#dialog fieldset .felement.fsubmit button.btn-delete").ready(
          function () {
            e("#dialog fieldset .felement.fsubmit button.btn-delete").click(
              function (t) {
                let i, d;
                (i = e(
                  "#dialog > div > div > div.modal-body > form > div > input[name=vinfo]"
                ).val()),
                  (d = JSON.parse(i)),
                  b(d);
              }
            );
          }
        );
    },
    set7: function () {
      e("#id_tab-reservation-conditions-repeat").click(function (t) {
        switch ((t.preventDefault(), e(this).val())) {
          case "no-repeat":
            f();
            break;
          case "repeat-daily":
            p();
            break;
          case "repeat-weekly":
            y();
            break;
          case "repeat-weekly-mon-fri":
            _();
            break;
          default:
            f();
        }
      }),
        e("#id_tab-reservation-conditions-repeat").change(function (t) {
          switch ((t.preventDefault(), e(this).val())) {
            case "no-repeat":
              f();
              break;
            case "repeat-daily":
              p();
              break;
            case "repeat-weekly":
              y();
              break;
            case "repeat-weekly-mon-fri":
              _();
              break;
            default:
              f();
          }
        });
    },
    set8: function () {
      e("#tab-reservation-conditions-activity-end-date").ready(function () {
        e("#tab-reservation-conditions-activity-end-date").click(function (t) {
          switch (e(this).prop("checked")) {
            case !0:
              e(
                "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select"
              ).prop("disabled", !0),
                e(
                  "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
                ).attr("disabled", !0),
                e(
                  "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
                ).addClass("disabled"),
                e(
                  "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
                ).css("pointer-events", "none"),
                e(
                  "input[name=tab-reservation-conditions-activity-end-date-hidden]"
                ).val(1);
              break;
            case !1:
              e(
                "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select"
              ).prop("disabled", !1),
                e(
                  "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
                ).attr("disabled", !1),
                e(
                  "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
                ).removeClass("disabled"),
                e(
                  "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
                ).css("pointer-events", ""),
                e(
                  "input[name=tab-reservation-conditions-activity-end-date-hidden]"
                ).val(0);
              break;
            default:
              e(
                "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > select"
              ).prop("disabled", !1),
                e(
                  "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
                ).attr("disabled", !1),
                e(
                  "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
                ).removeClass("disabled"),
                e(
                  "#fitem_id_tab-reservation-conditions-activity-set-date-to > fieldset > a"
                ).css("pointer-events", ""),
                e(
                  "input[name=tab-reservation-conditions-activity-end-date-hidden]"
                ).val(0);
          }
        });
      });
    },
    set9: function () {
      e("#repeateditdialog").ready(function () {
        e("#repeateditdialog fieldset > div > div.fitem > div.fitemtitle ").css(
          "width",
          "50%"
        ),
          e(
            "#repeateditdialog fieldset > div > div.fitem > div.fitemtitle "
          ).css("text-align", "left"),
          e(
            "#repeateditdialog fieldset > div > div#fgroup_id_radioar > fieldset > span "
          ).css("display", "flex");
      }),
        e(
          "#repeateditdialog fieldset .felement.fsubmit button.btn-delete"
        ).ready(function () {
          e(
            "#repeateditdialog fieldset .felement.fsubmit button.btn-delete"
          ).click(function (t) {
            let i, d;
            (i = e(
              "#repeateditdialog > div > div > div.modal-body > form > div > input[name=vinfo]"
            ).val()),
              (d = JSON.parse(i)),
              b(d);
          });
        });
    },
    set10: function () {
      e(" #repeateditdialog > div > div > div.modal-body > form ").ready(
        function () {
          e(
            " #repeateditdialog fieldset > div > div#fgroup_id_radioar > div.fitemtitle > div.fgrouplabel > label "
          ).after("<span id='id_radioar_error' class='error'>필수</span>"),
            e(
              " #repeateditdialog fieldset > div > div#fgroup_id_radioar > fieldset > span > input "
            ).click(function (t) {
              0 ===
              e(
                " #repeateditdialog fieldset > div > div#fgroup_id_radioar > fieldset > span > input:checked "
              ).length
                ? e(
                    " #repeateditdialog fieldset > div > div#fgroup_id_radioar > div.fitemtitle > div.fgrouplabel > label "
                  ).after(
                    "<span id='id_radioar_error' class='error'>필수</span>"
                  )
                : e("#id_radioar_error").remove();
            }),
            e("#repeateditdialog > div > div > div.modal-body > form ").submit(
              function (t) {
                let i = e(
                  " #repeateditdialog fieldset > div > div#fgroup_id_radioar > fieldset > span > input:checked "
                ).length;
                if ((0 === i && t.preventDefault(), i > 0)) {
                  let i, d;
                  t.preventDefault(),
                    (i = e(
                      "#repeateditdialog > div > div > div.modal-body > form > div > input[name=vinfo]"
                    ).val()),
                    e(
                      " #dialog > div > div > div.modal-body > form > div > input[name=vinfo] "
                    ).val(i),
                    (d = JSON.parse(i)),
                    e("#repeateditdialog").modal("hide"),
                    e(
                      "#dialog fieldset .felement.fsubmit button.btn-delete"
                    ).show(),
                    c(d, "REPEATEDIT_EVENT");
                }
              }
            );
        }
      );
    },
    set11: function () {
      e(" #dialog > div > div > div.modal-body > form ").ready(function () {
        e("#dialog > div > div > div.modal-body > form ").submit(function (t) {
          let i, d;
          (i = e(
            "#dialog > div > div > div.modal-body > form > div > input[name=vinfo]"
          ).val()),
            (d = JSON.parse(i)),
            !0 === d.hasOwnProperty("event") &&
              (e(
                "#dialog > div > div > div.modal-body > form > div > input[name=mrid]"
              ).val(d.event.extendedProps.mrid),
              e(
                "#dialog > div > div > div.modal-body > form > div > input[name=eventid]"
              ).val(d.event.id));
          let a = e("#id_tab-reservation-conditions-repeat-cycle").val();
          e(
            "#dialog > div > div > div.modal-body > form > div > input[name=repeatcycle]"
          ).val(parseInt(a));
          let o = e(
            "input[name=tab-reservation-conditions-repeat-cycle-hidden]"
          ).val();
          e(
            "#dialog > div > div > div.modal-body > form > div > input[name=repeatweek]"
          ).val(parseInt(o, 2));
          let s = e(
            "input[name=tab-reservation-conditions-activity-end-date-hidden]"
          ).val();
          e(
            "#dialog > div > div > div.modal-body > form > div > input[name=isactivityenddate]"
          ).val(parseInt(s));
        });
      });
    },
    view_tab_reservation_status: function () {
      !(function () {
        let t,
          i,
          d = e("#cmid").val(),
          a = e("#tabtype").val(),
          o = e("#subtabtype").val(),
          s = e("#sesskey").val(),
          r = (e("#curday").val(), e("#activitypth").val()),
          n = parseInt(r) / 600;
        i = 60 === n ? "01:00" : "00:" + n + ":00";
        var v = document.getElementById("calendar"),
          l = new FullCalendar.Calendar(v, {
            locale: "ko",
            timeZone: "Asia/Seoul",
            editable: !0,
            initialView: "dayGridMonth",
            headerToolbar: {
              left: "prev,next today title",
              center: "dayGridMonth,timeGridWeek",
              right: "",
            },
            buttonText: { today: "오늘", month: "월간", week: "주간" },
            eventColor: "#3788d8",
            eventTextColor: "#fff",
            initialDate: moment(1e3 * e("#curday").val()).format("YYYY-MM-DD"),
            slotDuration: i,
            customButtons: {
              today: {
                text: "오늘",
                click: function () {
                  e("#curday").val(e("#today").val()), l.today();
                },
              },
              prev: {
                text: "left-single-arrow",
                click: function () {
                  let i;
                  e("#curday").val(),
                    "dayGridMonth" === t &&
                      (i = moment(1e3 * e("#curday").val()).subtract(
                        1,
                        "months"
                      )),
                    "timeGridWeek" === t &&
                      (i = moment(1e3 * e("#curday").val()).subtract(
                        7,
                        "days"
                      )),
                    e("#curday").val(i.valueOf() / 1e3),
                    l.prev();
                },
              },
              next: {
                text: "right-single-arrow",
                click: function () {
                  let i;
                  e("#curday").val(),
                    "dayGridMonth" === t &&
                      (i = moment(1e3 * e("#curday").val()).add(1, "months")),
                    "timeGridWeek" === t &&
                      (i = moment(1e3 * e("#curday").val()).add(7, "days")),
                    e("#curday").val(i.valueOf() / 1e3),
                    l.next();
                },
              },
            },
            displayEventTime: !1,
            eventContent: function (e) {
              "true" === e.event.allDay
                ? (e.event.allDay = !0)
                : (e.event.allDay = !1);
            },
            selectable: !0,
            events: function (t, i, r) {
              e.ajax({
                url: "action_.php",
                dataType: "json",
                data: {
                  proc_type: "FETCH_RESERVED_STATUS_EVENT",
                  cmid: d,
                  tabtype: a,
                  subtabtype: o,
                  sesskey: s,
                  start: t.start.valueOf(),
                  end: t.end.valueOf(),
                  allDay: t.allDay,
                  curday: e("#curday").val(),
                },
                success: function (e) {
                  i(e.events);
                },
              });
            },
            select: function (e) {
              h(e, "ADD_RESERVED_STATUS_EVENT");
            },
            eventDrop: function (e) {},
            eventClick: function (e) {
              h(e, "EDIT_RESERVED_STATUS_EVENT");
            },
            viewClassNames: function (e) {
              t = e.view.type;
            },
          });
        l.render();
      })();
    },
    searchSet1: function () {
      e("#dateselector-calendar-panel").css("z-index", "1100"),
        e(
          "div.search-ubreservedstatus > form > div > div > div > input#ubrestatussearch"
        ).ready(function () {
          e(
            "div.search-ubreservedstatus > form > div > div > div > input#ubrestatussearch"
          ).click(function (t) {
            let i,
              d = e(
                "div.search-ubreservedstatus > form > div > div > div > select > option:selected"
              ).val();
            "fullname" === d && (i = 4), "idnumber" === d && (i = 5);
            let a = e(
              "div.search-ubreservedstatus > form > div > div > div > input[name=keyword]"
            ).val();
            if (a.length) {
              let t = e(
                "div.ubreservedstatus-results > table > tbody > tr > td:nth-child(6n+" +
                  i +
                  "):contains(" +
                  a +
                  ")"
              );
              e("div.ubreservedstatus-results > table > tbody > tr ").hide(),
                t.parent().show(),
                e(
                  "div.search-ubreservedstatus > form > div > div > div > input#ubrestatussearchcancel"
                ).show();
            }
          }),
            e(
              "div.search-ubreservedstatus > form > div > div > div > input#ubrestatussearchcancel"
            ).click(function (t) {
              e("div.ubreservedstatus-results > table > tbody > tr ").show();
            });
        }),
        e(
          "div.ubreservedstatus-results > table > tbody > tr > td > button.btn-user-status"
        ).click(function (t) {
          let i = e(this).attr("data-userid"),
            d = e("#vinfo").val(),
            a = JSON.parse(d);
          e("timetable#timetable table#timetables.table").ready(function () {
            R(moment(a.start).valueOf()),
              e("timecardtable#timecardtable").show();
          }),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
            ).hide(),
            e("input[name=submitbutton]").ready(function () {
              e(
                "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
              ).css("margin-left") ||
                (e("input[name=submitbutton]").after(
                  "<button type='button' class='btn btn-default' data-dismiss='modal'>Close</button>"
                ),
                e("input[name=submitbutton] + button ").css("margin-left", 10));
            }),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
            ).hide(),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
            ).css("display", "flex"),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
            ).css("justify-content", "flex-end"),
            e("div.search-ubreservedstatus").hide(),
            e("div.ubreservedstatus-results").hide(),
            e("timetable#timetable").show();
          let o = e(this).attr("data-username"),
            s = a.start;
          e(
            "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reserveuserid]"
          ).val(""),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reserveuserid]"
            ).val(i),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reserveusername > div.fstatic"
            ).text(""),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate > div.fstatic"
            ).text(""),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
            ).text(""),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reserveusername > div.fstatic"
            ).text(o),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate > div.fstatic"
            ).text(moment(s).format("YYYY-MM-DD")),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form"
            ).show();
        });
    },
    searchSet2: function () {
      e("#timetables").ready(function () {
        let t = e("timetable#timetable table#timetables");
        (function (i) {
          t.bootstrapTable("destroy"),
            t.bootstrapTable({
              id: "timetables",
              columns: i.def,
              data: i.data,
              classes: "table table-bordered table-hover table-borderless",
              showHeader: !1,
              locale: "ko-KR",
              clickToSelect: !0,
              ignoreClickToSelectOn: function (e) {
                return (
                  ["A", "BUTTON", "LABEL", "INPUT"].indexOf(e.tagName) > -1
                );
              },
            }),
            e("timetable#timetable div.fixed-table-loading").hide(),
            e("timetable#timetable table#timetables > tbody > tr").each(
              function (t, i) {
                let d = e(
                    "timetable#timetable table#timetables > tbody > tr[data-index=" +
                      t +
                      "] > td.timetableid"
                  ),
                  a = e(
                    "timetable#timetable table#timetables > tbody > tr[data-index=" +
                      t +
                      "] > td.timetabletime"
                  ),
                  o = e(
                    "timetable#timetable table#timetables > tbody > tr[data-index=" +
                      t +
                      "] > td.timetableuboid"
                  ),
                  s = e(
                    "timetable#timetable table#timetables > tbody > tr[data-index=" +
                      t +
                      "] > td.timetableuborid"
                  ),
                  r = e(
                    "timetable#timetable table#timetables > tbody > tr[data-index=" +
                      t +
                      "] > td.timetableable"
                  ),
                  n = e(
                    "timetable#timetable table#timetables > tbody > tr[data-index=" +
                      t +
                      "] > td.timetablereserved"
                  ),
                  v = e(
                    "timetable#timetable table#timetables > tbody > tr[data-index=" +
                      t +
                      "] > td.timetableresdetail"
                  );
                e(
                  "timetable#timetable table#timetables > tbody > tr[data-index=" +
                    t +
                    "] > td.timetableskip"
                ),
                  r.each(function (e, t) {
                    "true" === t.innerHTML
                      ? ((a[e].className = ""),
                        a[e].removeAttribute("class"),
                        a[e].removeAttribute("ttselected"),
                        (a[e].className = "timetabletime"),
                        a[e].setAttribute("ttid", d[e].innerHTML),
                        a[e].setAttribute("ttuboid", o[e].innerHTML),
                        a[e].setAttribute("ttuborid", s[e].innerHTML),
                        a[e].setAttribute("ttreserved", n[e].innerHTML),
                        a[e].setAttribute("ttresdetail", v[e].innerHTML))
                      : ((a[e].className = ""),
                        a[e].removeAttribute("class"),
                        a[e].removeAttribute("ttselected"),
                        (a[e].className = "timetabletimenoreservation"),
                        a[e].setAttribute("ttid", d[e].innerHTML),
                        a[e].setAttribute("ttuboid", o[e].innerHTML),
                        a[e].setAttribute("ttuborid", s[e].innerHTML));
                  });
              }
            );
          let d = e(
            "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reservedatetime]"
          ).val();
          d &&
            (e("#timetable table#timetables > tbody > tr > td.timetabletime")
              .filter(function () {
                return e(this).attr("ttid") == d;
              })
              .attr("ttselected", !0)
              .removeClass("timetabletime")
              .addClass("timetabletimeselected"),
            e(
              "#timetable table#timetables > tbody > tr > td.timetabletimenoreservation"
            )
              .filter(function () {
                return e(this).attr("ttid") == d;
              })
              .attr("ttselected", !0)
              .removeClass("timetabletime")
              .addClass("timetabletimeselected")),
            e(
              "#timetable table#timetables > tbody > tr > td.timetabletime"
            ).ready(function () {
              e(
                "#timetable table#timetables > tbody > tr > td.timetabletime"
              ).click(function (t) {
                let i = moment(1e3 * e(this).attr("ttid")).format("HH:mm");
                e(
                  "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
                ).text(i || ""),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
                  ).hide(),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
                  ).show(),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
                  ).show(),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reservedatetime]"
                  ).val(e(this).attr("ttid") ? e(this).attr("ttid") : ""),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflineid]"
                  ).val(e(this).attr("ttuboid") ? e(this).attr("ttuboid") : ""),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflinereservationsid]"
                  ).val(
                    e(this).attr("ttuborid") ? e(this).attr("ttuborid") : ""
                  ),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangetime]"
                  ).val(!0),
                  e(
                    "#timetable table#timetables > tbody > tr > td.timetabletime[ttselected=true]"
                  ).removeClass("timetabletimeselected"),
                  e(
                    "#timetable table#timetables > tbody > tr > td.timetabletime[ttselected=true]"
                  ).attr("ttselected", ""),
                  e(
                    "#timetable table#timetables > tbody > tr > td.timetabletimenoreservation[ttselected=true]"
                  ).removeClass("timetabletimeselected"),
                  e(
                    "#timetable table#timetables > tbody > tr > td.timetabletimenoreservation[ttselected=true]"
                  ).attr("ttselected", ""),
                  e(this).attr("ttselected", !0),
                  e(this).addClass("timetabletimeselected");
              });
            }),
            e(
              "#timetable table#timetables > tbody > tr > td.timetabletimenoreservation"
            ).ready(function () {
              e(
                "#timetable table#timetables > tbody > tr > td.timetabletimenoreservation"
              ).click(function (t) {
                let i = moment(1e3 * e(this).attr("ttid")).format("HH:mm");
                e(
                  "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
                ).text(i || ""),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
                  ).hide(),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
                  ).show(),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
                  ).show(),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reservedatetime]"
                  ).val(e(this).attr("ttid") ? e(this).attr("ttid") : ""),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflineid]"
                  ).val(e(this).attr("ttuboid") ? e(this).attr("ttuboid") : ""),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ubofflinereservationsid]"
                  ).val(
                    e(this).attr("ttuborid") ? e(this).attr("ttuborid") : ""
                  ),
                  e(
                    "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=ischangetime]"
                  ).val(!0),
                  e(
                    "#timetable table#timetables > tbody > tr > td.timetabletime[ttselected=true]"
                  ).removeClass("timetabletimeselected"),
                  e(
                    "#timetable table#timetables > tbody > tr > td.timetabletime[ttselected=true]"
                  ).attr("ttselected", ""),
                  e(
                    "#timetable table#timetables > tbody > tr > td.timetabletimenoreservation[ttselected=true]"
                  ).removeClass("timetabletimeselected"),
                  e(
                    "#timetable table#timetables > tbody > tr > td.timetabletimenoreservation[ttselected=true]"
                  ).attr("ttselected", ""),
                  e(this).attr("ttselected", !0),
                  e(this).addClass("timetabletimeselected");
              });
            }),
            t;
        });
      });
    },
    searchDaysSet1: function () {
      S();
    },
    searchDaysSet2: function () {
      e("#id_exportbutton").click(function (e) {
        exportDatafunc_();
      }),
        e("#id_sendbutton").click(function (t) {
          (window.onbeforeunload = null),
            t.preventDefault(),
            e("#selecteduser").remove(),
            e("#sendform").prepend(
              '<div id="selecteduser" style="display: none;"></div>'
            ),
            e(
              "#reservedtables > tbody > tr > td label input[type=checkbox]:checked"
            ).length &&
              (e("#reservedtables > thead > tr > th").length,
              e.map(s.bootstrapTable("getSelections"), function (t) {
                e("#selecteduser").prepend(
                  "<input name='user" + t.id + "' type='hidden' />"
                );
              }),
              w());
        }),
        e("#dateselector-calendar-panel").css("z-index", "1100"),
        e(
          "div.search-ubreservedstatus > form > div > div > div > input#ubrestatussearch"
        ).ready(function () {
          e(
            "div.search-ubreservedstatus > form > div > div > div > input#ubrestatussearch"
          ).click(function (t) {
            let i,
              d = e(
                "div.search-ubreservedstatus > form > div > div > div > select > option:selected"
              ).val();
            "fullname" === d && (i = 4), "idnumber" === d && (i = 5);
            let a = e(
              "div.search-ubreservedstatus > form > div > div > div > input[name=keyword]"
            ).val();
            if (a.length) {
              let t = e(
                "div.ubreservedstatus-results > table > tbody > tr > td:nth-child(6n+" +
                  i +
                  "):contains(" +
                  a +
                  ")"
              );
              e("div.ubreservedstatus-results > table > tbody > tr ").hide(),
                t.parent().show(),
                e(
                  "div.search-ubreservedstatus > form > div > div > div > input#ubrestatussearchcancel"
                ).show();
            }
          }),
            e(
              "div.search-ubreservedstatus > form > div > div > div > input#ubrestatussearchcancel"
            ).click(function (t) {
              e("div.ubreservedstatus-results > table > tbody > tr ").show();
            });
        }),
        e(
          "div.ubreservedstatus-results > table > tbody > tr > td > button.btn-user-status"
        ).click(function (t) {
          let i,
            d,
            a = e(this).attr("data-userid");
          i = e("#vinfo").val();
          let o = JSON.parse(i);
          (d = P(o, {
            userid: a,
            username: e(this).attr("data-username"),
            useridnumber: e(this).attr("data-useridnumber"),
            userdepartment: e(this).attr("data-userdepartment"),
          })),
            (i = JSON.stringify(d)),
            e("#vinfo").val(i),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=vinfo]"
            ).val(i),
            window.console.log(
              new Date().toISOString(),
              "user click vinfo.start",
              d
            ),
            e("timetable#timetable table#timetables.table").ready(function () {
              R(moment(d.start).valueOf()),
                e("timecardtable#timecardtable").show();
            }),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
            ).hide(),
            e("input[name=submitbutton]").ready(function () {
              e(
                "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
              ).css("margin-left") ||
                (e("input[name=submitbutton]").after(
                  "<button type='button' class='btn btn-default' data-dismiss='modal'>Close</button>"
                ),
                e("input[name=submitbutton] + button ").css("margin-left", 10));
            }),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
            ).hide(),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
            ).css("display", "flex"),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
            ).css("justify-content", "flex-end"),
            e("div.search-ubreservedstatus").hide(),
            e("div.ubreservedstatus-results").hide(),
            e("timetable#timetable").show();
          let s = e(this).attr("data-username"),
            r = d.start;
          e("#id_reserve_datetime_hour option")
            .filter(function () {
              return (
                e(this).attr("selected", !1),
                e(this).attr("value") == parseInt(moment(r).format("HH"))
              );
            })
            .attr("selected", !0)
            .parent("select")
            .val(parseInt(moment(r).format("HH"))),
            e("#id_reserve_datetime_minute option")
              .filter(function () {
                return (
                  e(this).attr("selected", !1),
                  e(this).attr("value") == parseInt(moment(r).format("mm"))
                );
              })
              .attr("selected", !0)
              .parent("select")
              .val(parseInt(moment(r).format("mm"))),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reserveuserid]"
            ).val(""),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > div > input[name=reserveuserid]"
            ).val(a),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reserveusername > div.fstatic"
            ).text(""),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate > div.fstatic"
            ).text(""),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
            ).text(""),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reserveusername > div.fstatic"
            ).text(s),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate > div.fstatic"
            ).text(moment(r).format("YYYY-MM-DD")),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
            ).text(moment(r).format("HH:mm")),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reserve_datetime"
            ).hide(),
            e(
              "#openAddReservedStatusDialog > div > div > div.modal-body > form"
            ).show();
        }),
        e("#timecardtables").ready(function () {
          let t = e("timecardtable#timecardtable table#timecardtables");
          n = function (i) {
            t.bootstrapTable("destroy"),
              t.bootstrapTable({
                id: "timecardtables",
                data: i.data,
                classes: "table table-bordered table-hover table-borderless",
                showHeader: !1,
                locale: "ko-KR",
                responseHandler: function (e) {
                  return (
                    e.forEach(function (e, t) {
                      e.index = t;
                    }),
                    e
                  );
                },
                ignoreClickToSelectOn: function (e) {
                  return (
                    ["A", "BUTTON", "LABEL", "INPUT"].indexOf(e.tagName) > -1
                  );
                },
              }),
              e("div.fixed-table-loading").hide(),
              e("#timecardtables > tbody > tr").map(function (t, i) {
                let d = e(
                    "#timecardtables > tbody > tr:nth-child(" + (t + 1) + ")"
                  ),
                  a = e(
                    "#timecardtables > tbody > tr:nth-child(" +
                      (t - (parseInt(d.attr("data-index")) % 6) + 1) +
                      ")"
                  );
                parseInt(d.attr("data-index")) % 6 == 0 ||
                  a.append(d.find("td"));
              }),
              t.bootstrapTable("checkAll");
            let d = 0;
            if (
              (e.map(t.bootstrapTable("getSelections"), function (t) {
                let i = e("#reservedstudentstimecheckbox" + d);
                if (
                  (i.attr("data-able", t.able00),
                  !0 === t.able00 &&
                    (i.parent("label").parent("td").addClass("timetabletime"),
                    i.parent("label").css("cursor", "pointer")),
                  !1 === t.able00 &&
                    i
                      .parent("label")
                      .parent("td")
                      .addClass("timetabletimenoreservation"),
                  t.time00 === JSON.parse(e("#vinfo").val()).time00)
                ) {
                  e(i).attr("checked", !0),
                    e(i)
                      .parent("label")
                      .parent("td")
                      .addClass("timetabletimeselected");
                  let t = e("#id_reserve_datetime_year option:selected").val(),
                    d = e("#id_reserve_datetime_month option:selected").val(),
                    a = e("#id_reserve_datetime_day option:selected").val(),
                    o = e("#id_reserve_datetime_hour option:selected").val(),
                    s = e("#id_reserve_datetime_minute option:selected").val(),
                    r =
                      new Date(
                        t + "-" + d + "-" + a + " " + o + ":" + s
                      ).valueOf() / 1e3;
                  window.console.log(
                    new Date().toISOString(),
                    "rd_v",
                    r,
                    moment(1e3 * r).format("YYYY-MM-DD HH:mm")
                  ),
                    e("#timecardtable")
                      .parent("div")
                      .find("form > div > input[name=ischangetime]")
                      .val(!0),
                    e("#timecardtable")
                      .parent("div")
                      .find("form > div > input[name=reservedatetime]")
                      .val(r),
                    e("#timecardtable")
                      .parent("div")
                      .find("form #fitem_id_submitbutton")
                      .show(),
                    e("#timecardtable")
                      .parent("div")
                      .find("form #id_submitbutton")
                      .show();
                }
                d++;
              }),
              e(".reservedstudentstimecheckbox:checked").length)
            ) {
              let i = e(".reservedstudentstimecheckbox:checked")
                .attr("id")
                .replace("reservedstudentstimecheckbox", "");
              t.bootstrapTable("uncheckAll"), t.bootstrapTable("check", i);
            }
            e(".timetabletime .reservedstudentstimelabel").click(function (i) {
              if (e(".reservedstudentstimecheckbox:checked").length) {
                let i = e(".reservedstudentstimecheckbox:checked")
                  .attr("id")
                  .replace("reservedstudentstimecheckbox", "");
                t.bootstrapTable("checkAll");
                let d = 0;
                e.map(t.bootstrapTable("getSelections"), function (t) {
                  let i = e("#reservedstudentstimecheckbox" + d);
                  i.attr("data-able", t.able00),
                    !0 === t.able00 &&
                      (i
                        .parent("label")
                        .parent("td")
                        .removeClass("timetabletimeselected"),
                      i.parent("label").parent("td").addClass("timetabletime")),
                    !1 === t.able00 &&
                      (i
                        .parent("label")
                        .parent("td")
                        .removeClass("timetabletimeselected"),
                      i
                        .parent("label")
                        .parent("td")
                        .addClass("timetabletimenoreservation")),
                    d++;
                }),
                  t.bootstrapTable("uncheckAll"),
                  t.bootstrapTable("check", i),
                  e(this).parent("td").addClass("timetabletimeselected");
                let a = e(this).text().split(":"),
                  o = a[0],
                  s = a[1];
                e(
                  "#openAddReservedStatusDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
                ).text(e(this).text()),
                  e("#id_reserve_datetime_hour option")
                    .filter(function () {
                      return (
                        e(this).attr("selected", !1),
                        e(this).attr("value") == parseInt(o)
                      );
                    })
                    .attr("selected", !0)
                    .parent("select")
                    .val(parseInt(o)),
                  e("#id_reserve_datetime_minute option")
                    .filter(function () {
                      return (
                        e(this).attr("selected", !1),
                        e(this).attr("value") == parseInt(s)
                      );
                    })
                    .attr("selected", !0)
                    .parent("select")
                    .val(parseInt(s));
                let r =
                    e("#id_reserve_datetime_year option:selected").val() +
                    "-" +
                    e("#id_reserve_datetime_month option:selected").val() +
                    "-" +
                    e("#id_reserve_datetime_day option:selected").val() +
                    " " +
                    e("#id_reserve_datetime_hour option:selected").val() +
                    ":" +
                    e("#id_reserve_datetime_minute option:selected").val(),
                  n = new Date(r).valueOf() / 1e3;
                isNaN(n) &&
                  ((r =
                    e("#fitem_id_reservedate div.fstatic").text() +
                    " " +
                    e(".reservedstudentstimecheckbox:checked").parent().text()),
                  (n = new Date(r).valueOf() / 1e3)),
                  e("#timecardtable")
                    .parent("div")
                    .find("form > div > input[name=ischangetime]")
                    .val(!0),
                  e("#timecardtable")
                    .parent("div")
                    .find("form > div > input[name=reservedatetime]")
                    .val(n),
                  e("#timecardtable")
                    .parent("div")
                    .find("form #fitem_id_submitbutton")
                    .show(),
                  e("#timecardtable")
                    .parent("div")
                    .find("form #id_submitbutton")
                    .show();
              }
            }),
              t;
          };
        });
    },
    searchStudentsSet1: function () {
      D();
    },
    searchStudentsSet2: function () {
      e("div.ubReservedStatusStudents #id_sendbutton").click(function (t) {
        (window.onbeforeunload = null),
          t.preventDefault(),
          e("#selecteduser").remove(),
          e("#sendform").prepend(
            '<div id="selecteduser" style="display: none;"></div>'
          ),
          e(
            "div.ubReservedStatusStudents table#reservedtables > tbody > tr > td label input[type=checkbox]:checked"
          ).length &&
            (e(
              "div.ubReservedStatusStudents table#reservedtables > thead > tr > th"
            ).length,
            e.map(s.bootstrapTable("getSelections"), function (t) {
              e("#selecteduser").prepend(
                "<input name='user" + t.id + "' type='hidden' />"
              );
            }),
            w());
      });
    },
    searchStudentsSet3: function () {
      e("#timecardtables").ready(function () {
        let t = e("timecardtable#timecardtable table#timecardtables");
        n = function (i) {
          console.log("response", i),
            t.bootstrapTable("destroy"),
            t.bootstrapTable({
              id: "timecardtables",
              data: i.data,
              classes: "table table-bordered table-hover table-borderless",
              showHeader: !1,
              locale: "ko-KR",
              ignoreClickToSelectOn: function (e) {
                return (
                  ["A", "BUTTON", "LABEL", "INPUT"].indexOf(e.tagName) > -1
                );
              },
            }),
            e("div.fixed-table-loading").hide(),
            e("#timecardtables > tbody > tr").length > 1 &&
              e("#timecardtables > tbody > tr").map(function (t, i) {
                let d = e(
                    "#timecardtables > tbody > tr:nth-child(" + (t + 1) + ")"
                  ),
                  a = e(
                    "#timecardtables > tbody > tr:nth-child(" +
                      (t - (parseInt(d.attr("data-index")) % 6) + 1) +
                      ")"
                  );
                parseInt(d.attr("data-index")) % 6 == 0 ||
                  a.append(d.find("td"));
              }),
            t.bootstrapTable("checkAll");
          let d = 0;
          if (
            (e.map(t.bootstrapTable("getSelections"), function (t) {
              let i = e("#reservedstudentstimecheckbox" + d);
              i.attr("data-able", t.able00),
                !0 === t.able00 &&
                  (i.parent("label").parent("td").addClass("timetabletime"),
                  i.parent("label").css("cursor", "pointer")),
                !1 === t.able00 &&
                  i
                    .parent("label")
                    .parent("td")
                    .addClass("timetabletimenoreservation"),
                d++;
            }),
            e(".reservedstudentstimecheckbox:checked").length)
          ) {
            let i = e(".reservedstudentstimecheckbox:checked")
              .attr("id")
              .replace("reservedstudentstimecheckbox", "");
            t.bootstrapTable("uncheckAll"), t.bootstrapTable("check", i);
          }
          e(".timetabletime .reservedstudentstimelabel").click(function (i) {
            if (e(".reservedstudentstimecheckbox:checked").length) {
              let i = e(".reservedstudentstimecheckbox:checked")
                .attr("id")
                .replace("reservedstudentstimecheckbox", "");
              t.bootstrapTable("checkAll");
              let d = 0;
              e.map(t.bootstrapTable("getSelections"), function (t) {
                let i = e("#reservedstudentstimecheckbox" + d);
                i.attr("data-able", t.able00),
                  !0 === t.able00 &&
                    (i
                      .parent("label")
                      .parent("td")
                      .removeClass("timetabletimeselected"),
                    i.parent("label").parent("td").addClass("timetabletime")),
                  !1 === t.able00 &&
                    (i
                      .parent("label")
                      .parent("td")
                      .removeClass("timetabletimeselected"),
                    i
                      .parent("label")
                      .parent("td")
                      .addClass("timetabletimenoreservation")),
                  d++;
              }),
                t.bootstrapTable("uncheckAll"),
                t.bootstrapTable("check", i),
                e(this).parent("td").addClass("timetabletimeselected");
              let a = e(this).text().split(":"),
                o = a[0],
                s = a[1];
              e("#id_reserve_datetime_hour option")
                .filter(function () {
                  return (
                    e(this).attr("selected", !1),
                    e(this).attr("value") == parseInt(o)
                  );
                })
                .attr("selected", !0)
                .parent("select")
                .val(parseInt(o)),
                e("#id_reserve_datetime_minute option")
                  .filter(function () {
                    return (
                      e(this).attr("selected", !1),
                      e(this).attr("value") == parseInt(s)
                    );
                  })
                  .attr("selected", !0)
                  .parent("select")
                  .val(parseInt(s));
              let r =
                  e("#id_reserve_datetime_year option:selected").val() +
                  "-" +
                  e("#id_reserve_datetime_month option:selected").val() +
                  "-" +
                  e("#id_reserve_datetime_day option:selected").val() +
                  " " +
                  e("#id_reserve_datetime_hour option:selected").val() +
                  ":" +
                  e("#id_reserve_datetime_minute option:selected").val(),
                n = new Date(r).valueOf() / 1e3;
              isNaN(n) &&
                ((r =
                  e("#fitem_id_reservedate div.fstatic").text() +
                  " " +
                  e(".reservedstudentstimecheckbox:checked").parent().text()),
                (n = new Date(r).valueOf() / 1e3)),
                e("#timecardtable")
                  .parent("div")
                  .find("form > div > input[name=ischangetime]")
                  .val(!0),
                e("#timecardtable")
                  .parent("div")
                  .find("form > div > input[name=reservedatetime]")
                  .val(n),
                e("#timecardtable")
                  .parent("div")
                  .find("form #fitem_id_submitbutton")
                  .show(),
                e("#timecardtable")
                  .parent("div")
                  .find("form #id_submitbutton")
                  .show();
            }
          }),
            t;
        };
      });
    },
    searchEvaluationSet1: function () {
      A();
    },
    searchEvaluationSet2: function () {
      E();
    },
    searchEvaluationSet3: function () {
      T();
    },
  };
});

define("mod_uboffline/ubofflinestudent", [
  "jquery",
  "core/yui",
  "mod_uboffline/bootstrapTable",
  "mod_uboffline/tableExport",
], function (t, e, d, i) {
  t("#openAddDialog").hide();
  var a;
  M.cfg.wwwroot;
  function o(e, d, i) {
    if ("ADD_EVENT_RESERVE" === d) {
      let o = !1;
      if (
        (i.forEach(function (t, d) {
          t.startStr === e.startStr && "background" === t.display && (o = !0);
        }),
        !o)
      )
        return !1;
      let l = moment(e.start).format("YYYY-MM-DD");
      t(
        "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate > div.fstatic"
      ).text(l),
        t("timetable#timetable table#timetables.table").ready(function () {
          a(moment(e.start).valueOf());
        }),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
        ).hide(),
        t("input[name=submitbutton]").ready(function () {
          t(
            "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
          ).css("margin-left") ||
            (t("input[name=submitbutton]").after(
              "<button type='button' class='btn btn-default' data-dismiss='modal'>Close</button>"
            ),
            t("input[name=submitbutton] + button ").css("margin-left", 10));
        }),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
        ).hide(),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
        ).css("display", "flex"),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
        ).css("justify-content", "flex-end"),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=proc_type]"
        ).val(d),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > legend > a.fheader"
        ).text("예약 등록"),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=reservedatetime]"
        ).val(""),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
        ).text(""),
        t("#openAddDialog").modal();
    }
    if ("EDIT_EVENT_RESERVE" === d) {
      t("#editdelete").show(), t("#editclose").show();
      let i = moment(1e3 * e.event._def.extendedProps.activitystartdate).format(
        "YYYY-MM-DD"
      );
      t(
        "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservedate > div.fstatic"
      ).text(i),
        t("timetable#timetable table#timetables.table").ready(function () {
          a(
            moment(1e3 * e.event._def.extendedProps.activitystartdate).valueOf()
          );
        }),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
        ).hide(),
        t("input[name=submitbutton]").ready(function () {
          t(
            "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
          ).css("margin-left") ||
            (t("input[name=submitbutton]").after(
              "<button id='editclose' type='button' class='btn btn-default' data-dismiss='modal'>Close</button>"
            ),
            t("input[name=submitbutton] + button ").css("margin-left", 10));
        }),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
        ).hide(),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
        ).css("display", "flex"),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div.fsubmit"
        ).css("justify-content", "flex-end"),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=proc_type]"
        ).val(d),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > legend > a.fheader"
        ).text("예약 수정");
      let o = moment(1e3 * e.event._def.extendedProps.activitystartdate).format(
        "HH:mm"
      );
      t(
        "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
      ).text(o),
        t(
          "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=reservedatetime]"
        ).val(e.event._def.extendedProps.activitystartdate),
        t("input[name=submitbutton]").ready(function () {
          t(
            "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div > button.btn-delete"
          ).css("margin-right")
            ? (t("#editdelete").show(), t("#editclose").show())
            : (t("input[name=submitbutton]").before(
                "<button id='editdelete' type='button' class='btn btn-danger btn-delete' data-dismiss='modal'>삭제</button>"
              ),
              t(".felement.fsubmit > button.btn-delete").css("margin-right", 5),
              t("#editclose").show()),
            t("#editdelete").click(function (d) {
              !(function (e, d) {
                let i = t(
                    "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=cmid]"
                  ).val(),
                  a = t(
                    "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=tabtype]"
                  ).val(),
                  o = t(
                    "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=sesskey]"
                  ).val(),
                  l = t(
                    "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=is_professor]"
                  ).val();
                confirm("삭제하시겠습니까?") &&
                  t.ajax({
                    type: "POST",
                    url: "action_.php",
                    data: {
                      proc_type: d,
                      cmid: i,
                      tabtype: a,
                      sesskey: o,
                      is_professor: l,
                      mresid: e.event.extendedProps.mresid,
                      mresuboffline: e.event.extendedProps.uboffline,
                      mresuserid: e.event.extendedProps.userid,
                      mresubreservation: e.event.extendedProps.mrid,
                      mresreservedatetime:
                        e.event.extendedProps.activitystartdate,
                      mresreservestate: e.event.extendedProps.reservestate,
                    },
                    success: function (t) {
                      if ("100" == t.code) {
                        let t =
                          "/mod/uboffline/viewtabreservation.php?id=" +
                          i +
                          "&tabtype=" +
                          a;
                        window.location.href = t;
                      } else
                        null != t.msg && null != t.msg
                          ? alert(t.msg)
                          : alert("삭제 실패했습니다.");
                    },
                  });
              })(e, "DELETE_EVENT_RESERVE");
            });
        }),
        t("#openAddDialog").modal();
    }
  }
  return {
    initi: function () {
      !(function () {
        let e,
          d = t("#cmid").val(),
          i = t("#tabtype").val(),
          a = t("#sesskey").val();
        t("#curday").val(), t("#uid").val();
        var l = document.getElementById("calendar"),
          n = new FullCalendar.Calendar(l, {
            locale: "ko",
            timeZone: "Asia/Seoul",
            editable: !0,
            initialView: "dayGridMonth",
            headerToolbar: {
              left: "today prev,next title",
              center: "",
              right: "reservedaycolor reserveday regreservedcolor regreserved",
            },
            buttonText: { today: "오늘", month: "월간", week: "주간" },
            eventColor: "#3788d8",
            eventTextColor: "#fff",
            initialDate: moment(1e3 * t("#curday").val()).format("YYYY-MM-DD"),
            customButtons: {
              today: {
                text: "오늘",
                click: function () {
                  window.console.log(
                    new Date().toISOString(),
                    "오늘 today",
                    moment(t("#today").val()).format("YYYY-MM-DD HH:mm")
                  ),
                    t("#curday").val(t("#today").val()),
                    n.today();
                },
              },
              reservedaycolor: { text: " " },
              reserveday: { text: "예약 가능일" },
              regreservedcolor: { text: " " },
              regreserved: { text: "등록한 예약일시" },
              prev: {
                text: "left-single-arrow",
                click: function () {
                  let d;
                  t("#curday").val(),
                    "dayGridMonth" === e &&
                      ((d = moment(1e3 * t("#curday").val()).subtract(
                        1,
                        "months"
                      )),
                      window.console.log(
                        new Date().toISOString(),
                        "prev dayGridMonth",
                        moment(d).format("YYYY-MM-DD HH:mm")
                      )),
                    "timeGridWeek" === e &&
                      ((d = moment(1e3 * t("#curday").val()).subtract(
                        7,
                        "days"
                      )),
                      window.console.log(
                        new Date().toISOString(),
                        "prev timeGridWeek",
                        moment(d).format("YYYY-MM-DD HH:mm")
                      )),
                    t("#curday").val(d.valueOf() / 1e3),
                    n.prev();
                },
              },
              next: {
                text: "right-single-arrow",
                click: function () {
                  let d;
                  t("#curday").val(),
                    "dayGridMonth" === e &&
                      ((d = moment(1e3 * t("#curday").val()).add(1, "months")),
                      window.console.log(
                        new Date().toISOString(),
                        "next dayGridMonth",
                        moment(d).format("YYYY-MM-DD HH:mm")
                      )),
                    "timeGridWeek" === e &&
                      ((d = moment(1e3 * t("#curday").val()).add(7, "days")),
                      window.console.log(
                        new Date().toISOString(),
                        "next timeGridWeek",
                        moment(d).format("YYYY-MM-DD HH:mm")
                      )),
                    t("#curday").val(d.valueOf() / 1e3),
                    n.next();
                },
              },
            },
            displayEventTime: !1,
            eventContent: function (t) {
              "true" === t.event.allDay
                ? (t.event.allDay = !0)
                : (t.event.allDay = !1);
            },
            selectable: !0,
            events: function (e, o, l) {
              t.ajax({
                url: "action_.php",
                dataType: "json",
                data: {
                  proc_type: "FETCH_EVENT_RESERVE",
                  cmid: d,
                  tabtype: i,
                  sesskey: a,
                  start: e.start.valueOf(),
                  end: e.end.valueOf(),
                  allDay: e.allDay,
                  curday: t("#curday").val(),
                  uid: t("#uid").val(),
                },
                success: function (t) {
                  window.console.log(
                    new Date().toISOString(),
                    "FETCH_EVENT_RESERVE",
                    t
                  ),
                    o(t.refinevents);
                },
              });
            },
            select: function (t) {
              o(t, "ADD_EVENT_RESERVE", n.getEvents());
            },
            eventDrop: function (t) {},
            eventClick: function (t) {
              o(t, "EDIT_EVENT_RESERVE", null);
            },
            viewClassNames: function (t) {
              e = t.view.type;
            },
          });
        n.render(), (calendarE_ = l), (calendar_ = n);
      })();
    },
    sayHello: function (t, e) {},
    set1: function () {
      t("button.fc-reservedaycolor-button").ready(function () {
        t("button.fc-reservedaycolor-button").css(
          "background-color",
          "#BDD8EF"
        );
        let e =
          parseInt(t("button.fc-reservedaycolor-button").css("width")) +
          10 +
          "px";
        t("button.fc-reservedaycolor-button").css("width", e);
      }),
        t("button.fc-reserveday-button").ready(function () {
          t("button.fc-reserveday-button").css("background-color", "#fff"),
            t("button.fc-reserveday-button").css("border-color", "#fff"),
            t("button.fc-reserveday-button").css("color", "#000"),
            t("button.fc-reserveday-button").css("margin-left", "0");
        }),
        t("button.fc-regreservedcolor-button").ready(function () {
          t("button.fc-regreservedcolor-button").css(
            "background-color",
            "#0070C0"
          );
          let e =
            parseInt(t("button.fc-regreservedcolor-button").css("width")) +
            10 +
            "px";
          t("button.fc-regreservedcolor-button").css("width", e);
        }),
        t("button.fc-regreserved-button").ready(function () {
          t("button.fc-regreserved-button").css("background-color", "#fff"),
            t("button.fc-regreserved-button").css("border-color", "#fff"),
            t("button.fc-regreserved-button").css("color", "#000"),
            t("button.fc-regreserved-button").css("margin-left", "0");
        });
    },
    set2: function () {
      t("#timetables").ready(function () {
        let e = t("timetable#timetable table#timetables"),
          d = t("#cmid").val(),
          i = t("#tabtype").val(),
          o = (t("#subtabtype").val(), t("#sesskey").val()),
          l = t("#curday").val();
        t("#activitypth").val(),
          t("#is_professor").val(),
          (a = function (a) {
            t.ajax({
              url: "action_.php",
              data: {
                proc_type: "FETCH_TIMETABLE_RESERVE",
                cmid: d,
                tabtype: i,
                sesskey: o,
                start: 1e3 * (a / 1e3 + 32400),
                curday: l,
              },
              type: "POST",
              success: function (d) {
                e.bootstrapTable("destroy"),
                  e.bootstrapTable({
                    id: "timetables",
                    columns: d.def,
                    data: d.data,
                    classes:
                      "table table-bordered table-hover table-borderless",
                    showHeader: !1,
                    locale: "ko-KR",
                  }),
                  t("timetable#timetable table#timetables > tbody > tr").each(
                    function (e, d) {
                      let i = t(
                          "timetable#timetable table#timetables > tbody > tr[data-index=" +
                            e +
                            "] > td.timetableid"
                        ),
                        a = t(
                          "timetable#timetable table#timetables > tbody > tr[data-index=" +
                            e +
                            "] > td.timetabletime"
                        ),
                        o = t(
                          "timetable#timetable table#timetables > tbody > tr[data-index=" +
                            e +
                            "] > td.timetableuboid"
                        ),
                        l = t(
                          "timetable#timetable table#timetables > tbody > tr[data-index=" +
                            e +
                            "] > td.timetableuborid"
                        ),
                        n = t(
                          "timetable#timetable table#timetables > tbody > tr[data-index=" +
                            e +
                            "] > td.timetableable"
                        ),
                        r = t(
                          "timetable#timetable table#timetables > tbody > tr[data-index=" +
                            e +
                            "] > td.timetablereserved"
                        ),
                        s = t(
                          "timetable#timetable table#timetables > tbody > tr[data-index=" +
                            e +
                            "] > td.timetableresdetail"
                        );
                      t(
                        "timetable#timetable table#timetables > tbody > tr[data-index=" +
                          e +
                          "] > td.timetableskip"
                      ),
                        n.each(function (e, d) {
                          "true" === d.innerHTML
                            ? ((a[e].className = ""),
                              a[e].removeAttribute("class"),
                              a[e].removeAttribute("ttselected"),
                              (a[e].className = "timetabletime"),
                              a[e].setAttribute("ttid", i[e].innerHTML),
                              a[e].setAttribute("ttuboid", o[e].innerHTML),
                              a[e].setAttribute("ttuborid", l[e].innerHTML),
                              a[e].setAttribute("ttreserved", r[e].innerHTML),
                              a[e].setAttribute("ttresdetail", s[e].innerHTML))
                            : ((a[e].className = ""),
                              a[e].removeAttribute("class"),
                              a[e].removeAttribute("ttselected"),
                              s[e].innerHTML.split("|")[2] ===
                                t("#uid").val() &&
                                (a[e].className = "timetabletimeselected"));
                        });
                    }
                  );
                let i = t(
                  "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=reservedatetime]"
                ).val();
                i &&
                  t(
                    "#timetable table#timetables > tbody > tr > td.timetabletime"
                  )
                    .filter(function () {
                      return t(this).attr("ttid") == i;
                    })
                    .attr("ttselected", !0)
                    .addClass("timetabletimeselected"),
                  t(
                    "#timetable table#timetables > tbody > tr > td.timetabletime"
                  ).ready(function () {
                    t(
                      "#timetable table#timetables > tbody > tr > td.timetabletime"
                    ).click(function (e) {
                      t(
                        "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
                      ).hide();
                      let d = moment(1e3 * t(this).attr("ttid")).format(
                        "HH:mm"
                      );
                      t(
                        "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div#fitem_id_reservetime > div.fstatic"
                      ).text(d),
                        t(
                          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div > input#id_submitbutton"
                        ).show(),
                        t(
                          "#timetable > #openAddDialog > div > div > div.modal-body > form > fieldset > div > div > div > button[data-dismiss=modal]"
                        ).show(),
                        t(
                          "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=reservedatetime]"
                        ).val(t(this).attr("ttid")),
                        t(
                          "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=ubofflineid]"
                        ).val(t(this).attr("ttuboid")),
                        t(
                          "#timetable > #openAddDialog > div > div > div.modal-body > form > div > input[name=ubofflinereservationsid]"
                        ).val(t(this).attr("ttuborid")),
                        t(
                          "#timetable table#timetables > tbody > tr > td.timetabletime[ttselected=true]"
                        ).removeClass("timetabletimeselected"),
                        t(
                          "#timetable table#timetables > tbody > tr > td.timetabletime[ttselected=true]"
                        ).attr("ttselected", ""),
                        t(this).attr("ttselected", !0),
                        t(this).addClass("timetabletimeselected");
                    });
                  }),
                  e;
              },
            });
          });
      });
    },
    saytest1: function () {},
  };
});

define("mod_uboffline/ubofflineform", ["jquery", "core/yui"], function (e, t) {
  M.cfg.wwwroot;
  let d = "";
  function a() {
    if ("nativeConversation" == e("#id_target").val()) {
      let t;
      e("#fitem_id_reservestartdate").show(),
        e("#fitem_id_reserveenddate").show(),
        e("#fitem_id_reserveunittime").show(),
        e("#fitem_id_reserveweektime").show(),
        e("#id_gradecat option")
          .filter(function () {
            return (
              "참여도" == e(this).text() && (t = e(this).val()),
              e(this).attr("selected", !1),
              e(this).attr("value") == t
            );
          })
          .attr("selected", !0)
          .parent()
          .val(t),
        e("#id_gradeitem_add").show(),
        e("#id_grade").removeAttr("disabled"),
        e("#id_gradecat").removeAttr("disabled"),
        e("#id_startdate_enabled").prop("checked", !0),
        e("#id_startdate_year").removeAttr("disabled"),
        e("#id_startdate_month").removeAttr("disabled"),
        e("#id_startdate_day").removeAttr("disabled"),
        e("#id_startdate_hour").removeAttr("disabled"),
        e("#id_startdate_minute").removeAttr("disabled"),
        e('a[name="startdate[calendar]"]').removeAttr("style"),
        e("#id_enddate_enabled").prop("checked", !0),
        e("#id_enddate_year").removeAttr("disabled"),
        e("#id_enddate_month").removeAttr("disabled"),
        e("#id_enddate_day").removeAttr("disabled"),
        e("#id_enddate_hour").removeAttr("disabled"),
        e("#id_enddate_minute").removeAttr("disabled"),
        e('a[name="enddate[calendar]"]').removeAttr("style"),
        e("#id_reservestartdate_enabled").prop("checked", !0),
        e("#id_reservestartdate_year").removeAttr("disabled"),
        e("#id_reservestartdate_month").removeAttr("disabled"),
        e("#id_reservestartdate_day").removeAttr("disabled"),
        e("#id_reservestartdate_hour").removeAttr("disabled"),
        e("#id_reservestartdate_minute").removeAttr("disabled"),
        e('a[name="reservestartdate[calendar]"]').removeAttr("style"),
        e("#id_reserveenddate_enabled").prop("checked", !0),
        e("#id_reserveenddate_year").removeAttr("disabled"),
        e("#id_reserveenddate_month").removeAttr("disabled"),
        e("#id_reserveenddate_day").removeAttr("disabled"),
        e("#id_reserveenddate_hour").removeAttr("disabled"),
        e("#id_reserveenddate_minute").removeAttr("disabled"),
        e('a[name="reserveenddate[calendar]"]').removeAttr("style"),
        r(e("#id_startdate_year")),
        e("#id_offActivitys").removeClass("collapsed"),
        e("#id_offEvaluations").removeClass("collapsed");
    } else
      e("#fitem_id_reservestartdate").hide(),
        e("#fitem_id_reserveenddate").hide(),
        e("#fitem_id_reserveunittime").hide(),
        e("#fitem_id_reserveweektime").hide();
  }
  function r(t) {
    if ("nativeConversation" == e("#id_target").val()) {
      let a = moment(
          new Date(
            e("#id_startdate_year option:selected").val() +
              "-" +
              e("#id_startdate_month option:selected").val() +
              "-" +
              e("#id_startdate_day option:selected").val() +
              " " +
              e("#id_startdate_hour option:selected").val() +
              ":" +
              e("#id_startdate_minute option:selected").val()
          ).valueOf()
        ),
        r =
          (a.format("YYYY-MM-DD HH:mm"),
          moment(
            new Date(
              e("#id_enddate_year option:selected").val() +
                "-" +
                e("#id_enddate_month option:selected").val() +
                "-" +
                e("#id_enddate_day option:selected").val() +
                " " +
                e("#id_enddate_hour option:selected").val() +
                ":" +
                e("#id_enddate_minute option:selected").val()
            ).valueOf()
          )),
        i =
          (r.format("YYYY-MM-DD HH:mm"),
          moment(
            new Date(
              e("#id_reservestartdate_year option:selected").val() +
                "-" +
                e("#id_reservestartdate_month option:selected").val() +
                "-" +
                e("#id_reservestartdate_day option:selected").val() +
                " " +
                e("#id_reservestartdate_hour option:selected").val() +
                ":" +
                e("#id_reservestartdate_minute option:selected").val()
            ).valueOf()
          )),
        n =
          (i.format("YYYY-MM-DD HH:mm"),
          moment(
            new Date(
              e("#id_reserveenddate_year option:selected").val() +
                "-" +
                e("#id_reserveenddate_month option:selected").val() +
                "-" +
                e("#id_reserveenddate_day option:selected").val() +
                " " +
                e("#id_reserveenddate_hour option:selected").val() +
                ":" +
                e("#id_reserveenddate_minute option:selected").val()
            ).valueOf()
          ));
      n.format("YYYY-MM-DD HH:mm");
      (d = ""),
        e("#startdaterror").text(""),
        e("#enddaterror").text(""),
        e("#reservestartdaterror").text(""),
        e("#reserveenddaterror").text(""),
        a > r &&
          ((d = "활동시작일이 활동종료일 보다 큽니다"),
          t.parent("fieldset").find(".error").text(d)),
        i > n &&
          ((d = "예약신청시작일이 예약신청종료일 보다 큽니다"),
          t.parent("fieldset").find(".error").text(d));
    }
  }
  return (
    e("#id_submitbutton").click(function (t) {
      "nativeConversation" == e("#id_target").val() &&
        d.length &&
        (t.preventDefault(), alert(d));
    }),
    {
      initi: function () {
        e("#fitem_id_startdate > fieldset").append(
          '<span id="startdaterror" class="error" tabindex="0"></span>'
        ),
          e("#fitem_id_enddate > fieldset").append(
            '<span id="enddaterror" class="error" tabindex="0"></span>'
          ),
          e("#fitem_id_reservestartdate > fieldset").append(
            '<span id="reservestartdaterror" class="error" tabindex="0"></span>'
          ),
          e("#fitem_id_reserveenddate > fieldset").append(
            '<span id="reserveenddaterror" class="error" tabindex="0"></span>'
          ),
          "nativeConversation" == e("#id_target").val()
            ? (e("#id_target").css("pointer-events", "none"),
              e("#id_target").css("background-color", "#eee"))
            : (e("#id_target").css("pointer-events", "auto"),
              e("#id_target").css("background-color", "#fff")),
          a(),
          e("#id_target").click(function (e) {
            e.preventDefault(), a();
          }),
          e("#id_startdate_year").change(function (t) {
            r(e(this));
          }),
          e("#id_startdate_month").change(function (t) {
            r(e(this));
          }),
          e("#id_startdate_day").change(function (t) {
            r(e(this));
          }),
          e("#id_startdate_hour").change(function (t) {
            r(e(this));
          }),
          e("#id_startdate_minute").change(function (t) {
            r(e(this));
          }),
          e("#id_enddate_year").change(function (t) {
            r(e(this));
          }),
          e("#id_enddate_month").change(function (t) {
            r(e(this));
          }),
          e("#id_enddate_day").change(function (t) {
            r(e(this));
          }),
          e("#id_enddate_hour").change(function (t) {
            r(e(this));
          }),
          e("#id_enddate_minute").change(function (t) {
            r(e(this));
          }),
          e("#id_reservestartdate_year").change(function (t) {
            r(e(this));
          }),
          e("#id_reservestartdate_month").change(function (t) {
            r(e(this));
          }),
          e("#id_reservestartdate_day").change(function (t) {
            r(e(this));
          }),
          e("#id_reservestartdate_hour").change(function (t) {
            r(e(this));
          }),
          e("#id_reservestartdate_minute").change(function (t) {
            r(e(this));
          }),
          e("#id_reserveenddate_year").change(function (t) {
            r(e(this));
          }),
          e("#id_reserveenddate_month").change(function (t) {
            r(e(this));
          }),
          e("#id_reserveenddate_day").change(function (t) {
            r(e(this));
          }),
          e("#id_reserveenddate_hour").change(function (t) {
            r(e(this));
          }),
          e("#id_reserveenddate_minute").change(function (t) {
            r(e(this));
          });
      },
    }
  );
});

!(function (a) {
  if ("object" == typeof exports && "undefined" != typeof module)
    module.exports = a();
  else if ("function" == typeof define && define.amd)
    define("mod_vod/videojs-contrib-hls", [], a);
  else {
    var b;
    (b =
      "undefined" != typeof window
        ? window
        : "undefined" != typeof global
        ? global
        : "undefined" != typeof self
        ? self
        : this),
      (b.videojsContribHls = a());
  }
})(function () {
  var a;
  return (function b(a, c, d) {
    function e(g, h) {
      if (!c[g]) {
        if (!a[g]) {
          var i = "function" == typeof require && require;
          if (!h && i) return i(g, !0);
          if (f) return f(g, !0);
          var j = new Error("Cannot find module '" + g + "'");
          throw ((j.code = "MODULE_NOT_FOUND"), j);
        }
        var k = (c[g] = { exports: {} });
        a[g][0].call(
          k.exports,
          function (b) {
            var c = a[g][1][b];
            return e(c ? c : b);
          },
          k,
          k.exports,
          b,
          a,
          c,
          d
        );
      }
      return c[g].exports;
    }
    for (
      var f = "function" == typeof require && require, g = 0;
      g < d.length;
      g++
    )
      e(d[g]);
    return e;
  })(
    {
      1: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var e = (function () {
              function a(a, b) {
                var c = [],
                  d = !0,
                  e = !1,
                  f = void 0;
                try {
                  for (
                    var g, h = a[Symbol.iterator]();
                    !(d = (g = h.next()).done) &&
                    (c.push(g.value), !b || c.length !== b);
                    d = !0
                  );
                } catch (i) {
                  (e = !0), (f = i);
                } finally {
                  try {
                    !d && h["return"] && h["return"]();
                  } finally {
                    if (e) throw f;
                  }
                }
                return c;
              }
              return function (b, c) {
                if (Array.isArray(b)) return b;
                if (Symbol.iterator in Object(b)) return a(b, c);
                throw new TypeError(
                  "Invalid attempt to destructure non-iterable instance"
                );
              };
            })(),
            f = a("global/window"),
            g = d(f),
            h = function (a, b) {
              for (var c = a.cues, d = 0; d < c.length; d++) {
                var e = c[d];
                if (b >= e.adStartTime && b <= e.adEndTime) return e;
              }
              return null;
            },
            i = function (a, b) {
              var c =
                arguments.length <= 2 || void 0 === arguments[2]
                  ? 0
                  : arguments[2];
              if (a.segments)
                for (var d = c, f = void 0, i = 0; i < a.segments.length; i++) {
                  var j = a.segments[i];
                  if ((f || (f = h(b, d + j.duration / 2)), f)) {
                    if ("cueIn" in j) {
                      (f.endTime = d),
                        (f.adEndTime = d),
                        (d += j.duration),
                        (f = null);
                      continue;
                    }
                    if (d < f.endTime) {
                      d += j.duration;
                      continue;
                    }
                    f.endTime += j.duration;
                  } else if (
                    ("cueOut" in j &&
                      ((f = new g["default"].VTTCue(
                        d,
                        d + j.duration,
                        j.cueOut
                      )),
                      (f.adStartTime = d),
                      (f.adEndTime = d + parseFloat(j.cueOut)),
                      b.addCue(f)),
                    "cueOutCont" in j)
                  ) {
                    var k = void 0,
                      l = void 0,
                      m = j.cueOutCont.split("/").map(parseFloat),
                      n = e(m, 2);
                    (k = n[0]),
                      (l = n[1]),
                      (f = new g["default"].VTTCue(d, d + j.duration, "")),
                      (f.adStartTime = d - k),
                      (f.adEndTime = f.adStartTime + l),
                      b.addCue(f);
                  }
                  d += j.duration;
                }
            };
          (c["default"] = { updateAdCues: i, findAdCue: h }),
            (b.exports = c["default"]);
        },
        { "global/window": 32 },
      ],
      2: [
        function (a, b, c) {
          "use strict";
          Object.defineProperty(c, "__esModule", { value: !0 });
          var d = function (a, b) {
              return a.start(b) + "-" + a.end(b);
            },
            e = function (a, b) {
              var c = a.toString(16);
              return "00".substring(0, 2 - c.length) + c + (b % 2 ? " " : "");
            },
            f = function (a) {
              return a >= 32 && a < 126 ? String.fromCharCode(a) : ".";
            },
            g = function (a) {
              var b = {};
              return (
                Object.keys(a).forEach(function (c) {
                  var d = a[c];
                  ArrayBuffer.isView(d)
                    ? (b[c] = {
                        bytes: d.buffer,
                        byteOffset: d.byteOffset,
                        byteLength: d.byteLength,
                      })
                    : (b[c] = d);
                }),
                b
              );
            },
            h = function (a) {
              var b = a.byterange || { length: 1 / 0, offset: 0 };
              return [b.length, b.offset, a.resolvedUri].join(",");
            },
            i = {
              hexDump: function (a) {
                for (
                  var b = Array.prototype.slice.call(a),
                    c = 16,
                    d = "",
                    g = void 0,
                    h = void 0,
                    i = 0;
                  i < b.length / c;
                  i++
                )
                  (g = b
                    .slice(i * c, i * c + c)
                    .map(e)
                    .join("")),
                    (h = b
                      .slice(i * c, i * c + c)
                      .map(f)
                      .join("")),
                    (d += g + " " + h + "\n");
                return d;
              },
              tagDump: function (a) {
                return i.hexDump(a.bytes);
              },
              textRanges: function (a) {
                var b = "",
                  c = void 0;
                for (c = 0; c < a.length; c++) b += d(a, c) + " ";
                return b;
              },
              createTransferableMessage: g,
              initSegmentId: h,
            };
          (c["default"] = i), (b.exports = c["default"]);
        },
        {},
      ],
      3: [
        function (a, b, c) {
          "use strict";
          Object.defineProperty(c, "__esModule", { value: !0 }),
            (c["default"] = {
              GOAL_BUFFER_LENGTH: 30,
              MAX_GOAL_BUFFER_LENGTH: 60,
              GOAL_BUFFER_LENGTH_RATE: 1,
              BANDWIDTH_VARIANCE: 1.2,
              BUFFER_LOW_WATER_LINE: 0,
              MAX_BUFFER_LOW_WATER_LINE: 30,
              BUFFER_LOW_WATER_LINE_RATE: 1,
            }),
            (b.exports = c["default"]);
        },
        {},
      ],
      4: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var e = a("global/window"),
            f = d(e),
            g = a("aes-decrypter"),
            h = a("./bin-utils"),
            i = function (a) {
              a.onmessage = function (a) {
                var b = a.data,
                  c = new Uint8Array(
                    b.encrypted.bytes,
                    b.encrypted.byteOffset,
                    b.encrypted.byteLength
                  ),
                  d = new Uint32Array(
                    b.key.bytes,
                    b.key.byteOffset,
                    b.key.byteLength / 4
                  ),
                  e = new Uint32Array(
                    b.iv.bytes,
                    b.iv.byteOffset,
                    b.iv.byteLength / 4
                  );
                new g.Decrypter(c, d, e, function (a, c) {
                  f["default"].postMessage(
                    (0, h.createTransferableMessage)({
                      source: b.source,
                      decrypted: c,
                    }),
                    [c.buffer]
                  );
                });
              };
            };
          (c["default"] = function (a) {
            return new i(a);
          }),
            (b.exports = c["default"]);
        },
        { "./bin-utils": 2, "aes-decrypter": 25, "global/window": 32 },
      ],
      5: [
        function (a, b, c) {
          (function (b) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function e(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            function f(a, b) {
              if ("function" != typeof b && null !== b)
                throw new TypeError(
                  "Super expression must either be null or a function, not " +
                    typeof b
                );
              (a.prototype = Object.create(b && b.prototype, {
                constructor: {
                  value: a,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                b &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(a, b)
                    : (a.__proto__ = b));
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var g = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              h = function (a, b, c) {
                for (var d = !0; d; ) {
                  var e = a,
                    f = b,
                    g = c;
                  (d = !1), null === e && (e = Function.prototype);
                  var h = Object.getOwnPropertyDescriptor(e, f);
                  if (void 0 !== h) {
                    if ("value" in h) return h.value;
                    var i = h.get;
                    if (void 0 === i) return;
                    return i.call(g);
                  }
                  var j = Object.getPrototypeOf(e);
                  if (null === j) return;
                  (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
                }
              },
              i = a("./playlist-loader"),
              j = d(i),
              k = a("./playlist.js"),
              l = a("./segment-loader"),
              m = d(l),
              n = a("./vtt-segment-loader"),
              o = d(n),
              p = a("./ranges"),
              q = d(p),
              r =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof b
                  ? b.videojs
                  : null,
              s = d(r),
              t = a("./ad-cue-tags"),
              u = d(t),
              v = a("./sync-controller"),
              w = d(v),
              x = a("videojs-contrib-media-sources/es5/codec-utils"),
              y = a("webwackify"),
              z = d(y),
              A = a("./decrypter-worker"),
              B = d(A),
              C = a("./config"),
              D = d(C),
              E = a("./util/codecs.js"),
              F = a("./media-groups"),
              G = 120,
              H = void 0,
              I = {
                videoCodec: "avc1",
                videoObjectTypeIndicator: ".4d400d",
                audioProfile: "2",
              },
              J = [
                "mediaRequests",
                "mediaRequestsAborted",
                "mediaRequestsTimedout",
                "mediaRequestsErrored",
                "mediaTransferDuration",
                "mediaBytesTransferred",
              ],
              K = function (a) {
                return this.audioSegmentLoader_[a] + this.mainSegmentLoader_[a];
              },
              L = function () {
                var b = void 0;
                try {
                  b = a.resolve("./decrypter-worker");
                } catch (c) {}
                return b;
              },
              M = function (a) {
                return a.replace(/avc1\.(\d+)\.(\d+)/i, function (a) {
                  return (0, x.translateLegacyCodecs)([a])[0];
                });
              };
            c.mapLegacyAvcCodecs_ = M;
            var N = function (a, b, c) {
                return (
                  a +
                  "/" +
                  b +
                  '; codecs="' +
                  c
                    .filter(function (a) {
                      return !!a;
                    })
                    .join(", ") +
                  '"'
                );
              },
              O = function (a) {
                return a.segments && a.segments.length && a.segments[0].map
                  ? "mp4"
                  : "mp2t";
              },
              P = function (a) {
                var b = a.attributes || {};
                return b.CODECS ? (0, E.parseCodecs)(b.CODECS) : I;
              },
              Q = function (a, b) {
                var c = O(b),
                  d = P(b),
                  e = b.attributes || {},
                  f = !0,
                  g = !1;
                if (!b) return [];
                if (a.mediaGroups.AUDIO && e.AUDIO) {
                  var h = a.mediaGroups.AUDIO[e.AUDIO];
                  if (h) {
                    (g = !0), (f = !1);
                    for (var i in h)
                      if (!h[i].uri) {
                        f = !0;
                        break;
                      }
                  }
                }
                g &&
                  !d.audioProfile &&
                  (s["default"].log.warn(
                    "Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"
                  ),
                  (d.audioProfile = I.audioProfile));
                var j = {};
                d.videoCodec &&
                  (j.video = "" + d.videoCodec + d.videoObjectTypeIndicator),
                  d.audioProfile && (j.audio = "mp4a.40." + d.audioProfile);
                var k = N("audio", c, [j.audio]),
                  l = N("video", c, [j.video]),
                  m = N("video", c, [j.video, j.audio]);
                return g
                  ? !f && j.video
                    ? [l, k]
                    : [m, k]
                  : j.video
                  ? [m]
                  : [k];
              };
            c.mimeTypesForPlaylist_ = Q;
            var R = (function (a) {
              function b(a) {
                var c = this;
                e(this, b),
                  h(
                    Object.getPrototypeOf(b.prototype),
                    "constructor",
                    this
                  ).call(this);
                var d = a.url,
                  f = a.withCredentials,
                  g = a.mode,
                  i = a.tech,
                  k = a.bandwidth,
                  l = a.externHls,
                  n = a.useCueTags,
                  p = a.blacklistDuration,
                  q = a.enableLowInitialPlaylist;
                if (!d) throw new Error("A non-empty playlist URL is required");
                (H = l),
                  (this.withCredentials = f),
                  (this.tech_ = i),
                  (this.hls_ = i.hls),
                  (this.mode_ = g),
                  (this.useCueTags_ = n),
                  (this.blacklistDuration = p),
                  (this.enableLowInitialPlaylist = q),
                  this.useCueTags_ &&
                    ((this.cueTagsTrack_ = this.tech_.addTextTrack(
                      "metadata",
                      "ad-cues"
                    )),
                    (this.cueTagsTrack_.inBandMetadataTrackDispatchType = "")),
                  (this.requestOptions_ = {
                    withCredentials: this.withCredentials,
                    timeout: null,
                  }),
                  (this.mediaTypes_ = (0, F.createMediaTypes)()),
                  (this.mediaSource = new s["default"].MediaSource({
                    mode: g,
                  })),
                  this.mediaSource.addEventListener(
                    "sourceopen",
                    this.handleSourceOpen_.bind(this)
                  ),
                  (this.seekable_ = s["default"].createTimeRanges()),
                  (this.hasPlayed_ = function () {
                    return !1;
                  }),
                  (this.syncController_ = new w["default"](a)),
                  (this.segmentMetadataTrack_ = i.addRemoteTextTrack(
                    { kind: "metadata", label: "segment-metadata" },
                    !1
                  ).track),
                  (this.decrypter_ = (0, z["default"])(B["default"], L()));
                var r = {
                  hls: this.hls_,
                  mediaSource: this.mediaSource,
                  currentTime: this.tech_.currentTime.bind(this.tech_),
                  seekable: function () {
                    return c.seekable();
                  },
                  seeking: function () {
                    return c.tech_.seeking();
                  },
                  duration: function () {
                    return c.mediaSource.duration;
                  },
                  hasPlayed: function () {
                    return c.hasPlayed_();
                  },
                  goalBufferLength: function () {
                    return c.goalBufferLength();
                  },
                  bandwidth: k,
                  syncController: this.syncController_,
                  decrypter: this.decrypter_,
                };
                (this.masterPlaylistLoader_ = new j["default"](
                  d,
                  this.hls_,
                  this.withCredentials
                )),
                  this.setupMasterPlaylistLoaderListeners_(),
                  (this.mainSegmentLoader_ = new m["default"](
                    s["default"].mergeOptions(r, {
                      segmentMetadataTrack: this.segmentMetadataTrack_,
                      loaderType: "main",
                    }),
                    a
                  )),
                  (this.audioSegmentLoader_ = new m["default"](
                    s["default"].mergeOptions(r, { loaderType: "audio" }),
                    a
                  )),
                  (this.subtitleSegmentLoader_ = new o["default"](
                    s["default"].mergeOptions(r, { loaderType: "vtt" }),
                    a
                  )),
                  this.setupSegmentLoaderListeners_(),
                  J.forEach(function (a) {
                    c[a + "_"] = K.bind(c, a);
                  }),
                  this.masterPlaylistLoader_.load();
              }
              return (
                f(b, a),
                g(b, [
                  {
                    key: "setupMasterPlaylistLoaderListeners_",
                    value: function () {
                      var a = this;
                      this.masterPlaylistLoader_.on(
                        "loadedmetadata",
                        function () {
                          var b = a.masterPlaylistLoader_.media(),
                            c =
                              1.5 *
                              a.masterPlaylistLoader_.targetDuration *
                              1e3;
                          (0, k.isLowestEnabledRendition)(
                            a.masterPlaylistLoader_.master,
                            a.masterPlaylistLoader_.media()
                          )
                            ? (a.requestOptions_.timeout = 0)
                            : (a.requestOptions_.timeout = c),
                            b.endList &&
                              "none" !== a.tech_.preload() &&
                              (a.mainSegmentLoader_.playlist(
                                b,
                                a.requestOptions_
                              ),
                              a.mainSegmentLoader_.load()),
                            (0, F.setupMediaGroups)({
                              segmentLoaders: {
                                AUDIO: a.audioSegmentLoader_,
                                SUBTITLES: a.subtitleSegmentLoader_,
                                main: a.mainSegmentLoader_,
                              },
                              tech: a.tech_,
                              requestOptions: a.requestOptions_,
                              masterPlaylistLoader: a.masterPlaylistLoader_,
                              mode: a.mode_,
                              hls: a.hls_,
                              master: a.master(),
                              mediaTypes: a.mediaTypes_,
                              blacklistCurrentPlaylist:
                                a.blacklistCurrentPlaylist.bind(a),
                            }),
                            a.triggerPresenceUsage_(a.master(), b);
                          try {
                            a.setupSourceBuffers_();
                          } catch (d) {
                            return (
                              s["default"].log.warn(
                                "Failed to create SourceBuffers",
                                d
                              ),
                              a.mediaSource.endOfStream("decode")
                            );
                          }
                          a.setupFirstPlay(), a.trigger("selectedinitialmedia");
                        }
                      ),
                        this.masterPlaylistLoader_.on(
                          "loadedplaylist",
                          function () {
                            var b = a.masterPlaylistLoader_.media();
                            if (!b) {
                              var c = void 0;
                              return (
                                a.enableLowInitialPlaylist &&
                                  (c = a.selectInitialPlaylist()),
                                c || (c = a.selectPlaylist()),
                                (a.initialMedia_ = c),
                                void a.masterPlaylistLoader_.media(
                                  a.initialMedia_
                                )
                              );
                            }
                            a.useCueTags_ && a.updateAdCues_(b),
                              a.mainSegmentLoader_.playlist(
                                b,
                                a.requestOptions_
                              ),
                              a.updateDuration(),
                              a.tech_.paused() || a.mainSegmentLoader_.load(),
                              b.endList ||
                                !(function () {
                                  var b = function () {
                                    var b = a.seekable();
                                    0 !== b.length &&
                                      a.mediaSource.addSeekableRange_(
                                        b.start(0),
                                        b.end(0)
                                      );
                                  };
                                  a.duration() !== 1 / 0
                                    ? !(function () {
                                        var c = function d() {
                                          a.duration() === 1 / 0
                                            ? b()
                                            : a.tech_.one("durationchange", d);
                                        };
                                        a.tech_.one("durationchange", c);
                                      })()
                                    : b();
                                })();
                          }
                        ),
                        this.masterPlaylistLoader_.on("error", function () {
                          a.blacklistCurrentPlaylist(
                            a.masterPlaylistLoader_.error
                          );
                        }),
                        this.masterPlaylistLoader_.on(
                          "mediachanging",
                          function () {
                            a.mainSegmentLoader_.abort(),
                              a.mainSegmentLoader_.pause();
                          }
                        ),
                        this.masterPlaylistLoader_.on(
                          "mediachange",
                          function () {
                            var b = a.masterPlaylistLoader_.media(),
                              c =
                                1.5 *
                                a.masterPlaylistLoader_.targetDuration *
                                1e3;
                            (0, k.isLowestEnabledRendition)(
                              a.masterPlaylistLoader_.master,
                              a.masterPlaylistLoader_.media()
                            )
                              ? (a.requestOptions_.timeout = 0)
                              : (a.requestOptions_.timeout = c),
                              a.mainSegmentLoader_.playlist(
                                b,
                                a.requestOptions_
                              ),
                              a.mainSegmentLoader_.load(),
                              a.tech_.trigger({
                                type: "mediachange",
                                bubbles: !0,
                              });
                          }
                        ),
                        this.masterPlaylistLoader_.on(
                          "playlistunchanged",
                          function () {
                            var b = a.masterPlaylistLoader_.media(),
                              c = a.stuckAtPlaylistEnd_(b);
                            c &&
                              (a.blacklistCurrentPlaylist({
                                message: "Playlist no longer updating.",
                              }),
                              a.tech_.trigger("playliststuck"));
                          }
                        ),
                        this.masterPlaylistLoader_.on(
                          "renditiondisabled",
                          function () {
                            a.tech_.trigger({
                              type: "usage",
                              name: "hls-rendition-disabled",
                            });
                          }
                        ),
                        this.masterPlaylistLoader_.on(
                          "renditionenabled",
                          function () {
                            a.tech_.trigger({
                              type: "usage",
                              name: "hls-rendition-enabled",
                            });
                          }
                        );
                    },
                  },
                  {
                    key: "triggerPresenceUsage_",
                    value: function (a, b) {
                      var c = a.mediaGroups || {},
                        d = !0,
                        e = Object.keys(c.AUDIO);
                      for (var f in c.AUDIO)
                        for (var g in c.AUDIO[f]) {
                          var h = c.AUDIO[f][g];
                          h.uri || (d = !1);
                        }
                      d &&
                        this.tech_.trigger({
                          type: "usage",
                          name: "hls-demuxed",
                        }),
                        Object.keys(c.SUBTITLES).length &&
                          this.tech_.trigger({
                            type: "usage",
                            name: "hls-webvtt",
                          }),
                        H.Playlist.isAes(b) &&
                          this.tech_.trigger({
                            type: "usage",
                            name: "hls-aes",
                          }),
                        H.Playlist.isFmp4(b) &&
                          this.tech_.trigger({
                            type: "usage",
                            name: "hls-fmp4",
                          }),
                        e.length &&
                          Object.keys(c.AUDIO[e[0]]).length > 1 &&
                          this.tech_.trigger({
                            type: "usage",
                            name: "hls-alternate-audio",
                          }),
                        this.useCueTags_ &&
                          this.tech_.trigger({
                            type: "usage",
                            name: "hls-playlist-cue-tags",
                          });
                    },
                  },
                  {
                    key: "setupSegmentLoaderListeners_",
                    value: function () {
                      var a = this;
                      this.mainSegmentLoader_.on(
                        "bandwidthupdate",
                        function () {
                          var b = a.selectPlaylist(),
                            c = a.masterPlaylistLoader_.media(),
                            d = a.tech_.buffered(),
                            e = d.length
                              ? d.end(d.length - 1) - a.tech_.currentTime()
                              : 0,
                            f = a.bufferLowWaterLine();
                          (!c.endList ||
                            a.duration() <
                              D["default"].MAX_BUFFER_LOW_WATER_LINE ||
                            b.attributes.BANDWIDTH < c.attributes.BANDWIDTH ||
                            e >= f) &&
                            a.masterPlaylistLoader_.media(b),
                            a.tech_.trigger("bandwidthupdate");
                        }
                      ),
                        this.mainSegmentLoader_.on("progress", function () {
                          a.trigger("progress");
                        }),
                        this.mainSegmentLoader_.on("error", function () {
                          a.blacklistCurrentPlaylist(
                            a.mainSegmentLoader_.error()
                          );
                        }),
                        this.mainSegmentLoader_.on(
                          "syncinfoupdate",
                          function () {
                            a.onSyncInfoUpdate_();
                          }
                        ),
                        this.mainSegmentLoader_.on(
                          "timestampoffset",
                          function () {
                            a.tech_.trigger({
                              type: "usage",
                              name: "hls-timestamp-offset",
                            });
                          }
                        ),
                        this.audioSegmentLoader_.on(
                          "syncinfoupdate",
                          function () {
                            a.onSyncInfoUpdate_();
                          }
                        ),
                        this.mainSegmentLoader_.on("ended", function () {
                          a.onEndOfStream();
                        }),
                        this.mainSegmentLoader_.on("earlyabort", function () {
                          a.blacklistCurrentPlaylist(
                            {
                              message:
                                "Aborted early because there isn't enough bandwidth to complete the request without rebuffering.",
                            },
                            G
                          );
                        }),
                        this.mainSegmentLoader_.on(
                          "reseteverything",
                          function () {
                            a.tech_.trigger("hls-reset");
                          }
                        ),
                        this.mainSegmentLoader_.on(
                          "segmenttimemapping",
                          function (b) {
                            a.tech_.trigger({
                              type: "hls-segment-time-mapping",
                              mapping: b.mapping,
                            });
                          }
                        ),
                        this.audioSegmentLoader_.on("ended", function () {
                          a.onEndOfStream();
                        });
                    },
                  },
                  {
                    key: "mediaSecondsLoaded_",
                    value: function () {
                      return Math.max(
                        this.audioSegmentLoader_.mediaSecondsLoaded +
                          this.mainSegmentLoader_.mediaSecondsLoaded
                      );
                    },
                  },
                  {
                    key: "load",
                    value: function () {
                      this.mainSegmentLoader_.load(),
                        this.mediaTypes_.AUDIO.activePlaylistLoader &&
                          this.audioSegmentLoader_.load(),
                        this.mediaTypes_.SUBTITLES.activePlaylistLoader &&
                          this.subtitleSegmentLoader_.load();
                    },
                  },
                  {
                    key: "fastQualityChange_",
                    value: function () {
                      var a = this.selectPlaylist();
                      a !== this.masterPlaylistLoader_.media() &&
                        (this.masterPlaylistLoader_.media(a),
                        this.mainSegmentLoader_.resetLoader());
                    },
                  },
                  {
                    key: "play",
                    value: function () {
                      if (!this.setupFirstPlay()) {
                        this.tech_.ended() && this.tech_.setCurrentTime(0),
                          this.hasPlayed_() && this.load();
                        var a = this.tech_.seekable();
                        return this.tech_.duration() === 1 / 0 &&
                          this.tech_.currentTime() < a.start(0)
                          ? this.tech_.setCurrentTime(a.end(a.length - 1))
                          : void 0;
                      }
                    },
                  },
                  {
                    key: "setupFirstPlay",
                    value: function () {
                      var a = this,
                        b = this.masterPlaylistLoader_.media();
                      if (!b || this.tech_.paused() || this.hasPlayed_())
                        return !1;
                      if (!b.endList) {
                        var c = (function () {
                          var b = a.seekable();
                          return b.length
                            ? s["default"].browser.IE_VERSION &&
                              "html5" === a.mode_ &&
                              0 === a.tech_.readyState()
                              ? (a.tech_.one("loadedmetadata", function () {
                                  a.trigger("firstplay"),
                                    a.tech_.setCurrentTime(b.end(0)),
                                    (a.hasPlayed_ = function () {
                                      return !0;
                                    });
                                }),
                                { v: !1 })
                              : (a.trigger("firstplay"),
                                void a.tech_.setCurrentTime(b.end(0)))
                            : { v: !1 };
                        })();
                        if ("object" == typeof c) return c.v;
                      }
                      return (
                        (this.hasPlayed_ = function () {
                          return !0;
                        }),
                        this.load(),
                        !0
                      );
                    },
                  },
                  {
                    key: "handleSourceOpen_",
                    value: function () {
                      try {
                        this.setupSourceBuffers_();
                      } catch (a) {
                        return (
                          s["default"].log.warn(
                            "Failed to create Source Buffers",
                            a
                          ),
                          this.mediaSource.endOfStream("decode")
                        );
                      }
                      if (this.tech_.autoplay()) {
                        var b = this.tech_.play();
                        "undefined" != typeof b &&
                          "function" == typeof b.then &&
                          b.then(null, function (a) {});
                      }
                      this.trigger("sourceopen");
                    },
                  },
                  {
                    key: "onEndOfStream",
                    value: function () {
                      var a = this.mainSegmentLoader_.ended_;
                      this.mediaTypes_.AUDIO.activePlaylistLoader &&
                        (a = a && this.audioSegmentLoader_.ended_),
                        a && this.mediaSource.endOfStream();
                    },
                  },
                  {
                    key: "stuckAtPlaylistEnd_",
                    value: function (a) {
                      var b = this.seekable();
                      if (!b.length) return !1;
                      var c = this.syncController_.getExpiredTime(
                        a,
                        this.mediaSource.duration
                      );
                      if (null === c) return !1;
                      var d = H.Playlist.playlistEnd(a, c),
                        e = this.tech_.currentTime(),
                        f = this.tech_.buffered();
                      if (!f.length)
                        return d - e <= q["default"].SAFE_TIME_DELTA;
                      var g = f.end(f.length - 1);
                      return (
                        g - e <= q["default"].SAFE_TIME_DELTA &&
                        d - g <= q["default"].SAFE_TIME_DELTA
                      );
                    },
                  },
                  {
                    key: "blacklistCurrentPlaylist",
                    value: function (a, b) {
                      void 0 === a && (a = {});
                      var c = void 0,
                        d = void 0;
                      if (
                        ((c = a.playlist || this.masterPlaylistLoader_.media()),
                        (b =
                          b || a.blacklistDuration || this.blacklistDuration),
                        !c)
                      ) {
                        this.error = a;
                        try {
                          return this.mediaSource.endOfStream("network");
                        } catch (e) {
                          return this.trigger("error");
                        }
                      }
                      var f =
                        1 ===
                        this.masterPlaylistLoader_.master.playlists.filter(
                          k.isEnabled
                        ).length;
                      return f
                        ? (s["default"].log.warn(
                            "Problem encountered with the current HLS playlist. Trying again since it is the final playlist."
                          ),
                          this.tech_.trigger("retryplaylist"),
                          this.masterPlaylistLoader_.load(f))
                        : ((c.excludeUntil = Date.now() + 1e3 * b),
                          this.tech_.trigger("blacklistplaylist"),
                          this.tech_.trigger({
                            type: "usage",
                            name: "hls-rendition-blacklisted",
                          }),
                          (d = this.selectPlaylist()),
                          s["default"].log.warn(
                            "Problem encountered with the current HLS playlist." +
                              (a.message ? " " + a.message : "") +
                              " Switching to another playlist."
                          ),
                          this.masterPlaylistLoader_.media(d));
                    },
                  },
                  {
                    key: "pauseLoading",
                    value: function () {
                      this.mainSegmentLoader_.pause(),
                        this.mediaTypes_.AUDIO.activePlaylistLoader &&
                          this.audioSegmentLoader_.pause(),
                        this.mediaTypes_.SUBTITLES.activePlaylistLoader &&
                          this.subtitleSegmentLoader_.pause();
                    },
                  },
                  {
                    key: "setCurrentTime",
                    value: function (a) {
                      var b = q["default"].findRange(this.tech_.buffered(), a);
                      return this.masterPlaylistLoader_ &&
                        this.masterPlaylistLoader_.media() &&
                        this.masterPlaylistLoader_.media().segments
                        ? b && b.length && "flash" !== this.mode_
                          ? a
                          : (this.mainSegmentLoader_.resetEverything(),
                            this.mainSegmentLoader_.abort(),
                            this.mediaTypes_.AUDIO.activePlaylistLoader &&
                              (this.audioSegmentLoader_.resetEverything(),
                              this.audioSegmentLoader_.abort()),
                            this.mediaTypes_.SUBTITLES.activePlaylistLoader &&
                              (this.subtitleSegmentLoader_.resetEverything(),
                              this.subtitleSegmentLoader_.abort()),
                            void this.load())
                        : 0;
                    },
                  },
                  {
                    key: "duration",
                    value: function () {
                      return this.masterPlaylistLoader_
                        ? this.mediaSource
                          ? this.mediaSource.duration
                          : H.Playlist.duration(
                              this.masterPlaylistLoader_.media()
                            )
                        : 0;
                    },
                  },
                  {
                    key: "seekable",
                    value: function () {
                      return this.seekable_;
                    },
                  },
                  {
                    key: "onSyncInfoUpdate_",
                    value: function () {
                      var a = void 0,
                        b = void 0;
                      if (this.masterPlaylistLoader_) {
                        var c = this.masterPlaylistLoader_.media();
                        if (c) {
                          var d = this.syncController_.getExpiredTime(
                            c,
                            this.mediaSource.duration
                          );
                          if (
                            null !== d &&
                            ((a = H.Playlist.seekable(c, d)), 0 !== a.length)
                          ) {
                            if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                              if (
                                ((c =
                                  this.mediaTypes_.AUDIO.activePlaylistLoader.media()),
                                (d = this.syncController_.getExpiredTime(
                                  c,
                                  this.mediaSource.duration
                                )),
                                null === d)
                              )
                                return;
                              if (
                                ((b = H.Playlist.seekable(c, d)),
                                0 === b.length)
                              )
                                return;
                            }
                            b
                              ? b.start(0) > a.end(0) || a.start(0) > b.end(0)
                                ? (this.seekable_ = a)
                                : (this.seekable_ = s[
                                    "default"
                                  ].createTimeRanges([
                                    [
                                      b.start(0) > a.start(0)
                                        ? b.start(0)
                                        : a.start(0),
                                      b.end(0) < a.end(0) ? b.end(0) : a.end(0),
                                    ],
                                  ]))
                              : (this.seekable_ = a),
                              this.tech_.trigger("seekablechanged");
                          }
                        }
                      }
                    },
                  },
                  {
                    key: "updateDuration",
                    value: function () {
                      var a = this,
                        b = this.mediaSource.duration,
                        c = H.Playlist.duration(
                          this.masterPlaylistLoader_.media()
                        ),
                        d = this.tech_.buffered(),
                        e = function f() {
                          (a.mediaSource.duration = c),
                            a.tech_.trigger("durationchange"),
                            a.mediaSource.removeEventListener("sourceopen", f);
                        };
                      d.length > 0 && (c = Math.max(c, d.end(d.length - 1))),
                        b !== c &&
                          ("open" !== this.mediaSource.readyState
                            ? this.mediaSource.addEventListener("sourceopen", e)
                            : e());
                    },
                  },
                  {
                    key: "dispose",
                    value: function () {
                      var a = this;
                      this.decrypter_.terminate(),
                        this.masterPlaylistLoader_.dispose(),
                        this.mainSegmentLoader_.dispose(),
                        ["AUDIO", "SUBTITLES"].forEach(function (b) {
                          var c = a.mediaTypes_[b].groups;
                          for (var d in c)
                            c[d].forEach(function (a) {
                              a.playlistLoader && a.playlistLoader.dispose();
                            });
                        }),
                        this.audioSegmentLoader_.dispose(),
                        this.subtitleSegmentLoader_.dispose();
                    },
                  },
                  {
                    key: "master",
                    value: function () {
                      return this.masterPlaylistLoader_.master;
                    },
                  },
                  {
                    key: "media",
                    value: function () {
                      return (
                        this.masterPlaylistLoader_.media() || this.initialMedia_
                      );
                    },
                  },
                  {
                    key: "setupSourceBuffers_",
                    value: function () {
                      var a = this.masterPlaylistLoader_.media(),
                        b = void 0;
                      if (a && "open" === this.mediaSource.readyState) {
                        if (
                          ((b = Q(this.masterPlaylistLoader_.master, a)),
                          b.length < 1)
                        )
                          return (
                            (this.error =
                              "No compatible SourceBuffer configuration for the variant stream:" +
                              a.resolvedUri),
                            this.mediaSource.endOfStream("decode")
                          );
                        this.mainSegmentLoader_.mimeType(b[0]),
                          b[1] && this.audioSegmentLoader_.mimeType(b[1]),
                          this.excludeIncompatibleVariants_(a);
                      }
                    },
                  },
                  {
                    key: "excludeIncompatibleVariants_",
                    value: function (a) {
                      var b = this.masterPlaylistLoader_.master,
                        c = 2,
                        d = null,
                        e = void 0;
                      a.attributes.CODECS &&
                        ((e = (0, E.parseCodecs)(a.attributes.CODECS)),
                        (d = e.videoCodec),
                        (c = e.codecCount)),
                        b.playlists.forEach(function (a) {
                          var b = { codecCount: 2, videoCodec: null };
                          if (a.attributes.CODECS) {
                            var e = a.attributes.CODECS;
                            (b = (0, E.parseCodecs)(e)),
                              window.MediaSource &&
                                window.MediaSource.isTypeSupported &&
                                !window.MediaSource.isTypeSupported(
                                  'video/mp4; codecs="' + M(e) + '"'
                                ) &&
                                (a.excludeUntil = 1 / 0);
                          }
                          b.codecCount !== c && (a.excludeUntil = 1 / 0),
                            b.videoCodec !== d && (a.excludeUntil = 1 / 0);
                        });
                    },
                  },
                  {
                    key: "updateAdCues_",
                    value: function (a) {
                      var b = 0,
                        c = this.seekable();
                      c.length && (b = c.start(0)),
                        u["default"].updateAdCues(a, this.cueTagsTrack_, b);
                    },
                  },
                  {
                    key: "goalBufferLength",
                    value: function () {
                      var a = this.tech_.currentTime(),
                        b = D["default"].GOAL_BUFFER_LENGTH,
                        c = D["default"].GOAL_BUFFER_LENGTH_RATE,
                        d = Math.max(b, D["default"].MAX_GOAL_BUFFER_LENGTH);
                      return Math.min(b + a * c, d);
                    },
                  },
                  {
                    key: "bufferLowWaterLine",
                    value: function () {
                      var a = this.tech_.currentTime(),
                        b = D["default"].BUFFER_LOW_WATER_LINE,
                        c = D["default"].BUFFER_LOW_WATER_LINE_RATE,
                        d = Math.max(b, D["default"].MAX_BUFFER_LOW_WATER_LINE);
                      return Math.min(b + a * c, d);
                    },
                  },
                ]),
                b
              );
            })(s["default"].EventTarget);
            c.MasterPlaylistController = R;
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {
          "./ad-cue-tags": 1,
          "./config": 3,
          "./decrypter-worker": 4,
          "./media-groups": 6,
          "./playlist-loader": 9,
          "./playlist.js": 11,
          "./ranges": 12,
          "./segment-loader": 16,
          "./sync-controller": 18,
          "./util/codecs.js": 19,
          "./vtt-segment-loader": 20,
          "videojs-contrib-media-sources/es5/codec-utils": 65,
          webwackify: 76,
        },
      ],
      6: [
        function (a, b, c) {
          (function (b) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var e =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof b
                  ? b.videojs
                  : null,
              f = d(e),
              g = a("./playlist-loader"),
              h = d(g),
              i = function () {},
              j = function (a) {
                var b = a["default"] ? "main" : "alternative";
                return (
                  a.characteristics &&
                    a.characteristics.indexOf(
                      "public.accessibility.describes-video"
                    ) >= 0 &&
                    (b = "main-desc"),
                  b
                );
              },
              k = function (a, b) {
                a.abort(),
                  a.pause(),
                  b &&
                    b.activePlaylistLoader &&
                    (b.activePlaylistLoader.pause(),
                    (b.activePlaylistLoader = null));
              };
            c.stopLoaders = k;
            var l = function (a, b) {
              (b.activePlaylistLoader = a), a.load();
            };
            c.startLoaders = l;
            var m = function (a, b) {
              return function () {
                var c = b.segmentLoaders,
                  d = c[a],
                  e = c.main,
                  f = b.mediaTypes[a],
                  g = f.activeTrack(),
                  h = f.activeGroup(g),
                  i = f.activePlaylistLoader;
                if ((k(d, f), h)) {
                  if (!h.playlistLoader) return void (i && e.resetEverything());
                  d.resyncLoader(), l(h.playlistLoader, f);
                }
              };
            };
            c.onGroupChanged = m;
            var n = function (a, b) {
              return function () {
                var c = b.segmentLoaders,
                  d = c[a],
                  e = c.main,
                  f = b.mediaTypes[a],
                  g = f.activeTrack(),
                  h = f.activeGroup(g),
                  i = f.activePlaylistLoader;
                if ((k(d, f), h)) {
                  if (!h.playlistLoader) return void e.resetEverything();
                  if (i === h.playlistLoader)
                    return void l(h.playlistLoader, f);
                  d.track && d.track(g),
                    d.resetEverything(),
                    l(h.playlistLoader, f);
                }
              };
            };
            c.onTrackChanged = n;
            var o = {
              AUDIO: function (a, b) {
                return function () {
                  var c = b.segmentLoaders[a],
                    d = b.mediaTypes[a],
                    e = b.blacklistCurrentPlaylist;
                  k(c, d);
                  var g = d.activeTrack(),
                    h = d.activeGroup(),
                    i = (
                      h.filter(function (a) {
                        return a["default"];
                      })[0] || h[0]
                    ).id,
                    j = d.tracks[i];
                  if (g === j)
                    return void e({
                      message:
                        "Problem encountered loading the default audio track.",
                    });
                  f["default"].log.warn(
                    "Problem encountered loading the alternate audio track.Switching back to default."
                  );
                  for (var l in d.tracks)
                    d.tracks[l].enabled = d.tracks[l] === j;
                  d.onTrackChanged();
                };
              },
              SUBTITLES: function (a, b) {
                return function () {
                  var c = b.segmentLoaders[a],
                    d = b.mediaTypes[a];
                  f["default"].log.warn(
                    "Problem encountered loading the subtitle track.Disabling subtitle track."
                  ),
                    k(c, d);
                  var e = d.activeTrack();
                  e && (e.mode = "disabled"), d.onTrackChanged();
                };
              },
            };
            c.onError = o;
            var p = {
              AUDIO: function (a, b, c) {
                if (b) {
                  var d = c.tech,
                    e = c.requestOptions,
                    f = c.segmentLoaders[a];
                  b.on("loadedmetadata", function () {
                    var a = b.media();
                    f.playlist(a, e),
                      (!d.paused() || (a.endList && "none" !== d.preload())) &&
                        f.load();
                  }),
                    b.on("loadedplaylist", function () {
                      f.playlist(b.media(), e), d.paused() || f.load();
                    }),
                    b.on("error", o[a](a, c));
                }
              },
              SUBTITLES: function (a, b, c) {
                var d = c.tech,
                  e = c.requestOptions,
                  f = c.segmentLoaders[a],
                  g = c.mediaTypes[a];
                b.on("loadedmetadata", function () {
                  var a = b.media();
                  f.playlist(a, e),
                    f.track(g.activeTrack()),
                    (!d.paused() || (a.endList && "none" !== d.preload())) &&
                      f.load();
                }),
                  b.on("loadedplaylist", function () {
                    f.playlist(b.media(), e), d.paused() || f.load();
                  }),
                  b.on("error", o[a](a, c));
              },
            };
            c.setupListeners = p;
            var q = {
              AUDIO: function (a, b) {
                var c = b.mode,
                  d = b.hls,
                  e = b.segmentLoaders[a],
                  g = b.requestOptions.withCredentials,
                  i = b.master.mediaGroups,
                  k = b.mediaTypes[a],
                  l = k.groups,
                  m = k.tracks;
                (i[a] && 0 !== Object.keys(i[a]).length && "html5" === c) ||
                  (i[a] = { main: { default: { default: !0 } } });
                for (var n in i[a]) {
                  l[n] || (l[n] = []);
                  for (var q in i[a][n]) {
                    var r = i[a][n][q],
                      s = void 0;
                    if (
                      ((s = r.resolvedUri
                        ? new h["default"](r.resolvedUri, d, g)
                        : null),
                      (r = f["default"].mergeOptions(
                        { id: q, playlistLoader: s },
                        r
                      )),
                      p[a](a, r.playlistLoader, b),
                      l[n].push(r),
                      "undefined" == typeof m[q])
                    ) {
                      var t = new f["default"].AudioTrack({
                        id: q,
                        kind: j(r),
                        enabled: !1,
                        language: r.language,
                        default: r["default"],
                        label: q,
                      });
                      m[q] = t;
                    }
                  }
                }
                e.on("error", o[a](a, b));
              },
              SUBTITLES: function (a, b) {
                var c = b.tech,
                  d = b.hls,
                  e = b.segmentLoaders[a],
                  g = b.requestOptions.withCredentials,
                  i = b.master.mediaGroups,
                  j = b.mediaTypes[a],
                  k = j.groups,
                  l = j.tracks;
                for (var m in i[a]) {
                  k[m] || (k[m] = []);
                  for (var n in i[a][m])
                    if (!i[a][m][n].forced) {
                      var q = i[a][m][n];
                      if (
                        ((q = f["default"].mergeOptions(
                          {
                            id: n,
                            playlistLoader: new h["default"](
                              q.resolvedUri,
                              d,
                              g
                            ),
                          },
                          q
                        )),
                        p[a](a, q.playlistLoader, b),
                        k[m].push(q),
                        "undefined" == typeof l[n])
                      ) {
                        var r = c.addRemoteTextTrack(
                          {
                            id: n,
                            kind: "subtitles",
                            enabled: !1,
                            language: q.language,
                            label: n,
                          },
                          !1
                        ).track;
                        l[n] = r;
                      }
                    }
                }
                e.on("error", o[a](a, b));
              },
              "CLOSED-CAPTIONS": function (a, b) {
                var c = b.tech,
                  d = b.master.mediaGroups,
                  e = b.mediaTypes[a],
                  g = e.groups,
                  h = e.tracks;
                for (var i in d[a]) {
                  g[i] || (g[i] = []);
                  for (var j in d[a][i]) {
                    var k = d[a][i][j];
                    if (
                      k.instreamId.match(/CC\d/) &&
                      (g[i].push(f["default"].mergeOptions({ id: j }, k)),
                      "undefined" == typeof h[j])
                    ) {
                      var l = c.addRemoteTextTrack(
                        {
                          id: k.instreamId,
                          kind: "captions",
                          enabled: !1,
                          language: k.language,
                          label: j,
                        },
                        !1
                      ).track;
                      h[j] = l;
                    }
                  }
                }
              },
            };
            c.initialize = q;
            var r = function (a, b) {
              return function (c) {
                var d = b.masterPlaylistLoader,
                  e = b.mediaTypes[a].groups,
                  f = d.media();
                if (!f) return null;
                var g = null;
                return (
                  f.attributes[a] && (g = e[f.attributes[a]]),
                  (g = g || e.main),
                  "undefined" == typeof c
                    ? g
                    : null === c
                    ? null
                    : g.filter(function (a) {
                        return a.id === c.id;
                      })[0] || null
                );
              };
            };
            c.activeGroup = r;
            var s = {
              AUDIO: function (a, b) {
                return function () {
                  var c = b.mediaTypes[a].tracks;
                  for (var d in c) if (c[d].enabled) return c[d];
                  return null;
                };
              },
              SUBTITLES: function (a, b) {
                return function () {
                  var c = b.mediaTypes[a].tracks;
                  for (var d in c) if ("showing" === c[d].mode) return c[d];
                  return null;
                };
              },
            };
            c.activeTrack = s;
            var t = function (a) {
              ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function (b) {
                q[b](b, a);
              });
              var b = a.mediaTypes,
                c = a.masterPlaylistLoader,
                d = a.tech,
                e = a.hls;
              ["AUDIO", "SUBTITLES"].forEach(function (c) {
                (b[c].activeGroup = r(c, a)),
                  (b[c].activeTrack = s[c](c, a)),
                  (b[c].onGroupChanged = m(c, a)),
                  (b[c].onTrackChanged = n(c, a));
              });
              var f = b.AUDIO.activeGroup(),
                g = (
                  f.filter(function (a) {
                    return a["default"];
                  })[0] || f[0]
                ).id;
              (b.AUDIO.tracks[g].enabled = !0),
                b.AUDIO.onTrackChanged(),
                c.on("mediachange", function () {
                  ["AUDIO", "SUBTITLES"].forEach(function (a) {
                    return b[a].onGroupChanged();
                  });
                });
              var h = function () {
                b.AUDIO.onTrackChanged(),
                  d.trigger({ type: "usage", name: "hls-audio-change" });
              };
              d.audioTracks().addEventListener("change", h),
                d
                  .remoteTextTracks()
                  .addEventListener("change", b.SUBTITLES.onTrackChanged),
                e.on("dispose", function () {
                  d.audioTracks().removeEventListener("change", h),
                    d
                      .remoteTextTracks()
                      .removeEventListener(
                        "change",
                        b.SUBTITLES.onTrackChanged
                      );
                }),
                d.clearTracks("audio");
              for (var i in b.AUDIO.tracks)
                d.audioTracks().addTrack(b.AUDIO.tracks[i]);
            };
            c.setupMediaGroups = t;
            var u = function () {
              var a = {};
              return (
                ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function (b) {
                  a[b] = {
                    groups: {},
                    tracks: {},
                    activePlaylistLoader: null,
                    activeGroup: i,
                    activeTrack: i,
                    onGroupChanged: i,
                    onTrackChanged: i,
                  };
                }),
                a
              );
            };
            c.createMediaTypes = u;
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        { "./playlist-loader": 9 },
      ],
      7: [
        function (a, b, c) {
          (function (b) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var e =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof b
                  ? b.videojs
                  : null,
              f = d(e),
              g = a("./bin-utils"),
              h = { FAILURE: 2, TIMEOUT: -101, ABORTED: -102 };
            c.REQUEST_ERRORS = h;
            var i = function (a) {
                var b = void 0,
                  c = void 0;
                return (
                  (c = a.offset + a.length - 1),
                  (b = a.offset),
                  "bytes=" + b + "-" + c
                );
              },
              j = function (a) {
                var b = {};
                return a.byterange && (b.Range = i(a.byterange)), b;
              },
              k = function (a) {
                a.forEach(function (a) {
                  a.abort();
                });
              },
              l = function (a) {
                return {
                  bandwidth: a.bandwidth,
                  bytesReceived: a.bytesReceived || 0,
                  roundTripTime: a.roundTripTime || 0,
                };
              },
              m = function (a) {
                var b = a.target,
                  c = Date.now() - b.requestTime,
                  d = {
                    bandwidth: 1 / 0,
                    bytesReceived: 0,
                    roundTripTime: c || 0,
                  };
                return (
                  (d.bytesReceived = a.loaded),
                  (d.bandwidth = Math.floor(
                    (d.bytesReceived / d.roundTripTime) * 8 * 1e3
                  )),
                  d
                );
              },
              n = function (a, b) {
                return b.timedout
                  ? {
                      status: b.status,
                      message: "HLS request timed-out at URL: " + b.uri,
                      code: h.TIMEOUT,
                      xhr: b,
                    }
                  : b.aborted
                  ? {
                      status: b.status,
                      message: "HLS request aborted at URL: " + b.uri,
                      code: h.ABORTED,
                      xhr: b,
                    }
                  : a
                  ? {
                      status: b.status,
                      message: "HLS request errored at URL: " + b.uri,
                      code: h.FAILURE,
                      xhr: b,
                    }
                  : null;
              },
              o = function (a, b) {
                return function (c, d) {
                  var e = d.response,
                    f = n(c, d);
                  if (f) return b(f, a);
                  if (16 !== e.byteLength)
                    return b(
                      {
                        status: d.status,
                        message: "Invalid HLS key at URL: " + d.uri,
                        code: h.FAILURE,
                        xhr: d,
                      },
                      a
                    );
                  var g = new DataView(e);
                  return (
                    (a.key.bytes = new Uint32Array([
                      g.getUint32(0),
                      g.getUint32(4),
                      g.getUint32(8),
                      g.getUint32(12),
                    ])),
                    b(null, a)
                  );
                };
              },
              p = function (a, b) {
                return function (c, d) {
                  var e = d.response,
                    f = n(c, d);
                  return f
                    ? b(f, a)
                    : 0 === e.byteLength
                    ? b(
                        {
                          status: d.status,
                          message: "Empty HLS segment content at URL: " + d.uri,
                          code: h.FAILURE,
                          xhr: d,
                        },
                        a
                      )
                    : ((a.map.bytes = new Uint8Array(d.response)), b(null, a));
                };
              },
              q = function (a, b) {
                return function (c, d) {
                  var e = d.response,
                    f = n(c, d);
                  return f
                    ? b(f, a)
                    : 0 === e.byteLength
                    ? b(
                        {
                          status: d.status,
                          message: "Empty HLS segment content at URL: " + d.uri,
                          code: h.FAILURE,
                          xhr: d,
                        },
                        a
                      )
                    : ((a.stats = l(d)),
                      a.key
                        ? (a.encryptedBytes = new Uint8Array(d.response))
                        : (a.bytes = new Uint8Array(d.response)),
                      b(null, a));
                };
              },
              r = function (a, b, c) {
                var d = function e(d) {
                  if (d.data.source === b.requestId) {
                    a.removeEventListener("message", e);
                    var f = d.data.decrypted;
                    return (
                      (b.bytes = new Uint8Array(
                        f.bytes,
                        f.byteOffset,
                        f.byteLength
                      )),
                      c(null, b)
                    );
                  }
                };
                a.addEventListener("message", d),
                  a.postMessage(
                    (0, g.createTransferableMessage)({
                      source: b.requestId,
                      encrypted: b.encryptedBytes,
                      key: b.key.bytes,
                      iv: b.key.iv,
                    }),
                    [b.encryptedBytes.buffer, b.key.bytes.buffer]
                  );
              },
              s = function (a) {
                return a.reduce(function (a, b) {
                  return b.code > a.code ? b : a;
                });
              },
              t = function (a, b, c) {
                var d = [],
                  e = 0;
                return function (f, g) {
                  if ((f && (k(a), d.push(f)), (e += 1), e === a.length)) {
                    if (((g.endOfAllRequests = Date.now()), d.length > 0)) {
                      var h = s(d);
                      return c(h, g);
                    }
                    return g.encryptedBytes ? r(b, g, c) : c(null, g);
                  }
                };
              },
              u = function (a, b) {
                return function (c) {
                  return (
                    (a.stats = f["default"].mergeOptions(a.stats, m(c))),
                    !a.stats.firstBytesReceivedAt &&
                      a.stats.bytesReceived &&
                      (a.stats.firstBytesReceivedAt = Date.now()),
                    b(c, a)
                  );
                };
              },
              v = function (a, b, c, d, e, g) {
                var h = [],
                  i = t(h, c, g);
                if (d.key) {
                  var l = f["default"].mergeOptions(b, {
                      uri: d.key.resolvedUri,
                      responseType: "arraybuffer",
                    }),
                    m = o(d, i),
                    n = a(l, m);
                  h.push(n);
                }
                if (d.map && !d.map.bytes) {
                  var r = f["default"].mergeOptions(b, {
                      uri: d.map.resolvedUri,
                      responseType: "arraybuffer",
                      headers: j(d.map),
                    }),
                    s = p(d, i),
                    v = a(r, s);
                  h.push(v);
                }
                var w = f["default"].mergeOptions(b, {
                    uri: d.resolvedUri,
                    responseType: "arraybuffer",
                    headers: j(d),
                  }),
                  x = q(d, i),
                  y = a(w, x);
                return (
                  y.addEventListener("progress", u(d, e)),
                  h.push(y),
                  function () {
                    return k(h);
                  }
                );
              };
            c.mediaSegmentRequest = v;
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        { "./bin-utils": 2 },
      ],
      8: [
        function (a, b, c) {
          (function (d) {
            "use strict";
            function e(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function f(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var g = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              h = a("global/window"),
              i = e(h),
              j = a("./ranges"),
              k = e(j),
              l =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof d
                  ? d.videojs
                  : null,
              m = e(l),
              n = ["seeking", "seeked", "pause", "playing", "error"],
              o = (function () {
                function a(b) {
                  var c = this;
                  f(this, a),
                    (this.tech_ = b.tech),
                    (this.seekable = b.seekable),
                    (this.consecutiveUpdates = 0),
                    (this.lastRecordedTime = null),
                    (this.timer_ = null),
                    (this.checkCurrentTimeTimeout_ = null),
                    b.debug &&
                      (this.logger_ = m["default"].log.bind(
                        m["default"],
                        "playback-watcher ->"
                      )),
                    this.logger_("initialize");
                  var d = function () {
                      return c.monitorCurrentTime_();
                    },
                    e = function () {
                      return c.techWaiting_();
                    },
                    g = function () {
                      return c.cancelTimer_();
                    },
                    h = function () {
                      return c.fixesBadSeeks_();
                    };
                  this.tech_.on("seekablechanged", h),
                    this.tech_.on("waiting", e),
                    this.tech_.on(n, g),
                    this.tech_.on("canplay", d),
                    (this.dispose = function () {
                      c.logger_("dispose"),
                        c.tech_.off("seekablechanged", h),
                        c.tech_.off("waiting", e),
                        c.tech_.off(n, g),
                        c.tech_.off("canplay", d),
                        c.checkCurrentTimeTimeout_ &&
                          i["default"].clearTimeout(c.checkCurrentTimeTimeout_),
                        c.cancelTimer_();
                    });
                }
                return (
                  g(a, [
                    {
                      key: "monitorCurrentTime_",
                      value: function () {
                        this.checkCurrentTime_(),
                          this.checkCurrentTimeTimeout_ &&
                            i["default"].clearTimeout(
                              this.checkCurrentTimeTimeout_
                            ),
                          (this.checkCurrentTimeTimeout_ = i[
                            "default"
                          ].setTimeout(
                            this.monitorCurrentTime_.bind(this),
                            250
                          ));
                      },
                    },
                    {
                      key: "checkCurrentTime_",
                      value: function () {
                        if (this.tech_.seeking() && this.fixesBadSeeks_())
                          return (
                            (this.consecutiveUpdates = 0),
                            void (this.lastRecordedTime =
                              this.tech_.currentTime())
                          );
                        if (!this.tech_.paused() && !this.tech_.seeking()) {
                          var a = this.tech_.currentTime(),
                            b = this.tech_.buffered();
                          return this.lastRecordedTime === a &&
                            (!b.length ||
                              a + k["default"].SAFE_TIME_DELTA >=
                                b.end(b.length - 1))
                            ? this.techWaiting_()
                            : void (this.consecutiveUpdates >= 5 &&
                              a === this.lastRecordedTime
                                ? (this.consecutiveUpdates++, this.waiting_())
                                : a === this.lastRecordedTime
                                ? this.consecutiveUpdates++
                                : ((this.consecutiveUpdates = 0),
                                  (this.lastRecordedTime = a)));
                        }
                      },
                    },
                    {
                      key: "cancelTimer_",
                      value: function () {
                        (this.consecutiveUpdates = 0),
                          this.timer_ &&
                            (this.logger_("cancelTimer_"),
                            clearTimeout(this.timer_)),
                          (this.timer_ = null);
                      },
                    },
                    {
                      key: "fixesBadSeeks_",
                      value: function () {
                        var a = this.tech_.seeking(),
                          b = this.seekable(),
                          c = this.tech_.currentTime(),
                          d = void 0;
                        if (a && this.afterSeekableWindow_(b, c)) {
                          var e = b.end(b.length - 1);
                          d = e;
                        }
                        if (a && this.beforeSeekableWindow_(b, c)) {
                          var f = b.start(0);
                          d = f + k["default"].SAFE_TIME_DELTA;
                        }
                        return (
                          "undefined" != typeof d &&
                          (this.logger_(
                            "Trying to seek outside of seekable at time " +
                              c +
                              " with " +
                              ("seekable range " +
                                k["default"].printableRange(b) +
                                ". Seeking to ") +
                              (d + ".")
                          ),
                          this.tech_.setCurrentTime(d),
                          !0)
                        );
                      },
                    },
                    {
                      key: "waiting_",
                      value: function () {
                        if (!this.techWaiting_()) {
                          var a = this.tech_.currentTime(),
                            b = this.tech_.buffered(),
                            c = k["default"].findRange(b, a);
                          return c.length && a + 3 <= c.end(0)
                            ? (this.cancelTimer_(),
                              this.tech_.setCurrentTime(a),
                              this.logger_(
                                "Stopped at " +
                                  a +
                                  " while inside a buffered region " +
                                  ("[" +
                                    c.start(0) +
                                    " -> " +
                                    c.end(0) +
                                    "]. Attempting to resume ") +
                                  "playback by seeking to the current time."
                              ),
                              void this.tech_.trigger({
                                type: "usage",
                                name: "hls-unknown-waiting",
                              }))
                            : void 0;
                        }
                      },
                    },
                    {
                      key: "techWaiting_",
                      value: function () {
                        var a = this.seekable(),
                          b = this.tech_.currentTime();
                        if (this.tech_.seeking() && this.fixesBadSeeks_())
                          return !0;
                        if (this.tech_.seeking() || null !== this.timer_)
                          return !0;
                        if (this.beforeSeekableWindow_(a, b)) {
                          var c = a.end(a.length - 1);
                          return (
                            this.logger_(
                              "Fell out of live window at time " +
                                b +
                                ". Seeking to live point (seekable end) " +
                                c
                            ),
                            this.cancelTimer_(),
                            this.tech_.setCurrentTime(c),
                            this.tech_.trigger({
                              type: "usage",
                              name: "hls-live-resync",
                            }),
                            !0
                          );
                        }
                        var d = this.tech_.buffered(),
                          e = k["default"].findNextRange(d, b);
                        if (this.videoUnderflow_(e, d, b))
                          return (
                            this.cancelTimer_(),
                            this.tech_.setCurrentTime(b),
                            this.tech_.trigger({
                              type: "usage",
                              name: "hls-video-underflow",
                            }),
                            !0
                          );
                        if (e.length > 0) {
                          var f = e.start(0) - b;
                          return (
                            this.logger_(
                              "Stopped at " +
                                b +
                                ", setting timer for " +
                                f +
                                ", seeking to " +
                                e.start(0)
                            ),
                            (this.timer_ = setTimeout(
                              this.skipTheGap_.bind(this),
                              1e3 * f,
                              b
                            )),
                            !0
                          );
                        }
                        return !1;
                      },
                    },
                    {
                      key: "afterSeekableWindow_",
                      value: function (a, b) {
                        return (
                          !!a.length &&
                          b > a.end(a.length - 1) + k["default"].SAFE_TIME_DELTA
                        );
                      },
                    },
                    {
                      key: "beforeSeekableWindow_",
                      value: function (a, b) {
                        return !!(
                          a.length &&
                          a.start(0) > 0 &&
                          b < a.start(0) - k["default"].SAFE_TIME_DELTA
                        );
                      },
                    },
                    {
                      key: "videoUnderflow_",
                      value: function (a, b, c) {
                        if (0 === a.length) {
                          var d = this.gapFromVideoUnderflow_(b, c);
                          if (d)
                            return (
                              this.logger_(
                                "Encountered a gap in video from " +
                                  d.start +
                                  " to " +
                                  d.end +
                                  ". Seeking to current time " +
                                  c
                              ),
                              !0
                            );
                        }
                        return !1;
                      },
                    },
                    {
                      key: "skipTheGap_",
                      value: function (a) {
                        var b = this.tech_.buffered(),
                          c = this.tech_.currentTime(),
                          d = k["default"].findNextRange(b, c);
                        this.cancelTimer_(),
                          0 !== d.length &&
                            c === a &&
                            (this.logger_(
                              "skipTheGap_:",
                              "currentTime:",
                              c,
                              "scheduled currentTime:",
                              a,
                              "nextRange start:",
                              d.start(0)
                            ),
                            this.tech_.setCurrentTime(
                              d.start(0) + k["default"].TIME_FUDGE_FACTOR
                            ),
                            this.tech_.trigger({
                              type: "usage",
                              name: "hls-gap-skip",
                            }));
                      },
                    },
                    {
                      key: "gapFromVideoUnderflow_",
                      value: function (a, b) {
                        for (
                          var c = k["default"].findGaps(a), d = 0;
                          d < c.length;
                          d++
                        ) {
                          var e = c.start(d),
                            f = c.end(d);
                          if (b - e < 4 && b - e > 2)
                            return { start: e, end: f };
                        }
                        return null;
                      },
                    },
                    { key: "logger_", value: function () {} },
                  ]),
                  a
                );
              })();
            (c["default"] = o), (b.exports = c["default"]);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        { "./ranges": 12, "global/window": 32 },
      ],
      9: [
        function (a, b, c) {
          (function (b) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function e(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            function f(a, b) {
              if ("function" != typeof b && null !== b)
                throw new TypeError(
                  "Super expression must either be null or a function, not " +
                    typeof b
                );
              (a.prototype = Object.create(b && b.prototype, {
                constructor: {
                  value: a,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                b &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(a, b)
                    : (a.__proto__ = b));
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var g = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              h = function (a, b, c) {
                for (var d = !0; d; ) {
                  var e = a,
                    f = b,
                    g = c;
                  (d = !1), null === e && (e = Function.prototype);
                  var h = Object.getOwnPropertyDescriptor(e, f);
                  if (void 0 !== h) {
                    if ("value" in h) return h.value;
                    var i = h.get;
                    if (void 0 === i) return;
                    return i.call(g);
                  }
                  var j = Object.getPrototypeOf(e);
                  if (null === j) return;
                  (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
                }
              },
              i = a("./resolve-url"),
              j = d(i),
              k =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof b
                  ? b.videojs
                  : null,
              l = a("m3u8-parser"),
              m = d(l),
              n = a("global/window"),
              o = d(n),
              p = function (a, b, c) {
                var d = b.slice();
                c = c || 0;
                for (
                  var e = Math.min(a.length, b.length + c), f = c;
                  f < e;
                  f++
                )
                  d[f - c] = (0, k.mergeOptions)(a[f], d[f - c]);
                return d;
              };
            c.updateSegments = p;
            var q = function (a, b) {
              a.resolvedUri || (a.resolvedUri = (0, j["default"])(b, a.uri)),
                a.key &&
                  !a.key.resolvedUri &&
                  (a.key.resolvedUri = (0, j["default"])(b, a.key.uri)),
                a.map &&
                  !a.map.resolvedUri &&
                  (a.map.resolvedUri = (0, j["default"])(b, a.map.uri));
            };
            c.resolveSegmentUris = q;
            var r = function (a, b) {
              var c = (0, k.mergeOptions)(a, {}),
                d = c.playlists.filter(function (a) {
                  return a.uri === b.uri;
                })[0];
              if (!d) return null;
              if (
                d.segments &&
                b.segments &&
                d.segments.length === b.segments.length &&
                d.mediaSequence === b.mediaSequence
              )
                return null;
              var e = (0, k.mergeOptions)(d, b);
              d.segments &&
                (e.segments = p(
                  d.segments,
                  b.segments,
                  b.mediaSequence - d.mediaSequence
                )),
                e.segments.forEach(function (a) {
                  q(a, e.resolvedUri);
                });
              for (var f = 0; f < c.playlists.length; f++)
                c.playlists[f].uri === b.uri && (c.playlists[f] = e);
              return (c.playlists[b.uri] = e), c;
            };
            c.updateMaster = r;
            var s = function (a) {
              for (var b = a.playlists.length; b--; ) {
                var c = a.playlists[b];
                (a.playlists[c.uri] = c),
                  (c.resolvedUri = (0, j["default"])(a.uri, c.uri)),
                  c.attributes ||
                    ((c.attributes = {}),
                    k.log.warn(
                      "Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."
                    ));
              }
            };
            c.setupMediaPlaylists = s;
            var t = function (a) {
              ["AUDIO", "SUBTITLES"].forEach(function (b) {
                for (var c in a.mediaGroups[b])
                  for (var d in a.mediaGroups[b][c]) {
                    var e = a.mediaGroups[b][c][d];
                    e.uri && (e.resolvedUri = (0, j["default"])(a.uri, e.uri));
                  }
              });
            };
            c.resolveMediaGroupUris = t;
            var u = function (a, b) {
              var c = a.segments[a.segments.length - 1],
                d = void 0;
              return (d =
                b && c && c.duration
                  ? 1e3 * c.duration
                  : 500 * (a.targetDuration || 10));
            };
            c.refreshDelay = u;
            var v = (function (a) {
              function b(a, c, d) {
                var f = this;
                if (
                  (e(this, b),
                  h(
                    Object.getPrototypeOf(b.prototype),
                    "constructor",
                    this
                  ).call(this),
                  (this.srcUrl = a),
                  (this.hls_ = c),
                  (this.withCredentials = d),
                  !this.srcUrl)
                )
                  throw new Error("A non-empty playlist URL is required");
                (this.state = "HAVE_NOTHING"),
                  this.on("mediaupdatetimeout", function () {
                    "HAVE_METADATA" === f.state &&
                      ((f.state = "HAVE_CURRENT_METADATA"),
                      (f.request = f.hls_.xhr(
                        {
                          uri: (0, j["default"])(f.master.uri, f.media().uri),
                          withCredentials: f.withCredentials,
                        },
                        function (a, b) {
                          if (f.request)
                            return a
                              ? f.playlistRequestError(
                                  f.request,
                                  f.media().uri,
                                  "HAVE_METADATA"
                                )
                              : void f.haveMetadata(f.request, f.media().uri);
                        }
                      )));
                  });
              }
              return (
                f(b, a),
                g(b, [
                  {
                    key: "playlistRequestError",
                    value: function (a, b, c) {
                      (this.request = null),
                        c && (this.state = c),
                        (this.error = {
                          playlist: this.master.playlists[b],
                          status: a.status,
                          message: "HLS playlist request error at URL: " + b,
                          responseText: a.responseText,
                          code: a.status >= 500 ? 4 : 2,
                        }),
                        this.trigger("error");
                    },
                  },
                  {
                    key: "haveMetadata",
                    value: function (a, b) {
                      var c = this;
                      (this.request = null), (this.state = "HAVE_METADATA");
                      var d = new m["default"].Parser();
                      d.push(a.responseText),
                        d.end(),
                        (d.manifest.uri = b),
                        (d.manifest.attributes = d.manifest.attributes || {});
                      var e = r(this.master, d.manifest);
                      (this.targetDuration = d.manifest.targetDuration),
                        e
                          ? ((this.master = e),
                            (this.media_ =
                              this.master.playlists[d.manifest.uri]))
                          : this.trigger("playlistunchanged"),
                        this.media().endList ||
                          (o["default"].clearTimeout(this.mediaUpdateTimeout),
                          (this.mediaUpdateTimeout = o["default"].setTimeout(
                            function () {
                              c.trigger("mediaupdatetimeout");
                            },
                            u(this.media(), !!e)
                          ))),
                        this.trigger("loadedplaylist");
                    },
                  },
                  {
                    key: "dispose",
                    value: function () {
                      this.stopRequest(),
                        o["default"].clearTimeout(this.mediaUpdateTimeout);
                    },
                  },
                  {
                    key: "stopRequest",
                    value: function () {
                      if (this.request) {
                        var a = this.request;
                        (this.request = null),
                          (a.onreadystatechange = null),
                          a.abort();
                      }
                    },
                  },
                  {
                    key: "media",
                    value: function (a) {
                      var b = this;
                      if (!a) return this.media_;
                      if ("HAVE_NOTHING" === this.state)
                        throw new Error(
                          "Cannot switch media playlist from " + this.state
                        );
                      var c = this.state;
                      if ("string" == typeof a) {
                        if (!this.master.playlists[a])
                          throw new Error("Unknown playlist URI: " + a);
                        a = this.master.playlists[a];
                      }
                      var d = !this.media_ || a.uri !== this.media_.uri;
                      if (this.master.playlists[a.uri].endList)
                        return (
                          this.request &&
                            ((this.request.onreadystatechange = null),
                            this.request.abort(),
                            (this.request = null)),
                          (this.state = "HAVE_METADATA"),
                          (this.media_ = a),
                          void (
                            d &&
                            (this.trigger("mediachanging"),
                            this.trigger("mediachange"))
                          )
                        );
                      if (d) {
                        if (((this.state = "SWITCHING_MEDIA"), this.request)) {
                          if (
                            (0, j["default"])(this.master.uri, a.uri) ===
                            this.request.url
                          )
                            return;
                          (this.request.onreadystatechange = null),
                            this.request.abort(),
                            (this.request = null);
                        }
                        this.media_ && this.trigger("mediachanging"),
                          (this.request = this.hls_.xhr(
                            {
                              uri: (0, j["default"])(this.master.uri, a.uri),
                              withCredentials: this.withCredentials,
                            },
                            function (d, e) {
                              if (b.request) {
                                if (d)
                                  return b.playlistRequestError(
                                    b.request,
                                    a.uri,
                                    c
                                  );
                                b.haveMetadata(e, a.uri),
                                  "HAVE_MASTER" === c
                                    ? b.trigger("loadedmetadata")
                                    : b.trigger("mediachange");
                              }
                            }
                          ));
                      }
                    },
                  },
                  {
                    key: "pause",
                    value: function () {
                      this.stopRequest(),
                        o["default"].clearTimeout(this.mediaUpdateTimeout),
                        "HAVE_NOTHING" === this.state && (this.started = !1),
                        "SWITCHING_MEDIA" === this.state
                          ? this.media_
                            ? (this.state = "HAVE_METADATA")
                            : (this.state = "HAVE_MASTER")
                          : "HAVE_CURRENT_METADATA" === this.state &&
                            (this.state = "HAVE_METADATA");
                    },
                  },
                  {
                    key: "load",
                    value: function (a) {
                      var b = this;
                      o["default"].clearTimeout(this.mediaUpdateTimeout);
                      var c = this.media();
                      if (a) {
                        var d = c ? (c.targetDuration / 2) * 1e3 : 5e3;
                        return void (this.mediaUpdateTimeout = o[
                          "default"
                        ].setTimeout(function () {
                          return b.load();
                        }, d));
                      }
                      return this.started
                        ? void (c && !c.endList
                            ? this.trigger("mediaupdatetimeout")
                            : this.trigger("loadedplaylist"))
                        : void this.start();
                    },
                  },
                  {
                    key: "start",
                    value: function () {
                      var a = this;
                      (this.started = !0),
                        (this.request = this.hls_.xhr(
                          {
                            uri: this.srcUrl,
                            withCredentials: this.withCredentials,
                          },
                          function (b, c) {
                            if (a.request) {
                              if (((a.request = null), b))
                                return (
                                  (a.error = {
                                    status: c.status,
                                    message:
                                      "HLS playlist request error at URL: " +
                                      a.srcUrl,
                                    responseText: c.responseText,
                                    code: 2,
                                  }),
                                  "HAVE_NOTHING" === a.state &&
                                    (a.started = !1),
                                  a.trigger("error")
                                );
                              var d = new m["default"].Parser();
                              return (
                                d.push(c.responseText),
                                d.end(),
                                (a.state = "HAVE_MASTER"),
                                (d.manifest.uri = a.srcUrl),
                                d.manifest.playlists
                                  ? ((a.master = d.manifest),
                                    s(a.master),
                                    t(a.master),
                                    a.trigger("loadedplaylist"),
                                    void (
                                      a.request ||
                                      a.media(d.manifest.playlists[0])
                                    ))
                                  : ((a.master = {
                                      mediaGroups: {
                                        AUDIO: {},
                                        VIDEO: {},
                                        "CLOSED-CAPTIONS": {},
                                        SUBTITLES: {},
                                      },
                                      uri: o["default"].location.href,
                                      playlists: [{ uri: a.srcUrl }],
                                    }),
                                    (a.master.playlists[a.srcUrl] =
                                      a.master.playlists[0]),
                                    (a.master.playlists[0].resolvedUri =
                                      a.srcUrl),
                                    (a.master.playlists[0].attributes =
                                      a.master.playlists[0].attributes || {}),
                                    a.haveMetadata(c, a.srcUrl),
                                    a.trigger("loadedmetadata"))
                              );
                            }
                          }
                        ));
                    },
                  },
                ]),
                b
              );
            })(k.EventTarget);
            c["default"] = v;
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        { "./resolve-url": 15, "global/window": 32, "m3u8-parser": 33 },
      ],
      10: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var e = a("./config"),
            f = d(e),
            g = a("./playlist"),
            h = d(g),
            i = a("./util/codecs.js"),
            j = function (a, b) {
              var c = void 0;
              return a ? ((c = window.getComputedStyle(a)), c ? c[b] : "") : "";
            },
            k = function (a, b) {
              var c = a.slice();
              a.sort(function (a, d) {
                var e = b(a, d);
                return 0 === e ? c.indexOf(a) - c.indexOf(d) : e;
              });
            },
            l = function (a, b) {
              var c = void 0,
                d = void 0;
              return (
                a.attributes.BANDWIDTH && (c = a.attributes.BANDWIDTH),
                (c = c || window.Number.MAX_VALUE),
                b.attributes.BANDWIDTH && (d = b.attributes.BANDWIDTH),
                (d = d || window.Number.MAX_VALUE),
                c - d
              );
            };
          c.comparePlaylistBandwidth = l;
          var m = function (a, b) {
            var c = void 0,
              d = void 0;
            return (
              a.attributes.RESOLUTION &&
                a.attributes.RESOLUTION.width &&
                (c = a.attributes.RESOLUTION.width),
              (c = c || window.Number.MAX_VALUE),
              b.attributes.RESOLUTION &&
                b.attributes.RESOLUTION.width &&
                (d = b.attributes.RESOLUTION.width),
              (d = d || window.Number.MAX_VALUE),
              c === d && a.attributes.BANDWIDTH && b.attributes.BANDWIDTH
                ? a.attributes.BANDWIDTH - b.attributes.BANDWIDTH
                : c - d
            );
          };
          c.comparePlaylistResolution = m;
          var n = function (a, b, c, d) {
            var e = a.playlists.map(function (a) {
              var b = void 0,
                c = void 0,
                d = void 0;
              return (
                (b = a.attributes.RESOLUTION && a.attributes.RESOLUTION.width),
                (c = a.attributes.RESOLUTION && a.attributes.RESOLUTION.height),
                (d = a.attributes.BANDWIDTH),
                (d = d || window.Number.MAX_VALUE),
                { bandwidth: d, width: b, height: c, playlist: a }
              );
            });
            k(e, function (a, b) {
              return a.bandwidth - b.bandwidth;
            }),
              (e = e.filter(function (a) {
                return !h["default"].isIncompatible(a.playlist);
              }));
            var g = e.filter(function (a) {
              return h["default"].isEnabled(a.playlist);
            });
            g.length ||
              (g = e.filter(function (a) {
                return !h["default"].isDisabled(a.playlist);
              }));
            var i = g.filter(function (a) {
                return a.bandwidth * f["default"].BANDWIDTH_VARIANCE < b;
              }),
              j = i[i.length - 1],
              l = i.filter(function (a) {
                return a.bandwidth === j.bandwidth;
              })[0],
              m = i.filter(function (a) {
                return a.width && a.height;
              });
            k(m, function (a, b) {
              return a.width - b.width;
            });
            var n = m.filter(function (a) {
              return a.width === c && a.height === d;
            });
            j = n[n.length - 1];
            var o = n.filter(function (a) {
                return a.bandwidth === j.bandwidth;
              })[0],
              p = void 0,
              q = void 0,
              r = void 0;
            o ||
              ((p = m.filter(function (a) {
                return a.width > c || a.height > d;
              })),
              (q = p.filter(function (a) {
                return a.width === p[0].width && a.height === p[0].height;
              })),
              (j = q[q.length - 1]),
              (r = q.filter(function (a) {
                return a.bandwidth === j.bandwidth;
              })[0]));
            var s = r || o || l || g[0] || e[0];
            return s ? s.playlist : null;
          };
          c.simpleSelector = n;
          var o = function () {
            return n(
              this.playlists.master,
              this.systemBandwidth,
              parseInt(j(this.tech_.el(), "width"), 10),
              parseInt(j(this.tech_.el(), "height"), 10)
            );
          };
          c.lastBandwidthSelector = o;
          var p = function (a) {
            var b = -1;
            if (a < 0 || a > 1)
              throw new Error(
                "Moving average bandwidth decay must be between 0 and 1."
              );
            return function () {
              return (
                b < 0 && (b = this.systemBandwidth),
                (b = a * this.systemBandwidth + (1 - a) * b),
                n(
                  this.playlists.master,
                  b,
                  parseInt(j(this.tech_.el(), "width"), 10),
                  parseInt(j(this.tech_.el(), "height"), 10)
                )
              );
            };
          };
          c.movingAverageBandwidthSelector = p;
          var q = function (a) {
            var b = a.master,
              c = a.currentTime,
              d = a.bandwidth,
              e = a.duration,
              f = a.segmentDuration,
              g = a.timeUntilRebuffer,
              i = a.currentTimeline,
              j = a.syncController,
              m = b.playlists.filter(function (a) {
                return !h["default"].isIncompatible(a);
              }),
              n = m.filter(h["default"].isEnabled);
            n.length ||
              (n = m.filter(function (a) {
                return !h["default"].isDisabled(a);
              }));
            var o = n.filter(h["default"].hasAttribute.bind(null, "BANDWIDTH")),
              p = o.map(function (a) {
                var b = j.getSyncPoint(a, e, i, c),
                  k = b ? 1 : 2,
                  l = h["default"].estimateSegmentRequestTime(f, d, a),
                  m = l * k - g;
                return { playlist: a, rebufferingImpact: m };
              }),
              q = p.filter(function (a) {
                return a.rebufferingImpact <= 0;
              });
            return (
              k(q, function (a, b) {
                return l(b.playlist, a.playlist);
              }),
              q.length
                ? q[0]
                : (k(p, function (a, b) {
                    return a.rebufferingImpact - b.rebufferingImpact;
                  }),
                  p[0] || null)
            );
          };
          c.minRebufferMaxBandwidthSelector = q;
          var r = function () {
            var a = this.playlists.master.playlists.filter(
              h["default"].isEnabled
            );
            k(a, function (a, b) {
              return l(a, b);
            });
            var b = a.filter(function (a) {
              return (0, i.parseCodecs)(a.attributes.CODECS).videoCodec;
            });
            return b[0] || null;
          };
          c.lowestBitrateCompatibleVariantSelector = r;
        },
        { "./config": 3, "./playlist": 11, "./util/codecs.js": 19 },
      ],
      11: [
        function (a, b, c) {
          (function (b) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var e =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof b
                  ? b.videojs
                  : null,
              f = a("global/window"),
              g = d(f),
              h = function (a, b) {
                var c = 0,
                  d = b - a.mediaSequence,
                  e = a.segments[d];
                if (e) {
                  if ("undefined" != typeof e.start)
                    return { result: e.start, precise: !0 };
                  if ("undefined" != typeof e.end)
                    return { result: e.end - e.duration, precise: !0 };
                }
                for (; d--; ) {
                  if (((e = a.segments[d]), "undefined" != typeof e.end))
                    return { result: c + e.end, precise: !0 };
                  if (((c += e.duration), "undefined" != typeof e.start))
                    return { result: c + e.start, precise: !0 };
                }
                return { result: c, precise: !1 };
              },
              i = function (a, b) {
                for (
                  var c = 0, d = void 0, e = b - a.mediaSequence;
                  e < a.segments.length;
                  e++
                ) {
                  if (((d = a.segments[e]), "undefined" != typeof d.start))
                    return { result: d.start - c, precise: !0 };
                  if (((c += d.duration), "undefined" != typeof d.end))
                    return { result: d.end - c, precise: !0 };
                }
                return { result: -1, precise: !1 };
              },
              j = function (a, b, c) {
                var d = void 0,
                  e = void 0;
                return (
                  "undefined" == typeof b &&
                    (b = a.mediaSequence + a.segments.length),
                  b < a.mediaSequence
                    ? 0
                    : ((d = h(a, b)),
                      d.precise
                        ? d.result
                        : ((e = i(a, b)), e.precise ? e.result : d.result + c))
                );
              },
              k = function (a, b, c) {
                if (!a) return 0;
                if (
                  ("number" != typeof c && (c = 0), "undefined" == typeof b)
                ) {
                  if (a.totalDuration) return a.totalDuration;
                  if (!a.endList) return g["default"].Infinity;
                }
                return j(a, b, c);
              };
            c.duration = k;
            var l = function (a, b, c) {
              var d = 0;
              if (b > c) {
                var e = [c, b];
                (b = e[0]), (c = e[1]);
              }
              if (b < 0) {
                for (var f = b; f < Math.min(0, c); f++) d += a.targetDuration;
                b = 0;
              }
              for (var f = b; f < c; f++) d += a.segments[f].duration;
              return d;
            };
            c.sumDurations = l;
            var m = function (a) {
              if (!a.segments.length) return 0;
              for (
                var b = a.segments.length - 1,
                  c = a.segments[b].duration || a.targetDuration,
                  d = c + 2 * a.targetDuration;
                b-- && ((c += a.segments[b].duration), !(c >= d));

              );
              return Math.max(0, b);
            };
            c.safeLiveIndex = m;
            var n = function (a, b, c) {
              if (!a || !a.segments) return null;
              if (a.endList) return k(a);
              if (null === b) return null;
              b = b || 0;
              var d = c ? m(a) : a.segments.length;
              return j(a, a.mediaSequence + d, b);
            };
            c.playlistEnd = n;
            var o = function (a, b) {
              var c = !0,
                d = b || 0,
                f = n(a, b, c);
              return null === f
                ? (0, e.createTimeRange)()
                : (0, e.createTimeRange)(d, f);
            };
            c.seekable = o;
            var p = function (a) {
                return a - Math.floor(a) === 0;
              },
              q = function (a, b) {
                if (p(b)) return b + 0.1 * a;
                for (
                  var c = b.toString().split(".")[1].length, d = 1;
                  d <= c;
                  d++
                ) {
                  var e = Math.pow(10, d),
                    f = b * e;
                  if (p(f) || d === c) return (f + a) / e;
                }
              },
              r = q.bind(null, 1),
              s = q.bind(null, -1),
              t = function (a, b, c, d) {
                var e = void 0,
                  f = void 0,
                  g = a.segments.length,
                  h = b - d;
                if (h < 0) {
                  if (c > 0)
                    for (e = c - 1; e >= 0; e--)
                      if (((f = a.segments[e]), (h += s(f.duration)), h > 0))
                        return { mediaIndex: e, startTime: d - l(a, c, e) };
                  return { mediaIndex: 0, startTime: b };
                }
                if (c < 0) {
                  for (e = c; e < 0; e++)
                    if (((h -= a.targetDuration), h < 0))
                      return { mediaIndex: 0, startTime: b };
                  c = 0;
                }
                for (e = c; e < g; e++)
                  if (((f = a.segments[e]), (h -= r(f.duration)), h < 0))
                    return { mediaIndex: e, startTime: d + l(a, c, e) };
                return { mediaIndex: g - 1, startTime: b };
              };
            c.getMediaInfoForTime = t;
            var u = function (a) {
              return a.excludeUntil && a.excludeUntil > Date.now();
            };
            c.isBlacklisted = u;
            var v = function (a) {
              return a.excludeUntil && a.excludeUntil === 1 / 0;
            };
            c.isIncompatible = v;
            var w = function (a) {
              var b = u(a);
              return !a.disabled && !b;
            };
            c.isEnabled = w;
            var x = function (a) {
              return a.disabled;
            };
            c.isDisabled = x;
            var y = function (a) {
              for (var b = 0; b < a.segments.length; b++)
                if (a.segments[b].key) return !0;
              return !1;
            };
            c.isAes = y;
            var z = function (a) {
              for (var b = 0; b < a.segments.length; b++)
                if (a.segments[b].map) return !0;
              return !1;
            };
            c.isFmp4 = z;
            var A = function (a, b) {
              return b.attributes && b.attributes[a];
            };
            c.hasAttribute = A;
            var B = function (a, b, c) {
              var d =
                arguments.length <= 3 || void 0 === arguments[3]
                  ? 0
                  : arguments[3];
              if (!A("BANDWIDTH", c)) return NaN;
              var e = a * c.attributes.BANDWIDTH;
              return (e - 8 * d) / b;
            };
            c.estimateSegmentRequestTime = B;
            var C = function (a, b) {
              if (1 === a.playlists.length) return !0;
              var c = b.attributes.BANDWIDTH || Number.MAX_VALUE;
              return (
                0 ===
                a.playlists.filter(function (a) {
                  return !!w(a) && (a.attributes.BANDWIDTH || 0) < c;
                }).length
              );
            };
            (c.isLowestEnabledRendition = C),
              (c["default"] = {
                duration: k,
                seekable: o,
                safeLiveIndex: m,
                getMediaInfoForTime: t,
                isEnabled: w,
                isDisabled: x,
                isBlacklisted: u,
                isIncompatible: v,
                playlistEnd: n,
                isAes: y,
                isFmp4: z,
                hasAttribute: A,
                estimateSegmentRequestTime: B,
                isLowestEnabledRendition: C,
              });
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        { "global/window": 32 },
      ],
      12: [
        function (a, b, c) {
          (function (a) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var e = (function () {
                function a(a, b) {
                  var c = [],
                    d = !0,
                    e = !1,
                    f = void 0;
                  try {
                    for (
                      var g, h = a[Symbol.iterator]();
                      !(d = (g = h.next()).done) &&
                      (c.push(g.value), !b || c.length !== b);
                      d = !0
                    );
                  } catch (i) {
                    (e = !0), (f = i);
                  } finally {
                    try {
                      !d && h["return"] && h["return"]();
                    } finally {
                      if (e) throw f;
                    }
                  }
                  return c;
                }
                return function (b, c) {
                  if (Array.isArray(b)) return b;
                  if (Symbol.iterator in Object(b)) return a(b, c);
                  throw new TypeError(
                    "Invalid attempt to destructure non-iterable instance"
                  );
                };
              })(),
              f =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof a
                  ? a.videojs
                  : null,
              g = d(f),
              h = 1 / 30,
              i = 3 * h,
              j = function (a, b) {
                var c = e(b, 2),
                  d = c[0],
                  f = c[1];
                return Math.min(Math.max(d, a), f);
              },
              k = function (a, b) {
                var c = [],
                  d = void 0;
                if (a && a.length)
                  for (d = 0; d < a.length; d++)
                    b(a.start(d), a.end(d)) && c.push([a.start(d), a.end(d)]);
                return g["default"].createTimeRanges(c);
              },
              l = function (a, b) {
                return k(a, function (a, c) {
                  return a - h <= b && c + h >= b;
                });
              },
              m = function (a, b) {
                return k(a, function (a) {
                  return a - h >= b;
                });
              },
              n = function (a) {
                if (a.length < 2) return g["default"].createTimeRanges();
                for (var b = [], c = 1; c < a.length; c++) {
                  var d = a.end(c - 1),
                    e = a.start(c);
                  b.push([d, e]);
                }
                return g["default"].createTimeRanges(b);
              },
              o = function (a, b) {
                var c = void 0,
                  d = void 0,
                  e = void 0,
                  f = [],
                  g = [],
                  h = function (a) {
                    return a[0] <= e && a[1] >= e;
                  };
                if (a)
                  for (c = 0; c < a.length; c++)
                    (d = a.start(c)), (e = a.end(c)), g.push([d, e]);
                if (b)
                  for (c = 0; c < b.length; c++)
                    (d = b.start(c)), (e = b.end(c)), g.some(h) || f.push(e);
                return 1 !== f.length ? null : f[0];
              },
              p = function (a, b) {
                var c = null,
                  d = null,
                  e = 0,
                  f = [],
                  h = [];
                if (!(a && a.length && b && b.length))
                  return g["default"].createTimeRange();
                for (var i = a.length; i--; )
                  f.push({ time: a.start(i), type: "start" }),
                    f.push({ time: a.end(i), type: "end" });
                for (i = b.length; i--; )
                  f.push({ time: b.start(i), type: "start" }),
                    f.push({ time: b.end(i), type: "end" });
                for (
                  f.sort(function (a, b) {
                    return a.time - b.time;
                  }),
                    i = 0;
                  i < f.length;
                  i++
                )
                  "start" === f[i].type
                    ? (e++, 2 === e && (c = f[i].time))
                    : "end" === f[i].type && (e--, 1 === e && (d = f[i].time)),
                    null !== c &&
                      null !== d &&
                      (h.push([c, d]), (c = null), (d = null));
                return g["default"].createTimeRanges(h);
              },
              q = function (a, b, c, d) {
                for (
                  var e = b.end(0) - b.start(0),
                    f = a.end(0) - a.start(0),
                    g = e - f,
                    h = p(a, d),
                    i = p(b, d),
                    j = 0,
                    k = 0,
                    l = h.length;
                  l--;

                )
                  (j += h.end(l) - h.start(l)), h.start(l) === c && (j += g);
                for (l = i.length; l--; ) k += i.end(l) - i.start(l);
                return (Math.max(j, k) / e) * 100;
              },
              r = function (a, b, c, d) {
                var e = a + b,
                  f = g["default"].createTimeRanges([[a, e]]),
                  h = g["default"].createTimeRanges([[j(a, [c, e]), e]]);
                if (h.start(0) === h.end(0)) return 0;
                var i = q(h, f, c, d);
                return isNaN(i) || i === 1 / 0 || i === -(1 / 0) ? 0 : i;
              },
              s = function (a) {
                var b = [];
                if (!a || !a.length) return "";
                for (var c = 0; c < a.length; c++)
                  b.push(a.start(c) + " => " + a.end(c));
                return b.join(", ");
              },
              t = function (a, b) {
                var c =
                    arguments.length <= 2 || void 0 === arguments[2]
                      ? 1
                      : arguments[2],
                  d = a.length ? a.end(a.length - 1) : 0;
                return (d - b) / c;
              };
            (c["default"] = {
              findRange: l,
              findNextRange: m,
              findGaps: n,
              findSoleUncommonTimeRangesEnd: o,
              getSegmentBufferedPercent: r,
              TIME_FUDGE_FACTOR: h,
              SAFE_TIME_DELTA: i,
              printableRange: s,
              timeUntilRebuffer: t,
            }),
              (b.exports = c["default"]);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {},
      ],
      13: [
        function (a, b, c) {
          (function (a) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var e =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof a
                  ? a.videojs
                  : null,
              f = d(e),
              g = {
                errorInterval: 30,
                getSource: function (a) {
                  var b = this.tech({ IWillNotUseThisInPlugins: !0 }),
                    c = b.currentSource_;
                  return a(c);
                },
              },
              h = function j(a, b) {
                var c = 0,
                  d = 0,
                  e = f["default"].mergeOptions(g, b);
                a.ready(function () {
                  a.trigger({
                    type: "usage",
                    name: "hls-error-reload-initialized",
                  });
                });
                var h = function () {
                    d && a.currentTime(d);
                  },
                  i = function (b) {
                    null !== b &&
                      void 0 !== b &&
                      ((d = (a.duration() !== 1 / 0 && a.currentTime()) || 0),
                      a.one("loadedmetadata", h),
                      a.src(b),
                      a.trigger({ type: "usage", name: "hls-error-reload" }),
                      a.play());
                  },
                  k = function () {
                    return Date.now() - c < 1e3 * e.errorInterval
                      ? void a.trigger({
                          type: "usage",
                          name: "hls-error-reload-canceled",
                        })
                      : e.getSource && "function" == typeof e.getSource
                      ? ((c = Date.now()), e.getSource.call(a, i))
                      : void f["default"].log.error(
                          "ERROR: reloadSourceOnError - The option getSource must be a function!"
                        );
                  },
                  l = function n() {
                    a.off("loadedmetadata", h),
                      a.off("error", k),
                      a.off("dispose", n);
                  },
                  m = function (b) {
                    l(), j(a, b);
                  };
                a.on("error", k),
                  a.on("dispose", l),
                  (a.reloadSourceOnError = m);
              },
              i = function (a) {
                h(this, a);
              };
            (c["default"] = i), (b.exports = c["default"]);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {},
      ],
      14: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            if (!(a instanceof b))
              throw new TypeError("Cannot call a class as a function");
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var e = a("./playlist.js"),
            f = function (a, b, c) {
              return function (d) {
                var f = a.master.playlists[b],
                  g = (0, e.isIncompatible)(f),
                  h = (0, e.isEnabled)(f);
                return "undefined" == typeof d
                  ? h
                  : (d ? delete f.disabled : (f.disabled = !0),
                    d === h ||
                      g ||
                      (c(),
                      d
                        ? a.trigger("renditionenabled")
                        : a.trigger("renditiondisabled")),
                    d);
              };
            },
            g = function i(a, b, c) {
              d(this, i);
              var e = a.masterPlaylistController_.fastQualityChange_.bind(
                a.masterPlaylistController_
              );
              if (b.attributes.RESOLUTION) {
                var g = b.attributes.RESOLUTION;
                (this.width = g.width), (this.height = g.height);
              }
              (this.bandwidth = b.attributes.BANDWIDTH),
                (this.id = c),
                (this.enabled = f(a.playlists, b.uri, e));
            },
            h = function (a) {
              var b = a.playlists;
              a.representations = function () {
                return b.master.playlists
                  .filter(function (a) {
                    return !(0, e.isIncompatible)(a);
                  })
                  .map(function (b, c) {
                    return new g(a, b, b.uri);
                  });
              };
            };
          (c["default"] = h), (b.exports = c["default"]);
        },
        { "./playlist.js": 11 },
      ],
      15: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var e = a("url-toolkit"),
            f = d(e),
            g = a("global/window"),
            h = d(g),
            i = function (a, b) {
              return /^[a-z]+:/i.test(b)
                ? b
                : (/\/\//i.test(a) ||
                    (a = f["default"].buildAbsoluteURL(
                      h["default"].location.href,
                      a
                    )),
                  f["default"].buildAbsoluteURL(a, b));
            };
          (c["default"] = i), (b.exports = c["default"]);
        },
        { "global/window": 32, "url-toolkit": 63 },
      ],
      16: [
        function (a, b, c) {
          (function (b) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function e(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            function f(a, b) {
              if ("function" != typeof b && null !== b)
                throw new TypeError(
                  "Super expression must either be null or a function, not " +
                    typeof b
                );
              (a.prototype = Object.create(b && b.prototype, {
                constructor: {
                  value: a,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                b &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(a, b)
                    : (a.__proto__ = b));
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var g = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              h = function (a, b, c) {
                for (var d = !0; d; ) {
                  var e = a,
                    f = b,
                    g = c;
                  (d = !1), null === e && (e = Function.prototype);
                  var h = Object.getOwnPropertyDescriptor(e, f);
                  if (void 0 !== h) {
                    if ("value" in h) return h.value;
                    var i = h.get;
                    if (void 0 === i) return;
                    return i.call(g);
                  }
                  var j = Object.getPrototypeOf(e);
                  if (null === j) return;
                  (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
                }
              },
              i = a("./playlist"),
              j = d(i),
              k =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof b
                  ? b.videojs
                  : null,
              l = d(k),
              m = a("./source-updater"),
              n = d(m),
              o = a("./config"),
              p = d(o),
              q = a("global/window"),
              r = d(q),
              s = a(
                "videojs-contrib-media-sources/es5/remove-cues-from-track.js"
              ),
              t = d(s),
              u = a("./bin-utils"),
              v = a("./media-segment-request"),
              w = a("./ranges"),
              x = a("./playlist-selectors"),
              y = 500,
              z = function (a, b, c) {
                if (!a || !b) return !1;
                var d = a.segments,
                  e = c === d.length;
                return a.endList && "open" === b.readyState && e;
              },
              A = function (a) {
                return "number" == typeof a && isFinite(a);
              },
              B = function (a, b, c) {
                return "main" === a && b && c
                  ? c.containsAudio || c.containsVideo
                    ? b.containsVideo && !c.containsVideo
                      ? "Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest."
                      : !b.containsVideo && c.containsVideo
                      ? "Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest."
                      : null
                    : "Neither audio nor video found in segment."
                  : null;
              };
            c.illegalMediaSwitch = B;
            var C = function (a, b, c) {
              var d = void 0;
              return (
                (d =
                  a.length && a.start(0) > 0 && a.start(0) < b
                    ? a.start(0)
                    : b - 30),
                Math.min(d, b - c)
              );
            };
            c.safeBackBufferTrimTime = C;
            var D = (function (a) {
              function b(a) {
                var c = this,
                  d =
                    arguments.length <= 1 || void 0 === arguments[1]
                      ? {}
                      : arguments[1];
                if (
                  (e(this, b),
                  h(
                    Object.getPrototypeOf(b.prototype),
                    "constructor",
                    this
                  ).call(this),
                  !a)
                )
                  throw new TypeError("Initialization settings are required");
                if ("function" != typeof a.currentTime)
                  throw new TypeError("No currentTime getter specified");
                if (!a.mediaSource)
                  throw new TypeError("No MediaSource specified");
                (this.state = "INIT"),
                  (this.bandwidth = a.bandwidth),
                  (this.throughput = { rate: 0, count: 0 }),
                  (this.roundTrip = NaN),
                  this.resetStats_(),
                  (this.mediaIndex = null),
                  (this.hasPlayed_ = a.hasPlayed),
                  (this.currentTime_ = a.currentTime),
                  (this.seekable_ = a.seekable),
                  (this.seeking_ = a.seeking),
                  (this.duration_ = a.duration),
                  (this.mediaSource_ = a.mediaSource),
                  (this.hls_ = a.hls),
                  (this.loaderType_ = a.loaderType),
                  (this.startingMedia_ = void 0),
                  (this.segmentMetadataTrack_ = a.segmentMetadataTrack),
                  (this.goalBufferLength_ = a.goalBufferLength),
                  (this.checkBufferTimeout_ = null),
                  (this.error_ = void 0),
                  (this.currentTimeline_ = -1),
                  (this.pendingSegment_ = null),
                  (this.mimeType_ = null),
                  (this.sourceUpdater_ = null),
                  (this.xhrOptions_ = null),
                  (this.activeInitSegmentId_ = null),
                  (this.initSegments_ = {}),
                  (this.decrypter_ = a.decrypter),
                  (this.syncController_ = a.syncController),
                  (this.syncPoint_ = { segmentIndex: 0, time: 0 }),
                  this.syncController_.on("syncinfoupdate", function () {
                    return c.trigger("syncinfoupdate");
                  }),
                  this.mediaSource_.addEventListener("sourceopen", function () {
                    return (c.ended_ = !1);
                  }),
                  (this.fetchAtBuffer_ = !1),
                  d.debug &&
                    (this.logger_ = l["default"].log.bind(
                      l["default"],
                      "segment-loader",
                      this.loaderType_,
                      "->"
                    ));
              }
              return (
                f(b, a),
                g(b, [
                  {
                    key: "resetStats_",
                    value: function () {
                      (this.mediaBytesTransferred = 0),
                        (this.mediaRequests = 0),
                        (this.mediaRequestsAborted = 0),
                        (this.mediaRequestsTimedout = 0),
                        (this.mediaRequestsErrored = 0),
                        (this.mediaTransferDuration = 0),
                        (this.mediaSecondsLoaded = 0);
                    },
                  },
                  {
                    key: "dispose",
                    value: function () {
                      (this.state = "DISPOSED"),
                        this.pause(),
                        this.abort_(),
                        this.sourceUpdater_ && this.sourceUpdater_.dispose(),
                        this.resetStats_();
                    },
                  },
                  {
                    key: "abort",
                    value: function () {
                      return "WAITING" !== this.state
                        ? void (
                            this.pendingSegment_ &&
                            (this.pendingSegment_ = null)
                          )
                        : (this.abort_(),
                          (this.state = "READY"),
                          void (this.paused() || this.monitorBuffer_()));
                    },
                  },
                  {
                    key: "abort_",
                    value: function () {
                      this.pendingSegment_ &&
                        this.pendingSegment_.abortRequests(),
                        (this.pendingSegment_ = null);
                    },
                  },
                  {
                    key: "error",
                    value: function (a) {
                      return (
                        "undefined" != typeof a && (this.error_ = a),
                        (this.pendingSegment_ = null),
                        this.error_
                      );
                    },
                  },
                  {
                    key: "endOfStream",
                    value: function () {
                      (this.ended_ = !0), this.pause(), this.trigger("ended");
                    },
                  },
                  {
                    key: "buffered_",
                    value: function () {
                      return this.sourceUpdater_
                        ? this.sourceUpdater_.buffered()
                        : l["default"].createTimeRanges();
                    },
                  },
                  {
                    key: "initSegment",
                    value: function (a) {
                      var b =
                        !(arguments.length <= 1 || void 0 === arguments[1]) &&
                        arguments[1];
                      if (!a) return null;
                      var c = (0, u.initSegmentId)(a),
                        d = this.initSegments_[c];
                      return (
                        b &&
                          !d &&
                          a.bytes &&
                          (this.initSegments_[c] = d =
                            {
                              resolvedUri: a.resolvedUri,
                              byterange: a.byterange,
                              bytes: a.bytes,
                            }),
                        d || a
                      );
                    },
                  },
                  {
                    key: "couldBeginLoading_",
                    value: function () {
                      return (
                        this.playlist_ &&
                        (this.sourceUpdater_ ||
                          (this.mimeType_ && "INIT" === this.state)) &&
                        !this.paused()
                      );
                    },
                  },
                  {
                    key: "load",
                    value: function () {
                      if ((this.monitorBuffer_(), this.playlist_))
                        return (
                          this.syncController_.setDateTimeMapping(
                            this.playlist_
                          ),
                          "INIT" === this.state && this.couldBeginLoading_()
                            ? this.init_()
                            : void (
                                !this.couldBeginLoading_() ||
                                ("READY" !== this.state &&
                                  "INIT" !== this.state) ||
                                (this.state = "READY")
                              )
                        );
                    },
                  },
                  {
                    key: "init_",
                    value: function () {
                      return (
                        (this.state = "READY"),
                        (this.sourceUpdater_ = new n["default"](
                          this.mediaSource_,
                          this.mimeType_
                        )),
                        this.resetEverything(),
                        this.monitorBuffer_()
                      );
                    },
                  },
                  {
                    key: "playlist",
                    value: function (a) {
                      var b =
                        arguments.length <= 1 || void 0 === arguments[1]
                          ? {}
                          : arguments[1];
                      if (a) {
                        var c = this.playlist_,
                          d = this.pendingSegment_;
                        if (
                          ((this.playlist_ = a),
                          (this.xhrOptions_ = b),
                          this.hasPlayed_() ||
                            (a.syncInfo = {
                              mediaSequence: a.mediaSequence,
                              time: 0,
                            }),
                          this.trigger("syncinfoupdate"),
                          "INIT" === this.state && this.couldBeginLoading_())
                        )
                          return this.init_();
                        if (!c || c.uri !== a.uri)
                          return void (
                            null !== this.mediaIndex && this.resyncLoader()
                          );
                        var e = a.mediaSequence - c.mediaSequence;
                        this.logger_("mediaSequenceDiff", e),
                          null !== this.mediaIndex && (this.mediaIndex -= e),
                          d &&
                            ((d.mediaIndex -= e),
                            d.mediaIndex >= 0 &&
                              (d.segment = a.segments[d.mediaIndex])),
                          this.syncController_.saveExpiredSegmentInfo(c, a);
                      }
                    },
                  },
                  {
                    key: "pause",
                    value: function () {
                      this.checkBufferTimeout_ &&
                        (r["default"].clearTimeout(this.checkBufferTimeout_),
                        (this.checkBufferTimeout_ = null));
                    },
                  },
                  {
                    key: "paused",
                    value: function () {
                      return null === this.checkBufferTimeout_;
                    },
                  },
                  {
                    key: "mimeType",
                    value: function (a) {
                      this.mimeType_ ||
                        ((this.mimeType_ = a),
                        "INIT" === this.state &&
                          this.couldBeginLoading_() &&
                          this.init_());
                    },
                  },
                  {
                    key: "resetEverything",
                    value: function () {
                      (this.ended_ = !1),
                        this.resetLoader(),
                        this.remove(0, this.duration_()),
                        this.trigger("reseteverything");
                    },
                  },
                  {
                    key: "resetLoader",
                    value: function () {
                      (this.fetchAtBuffer_ = !1), this.resyncLoader();
                    },
                  },
                  {
                    key: "resyncLoader",
                    value: function () {
                      (this.mediaIndex = null),
                        (this.syncPoint_ = null),
                        this.abort();
                    },
                  },
                  {
                    key: "remove",
                    value: function (a, b) {
                      this.sourceUpdater_ && this.sourceUpdater_.remove(a, b),
                        (0, t["default"])(a, b, this.segmentMetadataTrack_);
                    },
                  },
                  {
                    key: "monitorBuffer_",
                    value: function () {
                      this.checkBufferTimeout_ &&
                        r["default"].clearTimeout(this.checkBufferTimeout_),
                        (this.checkBufferTimeout_ = r["default"].setTimeout(
                          this.monitorBufferTick_.bind(this),
                          1
                        ));
                    },
                  },
                  {
                    key: "monitorBufferTick_",
                    value: function () {
                      "READY" === this.state && this.fillBuffer_(),
                        this.checkBufferTimeout_ &&
                          r["default"].clearTimeout(this.checkBufferTimeout_),
                        (this.checkBufferTimeout_ = r["default"].setTimeout(
                          this.monitorBufferTick_.bind(this),
                          y
                        ));
                    },
                  },
                  {
                    key: "fillBuffer_",
                    value: function () {
                      if (!this.sourceUpdater_.updating()) {
                        this.syncPoint_ ||
                          (this.syncPoint_ = this.syncController_.getSyncPoint(
                            this.playlist_,
                            this.duration_(),
                            this.currentTimeline_,
                            this.currentTime_()
                          ));
                        var a = this.checkBuffer_(
                          this.buffered_(),
                          this.playlist_,
                          this.mediaIndex,
                          this.hasPlayed_(),
                          this.currentTime_(),
                          this.syncPoint_
                        );
                        if (a) {
                          var b = z(
                            this.playlist_,
                            this.mediaSource_,
                            a.mediaIndex
                          );
                          return b
                            ? void this.endOfStream()
                            : void (
                                (a.mediaIndex !==
                                  this.playlist_.segments.length - 1 ||
                                  "ended" !== this.mediaSource_.readyState ||
                                  this.seeking_()) &&
                                ((a.timeline !== this.currentTimeline_ ||
                                  (null !== a.startOfSegment &&
                                    a.startOfSegment <
                                      this.sourceUpdater_.timestampOffset())) &&
                                  (this.syncController_.reset(),
                                  (a.timestampOffset = a.startOfSegment)),
                                this.loadSegment_(a))
                              );
                        }
                      }
                    },
                  },
                  {
                    key: "checkBuffer_",
                    value: function (a, b, c, d, e, f) {
                      var g = 0,
                        h = void 0;
                      a.length && (g = a.end(a.length - 1));
                      var i = Math.max(0, g - e);
                      if (!b.segments.length) return null;
                      if (i >= this.goalBufferLength_()) return null;
                      if (!d && i >= 1) return null;
                      if (
                        (this.logger_(
                          "checkBuffer_",
                          "mediaIndex:",
                          c,
                          "hasPlayed:",
                          d,
                          "currentTime:",
                          e,
                          "syncPoint:",
                          f,
                          "fetchAtBuffer:",
                          this.fetchAtBuffer_,
                          "bufferedTime:",
                          i
                        ),
                        null === f)
                      )
                        return (
                          (c = this.getSyncSegmentCandidate_(b)),
                          this.logger_("getSync", "mediaIndex:", c),
                          this.generateSegmentInfo_(b, c, null, !0)
                        );
                      if (null !== c) {
                        this.logger_("walkForward", "mediaIndex:", c + 1);
                        var k = b.segments[c];
                        return (
                          (h = k && k.end ? k.end : g),
                          this.generateSegmentInfo_(b, c + 1, h, !1)
                        );
                      }
                      if (this.fetchAtBuffer_) {
                        var l = j["default"].getMediaInfoForTime(
                          b,
                          g,
                          f.segmentIndex,
                          f.time
                        );
                        (c = l.mediaIndex), (h = l.startTime);
                      } else {
                        var l = j["default"].getMediaInfoForTime(
                          b,
                          e,
                          f.segmentIndex,
                          f.time
                        );
                        (c = l.mediaIndex), (h = l.startTime);
                      }
                      return (
                        this.logger_(
                          "getMediaIndexForTime",
                          "mediaIndex:",
                          c,
                          "startOfSegment:",
                          h
                        ),
                        this.generateSegmentInfo_(b, c, h, !1)
                      );
                    },
                  },
                  {
                    key: "getSyncSegmentCandidate_",
                    value: function (a) {
                      var b = this;
                      if (this.currentTimeline_ === -1) return 0;
                      var c = a.segments
                        .map(function (a, b) {
                          return { timeline: a.timeline, segmentIndex: b };
                        })
                        .filter(function (a) {
                          return a.timeline === b.currentTimeline_;
                        });
                      return c.length
                        ? c[Math.min(c.length - 1, 1)].segmentIndex
                        : Math.max(a.segments.length - 1, 0);
                    },
                  },
                  {
                    key: "generateSegmentInfo_",
                    value: function (a, b, c, d) {
                      if (b < 0 || b >= a.segments.length) return null;
                      var e = a.segments[b];
                      return {
                        requestId: "segment-loader-" + Math.random(),
                        uri: e.resolvedUri,
                        mediaIndex: b,
                        isSyncRequest: d,
                        startOfSegment: c,
                        playlist: a,
                        bytes: null,
                        encryptedBytes: null,
                        timestampOffset: null,
                        timeline: e.timeline,
                        duration: e.duration,
                        segment: e,
                      };
                    },
                  },
                  {
                    key: "abortRequestEarly_",
                    value: function (a) {
                      if (
                        this.hls_.tech_.paused() ||
                        !this.xhrOptions_.timeout ||
                        !this.playlist_.attributes.BANDWIDTH
                      )
                        return !1;
                      if (
                        Date.now() - (a.firstBytesReceivedAt || Date.now()) <
                        1e3
                      )
                        return !1;
                      var b = this.currentTime_(),
                        c = a.bandwidth,
                        d = this.pendingSegment_.duration,
                        e = j["default"].estimateSegmentRequestTime(
                          d,
                          c,
                          this.playlist_,
                          a.bytesReceived
                        ),
                        f =
                          (0, w.timeUntilRebuffer)(
                            this.buffered_(),
                            b,
                            this.hls_.tech_.playbackRate()
                          ) - 1;
                      if (e <= f) return !1;
                      var g = (0, x.minRebufferMaxBandwidthSelector)({
                        master: this.hls_.playlists.master,
                        currentTime: b,
                        bandwidth: c,
                        duration: this.duration_(),
                        segmentDuration: d,
                        timeUntilRebuffer: f,
                        currentTimeline: this.currentTimeline_,
                        syncController: this.syncController_,
                      });
                      if (g) {
                        var h = e - f,
                          i = h - g.rebufferingImpact,
                          k = 0.5;
                        return (
                          f <= w.TIME_FUDGE_FACTOR && (k = 1),
                          !(
                            !g.playlist ||
                            g.playlist.uri === this.playlist_.uri ||
                            i < k
                          ) &&
                            ((this.bandwidth =
                              g.playlist.attributes.BANDWIDTH *
                                p["default"].BANDWIDTH_VARIANCE +
                              1),
                            this.abort(),
                            this.trigger("earlyabort"),
                            !0)
                        );
                      }
                    },
                  },
                  {
                    key: "handleProgress_",
                    value: function (a, b) {
                      this.pendingSegment_ &&
                        b.requestId === this.pendingSegment_.requestId &&
                        !this.abortRequestEarly_(b.stats) &&
                        this.trigger("progress");
                    },
                  },
                  {
                    key: "loadSegment_",
                    value: function (a) {
                      (this.state = "WAITING"),
                        (this.pendingSegment_ = a),
                        this.trimBackBuffer_(a),
                        (a.abortRequests = (0, v.mediaSegmentRequest)(
                          this.hls_.xhr,
                          this.xhrOptions_,
                          this.decrypter_,
                          this.createSimplifiedSegmentObj_(a),
                          this.handleProgress_.bind(this),
                          this.segmentRequestFinished_.bind(this)
                        ));
                    },
                  },
                  {
                    key: "trimBackBuffer_",
                    value: function (a) {
                      var b = C(
                        this.seekable_(),
                        this.currentTime_(),
                        this.playlist_.targetDuration || 10
                      );
                      b > 0 && this.remove(0, b);
                    },
                  },
                  {
                    key: "createSimplifiedSegmentObj_",
                    value: function (a) {
                      var b = a.segment,
                        c = {
                          resolvedUri: b.resolvedUri,
                          byterange: b.byterange,
                          requestId: a.requestId,
                        };
                      if (b.key) {
                        var d =
                          b.key.iv ||
                          new Uint32Array([
                            0,
                            0,
                            0,
                            a.mediaIndex + a.playlist.mediaSequence,
                          ]);
                        c.key = { resolvedUri: b.key.resolvedUri, iv: d };
                      }
                      return b.map && (c.map = this.initSegment(b.map)), c;
                    },
                  },
                  {
                    key: "segmentRequestFinished_",
                    value: function (a, b) {
                      if (
                        ((this.mediaRequests += 1),
                        b.stats &&
                          ((this.mediaBytesTransferred +=
                            b.stats.bytesReceived),
                          (this.mediaTransferDuration +=
                            b.stats.roundTripTime)),
                        !this.pendingSegment_)
                      )
                        return void (this.mediaRequestsAborted += 1);
                      if (b.requestId === this.pendingSegment_.requestId) {
                        if (a)
                          return (
                            (this.pendingSegment_ = null),
                            (this.state = "READY"),
                            a.code === v.REQUEST_ERRORS.ABORTED
                              ? void (this.mediaRequestsAborted += 1)
                              : (this.pause(),
                                a.code === v.REQUEST_ERRORS.TIMEOUT
                                  ? ((this.mediaRequestsTimedout += 1),
                                    (this.bandwidth = 1),
                                    (this.roundTrip = NaN),
                                    void this.trigger("bandwidthupdate"))
                                  : ((this.mediaRequestsErrored += 1),
                                    this.error(a),
                                    void this.trigger("error")))
                          );
                        (this.bandwidth = b.stats.bandwidth),
                          (this.roundTrip = b.stats.roundTripTime),
                          b.map && (b.map = this.initSegment(b.map, !0)),
                          this.processSegmentResponse_(b);
                      }
                    },
                  },
                  {
                    key: "processSegmentResponse_",
                    value: function (a) {
                      var b = this.pendingSegment_;
                      (b.bytes = a.bytes),
                        a.map && (b.segment.map.bytes = a.map.bytes),
                        (b.endOfAllRequests = a.endOfAllRequests),
                        this.handleSegment_();
                    },
                  },
                  {
                    key: "handleSegment_",
                    value: function () {
                      var a = this;
                      if (!this.pendingSegment_)
                        return void (this.state = "READY");
                      var b = this.pendingSegment_,
                        c = b.segment,
                        d = this.syncController_.probeSegmentInfo(b);
                      "undefined" == typeof this.startingMedia_ &&
                        d &&
                        (d.containsAudio || d.containsVideo) &&
                        (this.startingMedia_ = {
                          containsAudio: d.containsAudio,
                          containsVideo: d.containsVideo,
                        });
                      var e = B(this.loaderType_, this.startingMedia_, d);
                      if (e)
                        return (
                          this.error({ message: e, blacklistDuration: 1 / 0 }),
                          void this.trigger("error")
                        );
                      if (b.isSyncRequest)
                        return (
                          this.trigger("syncinfoupdate"),
                          (this.pendingSegment_ = null),
                          void (this.state = "READY")
                        );
                      null !== b.timestampOffset &&
                        b.timestampOffset !==
                          this.sourceUpdater_.timestampOffset() &&
                        (this.sourceUpdater_.timestampOffset(b.timestampOffset),
                        this.trigger("timestampoffset"));
                      var f = this.syncController_.mappingForTimeline(
                        b.timeline
                      );
                      null !== f &&
                        this.trigger({
                          type: "segmenttimemapping",
                          mapping: f,
                        }),
                        (this.state = "APPENDING"),
                        c.map &&
                          !(function () {
                            var b = (0, u.initSegmentId)(c.map);
                            if (
                              !a.activeInitSegmentId_ ||
                              a.activeInitSegmentId_ !== b
                            ) {
                              var d = a.initSegment(c.map);
                              a.sourceUpdater_.appendBuffer(
                                d.bytes,
                                function () {
                                  a.activeInitSegmentId_ = b;
                                }
                              );
                            }
                          })(),
                        (b.byteLength = b.bytes.byteLength),
                        "number" == typeof c.start && "number" == typeof c.end
                          ? (this.mediaSecondsLoaded += c.end - c.start)
                          : (this.mediaSecondsLoaded += c.duration),
                        this.sourceUpdater_.appendBuffer(
                          b.bytes,
                          this.handleUpdateEnd_.bind(this)
                        );
                    },
                  },
                  {
                    key: "handleUpdateEnd_",
                    value: function () {
                      if (
                        (this.logger_(
                          "handleUpdateEnd_",
                          "segmentInfo:",
                          this.pendingSegment_
                        ),
                        !this.pendingSegment_)
                      )
                        return (
                          (this.state = "READY"),
                          void (this.paused() || this.monitorBuffer_())
                        );
                      var a = this.pendingSegment_,
                        b = a.segment,
                        c = null !== this.mediaIndex;
                      if (
                        ((this.pendingSegment_ = null),
                        this.recordThroughput_(a),
                        this.addSegmentMetadataCue_(a),
                        (this.state = "READY"),
                        (this.mediaIndex = a.mediaIndex),
                        (this.fetchAtBuffer_ = !0),
                        (this.currentTimeline_ = a.timeline),
                        this.trigger("syncinfoupdate"),
                        b.end &&
                          this.currentTime_() - b.end >
                            3 * a.playlist.targetDuration)
                      )
                        return void this.resetEverything();
                      c && this.trigger("bandwidthupdate"),
                        this.trigger("progress");
                      var d = z(
                        a.playlist,
                        this.mediaSource_,
                        a.mediaIndex + 1
                      );
                      d && this.endOfStream(),
                        this.paused() || this.monitorBuffer_();
                    },
                  },
                  {
                    key: "recordThroughput_",
                    value: function (a) {
                      var b = this.throughput.rate,
                        c = Date.now() - a.endOfAllRequests + 1,
                        d = Math.floor((a.byteLength / c) * 8 * 1e3);
                      this.throughput.rate += (d - b) / ++this.throughput.count;
                    },
                  },
                  { key: "logger_", value: function () {} },
                  {
                    key: "addSegmentMetadataCue_",
                    value: function (a) {
                      if (this.segmentMetadataTrack_) {
                        var b = a.segment,
                          c = b.start,
                          d = b.end;
                        if (A(c) && A(d)) {
                          (0, t["default"])(c, d, this.segmentMetadataTrack_);
                          var e =
                              r["default"].WebKitDataCue || r["default"].VTTCue,
                            f = {
                              bandwidth: a.playlist.attributes.BANDWIDTH,
                              resolution: a.playlist.attributes.RESOLUTION,
                              codecs: a.playlist.attributes.CODECS,
                              byteLength: a.byteLength,
                              uri: a.uri,
                              timeline: a.timeline,
                              playlist: a.playlist.uri,
                              start: c,
                              end: d,
                            },
                            g = JSON.stringify(f),
                            h = new e(c, d, g);
                          (h.value = f), this.segmentMetadataTrack_.addCue(h);
                        }
                      }
                    },
                  },
                ]),
                b
              );
            })(l["default"].EventTarget);
            c["default"] = D;
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {
          "./bin-utils": 2,
          "./config": 3,
          "./media-segment-request": 7,
          "./playlist": 11,
          "./playlist-selectors": 10,
          "./ranges": 12,
          "./source-updater": 17,
          "global/window": 32,
          "videojs-contrib-media-sources/es5/remove-cues-from-track.js": 72,
        },
      ],
      17: [
        function (a, b, c) {
          (function (a) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function e(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var f = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              g =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof a
                  ? a.videojs
                  : null,
              h = d(g),
              i = function () {},
              j = (function () {
                function a(b, c) {
                  var d = this;
                  e(this, a);
                  var f = function () {
                    (d.sourceBuffer_ = b.addSourceBuffer(c)),
                      (d.onUpdateendCallback_ = function () {
                        var a = d.pendingCallback_;
                        (d.pendingCallback_ = null), a && a(), d.runCallback_();
                      }),
                      d.sourceBuffer_.addEventListener(
                        "updateend",
                        d.onUpdateendCallback_
                      ),
                      d.runCallback_();
                  };
                  (this.callbacks_ = []),
                    (this.pendingCallback_ = null),
                    (this.timestampOffset_ = 0),
                    (this.mediaSource = b),
                    (this.processedAppend_ = !1),
                    "closed" === b.readyState
                      ? b.addEventListener("sourceopen", f)
                      : f();
                }
                return (
                  f(a, [
                    {
                      key: "abort",
                      value: function (a) {
                        var b = this;
                        this.processedAppend_ &&
                          this.queueCallback_(function () {
                            b.sourceBuffer_.abort();
                          }, a);
                      },
                    },
                    {
                      key: "appendBuffer",
                      value: function (a, b) {
                        var c = this;
                        (this.processedAppend_ = !0),
                          this.queueCallback_(function () {
                            c.sourceBuffer_.appendBuffer(a);
                          }, b);
                      },
                    },
                    {
                      key: "buffered",
                      value: function () {
                        return this.sourceBuffer_
                          ? this.sourceBuffer_.buffered
                          : h["default"].createTimeRanges();
                      },
                    },
                    {
                      key: "remove",
                      value: function (a, b) {
                        var c = this;
                        this.processedAppend_ &&
                          this.queueCallback_(function () {
                            c.sourceBuffer_.remove(a, b);
                          }, i);
                      },
                    },
                    {
                      key: "updating",
                      value: function () {
                        return (
                          !this.sourceBuffer_ ||
                          this.sourceBuffer_.updating ||
                          this.pendingCallback_
                        );
                      },
                    },
                    {
                      key: "timestampOffset",
                      value: function (a) {
                        var b = this;
                        return (
                          "undefined" != typeof a &&
                            (this.queueCallback_(function () {
                              b.sourceBuffer_.timestampOffset = a;
                            }),
                            (this.timestampOffset_ = a)),
                          this.timestampOffset_
                        );
                      },
                    },
                    {
                      key: "queueCallback_",
                      value: function (a, b) {
                        this.callbacks_.push([a.bind(this), b]),
                          this.runCallback_();
                      },
                    },
                    {
                      key: "runCallback_",
                      value: function () {
                        var a = void 0;
                        !this.updating() &&
                          this.callbacks_.length &&
                          ((a = this.callbacks_.shift()),
                          (this.pendingCallback_ = a[1]),
                          a[0]());
                      },
                    },
                    {
                      key: "dispose",
                      value: function () {
                        this.sourceBuffer_.removeEventListener(
                          "updateend",
                          this.onUpdateendCallback_
                        ),
                          this.sourceBuffer_ &&
                            "open" === this.mediaSource.readyState &&
                            this.sourceBuffer_.abort();
                      },
                    },
                  ]),
                  a
                );
              })();
            (c["default"] = j), (b.exports = c["default"]);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {},
      ],
      18: [
        function (a, b, c) {
          (function (b) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function e(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            function f(a, b) {
              if ("function" != typeof b && null !== b)
                throw new TypeError(
                  "Super expression must either be null or a function, not " +
                    typeof b
                );
              (a.prototype = Object.create(b && b.prototype, {
                constructor: {
                  value: a,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                b &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(a, b)
                    : (a.__proto__ = b));
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var g = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              h = function (a, b, c) {
                for (var d = !0; d; ) {
                  var e = a,
                    f = b,
                    g = c;
                  (d = !1), null === e && (e = Function.prototype);
                  var h = Object.getOwnPropertyDescriptor(e, f);
                  if (void 0 !== h) {
                    if ("value" in h) return h.value;
                    var i = h.get;
                    if (void 0 === i) return;
                    return i.call(g);
                  }
                  var j = Object.getPrototypeOf(e);
                  if (null === j) return;
                  (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
                }
              },
              i = a("mux.js/lib/mp4/probe"),
              j = d(i),
              k = a("mux.js/lib/tools/ts-inspector.js"),
              l = a("./playlist"),
              m =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof b
                  ? b.videojs
                  : null,
              n = d(m),
              o = [
                {
                  name: "VOD",
                  run: function (a, b, c, d, e) {
                    if (c !== 1 / 0) {
                      var f = { time: 0, segmentIndex: 0 };
                      return f;
                    }
                    return null;
                  },
                },
                {
                  name: "ProgramDateTime",
                  run: function (a, b, c, d, e) {
                    if (a.datetimeToDisplayTime && b.dateTimeObject) {
                      var f = b.dateTimeObject.getTime() / 1e3,
                        g = f + a.datetimeToDisplayTime,
                        h = { time: g, segmentIndex: 0 };
                      return h;
                    }
                    return null;
                  },
                },
                {
                  name: "Segment",
                  run: function (a, b, c, d, e) {
                    var f = b.segments || [],
                      g = null,
                      h = null;
                    e = e || 0;
                    for (var i = 0; i < f.length; i++) {
                      var j = f[i];
                      if (j.timeline === d && "undefined" != typeof j.start) {
                        var k = Math.abs(e - j.start);
                        if (null !== h && h < k) break;
                        (!g || null === h || h >= k) &&
                          ((h = k), (g = { time: j.start, segmentIndex: i }));
                      }
                    }
                    return g;
                  },
                },
                {
                  name: "Discontinuity",
                  run: function (a, b, c, d, e) {
                    var f = null;
                    if (
                      ((e = e || 0),
                      b.discontinuityStarts && b.discontinuityStarts.length)
                    )
                      for (
                        var g = null, h = 0;
                        h < b.discontinuityStarts.length;
                        h++
                      ) {
                        var i = b.discontinuityStarts[h],
                          j = b.discontinuitySequence + h + 1,
                          k = a.discontinuities[j];
                        if (k) {
                          var l = Math.abs(e - k.time);
                          if (null !== g && g < l) break;
                          (!f || null === g || g >= l) &&
                            ((g = l), (f = { time: k.time, segmentIndex: i }));
                        }
                      }
                    return f;
                  },
                },
                {
                  name: "Playlist",
                  run: function (a, b, c, d, e) {
                    if (b.syncInfo) {
                      var f = {
                        time: b.syncInfo.time,
                        segmentIndex:
                          b.syncInfo.mediaSequence - b.mediaSequence,
                      };
                      return f;
                    }
                    return null;
                  },
                },
              ];
            c.syncPointStrategies = o;
            var p = (function (a) {
              function b() {
                var a =
                  arguments.length <= 0 || void 0 === arguments[0]
                    ? {}
                    : arguments[0];
                e(this, b),
                  h(
                    Object.getPrototypeOf(b.prototype),
                    "constructor",
                    this
                  ).call(this),
                  (this.inspectCache_ = void 0),
                  (this.timelines = []),
                  (this.discontinuities = []),
                  (this.datetimeToDisplayTime = null),
                  a.debug &&
                    (this.logger_ = n["default"].log.bind(
                      n["default"],
                      "sync-controller ->"
                    ));
              }
              return (
                f(b, a),
                g(b, [
                  {
                    key: "getSyncPoint",
                    value: function (a, b, c, d) {
                      var e = this.runStrategies_(a, b, c, d);
                      return e.length
                        ? this.selectSyncPoint_(e, { key: "time", value: d })
                        : null;
                    },
                  },
                  {
                    key: "getExpiredTime",
                    value: function (a, b) {
                      if (!a || !a.segments) return null;
                      var c = this.runStrategies_(
                        a,
                        b,
                        a.discontinuitySequence,
                        0
                      );
                      if (!c.length) return null;
                      var d = this.selectSyncPoint_(c, {
                        key: "segmentIndex",
                        value: 0,
                      });
                      return (
                        d.segmentIndex > 0 && (d.time *= -1),
                        Math.abs(
                          d.time + (0, l.sumDurations)(a, d.segmentIndex, 0)
                        )
                      );
                    },
                  },
                  {
                    key: "runStrategies_",
                    value: function (a, b, c, d) {
                      for (var e = [], f = 0; f < o.length; f++) {
                        var g = o[f],
                          h = g.run(this, a, b, c, d);
                        h &&
                          ((h.strategy = g.name),
                          e.push({ strategy: g.name, syncPoint: h }),
                          this.logger_(
                            "syncPoint found via <" + g.name + ">:",
                            h
                          ));
                      }
                      return e;
                    },
                  },
                  {
                    key: "selectSyncPoint_",
                    value: function (a, b) {
                      for (
                        var c = a[0].syncPoint,
                          d = Math.abs(a[0].syncPoint[b.key] - b.value),
                          e = a[0].strategy,
                          f = 1;
                        f < a.length;
                        f++
                      ) {
                        var g = Math.abs(a[f].syncPoint[b.key] - b.value);
                        g < d &&
                          ((d = g), (c = a[f].syncPoint), (e = a[f].strategy));
                      }
                      return (
                        this.logger_(
                          "syncPoint with strategy <" + e + "> chosen: ",
                          c
                        ),
                        c
                      );
                    },
                  },
                  {
                    key: "saveExpiredSegmentInfo",
                    value: function (a, b) {
                      for (
                        var c = b.mediaSequence - a.mediaSequence, d = c - 1;
                        d >= 0;
                        d--
                      ) {
                        var e = a.segments[d];
                        if (e && "undefined" != typeof e.start) {
                          (b.syncInfo = {
                            mediaSequence: a.mediaSequence + d,
                            time: e.start,
                          }),
                            this.logger_("playlist sync:", b.syncInfo),
                            this.trigger("syncinfoupdate");
                          break;
                        }
                      }
                    },
                  },
                  {
                    key: "setDateTimeMapping",
                    value: function (a) {
                      if (!this.datetimeToDisplayTime && a.dateTimeObject) {
                        var b = a.dateTimeObject.getTime() / 1e3;
                        this.datetimeToDisplayTime = -b;
                      }
                    },
                  },
                  {
                    key: "reset",
                    value: function () {
                      this.inspectCache_ = void 0;
                    },
                  },
                  {
                    key: "probeSegmentInfo",
                    value: function (a) {
                      var b = a.segment,
                        c = a.playlist,
                        d = void 0;
                      return (
                        (d = b.map
                          ? this.probeMp4Segment_(a)
                          : this.probeTsSegment_(a)),
                        d &&
                          this.calculateSegmentTimeMapping_(a, d) &&
                          (this.saveDiscontinuitySyncInfo_(a),
                          c.syncInfo ||
                            (c.syncInfo = {
                              mediaSequence: c.mediaSequence + a.mediaIndex,
                              time: b.start,
                            })),
                        d
                      );
                    },
                  },
                  {
                    key: "probeMp4Segment_",
                    value: function (a) {
                      var b = a.segment,
                        c = j["default"].timescale(b.map.bytes),
                        d = j["default"].startTime(c, a.bytes);
                      return (
                        null !== a.timestampOffset && (a.timestampOffset -= d),
                        { start: d, end: d + b.duration }
                      );
                    },
                  },
                  {
                    key: "probeTsSegment_",
                    value: function (a) {
                      var b = (0, k.inspect)(a.bytes, this.inspectCache_),
                        c = void 0,
                        d = void 0;
                      return b
                        ? (b.video && 2 === b.video.length
                            ? ((this.inspectCache_ = b.video[1].dts),
                              (c = b.video[0].dtsTime),
                              (d = b.video[1].dtsTime))
                            : b.audio &&
                              2 === b.audio.length &&
                              ((this.inspectCache_ = b.audio[1].dts),
                              (c = b.audio[0].dtsTime),
                              (d = b.audio[1].dtsTime)),
                          {
                            start: c,
                            end: d,
                            containsVideo: b.video && 2 === b.video.length,
                            containsAudio: b.audio && 2 === b.audio.length,
                          })
                        : null;
                    },
                  },
                  {
                    key: "timestampOffsetForTimeline",
                    value: function (a) {
                      return "undefined" == typeof this.timelines[a]
                        ? null
                        : this.timelines[a].time;
                    },
                  },
                  {
                    key: "mappingForTimeline",
                    value: function (a) {
                      return "undefined" == typeof this.timelines[a]
                        ? null
                        : this.timelines[a].mapping;
                    },
                  },
                  {
                    key: "calculateSegmentTimeMapping_",
                    value: function (a, b) {
                      var c = a.segment,
                        d = this.timelines[a.timeline];
                      if (null !== a.timestampOffset)
                        this.logger_("tsO:", a.timestampOffset),
                          (d = {
                            time: a.startOfSegment,
                            mapping: a.startOfSegment - b.start,
                          }),
                          (this.timelines[a.timeline] = d),
                          this.trigger("timestampoffset"),
                          (c.start = a.startOfSegment),
                          (c.end = b.end + d.mapping);
                      else {
                        if (!d) return !1;
                        (c.start = b.start + d.mapping),
                          (c.end = b.end + d.mapping);
                      }
                      return !0;
                    },
                  },
                  {
                    key: "saveDiscontinuitySyncInfo_",
                    value: function (a) {
                      var b = a.playlist,
                        c = a.segment;
                      if (c.discontinuity)
                        this.discontinuities[c.timeline] = {
                          time: c.start,
                          accuracy: 0,
                        };
                      else if (b.discontinuityStarts.length)
                        for (var d = 0; d < b.discontinuityStarts.length; d++) {
                          var e = b.discontinuityStarts[d],
                            f = b.discontinuitySequence + d + 1,
                            g = e - a.mediaIndex,
                            h = Math.abs(g);
                          if (
                            !this.discontinuities[f] ||
                            this.discontinuities[f].accuracy > h
                          ) {
                            var i = void 0;
                            (i =
                              g < 0
                                ? c.start -
                                  (0, l.sumDurations)(b, a.mediaIndex, e)
                                : c.end +
                                  (0, l.sumDurations)(b, a.mediaIndex + 1, e)),
                              (this.discontinuities[f] = {
                                time: i,
                                accuracy: h,
                              });
                          }
                        }
                    },
                  },
                  { key: "logger_", value: function () {} },
                ]),
                b
              );
            })(n["default"].EventTarget);
            c["default"] = p;
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {
          "./playlist": 11,
          "mux.js/lib/mp4/probe": 57,
          "mux.js/lib/tools/ts-inspector.js": 59,
        },
      ],
      19: [
        function (a, b, c) {
          "use strict";
          Object.defineProperty(c, "__esModule", { value: !0 });
          var d = function () {
            var a =
                arguments.length <= 0 || void 0 === arguments[0]
                  ? ""
                  : arguments[0],
              b = { codecCount: 0 },
              c = void 0;
            return (
              (b.codecCount = a.split(",").length),
              (b.codecCount = b.codecCount || 2),
              (c = /(^|\s|,)+(avc1)([^ ,]*)/i.exec(a)),
              c && ((b.videoCodec = c[2]), (b.videoObjectTypeIndicator = c[3])),
              (b.audioProfile =
                /(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(a)),
              (b.audioProfile = b.audioProfile && b.audioProfile[2]),
              b
            );
          };
          c.parseCodecs = d;
        },
        {},
      ],
      20: [
        function (a, b, c) {
          (function (d) {
            "use strict";
            function e(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function f(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            function g(a, b) {
              if ("function" != typeof b && null !== b)
                throw new TypeError(
                  "Super expression must either be null or a function, not " +
                    typeof b
                );
              (a.prototype = Object.create(b && b.prototype, {
                constructor: {
                  value: a,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                b &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(a, b)
                    : (a.__proto__ = b));
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var h = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              i = function (a, b, c) {
                for (var d = !0; d; ) {
                  var e = a,
                    f = b,
                    g = c;
                  (d = !1), null === e && (e = Function.prototype);
                  var h = Object.getOwnPropertyDescriptor(e, f);
                  if (void 0 !== h) {
                    if ("value" in h) return h.value;
                    var i = h.get;
                    if (void 0 === i) return;
                    return i.call(g);
                  }
                  var j = Object.getPrototypeOf(e);
                  if (null === j) return;
                  (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
                }
              },
              j = a("./segment-loader"),
              k = e(j),
              l =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof d
                  ? d.videojs
                  : null,
              m = e(l),
              n = a("global/window"),
              o = e(n),
              p = a(
                "videojs-contrib-media-sources/es5/remove-cues-from-track.js"
              ),
              q = e(p),
              r = a("./bin-utils"),
              s = new Uint8Array(
                "\n\n".split("").map(function (a) {
                  return a.charCodeAt(0);
                })
              ),
              t = function (a) {
                return String.fromCharCode.apply(null, a);
              },
              u = (function (a) {
                function b(a) {
                  var c =
                    arguments.length <= 1 || void 0 === arguments[1]
                      ? {}
                      : arguments[1];
                  f(this, b),
                    i(
                      Object.getPrototypeOf(b.prototype),
                      "constructor",
                      this
                    ).call(this, a, c),
                    (this.mediaSource_ = null),
                    (this.subtitlesTrack_ = null);
                }
                return (
                  g(b, a),
                  h(b, [
                    {
                      key: "buffered_",
                      value: function () {
                        if (
                          !this.subtitlesTrack_ ||
                          !this.subtitlesTrack_.cues.length
                        )
                          return m["default"].createTimeRanges();
                        var a = this.subtitlesTrack_.cues,
                          b = a[0].startTime,
                          c = a[a.length - 1].startTime;
                        return m["default"].createTimeRanges([[b, c]]);
                      },
                    },
                    {
                      key: "initSegment",
                      value: function (a) {
                        var b =
                          !(arguments.length <= 1 || void 0 === arguments[1]) &&
                          arguments[1];
                        if (!a) return null;
                        var c = (0, r.initSegmentId)(a),
                          d = this.initSegments_[c];
                        if (b && !d && a.bytes) {
                          var e = s.byteLength + a.bytes.byteLength,
                            f = new Uint8Array(e);
                          f.set(a.bytes),
                            f.set(s, a.bytes.byteLength),
                            (this.initSegments_[c] = d =
                              {
                                resolvedUri: a.resolvedUri,
                                byterange: a.byterange,
                                bytes: f,
                              });
                        }
                        return d || a;
                      },
                    },
                    {
                      key: "couldBeginLoading_",
                      value: function () {
                        return (
                          this.playlist_ &&
                          this.subtitlesTrack_ &&
                          !this.paused()
                        );
                      },
                    },
                    {
                      key: "init_",
                      value: function () {
                        return (
                          (this.state = "READY"),
                          this.resetEverything(),
                          this.monitorBuffer_()
                        );
                      },
                    },
                    {
                      key: "track",
                      value: function (a) {
                        return "undefined" == typeof a
                          ? this.subtitlesTrack_
                          : ((this.subtitlesTrack_ = a),
                            "INIT" === this.state &&
                              this.couldBeginLoading_() &&
                              this.init_(),
                            this.subtitlesTrack_);
                      },
                    },
                    {
                      key: "remove",
                      value: function (a, b) {
                        (0, q["default"])(a, b, this.subtitlesTrack_);
                      },
                    },
                    {
                      key: "fillBuffer_",
                      value: function () {
                        var a = this;
                        this.syncPoint_ ||
                          (this.syncPoint_ = this.syncController_.getSyncPoint(
                            this.playlist_,
                            this.duration_(),
                            this.currentTimeline_,
                            this.currentTime_()
                          ));
                        var b = this.checkBuffer_(
                          this.buffered_(),
                          this.playlist_,
                          this.mediaIndex,
                          this.hasPlayed_(),
                          this.currentTime_(),
                          this.syncPoint_
                        );
                        if ((b = this.skipEmptySegments_(b))) {
                          if (
                            null ===
                            this.syncController_.timestampOffsetForTimeline(
                              b.timeline
                            )
                          ) {
                            var c = function () {
                              (a.state = "READY"),
                                a.paused() || a.monitorBuffer_();
                            };
                            return (
                              this.syncController_.one("timestampoffset", c),
                              void (this.state = "WAITING_ON_TIMELINE")
                            );
                          }
                          this.loadSegment_(b);
                        }
                      },
                    },
                    {
                      key: "skipEmptySegments_",
                      value: function (a) {
                        for (; a && a.segment.empty; )
                          a = this.generateSegmentInfo_(
                            a.playlist,
                            a.mediaIndex + 1,
                            a.startOfSegment + a.duration,
                            a.isSyncRequest
                          );
                        return a;
                      },
                    },
                    {
                      key: "handleSegment_",
                      value: function () {
                        var a = this;
                        if (!this.pendingSegment_ || !this.subtitlesTrack_)
                          return void (this.state = "READY");
                        this.state = "APPENDING";
                        var b = this.pendingSegment_,
                          c = b.segment;
                        if (
                          "function" != typeof o["default"].WebVTT &&
                          this.subtitlesTrack_ &&
                          this.subtitlesTrack_.tech_
                        ) {
                          var d = (function () {
                            var b = function () {
                              a.handleSegment_();
                            };
                            return (
                              (a.state = "WAITING_ON_VTTJS"),
                              a.subtitlesTrack_.tech_.one("vttjsloaded", b),
                              a.subtitlesTrack_.tech_.one(
                                "vttjserror",
                                function () {
                                  a.subtitlesTrack_.tech_.off("vttjsloaded", b),
                                    a.error({
                                      message: "Error loading vtt.js",
                                    }),
                                    (a.state = "READY"),
                                    a.pause(),
                                    a.trigger("error");
                                }
                              ),
                              { v: void 0 }
                            );
                          })();
                          if ("object" == typeof d) return d.v;
                        }
                        c.requested = !0;
                        try {
                          this.parseVTTCues_(b);
                        } catch (e) {
                          return (
                            this.error({ message: e.message }),
                            (this.state = "READY"),
                            this.pause(),
                            this.trigger("error")
                          );
                        }
                        return (
                          this.updateTimeMapping_(
                            b,
                            this.syncController_.timelines[b.timeline],
                            this.playlist_
                          ),
                          b.isSyncRequest
                            ? (this.trigger("syncinfoupdate"),
                              (this.pendingSegment_ = null),
                              void (this.state = "READY"))
                            : ((b.byteLength = b.bytes.byteLength),
                              (this.mediaSecondsLoaded += c.duration),
                              b.cues.length &&
                                this.remove(
                                  b.cues[0].endTime,
                                  b.cues[b.cues.length - 1].endTime
                                ),
                              b.cues.forEach(function (b) {
                                a.subtitlesTrack_.addCue(b);
                              }),
                              void this.handleUpdateEnd_())
                        );
                      },
                    },
                    {
                      key: "parseVTTCues_",
                      value: function (a) {
                        var b = void 0,
                          c = !1;
                        "function" == typeof o["default"].TextDecoder
                          ? (b = new o["default"].TextDecoder("utf8"))
                          : ((b = o["default"].WebVTT.StringDecoder()),
                            (c = !0));
                        var d = new o["default"].WebVTT.Parser(
                          o["default"],
                          o["default"].vttjs,
                          b
                        );
                        if (
                          ((a.cues = []),
                          (a.timestampmap = { MPEGTS: 0, LOCAL: 0 }),
                          (d.oncue = a.cues.push.bind(a.cues)),
                          (d.ontimestampmap = function (b) {
                            return (a.timestampmap = b);
                          }),
                          (d.onparsingerror = function (a) {
                            m["default"].log.warn(
                              "Error encountered when parsing cues: " +
                                a.message
                            );
                          }),
                          a.segment.map)
                        ) {
                          var e = a.segment.map.bytes;
                          c && (e = t(e)), d.parse(e);
                        }
                        var f = a.bytes;
                        c && (f = t(f)), d.parse(f), d.flush();
                      },
                    },
                    {
                      key: "updateTimeMapping_",
                      value: function (a, b, c) {
                        var d = a.segment;
                        if (b) {
                          if (!a.cues.length) return void (d.empty = !0);
                          var e = a.timestampmap,
                            f = e.MPEGTS / 9e4 - e.LOCAL + b.mapping;
                          if (
                            (a.cues.forEach(function (a) {
                              (a.startTime += f), (a.endTime += f);
                            }),
                            !c.syncInfo)
                          ) {
                            var g = a.cues[0].startTime,
                              h = a.cues[a.cues.length - 1].startTime;
                            c.syncInfo = {
                              mediaSequence: c.mediaSequence + a.mediaIndex,
                              time: Math.min(g, h - d.duration),
                            };
                          }
                        }
                      },
                    },
                  ]),
                  b
                );
              })(k["default"]);
            (c["default"] = u), (b.exports = c["default"]);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {
          "./bin-utils": 2,
          "./segment-loader": 16,
          "global/window": 32,
          "videojs-contrib-media-sources/es5/remove-cues-from-track.js": 72,
        },
      ],
      21: [
        function (a, b, c) {
          (function (a) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var e =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof a
                  ? a.videojs
                  : null,
              f = d(e),
              g = function () {
                var a = function b(a, c) {
                  a = (0, e.mergeOptions)({ timeout: 45e3 }, a);
                  var d = b.beforeRequest || f["default"].Hls.xhr.beforeRequest;
                  if (d && "function" == typeof d) {
                    var g = d(a);
                    g && (a = g);
                  }
                  var h = (0, e.xhr)(a, function (a, b) {
                      var d = h.response;
                      !a &&
                        d &&
                        ((h.responseTime = Date.now()),
                        (h.roundTripTime = h.responseTime - h.requestTime),
                        (h.bytesReceived = d.byteLength || d.length),
                        h.bandwidth ||
                          (h.bandwidth = Math.floor(
                            (h.bytesReceived / h.roundTripTime) * 8 * 1e3
                          ))),
                        a && "ETIMEDOUT" === a.code && (h.timedout = !0),
                        a ||
                          h.aborted ||
                          200 === b.statusCode ||
                          206 === b.statusCode ||
                          0 === b.statusCode ||
                          (a = new Error(
                            "XHR Failed with a response of: " +
                              (h && (d || h.responseText))
                          )),
                        c(a, h);
                    }),
                    i = h.abort;
                  return (
                    (h.abort = function () {
                      return (h.aborted = !0), i.apply(h, arguments);
                    }),
                    (h.uri = a.uri),
                    (h.requestTime = Date.now()),
                    h
                  );
                };
                return a;
              };
            (c["default"] = g), (b.exports = c["default"]);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {},
      ],
      22: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            if (!(a instanceof b))
              throw new TypeError("Cannot call a class as a function");
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var e = (function () {
              function a(a, b) {
                for (var c = 0; c < b.length; c++) {
                  var d = b[c];
                  (d.enumerable = d.enumerable || !1),
                    (d.configurable = !0),
                    "value" in d && (d.writable = !0),
                    Object.defineProperty(a, d.key, d);
                }
              }
              return function (b, c, d) {
                return c && a(b.prototype, c), d && a(b, d), b;
              };
            })(),
            f = function () {
              var a = [
                  [[], [], [], [], []],
                  [[], [], [], [], []],
                ],
                b = a[0],
                c = a[1],
                d = b[4],
                e = c[4],
                f = void 0,
                g = void 0,
                h = void 0,
                i = [],
                j = [],
                k = void 0,
                l = void 0,
                m = void 0,
                n = void 0,
                o = void 0,
                p = void 0;
              for (f = 0; f < 256; f++)
                j[(i[f] = (f << 1) ^ (283 * (f >> 7))) ^ f] = f;
              for (g = h = 0; !d[g]; g ^= k || 1, h = j[h] || 1)
                for (
                  n = h ^ (h << 1) ^ (h << 2) ^ (h << 3) ^ (h << 4),
                    n = (n >> 8) ^ (255 & n) ^ 99,
                    d[g] = n,
                    e[n] = g,
                    m = i[(l = i[(k = i[g])])],
                    p =
                      (16843009 * m) ^ (65537 * l) ^ (257 * k) ^ (16843008 * g),
                    o = (257 * i[n]) ^ (16843008 * n),
                    f = 0;
                  f < 4;
                  f++
                )
                  (b[f][g] = o = (o << 24) ^ (o >>> 8)),
                    (c[f][n] = p = (p << 24) ^ (p >>> 8));
              for (f = 0; f < 5; f++)
                (b[f] = b[f].slice(0)), (c[f] = c[f].slice(0));
              return a;
            },
            g = null,
            h = (function () {
              function a(b) {
                d(this, a),
                  g || (g = f()),
                  (this._tables = [
                    [
                      g[0][0].slice(),
                      g[0][1].slice(),
                      g[0][2].slice(),
                      g[0][3].slice(),
                      g[0][4].slice(),
                    ],
                    [
                      g[1][0].slice(),
                      g[1][1].slice(),
                      g[1][2].slice(),
                      g[1][3].slice(),
                      g[1][4].slice(),
                    ],
                  ]);
                var c = void 0,
                  e = void 0,
                  h = void 0,
                  i = void 0,
                  j = void 0,
                  k = this._tables[0][4],
                  l = this._tables[1],
                  m = b.length,
                  n = 1;
                if (4 !== m && 6 !== m && 8 !== m)
                  throw new Error("Invalid aes key size");
                for (
                  i = b.slice(0), j = [], this._key = [i, j], c = m;
                  c < 4 * m + 28;
                  c++
                )
                  (h = i[c - 1]),
                    (c % m === 0 || (8 === m && c % m === 4)) &&
                      ((h =
                        (k[h >>> 24] << 24) ^
                        (k[(h >> 16) & 255] << 16) ^
                        (k[(h >> 8) & 255] << 8) ^
                        k[255 & h]),
                      c % m === 0 &&
                        ((h = (h << 8) ^ (h >>> 24) ^ (n << 24)),
                        (n = (n << 1) ^ (283 * (n >> 7))))),
                    (i[c] = i[c - m] ^ h);
                for (e = 0; c; e++, c--)
                  (h = i[3 & e ? c : c - 4]),
                    c <= 4 || e < 4
                      ? (j[e] = h)
                      : (j[e] =
                          l[0][k[h >>> 24]] ^
                          l[1][k[(h >> 16) & 255]] ^
                          l[2][k[(h >> 8) & 255]] ^
                          l[3][k[255 & h]]);
              }
              return (
                e(a, [
                  {
                    key: "decrypt",
                    value: function (a, b, c, d, e, f) {
                      var g = this._key[1],
                        h = a ^ g[0],
                        i = d ^ g[1],
                        j = c ^ g[2],
                        k = b ^ g[3],
                        l = void 0,
                        m = void 0,
                        n = void 0,
                        o = g.length / 4 - 2,
                        p = void 0,
                        q = 4,
                        r = this._tables[1],
                        s = r[0],
                        t = r[1],
                        u = r[2],
                        v = r[3],
                        w = r[4];
                      for (p = 0; p < o; p++)
                        (l =
                          s[h >>> 24] ^
                          t[(i >> 16) & 255] ^
                          u[(j >> 8) & 255] ^
                          v[255 & k] ^
                          g[q]),
                          (m =
                            s[i >>> 24] ^
                            t[(j >> 16) & 255] ^
                            u[(k >> 8) & 255] ^
                            v[255 & h] ^
                            g[q + 1]),
                          (n =
                            s[j >>> 24] ^
                            t[(k >> 16) & 255] ^
                            u[(h >> 8) & 255] ^
                            v[255 & i] ^
                            g[q + 2]),
                          (k =
                            s[k >>> 24] ^
                            t[(h >> 16) & 255] ^
                            u[(i >> 8) & 255] ^
                            v[255 & j] ^
                            g[q + 3]),
                          (q += 4),
                          (h = l),
                          (i = m),
                          (j = n);
                      for (p = 0; p < 4; p++)
                        (e[(3 & -p) + f] =
                          (w[h >>> 24] << 24) ^
                          (w[(i >> 16) & 255] << 16) ^
                          (w[(j >> 8) & 255] << 8) ^
                          w[255 & k] ^
                          g[q++]),
                          (l = h),
                          (h = i),
                          (i = j),
                          (j = k),
                          (k = l);
                    },
                  },
                ]),
                a
              );
            })();
          (c["default"] = h), (b.exports = c["default"]);
        },
        {},
      ],
      23: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          function e(a, b) {
            if (!(a instanceof b))
              throw new TypeError("Cannot call a class as a function");
          }
          function f(a, b) {
            if ("function" != typeof b && null !== b)
              throw new TypeError(
                "Super expression must either be null or a function, not " +
                  typeof b
              );
            (a.prototype = Object.create(b && b.prototype, {
              constructor: {
                value: a,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              b &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(a, b)
                  : (a.__proto__ = b));
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var g = (function () {
              function a(a, b) {
                for (var c = 0; c < b.length; c++) {
                  var d = b[c];
                  (d.enumerable = d.enumerable || !1),
                    (d.configurable = !0),
                    "value" in d && (d.writable = !0),
                    Object.defineProperty(a, d.key, d);
                }
              }
              return function (b, c, d) {
                return c && a(b.prototype, c), d && a(b, d), b;
              };
            })(),
            h = function (a, b, c) {
              for (var d = !0; d; ) {
                var e = a,
                  f = b,
                  g = c;
                (d = !1), null === e && (e = Function.prototype);
                var h = Object.getOwnPropertyDescriptor(e, f);
                if (void 0 !== h) {
                  if ("value" in h) return h.value;
                  var i = h.get;
                  if (void 0 === i) return;
                  return i.call(g);
                }
                var j = Object.getPrototypeOf(e);
                if (null === j) return;
                (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
              }
            },
            i = a("./stream"),
            j = d(i),
            k = (function (a) {
              function b() {
                e(this, b),
                  h(
                    Object.getPrototypeOf(b.prototype),
                    "constructor",
                    this
                  ).call(this, j["default"]),
                  (this.jobs = []),
                  (this.delay = 1),
                  (this.timeout_ = null);
              }
              return (
                f(b, a),
                g(b, [
                  {
                    key: "processJob_",
                    value: function () {
                      this.jobs.shift()(),
                        this.jobs.length
                          ? (this.timeout_ = setTimeout(
                              this.processJob_.bind(this),
                              this.delay
                            ))
                          : (this.timeout_ = null);
                    },
                  },
                  {
                    key: "push",
                    value: function (a) {
                      this.jobs.push(a),
                        this.timeout_ ||
                          (this.timeout_ = setTimeout(
                            this.processJob_.bind(this),
                            this.delay
                          ));
                    },
                  },
                ]),
                b
              );
            })(j["default"]);
          (c["default"] = k), (b.exports = c["default"]);
        },
        { "./stream": 26 },
      ],
      24: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          function e(a, b) {
            if (!(a instanceof b))
              throw new TypeError("Cannot call a class as a function");
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var f = (function () {
              function a(a, b) {
                for (var c = 0; c < b.length; c++) {
                  var d = b[c];
                  (d.enumerable = d.enumerable || !1),
                    (d.configurable = !0),
                    "value" in d && (d.writable = !0),
                    Object.defineProperty(a, d.key, d);
                }
              }
              return function (b, c, d) {
                return c && a(b.prototype, c), d && a(b, d), b;
              };
            })(),
            g = a("./aes"),
            h = d(g),
            i = a("./async-stream"),
            j = d(i),
            k = a("pkcs7"),
            l = function (a) {
              return (
                (a << 24) |
                ((65280 & a) << 8) |
                ((16711680 & a) >> 8) |
                (a >>> 24)
              );
            },
            m = function (a, b, c) {
              var d = new Int32Array(a.buffer, a.byteOffset, a.byteLength >> 2),
                e = new h["default"](Array.prototype.slice.call(b)),
                f = new Uint8Array(a.byteLength),
                g = new Int32Array(f.buffer),
                i = void 0,
                j = void 0,
                k = void 0,
                m = void 0,
                n = void 0,
                o = void 0,
                p = void 0,
                q = void 0,
                r = void 0;
              for (
                i = c[0], j = c[1], k = c[2], m = c[3], r = 0;
                r < d.length;
                r += 4
              )
                (n = l(d[r])),
                  (o = l(d[r + 1])),
                  (p = l(d[r + 2])),
                  (q = l(d[r + 3])),
                  e.decrypt(n, o, p, q, g, r),
                  (g[r] = l(g[r] ^ i)),
                  (g[r + 1] = l(g[r + 1] ^ j)),
                  (g[r + 2] = l(g[r + 2] ^ k)),
                  (g[r + 3] = l(g[r + 3] ^ m)),
                  (i = n),
                  (j = o),
                  (k = p),
                  (m = q);
              return f;
            };
          c.decrypt = m;
          var n = (function () {
            function a(b, c, d, f) {
              e(this, a);
              var g = a.STEP,
                h = new Int32Array(b.buffer),
                i = new Uint8Array(b.byteLength),
                m = 0;
              for (
                this.asyncStream_ = new j["default"](),
                  this.asyncStream_.push(
                    this.decryptChunk_(h.subarray(m, m + g), c, d, i)
                  ),
                  m = g;
                m < h.length;
                m += g
              )
                (d = new Uint32Array([
                  l(h[m - 4]),
                  l(h[m - 3]),
                  l(h[m - 2]),
                  l(h[m - 1]),
                ])),
                  this.asyncStream_.push(
                    this.decryptChunk_(h.subarray(m, m + g), c, d, i)
                  );
              this.asyncStream_.push(function () {
                f(null, (0, k.unpad)(i));
              });
            }
            return (
              f(
                a,
                [
                  {
                    key: "decryptChunk_",
                    value: function (a, b, c, d) {
                      return function () {
                        var e = m(a, b, c);
                        d.set(e, a.byteOffset);
                      };
                    },
                  },
                ],
                [
                  {
                    key: "STEP",
                    get: function () {
                      return 32e3;
                    },
                  },
                ]
              ),
              a
            );
          })();
          (c.Decrypter = n), (c["default"] = { Decrypter: n, decrypt: m });
        },
        { "./aes": 22, "./async-stream": 23, pkcs7: 28 },
      ],
      25: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var e = a("./decrypter"),
            f = a("./async-stream"),
            g = d(f);
          (c["default"] = {
            decrypt: e.decrypt,
            Decrypter: e.Decrypter,
            AsyncStream: g["default"],
          }),
            (b.exports = c["default"]);
        },
        { "./async-stream": 23, "./decrypter": 24 },
      ],
      26: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            if (!(a instanceof b))
              throw new TypeError("Cannot call a class as a function");
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var e = (function () {
              function a(a, b) {
                for (var c = 0; c < b.length; c++) {
                  var d = b[c];
                  (d.enumerable = d.enumerable || !1),
                    (d.configurable = !0),
                    "value" in d && (d.writable = !0),
                    Object.defineProperty(a, d.key, d);
                }
              }
              return function (b, c, d) {
                return c && a(b.prototype, c), d && a(b, d), b;
              };
            })(),
            f = (function () {
              function a() {
                d(this, a), (this.listeners = {});
              }
              return (
                e(a, [
                  {
                    key: "on",
                    value: function (a, b) {
                      this.listeners[a] || (this.listeners[a] = []),
                        this.listeners[a].push(b);
                    },
                  },
                  {
                    key: "off",
                    value: function (a, b) {
                      var c = void 0;
                      return (
                        !!this.listeners[a] &&
                        ((c = this.listeners[a].indexOf(b)),
                        this.listeners[a].splice(c, 1),
                        c > -1)
                      );
                    },
                  },
                  {
                    key: "trigger",
                    value: function (a) {
                      var b = void 0,
                        c = void 0,
                        d = void 0,
                        e = void 0;
                      if ((b = this.listeners[a]))
                        if (2 === arguments.length)
                          for (d = b.length, c = 0; c < d; ++c)
                            b[c].call(this, arguments[1]);
                        else
                          for (
                            e = Array.prototype.slice.call(arguments, 1),
                              d = b.length,
                              c = 0;
                            c < d;
                            ++c
                          )
                            b[c].apply(this, e);
                    },
                  },
                  {
                    key: "dispose",
                    value: function () {
                      this.listeners = {};
                    },
                  },
                  {
                    key: "pipe",
                    value: function (a) {
                      this.on("data", function (b) {
                        a.push(b);
                      });
                    },
                  },
                ]),
                a
              );
            })();
          (c["default"] = f), (b.exports = c["default"]);
        },
        {},
      ],
      27: [
        function (a, b, c) {
          "use strict";
          var d;
          (b.exports = function (a) {
            var b = d[a.byteLength % 16 || 0],
              c = new Uint8Array(a.byteLength + b.length);
            return c.set(a), c.set(b, a.byteLength), c;
          }),
            (d = [
              [16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16],
              [15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15],
              [14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14],
              [13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13],
              [12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12],
              [11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11],
              [10, 10, 10, 10, 10, 10, 10, 10, 10, 10],
              [9, 9, 9, 9, 9, 9, 9, 9, 9],
              [8, 8, 8, 8, 8, 8, 8, 8],
              [7, 7, 7, 7, 7, 7, 7],
              [6, 6, 6, 6, 6, 6],
              [5, 5, 5, 5, 5],
              [4, 4, 4, 4],
              [3, 3, 3],
              [2, 2],
              [1],
            ]);
        },
        {},
      ],
      28: [
        function (a, b, c) {
          "use strict";
          (c.pad = a("./pad.js")), (c.unpad = a("./unpad.js"));
        },
        { "./pad.js": 27, "./unpad.js": 29 },
      ],
      29: [
        function (a, b, c) {
          "use strict";
          b.exports = function (a) {
            return a.subarray(0, a.byteLength - a[a.byteLength - 1]);
          };
        },
        {},
      ],
      30: [function (a, b, c) {}, {}],
      31: [
        function (a, b, c) {
          (function (c) {
            var d,
              e =
                "undefined" != typeof c
                  ? c
                  : "undefined" != typeof window
                  ? window
                  : {},
              f = a("min-document");
            "undefined" != typeof document
              ? (d = document)
              : ((d = e["__GLOBAL_DOCUMENT_CACHE@4"]),
                d || (d = e["__GLOBAL_DOCUMENT_CACHE@4"] = f)),
              (b.exports = d);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        { "min-document": 30 },
      ],
      32: [
        function (a, b, c) {
          (function (a) {
            var c;
            (c =
              "undefined" != typeof window
                ? window
                : "undefined" != typeof a
                ? a
                : "undefined" != typeof self
                ? self
                : {}),
              (b.exports = c);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {},
      ],
      33: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          var e = a("./line-stream"),
            f = d(e),
            g = a("./parse-stream"),
            h = d(g),
            i = a("./parser"),
            j = d(i);
          b.exports = {
            LineStream: f["default"],
            ParseStream: h["default"],
            Parser: j["default"],
          };
        },
        { "./line-stream": 34, "./parse-stream": 35, "./parser": 36 },
      ],
      34: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          function e(a, b) {
            if (!(a instanceof b))
              throw new TypeError("Cannot call a class as a function");
          }
          function f(a, b) {
            if (!a)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return !b || ("object" != typeof b && "function" != typeof b)
              ? a
              : b;
          }
          function g(a, b) {
            if ("function" != typeof b && null !== b)
              throw new TypeError(
                "Super expression must either be null or a function, not " +
                  typeof b
              );
            (a.prototype = Object.create(b && b.prototype, {
              constructor: {
                value: a,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              b &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(a, b)
                  : (a.__proto__ = b));
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var h = (function () {
              function a(a, b) {
                for (var c = 0; c < b.length; c++) {
                  var d = b[c];
                  (d.enumerable = d.enumerable || !1),
                    (d.configurable = !0),
                    "value" in d && (d.writable = !0),
                    Object.defineProperty(a, d.key, d);
                }
              }
              return function (b, c, d) {
                return c && a(b.prototype, c), d && a(b, d), b;
              };
            })(),
            i = a("./stream"),
            j = d(i),
            k = (function (a) {
              function b() {
                e(this, b);
                var a = f(
                  this,
                  (b.__proto__ || Object.getPrototypeOf(b)).call(this)
                );
                return (a.buffer = ""), a;
              }
              return (
                g(b, a),
                h(b, [
                  {
                    key: "push",
                    value: function (a) {
                      var b = void 0;
                      for (
                        this.buffer += a, b = this.buffer.indexOf("\n");
                        b > -1;
                        b = this.buffer.indexOf("\n")
                      )
                        this.trigger("data", this.buffer.substring(0, b)),
                          (this.buffer = this.buffer.substring(b + 1));
                    },
                  },
                ]),
                b
              );
            })(j["default"]);
          c["default"] = k;
        },
        { "./stream": 37 },
      ],
      35: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          function e(a, b) {
            if (!(a instanceof b))
              throw new TypeError("Cannot call a class as a function");
          }
          function f(a, b) {
            if (!a)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return !b || ("object" != typeof b && "function" != typeof b)
              ? a
              : b;
          }
          function g(a, b) {
            if ("function" != typeof b && null !== b)
              throw new TypeError(
                "Super expression must either be null or a function, not " +
                  typeof b
              );
            (a.prototype = Object.create(b && b.prototype, {
              constructor: {
                value: a,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              b &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(a, b)
                  : (a.__proto__ = b));
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var h = (function () {
              function a(a, b) {
                var c = [],
                  d = !0,
                  e = !1,
                  f = void 0;
                try {
                  for (
                    var g, h = a[Symbol.iterator]();
                    !(d = (g = h.next()).done) &&
                    (c.push(g.value), !b || c.length !== b);
                    d = !0
                  );
                } catch (i) {
                  (e = !0), (f = i);
                } finally {
                  try {
                    !d && h["return"] && h["return"]();
                  } finally {
                    if (e) throw f;
                  }
                }
                return c;
              }
              return function (b, c) {
                if (Array.isArray(b)) return b;
                if (Symbol.iterator in Object(b)) return a(b, c);
                throw new TypeError(
                  "Invalid attempt to destructure non-iterable instance"
                );
              };
            })(),
            i = (function () {
              function a(a, b) {
                for (var c = 0; c < b.length; c++) {
                  var d = b[c];
                  (d.enumerable = d.enumerable || !1),
                    (d.configurable = !0),
                    "value" in d && (d.writable = !0),
                    Object.defineProperty(a, d.key, d);
                }
              }
              return function (b, c, d) {
                return c && a(b.prototype, c), d && a(b, d), b;
              };
            })(),
            j = a("./stream"),
            k = d(j),
            l = function () {
              var a = "[^=]*",
                b = '"[^"]*"|[^,]*',
                c = "(?:" + a + ")=(?:" + b + ")";
              return new RegExp("(?:^|,)(" + c + ")");
            },
            m = function (a) {
              for (
                var b = a.split(l()), c = {}, d = b.length, e = void 0;
                d--;

              )
                "" !== b[d] &&
                  ((e = /([^=]*)=(.*)/.exec(b[d]).slice(1)),
                  (e[0] = e[0].replace(/^\s+|\s+$/g, "")),
                  (e[1] = e[1].replace(/^\s+|\s+$/g, "")),
                  (e[1] = e[1].replace(/^['"](.*)['"]$/g, "$1")),
                  (c[e[0]] = e[1]));
              return c;
            },
            n = (function (a) {
              function b() {
                return (
                  e(this, b),
                  f(this, (b.__proto__ || Object.getPrototypeOf(b)).call(this))
                );
              }
              return (
                g(b, a),
                i(b, [
                  {
                    key: "push",
                    value: function (a) {
                      var b = void 0,
                        c = void 0;
                      if (
                        ((a = a.replace(/^[\u0000\s]+|[\u0000\s]+$/g, "")),
                        0 !== a.length)
                      ) {
                        if ("#" !== a[0])
                          return void this.trigger("data", {
                            type: "uri",
                            uri: a,
                          });
                        if (0 !== a.indexOf("#EXT"))
                          return void this.trigger("data", {
                            type: "comment",
                            text: a.slice(1),
                          });
                        if (
                          ((a = a.replace("\r", "")), (b = /^#EXTM3U/.exec(a)))
                        )
                          return void this.trigger("data", {
                            type: "tag",
                            tagType: "m3u",
                          });
                        if ((b = /^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(a)))
                          return (
                            (c = { type: "tag", tagType: "inf" }),
                            b[1] && (c.duration = parseFloat(b[1])),
                            b[2] && (c.title = b[2]),
                            void this.trigger("data", c)
                          );
                        if ((b = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(a)))
                          return (
                            (c = { type: "tag", tagType: "targetduration" }),
                            b[1] && (c.duration = parseInt(b[1], 10)),
                            void this.trigger("data", c)
                          );
                        if ((b = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(a)))
                          return (
                            (c = { type: "tag", tagType: "totalduration" }),
                            b[1] && (c.duration = parseInt(b[1], 10)),
                            void this.trigger("data", c)
                          );
                        if ((b = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(a)))
                          return (
                            (c = { type: "tag", tagType: "version" }),
                            b[1] && (c.version = parseInt(b[1], 10)),
                            void this.trigger("data", c)
                          );
                        if (
                          (b = /^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))
                        )
                          return (
                            (c = { type: "tag", tagType: "media-sequence" }),
                            b[1] && (c.number = parseInt(b[1], 10)),
                            void this.trigger("data", c)
                          );
                        if (
                          (b =
                            /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(
                              a
                            ))
                        )
                          return (
                            (c = {
                              type: "tag",
                              tagType: "discontinuity-sequence",
                            }),
                            b[1] && (c.number = parseInt(b[1], 10)),
                            void this.trigger("data", c)
                          );
                        if ((b = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(a)))
                          return (
                            (c = { type: "tag", tagType: "playlist-type" }),
                            b[1] && (c.playlistType = b[1]),
                            void this.trigger("data", c)
                          );
                        if (
                          (b = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(
                            a
                          ))
                        )
                          return (
                            (c = { type: "tag", tagType: "byterange" }),
                            b[1] && (c.length = parseInt(b[1], 10)),
                            b[2] && (c.offset = parseInt(b[2], 10)),
                            void this.trigger("data", c)
                          );
                        if ((b = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(a)))
                          return (
                            (c = { type: "tag", tagType: "allow-cache" }),
                            b[1] && (c.allowed = !/NO/.test(b[1])),
                            void this.trigger("data", c)
                          );
                        if ((b = /^#EXT-X-MAP:?(.*)$/.exec(a))) {
                          if (((c = { type: "tag", tagType: "map" }), b[1])) {
                            var d = m(b[1]);
                            if ((d.URI && (c.uri = d.URI), d.BYTERANGE)) {
                              var e = d.BYTERANGE.split("@"),
                                f = h(e, 2),
                                g = f[0],
                                i = f[1];
                              (c.byterange = {}),
                                g && (c.byterange.length = parseInt(g, 10)),
                                i && (c.byterange.offset = parseInt(i, 10));
                            }
                          }
                          return void this.trigger("data", c);
                        }
                        if ((b = /^#EXT-X-STREAM-INF:?(.*)$/.exec(a))) {
                          if (
                            ((c = { type: "tag", tagType: "stream-inf" }), b[1])
                          ) {
                            if (
                              ((c.attributes = m(b[1])),
                              c.attributes.RESOLUTION)
                            ) {
                              var j = c.attributes.RESOLUTION.split("x"),
                                k = {};
                              j[0] && (k.width = parseInt(j[0], 10)),
                                j[1] && (k.height = parseInt(j[1], 10)),
                                (c.attributes.RESOLUTION = k);
                            }
                            c.attributes.BANDWIDTH &&
                              (c.attributes.BANDWIDTH = parseInt(
                                c.attributes.BANDWIDTH,
                                10
                              )),
                              c.attributes["PROGRAM-ID"] &&
                                (c.attributes["PROGRAM-ID"] = parseInt(
                                  c.attributes["PROGRAM-ID"],
                                  10
                                ));
                          }
                          return void this.trigger("data", c);
                        }
                        return (b = /^#EXT-X-MEDIA:?(.*)$/.exec(a))
                          ? ((c = { type: "tag", tagType: "media" }),
                            b[1] && (c.attributes = m(b[1])),
                            void this.trigger("data", c))
                          : (b = /^#EXT-X-ENDLIST/.exec(a))
                          ? void this.trigger("data", {
                              type: "tag",
                              tagType: "endlist",
                            })
                          : (b = /^#EXT-X-DISCONTINUITY/.exec(a))
                          ? void this.trigger("data", {
                              type: "tag",
                              tagType: "discontinuity",
                            })
                          : (b = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(a))
                          ? ((c = {
                              type: "tag",
                              tagType: "program-date-time",
                            }),
                            b[1] &&
                              ((c.dateTimeString = b[1]),
                              (c.dateTimeObject = new Date(b[1]))),
                            void this.trigger("data", c))
                          : (b = /^#EXT-X-KEY:?(.*)$/.exec(a))
                          ? ((c = { type: "tag", tagType: "key" }),
                            b[1] &&
                              ((c.attributes = m(b[1])),
                              c.attributes.IV &&
                                ("0x" ===
                                  c.attributes.IV.substring(
                                    0,
                                    2
                                  ).toLowerCase() &&
                                  (c.attributes.IV =
                                    c.attributes.IV.substring(2)),
                                (c.attributes.IV =
                                  c.attributes.IV.match(/.{8}/g)),
                                (c.attributes.IV[0] = parseInt(
                                  c.attributes.IV[0],
                                  16
                                )),
                                (c.attributes.IV[1] = parseInt(
                                  c.attributes.IV[1],
                                  16
                                )),
                                (c.attributes.IV[2] = parseInt(
                                  c.attributes.IV[2],
                                  16
                                )),
                                (c.attributes.IV[3] = parseInt(
                                  c.attributes.IV[3],
                                  16
                                )),
                                (c.attributes.IV = new Uint32Array(
                                  c.attributes.IV
                                )))),
                            void this.trigger("data", c))
                          : (b = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(a))
                          ? ((c = { type: "tag", tagType: "cue-out-cont" }),
                            b[1] ? (c.data = b[1]) : (c.data = ""),
                            void this.trigger("data", c))
                          : (b = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(a))
                          ? ((c = { type: "tag", tagType: "cue-out" }),
                            b[1] ? (c.data = b[1]) : (c.data = ""),
                            void this.trigger("data", c))
                          : (b = /^#EXT-X-CUE-IN:?(.*)?$/.exec(a))
                          ? ((c = { type: "tag", tagType: "cue-in" }),
                            b[1] ? (c.data = b[1]) : (c.data = ""),
                            void this.trigger("data", c))
                          : void this.trigger("data", {
                              type: "tag",
                              data: a.slice(4),
                            });
                      }
                    },
                  },
                ]),
                b
              );
            })(k["default"]);
          c["default"] = n;
        },
        { "./stream": 37 },
      ],
      36: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          function e(a, b) {
            if (!(a instanceof b))
              throw new TypeError("Cannot call a class as a function");
          }
          function f(a, b) {
            if (!a)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return !b || ("object" != typeof b && "function" != typeof b)
              ? a
              : b;
          }
          function g(a, b) {
            if ("function" != typeof b && null !== b)
              throw new TypeError(
                "Super expression must either be null or a function, not " +
                  typeof b
              );
            (a.prototype = Object.create(b && b.prototype, {
              constructor: {
                value: a,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              b &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(a, b)
                  : (a.__proto__ = b));
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var h =
              Object.assign ||
              function (a) {
                for (var b = 1; b < arguments.length; b++) {
                  var c = arguments[b];
                  for (var d in c)
                    Object.prototype.hasOwnProperty.call(c, d) && (a[d] = c[d]);
                }
                return a;
              },
            i = (function () {
              function a(a, b) {
                for (var c = 0; c < b.length; c++) {
                  var d = b[c];
                  (d.enumerable = d.enumerable || !1),
                    (d.configurable = !0),
                    "value" in d && (d.writable = !0),
                    Object.defineProperty(a, d.key, d);
                }
              }
              return function (b, c, d) {
                return c && a(b.prototype, c), d && a(b, d), b;
              };
            })(),
            j = a("./stream"),
            k = d(j),
            l = a("./line-stream"),
            m = d(l),
            n = a("./parse-stream"),
            o = d(n),
            p = (function (a) {
              function b() {
                e(this, b);
                var a = f(
                  this,
                  (b.__proto__ || Object.getPrototypeOf(b)).call(this)
                );
                (a.lineStream = new m["default"]()),
                  (a.parseStream = new o["default"]()),
                  a.lineStream.pipe(a.parseStream);
                var c = a,
                  d = [],
                  g = {},
                  i = void 0,
                  j = void 0,
                  k = function () {},
                  l = {
                    AUDIO: {},
                    VIDEO: {},
                    "CLOSED-CAPTIONS": {},
                    SUBTITLES: {},
                  },
                  n = 0;
                return (
                  (a.manifest = {
                    allowCache: !0,
                    discontinuityStarts: [],
                    segments: [],
                  }),
                  a.parseStream.on("data", function (a) {
                    var b = void 0,
                      e = void 0;
                    ({
                      tag: function () {
                        (
                          ({
                            "allow-cache": function () {
                              (this.manifest.allowCache = a.allowed),
                                "allowed" in a ||
                                  (this.trigger("info", {
                                    message: "defaulting allowCache to YES",
                                  }),
                                  (this.manifest.allowCache = !0));
                            },
                            byterange: function f() {
                              var f = {};
                              "length" in a &&
                                ((g.byterange = f),
                                (f.length = a.length),
                                "offset" in a ||
                                  (this.trigger("info", {
                                    message: "defaulting offset to zero",
                                  }),
                                  (a.offset = 0))),
                                "offset" in a &&
                                  ((g.byterange = f), (f.offset = a.offset));
                            },
                            endlist: function () {
                              this.manifest.endList = !0;
                            },
                            inf: function () {
                              "mediaSequence" in this.manifest ||
                                ((this.manifest.mediaSequence = 0),
                                this.trigger("info", {
                                  message: "defaulting media sequence to zero",
                                })),
                                "discontinuitySequence" in this.manifest ||
                                  ((this.manifest.discontinuitySequence = 0),
                                  this.trigger("info", {
                                    message:
                                      "defaulting discontinuity sequence to zero",
                                  })),
                                a.duration > 0 && (g.duration = a.duration),
                                0 === a.duration &&
                                  ((g.duration = 0.01),
                                  this.trigger("info", {
                                    message:
                                      "updating zero segment duration to a small value",
                                  })),
                                (this.manifest.segments = d);
                            },
                            key: function () {
                              return a.attributes
                                ? "NONE" === a.attributes.METHOD
                                  ? void (j = null)
                                  : a.attributes.URI
                                  ? (a.attributes.METHOD ||
                                      this.trigger("warn", {
                                        message:
                                          "defaulting key method to AES-128",
                                      }),
                                    (j = {
                                      method: a.attributes.METHOD || "AES-128",
                                      uri: a.attributes.URI,
                                    }),
                                    void (
                                      "undefined" != typeof a.attributes.IV &&
                                      (j.iv = a.attributes.IV)
                                    ))
                                  : void this.trigger("warn", {
                                      message:
                                        "ignoring key declaration without URI",
                                    })
                                : void this.trigger("warn", {
                                    message:
                                      "ignoring key declaration without attribute list",
                                  });
                            },
                            "media-sequence": function () {
                              return isFinite(a.number)
                                ? void (this.manifest.mediaSequence = a.number)
                                : void this.trigger("warn", {
                                    message:
                                      "ignoring invalid media sequence: " +
                                      a.number,
                                  });
                            },
                            "discontinuity-sequence": function () {
                              return isFinite(a.number)
                                ? ((this.manifest.discontinuitySequence =
                                    a.number),
                                  void (n = a.number))
                                : void this.trigger("warn", {
                                    message:
                                      "ignoring invalid discontinuity sequence: " +
                                      a.number,
                                  });
                            },
                            "playlist-type": function () {
                              return /VOD|EVENT/.test(a.playlistType)
                                ? void (this.manifest.playlistType =
                                    a.playlistType)
                                : void this.trigger("warn", {
                                    message:
                                      "ignoring unknown playlist type: " +
                                      a.playlist,
                                  });
                            },
                            map: function () {
                              (i = {}),
                                a.uri && (i.uri = a.uri),
                                a.byterange && (i.byterange = a.byterange);
                            },
                            "stream-inf": function () {
                              return (
                                (this.manifest.playlists = d),
                                (this.manifest.mediaGroups =
                                  this.manifest.mediaGroups || l),
                                a.attributes
                                  ? (g.attributes || (g.attributes = {}),
                                    void h(g.attributes, a.attributes))
                                  : void this.trigger("warn", {
                                      message:
                                        "ignoring empty stream-inf attributes",
                                    })
                              );
                            },
                            media: function () {
                              if (
                                ((this.manifest.mediaGroups =
                                  this.manifest.mediaGroups || l),
                                !(
                                  a.attributes &&
                                  a.attributes.TYPE &&
                                  a.attributes["GROUP-ID"] &&
                                  a.attributes.NAME
                                ))
                              )
                                return void this.trigger("warn", {
                                  message:
                                    "ignoring incomplete or missing media group",
                                });
                              var c =
                                this.manifest.mediaGroups[a.attributes.TYPE];
                              (c[a.attributes["GROUP-ID"]] =
                                c[a.attributes["GROUP-ID"]] || {}),
                                (b = c[a.attributes["GROUP-ID"]]),
                                (e = {
                                  default: /yes/i.test(a.attributes.DEFAULT),
                                }),
                                e["default"]
                                  ? (e.autoselect = !0)
                                  : (e.autoselect = /yes/i.test(
                                      a.attributes.AUTOSELECT
                                    )),
                                a.attributes.LANGUAGE &&
                                  (e.language = a.attributes.LANGUAGE),
                                a.attributes.URI && (e.uri = a.attributes.URI),
                                a.attributes["INSTREAM-ID"] &&
                                  (e.instreamId = a.attributes["INSTREAM-ID"]),
                                a.attributes.CHARACTERISTICS &&
                                  (e.characteristics =
                                    a.attributes.CHARACTERISTICS),
                                a.attributes.FORCED &&
                                  (e.forced = /yes/i.test(a.attributes.FORCED)),
                                (b[a.attributes.NAME] = e);
                            },
                            discontinuity: function () {
                              (n += 1),
                                (g.discontinuity = !0),
                                this.manifest.discontinuityStarts.push(
                                  d.length
                                );
                            },
                            "program-date-time": function () {
                              (this.manifest.dateTimeString = a.dateTimeString),
                                (this.manifest.dateTimeObject =
                                  a.dateTimeObject);
                            },
                            targetduration: function () {
                              return !isFinite(a.duration) || a.duration < 0
                                ? void this.trigger("warn", {
                                    message:
                                      "ignoring invalid target duration: " +
                                      a.duration,
                                  })
                                : void (this.manifest.targetDuration =
                                    a.duration);
                            },
                            totalduration: function () {
                              return !isFinite(a.duration) || a.duration < 0
                                ? void this.trigger("warn", {
                                    message:
                                      "ignoring invalid total duration: " +
                                      a.duration,
                                  })
                                : void (this.manifest.totalDuration =
                                    a.duration);
                            },
                            "cue-out": function () {
                              g.cueOut = a.data;
                            },
                            "cue-out-cont": function () {
                              g.cueOutCont = a.data;
                            },
                            "cue-in": function () {
                              g.cueIn = a.data;
                            },
                          })[a.tagType] || k
                        ).call(c);
                      },
                      uri: function () {
                        (g.uri = a.uri),
                          d.push(g),
                          !this.manifest.targetDuration ||
                            "duration" in g ||
                            (this.trigger("warn", {
                              message:
                                "defaulting segment duration to the target duration",
                            }),
                            (g.duration = this.manifest.targetDuration)),
                          j && (g.key = j),
                          (g.timeline = n),
                          i && (g.map = i),
                          (g = {});
                      },
                      comment: function () {},
                    })[a.type].call(c);
                  }),
                  a
                );
              }
              return (
                g(b, a),
                i(b, [
                  {
                    key: "push",
                    value: function (a) {
                      this.lineStream.push(a);
                    },
                  },
                  {
                    key: "end",
                    value: function () {
                      this.lineStream.push("\n");
                    },
                  },
                ]),
                b
              );
            })(k["default"]);
          c["default"] = p;
        },
        { "./line-stream": 34, "./parse-stream": 35, "./stream": 37 },
      ],
      37: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            if (!(a instanceof b))
              throw new TypeError("Cannot call a class as a function");
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var e = (function () {
              function a(a, b) {
                for (var c = 0; c < b.length; c++) {
                  var d = b[c];
                  (d.enumerable = d.enumerable || !1),
                    (d.configurable = !0),
                    "value" in d && (d.writable = !0),
                    Object.defineProperty(a, d.key, d);
                }
              }
              return function (b, c, d) {
                return c && a(b.prototype, c), d && a(b, d), b;
              };
            })(),
            f = (function () {
              function a() {
                d(this, a), (this.listeners = {});
              }
              return (
                e(a, [
                  {
                    key: "on",
                    value: function (a, b) {
                      this.listeners[a] || (this.listeners[a] = []),
                        this.listeners[a].push(b);
                    },
                  },
                  {
                    key: "off",
                    value: function (a, b) {
                      if (!this.listeners[a]) return !1;
                      var c = this.listeners[a].indexOf(b);
                      return this.listeners[a].splice(c, 1), c > -1;
                    },
                  },
                  {
                    key: "trigger",
                    value: function (a) {
                      var b = this.listeners[a],
                        c = void 0,
                        d = void 0,
                        e = void 0;
                      if (b)
                        if (2 === arguments.length)
                          for (d = b.length, c = 0; c < d; ++c)
                            b[c].call(this, arguments[1]);
                        else
                          for (
                            e = Array.prototype.slice.call(arguments, 1),
                              d = b.length,
                              c = 0;
                            c < d;
                            ++c
                          )
                            b[c].apply(this, e);
                    },
                  },
                  {
                    key: "dispose",
                    value: function () {
                      this.listeners = {};
                    },
                  },
                  {
                    key: "pipe",
                    value: function (a) {
                      this.on("data", function (b) {
                        a.push(b);
                      });
                    },
                  },
                ]),
                a
              );
            })();
          c["default"] = f;
        },
        {},
      ],
      38: [
        function (a, b, c) {
          "use strict";
          var d,
            e = a("../utils/stream.js");
          (d = function () {
            var a = new Uint8Array(),
              b = 0;
            d.prototype.init.call(this),
              (this.setTimestamp = function (a) {
                b = a;
              }),
              (this.parseId3TagSize = function (a, b) {
                var c =
                    (a[b + 6] << 21) |
                    (a[b + 7] << 14) |
                    (a[b + 8] << 7) |
                    a[b + 9],
                  d = a[b + 5],
                  e = (16 & d) >> 4;
                return e ? c + 20 : c + 10;
              }),
              (this.parseAdtsSize = function (a, b) {
                var c = (224 & a[b + 5]) >> 5,
                  d = a[b + 4] << 3,
                  e = 6144 & a[b + 3];
                return e | d | c;
              }),
              (this.push = function (c) {
                var d,
                  e,
                  f,
                  g,
                  h = 0,
                  i = 0;
                for (
                  a.length
                    ? ((g = a.length),
                      (a = new Uint8Array(c.byteLength + g)),
                      a.set(a.subarray(0, g)),
                      a.set(c, g))
                    : (a = c);
                  a.length - i >= 3;

                )
                  if (
                    a[i] !== "I".charCodeAt(0) ||
                    a[i + 1] !== "D".charCodeAt(0) ||
                    a[i + 2] !== "3".charCodeAt(0)
                  )
                    if (a[i] & !0 && 240 === (240 & a[i + 1])) {
                      if (a.length - i < 7) break;
                      if (((h = this.parseAdtsSize(a, i)), h > a.length)) break;
                      (f = {
                        type: "audio",
                        data: a.subarray(i, i + h),
                        pts: b,
                        dts: b,
                      }),
                        this.trigger("data", f),
                        (i += h);
                    } else i++;
                  else {
                    if (a.length - i < 10) break;
                    if (((h = this.parseId3TagSize(a, i)), h > a.length)) break;
                    (e = {
                      type: "timed-metadata",
                      data: a.subarray(i, i + h),
                    }),
                      this.trigger("data", e),
                      (i += h);
                  }
                (d = a.length - i),
                  (a = d > 0 ? a.subarray(i) : new Uint8Array());
              });
          }),
            (d.prototype = new e()),
            (b.exports = d);
        },
        { "../utils/stream.js": 62 },
      ],
      39: [
        function (a, b, c) {
          "use strict";
          var d = [
              96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3,
              11025, 8e3, 7350,
            ],
            e = function (a) {
              return (a[0] << 21) | (a[1] << 14) | (a[2] << 7) | a[3];
            },
            f = function (a, b, c) {
              var d,
                e = "";
              for (d = b; d < c; d++)
                e += "%" + ("00" + a[d].toString(16)).slice(-2);
              return e;
            },
            g = function (a, b, c) {
              return unescape(f(a, b, c));
            },
            h = function (a, b) {
              var c =
                  (a[b + 6] << 21) |
                  (a[b + 7] << 14) |
                  (a[b + 8] << 7) |
                  a[b + 9],
                d = a[b + 5],
                e = (16 & d) >> 4;
              return e ? c + 20 : c + 10;
            },
            i = function (a, b) {
              var c = (224 & a[b + 5]) >> 5,
                d = a[b + 4] << 3,
                e = 6144 & a[b + 3];
              return e | d | c;
            },
            j = function (a, b) {
              return a[b] === "I".charCodeAt(0) &&
                a[b + 1] === "D".charCodeAt(0) &&
                a[b + 2] === "3".charCodeAt(0)
                ? "timed-metadata"
                : a[b] & !0 && 240 === (240 & a[b + 1])
                ? "audio"
                : null;
            },
            k = function (a) {
              for (var b = 0; b + 5 < a.length; ) {
                if (255 === a[b] && 240 === (246 & a[b + 1]))
                  return d[(60 & a[b + 2]) >>> 2];
                b++;
              }
              return null;
            },
            l = function (a) {
              var b, c, d, f;
              (b = 10), 64 & a[5] && ((b += 4), (b += e(a.subarray(10, 14))));
              do {
                if (((c = e(a.subarray(b + 4, b + 8))), c < 1)) return null;
                if (
                  ((f = String.fromCharCode(
                    a[b],
                    a[b + 1],
                    a[b + 2],
                    a[b + 3]
                  )),
                  "PRIV" === f)
                ) {
                  d = a.subarray(b + 10, b + c + 10);
                  for (var h = 0; h < d.byteLength; h++)
                    if (0 === d[h]) {
                      var i = g(d, 0, h);
                      if (
                        "com.apple.streaming.transportStreamTimestamp" === i
                      ) {
                        var j = d.subarray(h + 1),
                          k =
                            ((1 & j[3]) << 30) |
                            (j[4] << 22) |
                            (j[5] << 14) |
                            (j[6] << 6) |
                            (j[7] >>> 2);
                        return (k *= 4), (k += 3 & j[7]);
                      }
                      break;
                    }
                }
                (b += 10), (b += c);
              } while (b < a.byteLength);
              return null;
            };
          b.exports = {
            parseId3TagSize: h,
            parseAdtsSize: i,
            parseType: j,
            parseSampleRate: k,
            parseAacTimestamp: l,
          };
        },
        {},
      ],
      40: [
        function (a, b, c) {
          "use strict";
          var d,
            e = a("../utils/stream.js"),
            f = [
              96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3,
              11025, 8e3, 7350,
            ];
          (d = function () {
            var a;
            d.prototype.init.call(this),
              (this.push = function (b) {
                var c,
                  d,
                  e,
                  g,
                  h,
                  i,
                  j = 0,
                  k = 0;
                if ("audio" === b.type)
                  for (
                    a
                      ? ((g = a),
                        (a = new Uint8Array(g.byteLength + b.data.byteLength)),
                        a.set(g),
                        a.set(b.data, g.byteLength))
                      : (a = b.data);
                    j + 5 < a.length;

                  )
                    if (255 === a[j] && 240 === (246 & a[j + 1])) {
                      if (
                        ((d = 2 * (1 & ~a[j + 1])),
                        (c =
                          ((3 & a[j + 3]) << 11) |
                          (a[j + 4] << 3) |
                          ((224 & a[j + 5]) >> 5)),
                        (h = 1024 * ((3 & a[j + 6]) + 1)),
                        (i = (9e4 * h) / f[(60 & a[j + 2]) >>> 2]),
                        (e = j + c),
                        a.byteLength < e)
                      )
                        return;
                      if (
                        (this.trigger("data", {
                          pts: b.pts + k * i,
                          dts: b.dts + k * i,
                          sampleCount: h,
                          audioobjecttype: ((a[j + 2] >>> 6) & 3) + 1,
                          channelcount:
                            ((1 & a[j + 2]) << 2) | ((192 & a[j + 3]) >>> 6),
                          samplerate: f[(60 & a[j + 2]) >>> 2],
                          samplingfrequencyindex: (60 & a[j + 2]) >>> 2,
                          samplesize: 16,
                          data: a.subarray(j + 7 + d, e),
                        }),
                        a.byteLength === e)
                      )
                        return void (a = void 0);
                      k++, (a = a.subarray(e));
                    } else j++;
              }),
              (this.flush = function () {
                this.trigger("done");
              });
          }),
            (d.prototype = new e()),
            (b.exports = d);
        },
        { "../utils/stream.js": 62 },
      ],
      41: [
        function (a, b, c) {
          "use strict";
          var d,
            e,
            f,
            g = a("../utils/stream.js"),
            h = a("../utils/exp-golomb.js");
          (e = function () {
            var a,
              b,
              c = 0;
            e.prototype.init.call(this),
              (this.push = function (d) {
                var e;
                for (
                  b
                    ? ((e = new Uint8Array(b.byteLength + d.data.byteLength)),
                      e.set(b),
                      e.set(d.data, b.byteLength),
                      (b = e))
                    : (b = d.data);
                  c < b.byteLength - 3;
                  c++
                )
                  if (1 === b[c + 2]) {
                    a = c + 5;
                    break;
                  }
                for (; a < b.byteLength; )
                  switch (b[a]) {
                    case 0:
                      if (0 !== b[a - 1]) {
                        a += 2;
                        break;
                      }
                      if (0 !== b[a - 2]) {
                        a++;
                        break;
                      }
                      c + 3 !== a - 2 &&
                        this.trigger("data", b.subarray(c + 3, a - 2));
                      do a++;
                      while (1 !== b[a] && a < b.length);
                      (c = a - 2), (a += 3);
                      break;
                    case 1:
                      if (0 !== b[a - 1] || 0 !== b[a - 2]) {
                        a += 3;
                        break;
                      }
                      this.trigger("data", b.subarray(c + 3, a - 2)),
                        (c = a - 2),
                        (a += 3);
                      break;
                    default:
                      a += 3;
                  }
                (b = b.subarray(c)), (a -= c), (c = 0);
              }),
              (this.flush = function () {
                b &&
                  b.byteLength > 3 &&
                  this.trigger("data", b.subarray(c + 3)),
                  (b = null),
                  (c = 0),
                  this.trigger("done");
              });
          }),
            (e.prototype = new g()),
            (f = {
              100: !0,
              110: !0,
              122: !0,
              244: !0,
              44: !0,
              83: !0,
              86: !0,
              118: !0,
              128: !0,
              138: !0,
              139: !0,
              134: !0,
            }),
            (d = function () {
              var a,
                b,
                c,
                g,
                i,
                j,
                k,
                l = new e();
              d.prototype.init.call(this),
                (a = this),
                (this.push = function (a) {
                  "video" === a.type &&
                    ((b = a.trackId), (c = a.pts), (g = a.dts), l.push(a));
                }),
                l.on("data", function (d) {
                  var e = { trackId: b, pts: c, dts: g, data: d };
                  switch (31 & d[0]) {
                    case 5:
                      e.nalUnitType =
                        "slice_layer_without_partitioning_rbsp_idr";
                      break;
                    case 6:
                      (e.nalUnitType = "sei_rbsp"),
                        (e.escapedRBSP = i(d.subarray(1)));
                      break;
                    case 7:
                      (e.nalUnitType = "seq_parameter_set_rbsp"),
                        (e.escapedRBSP = i(d.subarray(1))),
                        (e.config = j(e.escapedRBSP));
                      break;
                    case 8:
                      e.nalUnitType = "pic_parameter_set_rbsp";
                      break;
                    case 9:
                      e.nalUnitType = "access_unit_delimiter_rbsp";
                  }
                  a.trigger("data", e);
                }),
                l.on("done", function () {
                  a.trigger("done");
                }),
                (this.flush = function () {
                  l.flush();
                }),
                (k = function (a, b) {
                  var c,
                    d,
                    e = 8,
                    f = 8;
                  for (c = 0; c < a; c++)
                    0 !== f &&
                      ((d = b.readExpGolomb()), (f = (e + d + 256) % 256)),
                      (e = 0 === f ? e : f);
                }),
                (i = function (a) {
                  for (var b, c, d = a.byteLength, e = [], f = 1; f < d - 2; )
                    0 === a[f] && 0 === a[f + 1] && 3 === a[f + 2]
                      ? (e.push(f + 2), (f += 2))
                      : f++;
                  if (0 === e.length) return a;
                  (b = d - e.length), (c = new Uint8Array(b));
                  var g = 0;
                  for (f = 0; f < b; g++, f++)
                    g === e[0] && (g++, e.shift()), (c[f] = a[g]);
                  return c;
                }),
                (j = function (a) {
                  var b,
                    c,
                    d,
                    e,
                    g,
                    i,
                    j,
                    l,
                    m,
                    n,
                    o,
                    p,
                    q,
                    r,
                    s = 0,
                    t = 0,
                    u = 0,
                    v = 0,
                    w = 1;
                  if (
                    ((b = new h(a)),
                    (c = b.readUnsignedByte()),
                    (e = b.readUnsignedByte()),
                    (d = b.readUnsignedByte()),
                    b.skipUnsignedExpGolomb(),
                    f[c] &&
                      ((g = b.readUnsignedExpGolomb()),
                      3 === g && b.skipBits(1),
                      b.skipUnsignedExpGolomb(),
                      b.skipUnsignedExpGolomb(),
                      b.skipBits(1),
                      b.readBoolean()))
                  )
                    for (o = 3 !== g ? 8 : 12, r = 0; r < o; r++)
                      b.readBoolean() && (r < 6 ? k(16, b) : k(64, b));
                  if (
                    (b.skipUnsignedExpGolomb(),
                    (i = b.readUnsignedExpGolomb()),
                    0 === i)
                  )
                    b.readUnsignedExpGolomb();
                  else if (1 === i)
                    for (
                      b.skipBits(1),
                        b.skipExpGolomb(),
                        b.skipExpGolomb(),
                        j = b.readUnsignedExpGolomb(),
                        r = 0;
                      r < j;
                      r++
                    )
                      b.skipExpGolomb();
                  if (
                    (b.skipUnsignedExpGolomb(),
                    b.skipBits(1),
                    (l = b.readUnsignedExpGolomb()),
                    (m = b.readUnsignedExpGolomb()),
                    (n = b.readBits(1)),
                    0 === n && b.skipBits(1),
                    b.skipBits(1),
                    b.readBoolean() &&
                      ((s = b.readUnsignedExpGolomb()),
                      (t = b.readUnsignedExpGolomb()),
                      (u = b.readUnsignedExpGolomb()),
                      (v = b.readUnsignedExpGolomb())),
                    b.readBoolean() && b.readBoolean())
                  ) {
                    switch ((q = b.readUnsignedByte())) {
                      case 1:
                        p = [1, 1];
                        break;
                      case 2:
                        p = [12, 11];
                        break;
                      case 3:
                        p = [10, 11];
                        break;
                      case 4:
                        p = [16, 11];
                        break;
                      case 5:
                        p = [40, 33];
                        break;
                      case 6:
                        p = [24, 11];
                        break;
                      case 7:
                        p = [20, 11];
                        break;
                      case 8:
                        p = [32, 11];
                        break;
                      case 9:
                        p = [80, 33];
                        break;
                      case 10:
                        p = [18, 11];
                        break;
                      case 11:
                        p = [15, 11];
                        break;
                      case 12:
                        p = [64, 33];
                        break;
                      case 13:
                        p = [160, 99];
                        break;
                      case 14:
                        p = [4, 3];
                        break;
                      case 15:
                        p = [3, 2];
                        break;
                      case 16:
                        p = [2, 1];
                        break;
                      case 255:
                        p = [
                          (b.readUnsignedByte() << 8) | b.readUnsignedByte(),
                          (b.readUnsignedByte() << 8) | b.readUnsignedByte(),
                        ];
                    }
                    p && (w = p[0] / p[1]);
                  }
                  return {
                    profileIdc: c,
                    levelIdc: d,
                    profileCompatibility: e,
                    width: Math.ceil((16 * (l + 1) - 2 * s - 2 * t) * w),
                    height: (2 - n) * (m + 1) * 16 - 2 * u - 2 * v,
                  };
                });
            }),
            (d.prototype = new g()),
            (b.exports = { H264Stream: d, NalByteStream: e });
        },
        { "../utils/exp-golomb.js": 61, "../utils/stream.js": 62 },
      ],
      42: [
        function (a, b, c) {
          var d = [33, 16, 5, 32, 164, 27],
            e = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
            f = function (a) {
              for (var b = []; a--; ) b.push(0);
              return b;
            },
            g = function (a) {
              return Object.keys(a).reduce(function (b, c) {
                return (
                  (b[c] = new Uint8Array(
                    a[c].reduce(function (a, b) {
                      return a.concat(b);
                    }, [])
                  )),
                  b
                );
              }, {});
            },
            h = {
              96e3: [d, [227, 64], f(154), [56]],
              88200: [d, [231], f(170), [56]],
              64e3: [d, [248, 192], f(240), [56]],
              48e3: [d, [255, 192], f(268), [55, 148, 128], f(54), [112]],
              44100: [d, [255, 192], f(268), [55, 163, 128], f(84), [112]],
              32e3: [d, [255, 192], f(268), [55, 234], f(226), [112]],
              24e3: [
                d,
                [255, 192],
                f(268),
                [55, 255, 128],
                f(268),
                [111, 112],
                f(126),
                [224],
              ],
              16e3: [
                d,
                [255, 192],
                f(268),
                [55, 255, 128],
                f(268),
                [111, 255],
                f(269),
                [223, 108],
                f(195),
                [1, 192],
              ],
              12e3: [
                e,
                f(268),
                [3, 127, 248],
                f(268),
                [6, 255, 240],
                f(268),
                [13, 255, 224],
                f(268),
                [27, 253, 128],
                f(259),
                [56],
              ],
              11025: [
                e,
                f(268),
                [3, 127, 248],
                f(268),
                [6, 255, 240],
                f(268),
                [13, 255, 224],
                f(268),
                [27, 255, 192],
                f(268),
                [55, 175, 128],
                f(108),
                [112],
              ],
              8e3: [e, f(268), [3, 121, 16], f(47), [7]],
            };
          b.exports = g(h);
        },
        {},
      ],
      43: [
        function (a, b, c) {
          "use strict";
          var d = a("../utils/stream.js"),
            e = function (a) {
              (this.numberOfTracks = 0),
                (this.metadataStream = a.metadataStream),
                (this.videoTags = []),
                (this.audioTags = []),
                (this.videoTrack = null),
                (this.audioTrack = null),
                (this.pendingCaptions = []),
                (this.pendingMetadata = []),
                (this.pendingTracks = 0),
                (this.processedTracks = 0),
                e.prototype.init.call(this),
                (this.push = function (a) {
                  return a.text
                    ? this.pendingCaptions.push(a)
                    : a.frames
                    ? this.pendingMetadata.push(a)
                    : ("video" === a.track.type &&
                        ((this.videoTrack = a.track),
                        (this.videoTags = a.tags),
                        this.pendingTracks++),
                      void (
                        "audio" === a.track.type &&
                        ((this.audioTrack = a.track),
                        (this.audioTags = a.tags),
                        this.pendingTracks++)
                      ));
                });
            };
          (e.prototype = new d()),
            (e.prototype.flush = function (a) {
              var b,
                c,
                d,
                e,
                f = {
                  tags: {},
                  captions: [],
                  captionStreams: {},
                  metadata: [],
                };
              if (this.pendingTracks < this.numberOfTracks) {
                if ("VideoSegmentStream" !== a && "AudioSegmentStream" !== a)
                  return;
                if (
                  0 === this.pendingTracks &&
                  (this.processedTracks++,
                  this.processedTracks < this.numberOfTracks)
                )
                  return;
              }
              if (
                ((this.processedTracks += this.pendingTracks),
                (this.pendingTracks = 0),
                !(this.processedTracks < this.numberOfTracks))
              ) {
                for (
                  this.videoTrack
                    ? (e = this.videoTrack.timelineStartInfo.pts)
                    : this.audioTrack &&
                      (e = this.audioTrack.timelineStartInfo.pts),
                    f.tags.videoTags = this.videoTags,
                    f.tags.audioTags = this.audioTags,
                    d = 0;
                  d < this.pendingCaptions.length;
                  d++
                )
                  (c = this.pendingCaptions[d]),
                    (c.startTime = c.startPts - e),
                    (c.startTime /= 9e4),
                    (c.endTime = c.endPts - e),
                    (c.endTime /= 9e4),
                    (f.captionStreams[c.stream] = !0),
                    f.captions.push(c);
                for (d = 0; d < this.pendingMetadata.length; d++)
                  (b = this.pendingMetadata[d]),
                    (b.cueTime = b.pts - e),
                    (b.cueTime /= 9e4),
                    f.metadata.push(b);
                (f.metadata.dispatchType = this.metadataStream.dispatchType),
                  (this.videoTrack = null),
                  (this.audioTrack = null),
                  (this.videoTags = []),
                  (this.audioTags = []),
                  (this.pendingCaptions.length = 0),
                  (this.pendingMetadata.length = 0),
                  (this.pendingTracks = 0),
                  (this.processedTracks = 0),
                  this.trigger("data", f),
                  this.trigger("done");
              }
            }),
            (b.exports = e);
        },
        { "../utils/stream.js": 62 },
      ],
      44: [
        function (a, b, c) {
          "use strict";
          var d = a("./flv-tag.js"),
            e = function (a, b, c) {
              var e,
                f,
                g,
                h = new Uint8Array(9),
                i = new DataView(h.buffer);
              return (
                (a = a || 0),
                (b = void 0 === b || b),
                (c = void 0 === c || c),
                i.setUint8(0, 70),
                i.setUint8(1, 76),
                i.setUint8(2, 86),
                i.setUint8(3, 1),
                i.setUint8(4, (b ? 4 : 0) | (c ? 1 : 0)),
                i.setUint32(5, h.byteLength),
                a <= 0
                  ? ((f = new Uint8Array(h.byteLength + 4)),
                    f.set(h),
                    f.set([0, 0, 0, 0], h.byteLength),
                    f)
                  : ((e = new d(d.METADATA_TAG)),
                    (e.pts = e.dts = 0),
                    e.writeMetaDataDouble("duration", a),
                    (g = e.finalize().length),
                    (f = new Uint8Array(h.byteLength + g)),
                    f.set(h),
                    f.set(i.byteLength, g),
                    f)
              );
            };
          b.exports = e;
        },
        { "./flv-tag.js": 45 },
      ],
      45: [
        function (a, b, c) {
          "use strict";
          var d;
          (d = function (a, b) {
            var c,
              e = 0,
              f = 16384,
              g = function (a, b) {
                var c,
                  d = a.position + b;
                d < a.bytes.byteLength ||
                  ((c = new Uint8Array(2 * d)),
                  c.set(a.bytes.subarray(0, a.position), 0),
                  (a.bytes = c),
                  (a.view = new DataView(a.bytes.buffer)));
              },
              h = d.widthBytes || new Uint8Array("width".length),
              i = d.heightBytes || new Uint8Array("height".length),
              j = d.videocodecidBytes || new Uint8Array("videocodecid".length);
            if (!d.widthBytes) {
              for (c = 0; c < "width".length; c++) h[c] = "width".charCodeAt(c);
              for (c = 0; c < "height".length; c++)
                i[c] = "height".charCodeAt(c);
              for (c = 0; c < "videocodecid".length; c++)
                j[c] = "videocodecid".charCodeAt(c);
              (d.widthBytes = h),
                (d.heightBytes = i),
                (d.videocodecidBytes = j);
            }
            switch (((this.keyFrame = !1), a)) {
              case d.VIDEO_TAG:
                (this.length = 16), (f *= 6);
                break;
              case d.AUDIO_TAG:
                (this.length = 13), (this.keyFrame = !0);
                break;
              case d.METADATA_TAG:
                (this.length = 29), (this.keyFrame = !0);
                break;
              default:
                throw new Error("Unknown FLV tag type");
            }
            (this.bytes = new Uint8Array(f)),
              (this.view = new DataView(this.bytes.buffer)),
              (this.bytes[0] = a),
              (this.position = this.length),
              (this.keyFrame = b),
              (this.pts = 0),
              (this.dts = 0),
              (this.writeBytes = function (a, b, c) {
                var d,
                  e = b || 0;
                (c = c || a.byteLength),
                  (d = e + c),
                  g(this, c),
                  this.bytes.set(a.subarray(e, d), this.position),
                  (this.position += c),
                  (this.length = Math.max(this.length, this.position));
              }),
              (this.writeByte = function (a) {
                g(this, 1),
                  (this.bytes[this.position] = a),
                  this.position++,
                  (this.length = Math.max(this.length, this.position));
              }),
              (this.writeShort = function (a) {
                g(this, 2),
                  this.view.setUint16(this.position, a),
                  (this.position += 2),
                  (this.length = Math.max(this.length, this.position));
              }),
              (this.negIndex = function (a) {
                return this.bytes[this.length - a];
              }),
              (this.nalUnitSize = function () {
                return 0 === e ? 0 : this.length - (e + 4);
              }),
              (this.startNalUnit = function () {
                if (e > 0)
                  throw new Error(
                    "Attempted to create new NAL wihout closing the old one"
                  );
                (e = this.length),
                  (this.length += 4),
                  (this.position = this.length);
              }),
              (this.endNalUnit = function (a) {
                var b, c;
                this.length === e + 4
                  ? (this.length -= 4)
                  : e > 0 &&
                    ((b = e + 4),
                    (c = this.length - b),
                    (this.position = e),
                    this.view.setUint32(this.position, c),
                    (this.position = this.length),
                    a && a.push(this.bytes.subarray(b, b + c))),
                  (e = 0);
              }),
              (this.writeMetaDataDouble = function (a, b) {
                var c;
                if (
                  (g(this, 2 + a.length + 9),
                  this.view.setUint16(this.position, a.length),
                  (this.position += 2),
                  "width" === a)
                )
                  this.bytes.set(h, this.position), (this.position += 5);
                else if ("height" === a)
                  this.bytes.set(i, this.position), (this.position += 6);
                else if ("videocodecid" === a)
                  this.bytes.set(j, this.position), (this.position += 12);
                else
                  for (c = 0; c < a.length; c++)
                    (this.bytes[this.position] = a.charCodeAt(c)),
                      this.position++;
                this.position++,
                  this.view.setFloat64(this.position, b),
                  (this.position += 8),
                  (this.length = Math.max(this.length, this.position)),
                  ++e;
              }),
              (this.writeMetaDataBoolean = function (a, b) {
                var c;
                for (
                  g(this, 2),
                    this.view.setUint16(this.position, a.length),
                    this.position += 2,
                    c = 0;
                  c < a.length;
                  c++
                )
                  g(this, 1),
                    (this.bytes[this.position] = a.charCodeAt(c)),
                    this.position++;
                g(this, 2),
                  this.view.setUint8(this.position, 1),
                  this.position++,
                  this.view.setUint8(this.position, b ? 1 : 0),
                  this.position++,
                  (this.length = Math.max(this.length, this.position)),
                  ++e;
              }),
              (this.finalize = function () {
                var a, c;
                switch (this.bytes[0]) {
                  case d.VIDEO_TAG:
                    (this.bytes[11] = 7 | (this.keyFrame || b ? 16 : 32)),
                      (this.bytes[12] = b ? 0 : 1),
                      (a = this.pts - this.dts),
                      (this.bytes[13] = (16711680 & a) >>> 16),
                      (this.bytes[14] = (65280 & a) >>> 8),
                      (this.bytes[15] = (255 & a) >>> 0);
                    break;
                  case d.AUDIO_TAG:
                    (this.bytes[11] = 175), (this.bytes[12] = b ? 0 : 1);
                    break;
                  case d.METADATA_TAG:
                    (this.position = 11),
                      this.view.setUint8(this.position, 2),
                      this.position++,
                      this.view.setUint16(this.position, 10),
                      (this.position += 2),
                      this.bytes.set(
                        [111, 110, 77, 101, 116, 97, 68, 97, 116, 97],
                        this.position
                      ),
                      (this.position += 10),
                      (this.bytes[this.position] = 8),
                      this.position++,
                      this.view.setUint32(this.position, e),
                      (this.position = this.length),
                      this.bytes.set([0, 0, 9], this.position),
                      (this.position += 3),
                      (this.length = this.position);
                }
                return (
                  (c = this.length - 11),
                  (this.bytes[1] = (16711680 & c) >>> 16),
                  (this.bytes[2] = (65280 & c) >>> 8),
                  (this.bytes[3] = (255 & c) >>> 0),
                  (this.bytes[4] = (16711680 & this.dts) >>> 16),
                  (this.bytes[5] = (65280 & this.dts) >>> 8),
                  (this.bytes[6] = (255 & this.dts) >>> 0),
                  (this.bytes[7] = (4278190080 & this.dts) >>> 24),
                  (this.bytes[8] = 0),
                  (this.bytes[9] = 0),
                  (this.bytes[10] = 0),
                  g(this, 4),
                  this.view.setUint32(this.length, this.length),
                  (this.length += 4),
                  (this.position += 4),
                  (this.bytes = this.bytes.subarray(0, this.length)),
                  (this.frameTime = d.frameTime(this.bytes)),
                  this
                );
              });
          }),
            (d.AUDIO_TAG = 8),
            (d.VIDEO_TAG = 9),
            (d.METADATA_TAG = 18),
            (d.isAudioFrame = function (a) {
              return d.AUDIO_TAG === a[0];
            }),
            (d.isVideoFrame = function (a) {
              return d.VIDEO_TAG === a[0];
            }),
            (d.isMetaData = function (a) {
              return d.METADATA_TAG === a[0];
            }),
            (d.isKeyFrame = function (a) {
              return d.isVideoFrame(a)
                ? 23 === a[11]
                : !!d.isAudioFrame(a) || !!d.isMetaData(a);
            }),
            (d.frameTime = function (a) {
              var b = a[4] << 16;
              return (b |= a[5] << 8), (b |= a[6] << 0), (b |= a[7] << 24);
            }),
            (b.exports = d);
        },
        {},
      ],
      46: [
        function (a, b, c) {
          b.exports = {
            tag: a("./flv-tag"),
            Transmuxer: a("./transmuxer"),
            getFlvHeader: a("./flv-header"),
          };
        },
        { "./flv-header": 44, "./flv-tag": 45, "./transmuxer": 48 },
      ],
      47: [
        function (a, b, c) {
          "use strict";
          var d = function () {
            var a = this;
            (this.list = []),
              (this.push = function (a) {
                this.list.push({
                  bytes: a.bytes,
                  dts: a.dts,
                  pts: a.pts,
                  keyFrame: a.keyFrame,
                  metaDataTag: a.metaDataTag,
                });
              }),
              Object.defineProperty(this, "length", {
                get: function () {
                  return a.list.length;
                },
              });
          };
          b.exports = d;
        },
        {},
      ],
      48: [
        function (a, b, c) {
          "use strict";
          var d,
            e,
            f,
            g,
            h,
            i,
            j = a("../utils/stream.js"),
            k = a("./flv-tag.js"),
            l = a("../m2ts/m2ts.js"),
            m = a("../codecs/adts.js"),
            n = a("../codecs/h264").H264Stream,
            o = a("./coalesce-stream.js"),
            p = a("./tag-list.js");
          (g = function (a, b) {
            "number" == typeof b.pts &&
              (void 0 === a.timelineStartInfo.pts
                ? (a.timelineStartInfo.pts = b.pts)
                : (a.timelineStartInfo.pts = Math.min(
                    a.timelineStartInfo.pts,
                    b.pts
                  ))),
              "number" == typeof b.dts &&
                (void 0 === a.timelineStartInfo.dts
                  ? (a.timelineStartInfo.dts = b.dts)
                  : (a.timelineStartInfo.dts = Math.min(
                      a.timelineStartInfo.dts,
                      b.dts
                    )));
          }),
            (h = function (a, b) {
              var c = new k(k.METADATA_TAG);
              return (
                (c.dts = b),
                (c.pts = b),
                c.writeMetaDataDouble("videocodecid", 7),
                c.writeMetaDataDouble("width", a.width),
                c.writeMetaDataDouble("height", a.height),
                c
              );
            }),
            (i = function (a, b) {
              var c,
                d = new k(k.VIDEO_TAG, !0);
              for (
                d.dts = b,
                  d.pts = b,
                  d.writeByte(1),
                  d.writeByte(a.profileIdc),
                  d.writeByte(a.profileCompatibility),
                  d.writeByte(a.levelIdc),
                  d.writeByte(255),
                  d.writeByte(225),
                  d.writeShort(a.sps[0].length),
                  d.writeBytes(a.sps[0]),
                  d.writeByte(a.pps.length),
                  c = 0;
                c < a.pps.length;
                ++c
              )
                d.writeShort(a.pps[c].length), d.writeBytes(a.pps[c]);
              return d;
            }),
            (f = function (a) {
              var b,
                c = [],
                d = [];
              f.prototype.init.call(this),
                (this.push = function (b) {
                  g(a, b),
                    a &&
                      ((a.audioobjecttype = b.audioobjecttype),
                      (a.channelcount = b.channelcount),
                      (a.samplerate = b.samplerate),
                      (a.samplingfrequencyindex = b.samplingfrequencyindex),
                      (a.samplesize = b.samplesize),
                      (a.extraData =
                        (a.audioobjecttype << 11) |
                        (a.samplingfrequencyindex << 7) |
                        (a.channelcount << 3))),
                    (b.pts = Math.round(b.pts / 90)),
                    (b.dts = Math.round(b.dts / 90)),
                    c.push(b);
                }),
                (this.flush = function () {
                  var e,
                    f,
                    g,
                    h = new p();
                  if (0 === c.length)
                    return void this.trigger("done", "AudioSegmentStream");
                  for (g = -(1 / 0); c.length; )
                    (e = c.shift()),
                      d.length &&
                        e.pts >= d[0] &&
                        ((g = d.shift()), this.writeMetaDataTags(h, g)),
                      (a.extraData !== b || e.pts - g >= 1e3) &&
                        (this.writeMetaDataTags(h, e.pts),
                        (b = a.extraData),
                        (g = e.pts)),
                      (f = new k(k.AUDIO_TAG)),
                      (f.pts = e.pts),
                      (f.dts = e.dts),
                      f.writeBytes(e.data),
                      h.push(f.finalize());
                  (d.length = 0),
                    (b = null),
                    this.trigger("data", { track: a, tags: h.list }),
                    this.trigger("done", "AudioSegmentStream");
                }),
                (this.writeMetaDataTags = function (b, c) {
                  var d;
                  (d = new k(k.METADATA_TAG)),
                    (d.pts = c),
                    (d.dts = c),
                    d.writeMetaDataDouble("audiocodecid", 10),
                    d.writeMetaDataBoolean("stereo", 2 === a.channelcount),
                    d.writeMetaDataDouble("audiosamplerate", a.samplerate),
                    d.writeMetaDataDouble("audiosamplesize", 16),
                    b.push(d.finalize()),
                    (d = new k(k.AUDIO_TAG, !0)),
                    (d.pts = c),
                    (d.dts = c),
                    d.view.setUint16(d.position, a.extraData),
                    (d.position += 2),
                    (d.length = Math.max(d.length, d.position)),
                    b.push(d.finalize());
                }),
                (this.onVideoKeyFrame = function (a) {
                  d.push(a);
                });
            }),
            (f.prototype = new j()),
            (e = function (a) {
              var b,
                c,
                d = [];
              e.prototype.init.call(this),
                (this.finishFrame = function (d, e) {
                  if (e) {
                    if (
                      b &&
                      a &&
                      a.newMetadata &&
                      (e.keyFrame || 0 === d.length)
                    ) {
                      var f = h(b, e.dts).finalize(),
                        g = i(a, e.dts).finalize();
                      (f.metaDataTag = g.metaDataTag = !0),
                        d.push(f),
                        d.push(g),
                        (a.newMetadata = !1),
                        this.trigger("keyframe", e.dts);
                    }
                    e.endNalUnit(), d.push(e.finalize()), (c = null);
                  }
                }),
                (this.push = function (b) {
                  g(a, b),
                    (b.pts = Math.round(b.pts / 90)),
                    (b.dts = Math.round(b.dts / 90)),
                    d.push(b);
                }),
                (this.flush = function () {
                  for (
                    var e, f = new p();
                    d.length &&
                    "access_unit_delimiter_rbsp" !== d[0].nalUnitType;

                  )
                    d.shift();
                  if (0 === d.length)
                    return void this.trigger("done", "VideoSegmentStream");
                  for (; d.length; )
                    (e = d.shift()),
                      "seq_parameter_set_rbsp" === e.nalUnitType
                        ? ((a.newMetadata = !0),
                          (b = e.config),
                          (a.width = b.width),
                          (a.height = b.height),
                          (a.sps = [e.data]),
                          (a.profileIdc = b.profileIdc),
                          (a.levelIdc = b.levelIdc),
                          (a.profileCompatibility = b.profileCompatibility),
                          c.endNalUnit())
                        : "pic_parameter_set_rbsp" === e.nalUnitType
                        ? ((a.newMetadata = !0),
                          (a.pps = [e.data]),
                          c.endNalUnit())
                        : "access_unit_delimiter_rbsp" === e.nalUnitType
                        ? (c && this.finishFrame(f, c),
                          (c = new k(k.VIDEO_TAG)),
                          (c.pts = e.pts),
                          (c.dts = e.dts))
                        : ("slice_layer_without_partitioning_rbsp_idr" ===
                            e.nalUnitType && (c.keyFrame = !0),
                          c.endNalUnit()),
                      c.startNalUnit(),
                      c.writeBytes(e.data);
                  c && this.finishFrame(f, c),
                    this.trigger("data", { track: a, tags: f.list }),
                    this.trigger("done", "VideoSegmentStream");
                });
            }),
            (e.prototype = new j()),
            (d = function (a) {
              var b,
                c,
                g,
                h,
                i,
                j,
                k,
                p,
                q,
                r,
                s,
                t,
                u = this;
              d.prototype.init.call(this),
                (a = a || {}),
                (this.metadataStream = new l.MetadataStream()),
                (a.metadataStream = this.metadataStream),
                (b = new l.TransportPacketStream()),
                (c = new l.TransportParseStream()),
                (g = new l.ElementaryStream()),
                (h = new l.TimestampRolloverStream("video")),
                (i = new l.TimestampRolloverStream("audio")),
                (j = new l.TimestampRolloverStream("timed-metadata")),
                (k = new m()),
                (p = new n()),
                (t = new o(a)),
                b.pipe(c).pipe(g),
                g.pipe(h).pipe(p),
                g.pipe(i).pipe(k),
                g.pipe(j).pipe(this.metadataStream).pipe(t),
                (s = new l.CaptionStream()),
                p.pipe(s).pipe(t),
                g.on("data", function (a) {
                  var b, c, d;
                  if ("metadata" === a.type) {
                    for (b = a.tracks.length; b--; )
                      "video" === a.tracks[b].type
                        ? (c = a.tracks[b])
                        : "audio" === a.tracks[b].type && (d = a.tracks[b]);
                    c &&
                      !q &&
                      (t.numberOfTracks++, (q = new e(c)), p.pipe(q).pipe(t)),
                      d &&
                        !r &&
                        (t.numberOfTracks++,
                        (r = new f(d)),
                        k.pipe(r).pipe(t),
                        q && q.on("keyframe", r.onVideoKeyFrame));
                  }
                }),
                (this.push = function (a) {
                  b.push(a);
                }),
                (this.flush = function () {
                  b.flush();
                }),
                (this.resetCaptions = function () {
                  s.reset();
                }),
                t.on("data", function (a) {
                  u.trigger("data", a);
                }),
                t.on("done", function () {
                  u.trigger("done");
                });
            }),
            (d.prototype = new j()),
            (b.exports = d);
        },
        {
          "../codecs/adts.js": 40,
          "../codecs/h264": 41,
          "../m2ts/m2ts.js": 50,
          "../utils/stream.js": 62,
          "./coalesce-stream.js": 43,
          "./flv-tag.js": 45,
          "./tag-list.js": 47,
        },
      ],
      49: [
        function (a, b, c) {
          "use strict";
          var d = 4,
            e = 128,
            f = a("../utils/stream"),
            g = function (a) {
              for (
                var b = 0,
                  c = { payloadType: -1, payloadSize: 0 },
                  f = 0,
                  g = 0;
                b < a.byteLength && a[b] !== e;

              ) {
                for (; 255 === a[b]; ) (f += 255), b++;
                for (f += a[b++]; 255 === a[b]; ) (g += 255), b++;
                if (((g += a[b++]), !c.payload && f === d)) {
                  (c.payloadType = f),
                    (c.payloadSize = g),
                    (c.payload = a.subarray(b, b + g));
                  break;
                }
                (b += g), (f = 0), (g = 0);
              }
              return c;
            },
            h = function (a) {
              return 181 !== a.payload[0]
                ? null
                : 49 !== ((a.payload[1] << 8) | a.payload[2])
                ? null
                : "GA94" !==
                  String.fromCharCode(
                    a.payload[3],
                    a.payload[4],
                    a.payload[5],
                    a.payload[6]
                  )
                ? null
                : 3 !== a.payload[7]
                ? null
                : a.payload.subarray(8, a.payload.length - 1);
            },
            i = function (a, b) {
              var c,
                d,
                e,
                f,
                g = [];
              if (!(64 & b[0])) return g;
              for (d = 31 & b[0], c = 0; c < d; c++)
                (e = 3 * c),
                  (f = { type: 3 & b[e + 2], pts: a }),
                  4 & b[e + 2] &&
                    ((f.ccData = (b[e + 3] << 8) | b[e + 4]), g.push(f));
              return g;
            },
            j = function () {
              j.prototype.init.call(this),
                (this.captionPackets_ = []),
                (this.ccStreams_ = [
                  new p(0, 0),
                  new p(0, 1),
                  new p(1, 0),
                  new p(1, 1),
                ]),
                this.reset(),
                this.ccStreams_.forEach(function (a) {
                  a.on("data", this.trigger.bind(this, "data")),
                    a.on("done", this.trigger.bind(this, "done"));
                }, this);
            };
          (j.prototype = new f()),
            (j.prototype.push = function (a) {
              var b, c;
              if (
                "sei_rbsp" === a.nalUnitType &&
                ((b = g(a.escapedRBSP)), b.payloadType === d && (c = h(b)))
              ) {
                if (a.dts < this.latestDts_)
                  return void (this.ignoreNextEqualDts_ = !0);
                if (a.dts === this.latestDts_ && this.ignoreNextEqualDts_)
                  return void (this.ignoreNextEqualDts_ = !1);
                (this.captionPackets_ = this.captionPackets_.concat(
                  i(a.pts, c)
                )),
                  (this.latestDts_ = a.dts);
              }
            }),
            (j.prototype.flush = function () {
              return this.captionPackets_.length
                ? (this.captionPackets_.forEach(function (a, b) {
                    a.presortIndex = b;
                  }),
                  this.captionPackets_.sort(function (a, b) {
                    return a.pts === b.pts
                      ? a.presortIndex - b.presortIndex
                      : a.pts - b.pts;
                  }),
                  this.captionPackets_.forEach(function (a) {
                    a.type < 2 && this.dispatchCea608Packet(a);
                  }, this),
                  (this.captionPackets_.length = 0),
                  void this.ccStreams_.forEach(function (a) {
                    a.flush();
                  }, this))
                : void this.ccStreams_.forEach(function (a) {
                    a.flush();
                  }, this);
            }),
            (j.prototype.reset = function () {
              (this.latestDts_ = null),
                (this.ignoreNextEqualDts_ = !1),
                (this.activeCea608Channel_ = [null, null]),
                this.ccStreams_.forEach(function (a) {
                  a.reset();
                });
            }),
            (j.prototype.dispatchCea608Packet = function (a) {
              this.setsChannel1Active(a)
                ? (this.activeCea608Channel_[a.type] = 0)
                : this.setsChannel2Active(a) &&
                  (this.activeCea608Channel_[a.type] = 1),
                null !== this.activeCea608Channel_[a.type] &&
                  this.ccStreams_[
                    (a.type << 1) + this.activeCea608Channel_[a.type]
                  ].push(a);
            }),
            (j.prototype.setsChannel1Active = function (a) {
              return 4096 === (30720 & a.ccData);
            }),
            (j.prototype.setsChannel2Active = function (a) {
              return 6144 === (30720 & a.ccData);
            });
          var k = {
              42: 225,
              92: 233,
              94: 237,
              95: 243,
              96: 250,
              123: 231,
              124: 247,
              125: 209,
              126: 241,
              127: 9608,
              304: 174,
              305: 176,
              306: 189,
              307: 191,
              308: 8482,
              309: 162,
              310: 163,
              311: 9834,
              312: 224,
              313: 160,
              314: 232,
              315: 226,
              316: 234,
              317: 238,
              318: 244,
              319: 251,
              544: 193,
              545: 201,
              546: 211,
              547: 218,
              548: 220,
              549: 252,
              550: 8216,
              551: 161,
              552: 42,
              553: 39,
              554: 8212,
              555: 169,
              556: 8480,
              557: 8226,
              558: 8220,
              559: 8221,
              560: 192,
              561: 194,
              562: 199,
              563: 200,
              564: 202,
              565: 203,
              566: 235,
              567: 206,
              568: 207,
              569: 239,
              570: 212,
              571: 217,
              572: 249,
              573: 219,
              574: 171,
              575: 187,
              800: 195,
              801: 227,
              802: 205,
              803: 204,
              804: 236,
              805: 210,
              806: 242,
              807: 213,
              808: 245,
              809: 123,
              810: 125,
              811: 92,
              812: 94,
              813: 95,
              814: 124,
              815: 126,
              816: 196,
              817: 228,
              818: 214,
              819: 246,
              820: 223,
              821: 165,
              822: 164,
              823: 9474,
              824: 197,
              825: 229,
              826: 216,
              827: 248,
              828: 9484,
              829: 9488,
              830: 9492,
              831: 9496,
            },
            l = function (a) {
              return null === a
                ? ""
                : ((a = k[a] || a), String.fromCharCode(a));
            },
            m = 14,
            n = [
              4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096,
              4864, 4896, 5120, 5152,
            ],
            o = function () {
              for (var a = [], b = m + 1; b--; ) a.push("");
              return a;
            },
            p = function (a, b) {
              p.prototype.init.call(this),
                (this.field_ = a || 0),
                (this.dataChannel_ = b || 0),
                (this.name_ =
                  "CC" + (((this.field_ << 1) | this.dataChannel_) + 1)),
                this.setConstants(),
                this.reset(),
                (this.push = function (a) {
                  var b, c, d, e, f;
                  if (((b = 32639 & a.ccData), b === this.lastControlCode_))
                    return void (this.lastControlCode_ = null);
                  if (
                    (4096 === (61440 & b)
                      ? (this.lastControlCode_ = b)
                      : b !== this.PADDING_ && (this.lastControlCode_ = null),
                    (d = b >>> 8),
                    (e = 255 & b),
                    b !== this.PADDING_)
                  )
                    if (b === this.RESUME_CAPTION_LOADING_)
                      this.mode_ = "popOn";
                    else if (b === this.END_OF_CAPTION_)
                      this.clearFormatting(a.pts),
                        this.flushDisplayed(a.pts),
                        (c = this.displayed_),
                        (this.displayed_ = this.nonDisplayed_),
                        (this.nonDisplayed_ = c),
                        (this.startPts_ = a.pts);
                    else if (b === this.ROLL_UP_2_ROWS_)
                      (this.topRow_ = m - 1), (this.mode_ = "rollUp");
                    else if (b === this.ROLL_UP_3_ROWS_)
                      (this.topRow_ = m - 2), (this.mode_ = "rollUp");
                    else if (b === this.ROLL_UP_4_ROWS_)
                      (this.topRow_ = m - 3), (this.mode_ = "rollUp");
                    else if (b === this.CARRIAGE_RETURN_)
                      this.clearFormatting(a.pts),
                        this.flushDisplayed(a.pts),
                        this.shiftRowsUp_(),
                        (this.startPts_ = a.pts);
                    else if (b === this.BACKSPACE_)
                      "popOn" === this.mode_
                        ? (this.nonDisplayed_[m] = this.nonDisplayed_[m].slice(
                            0,
                            -1
                          ))
                        : (this.displayed_[m] = this.displayed_[m].slice(
                            0,
                            -1
                          ));
                    else if (b === this.ERASE_DISPLAYED_MEMORY_)
                      this.flushDisplayed(a.pts), (this.displayed_ = o());
                    else if (b === this.ERASE_NON_DISPLAYED_MEMORY_)
                      this.nonDisplayed_ = o();
                    else if (b === this.RESUME_DIRECT_CAPTIONING_)
                      this.mode_ = "paintOn";
                    else if (this.isSpecialCharacter(d, e))
                      (d = (3 & d) << 8),
                        (f = l(d | e)),
                        this[this.mode_](a.pts, f),
                        this.column_++;
                    else if (this.isExtCharacter(d, e))
                      "popOn" === this.mode_
                        ? (this.nonDisplayed_[this.row_] = this.nonDisplayed_[
                            this.row_
                          ].slice(0, -1))
                        : (this.displayed_[m] = this.displayed_[m].slice(
                            0,
                            -1
                          )),
                        (d = (3 & d) << 8),
                        (f = l(d | e)),
                        this[this.mode_](a.pts, f),
                        this.column_++;
                    else if (this.isMidRowCode(d, e))
                      this.clearFormatting(a.pts),
                        this[this.mode_](a.pts, " "),
                        this.column_++,
                        14 === (14 & e) && this.addFormatting(a.pts, ["i"]),
                        1 === (1 & e) && this.addFormatting(a.pts, ["u"]);
                    else if (this.isOffsetControlCode(d, e))
                      this.column_ += 3 & e;
                    else if (this.isPAC(d, e)) {
                      var g = n.indexOf(7968 & b);
                      g !== this.row_ &&
                        (this.clearFormatting(a.pts), (this.row_ = g)),
                        1 & e &&
                          this.formatting_.indexOf("u") === -1 &&
                          this.addFormatting(a.pts, ["u"]),
                        16 === (16 & b) && (this.column_ = 4 * ((14 & b) >> 1)),
                        this.isColorPAC(e) &&
                          14 === (14 & e) &&
                          this.addFormatting(a.pts, ["i"]);
                    } else
                      this.isNormalChar(d) &&
                        (0 === e && (e = null),
                        (f = l(d)),
                        (f += l(e)),
                        this[this.mode_](a.pts, f),
                        (this.column_ += f.length));
                });
            };
          (p.prototype = new f()),
            (p.prototype.flushDisplayed = function (a) {
              var b = this.displayed_
                .map(function (a) {
                  return a.trim();
                })
                .join("\n")
                .replace(/^\n+|\n+$/g, "");
              b.length &&
                this.trigger("data", {
                  startPts: this.startPts_,
                  endPts: a,
                  text: b,
                  stream: this.name_,
                });
            }),
            (p.prototype.reset = function () {
              (this.mode_ = "popOn"),
                (this.topRow_ = 0),
                (this.startPts_ = 0),
                (this.displayed_ = o()),
                (this.nonDisplayed_ = o()),
                (this.lastControlCode_ = null),
                (this.column_ = 0),
                (this.row_ = m),
                (this.formatting_ = []);
            }),
            (p.prototype.setConstants = function () {
              0 === this.dataChannel_
                ? ((this.BASE_ = 16),
                  (this.EXT_ = 17),
                  (this.CONTROL_ = (20 | this.field_) << 8),
                  (this.OFFSET_ = 23))
                : 1 === this.dataChannel_ &&
                  ((this.BASE_ = 24),
                  (this.EXT_ = 25),
                  (this.CONTROL_ = (28 | this.field_) << 8),
                  (this.OFFSET_ = 31)),
                (this.PADDING_ = 0),
                (this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_),
                (this.END_OF_CAPTION_ = 47 | this.CONTROL_),
                (this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_),
                (this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_),
                (this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_),
                (this.CARRIAGE_RETURN_ = 45 | this.CONTROL_),
                (this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_),
                (this.BACKSPACE_ = 33 | this.CONTROL_),
                (this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_),
                (this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_);
            }),
            (p.prototype.isSpecialCharacter = function (a, b) {
              return a === this.EXT_ && b >= 48 && b <= 63;
            }),
            (p.prototype.isExtCharacter = function (a, b) {
              return (
                (a === this.EXT_ + 1 || a === this.EXT_ + 2) &&
                b >= 32 &&
                b <= 63
              );
            }),
            (p.prototype.isMidRowCode = function (a, b) {
              return a === this.EXT_ && b >= 32 && b <= 47;
            }),
            (p.prototype.isOffsetControlCode = function (a, b) {
              return a === this.OFFSET_ && b >= 33 && b <= 35;
            }),
            (p.prototype.isPAC = function (a, b) {
              return (
                a >= this.BASE_ && a < this.BASE_ + 8 && b >= 64 && b <= 127
              );
            }),
            (p.prototype.isColorPAC = function (a) {
              return (a >= 64 && a <= 79) || (a >= 96 && a <= 127);
            }),
            (p.prototype.isNormalChar = function (a) {
              return a >= 32 && a <= 127;
            }),
            (p.prototype.addFormatting = function (a, b) {
              this.formatting_ = this.formatting_.concat(b);
              var c = b.reduce(function (a, b) {
                return a + "<" + b + ">";
              }, "");
              this[this.mode_](a, c);
            }),
            (p.prototype.clearFormatting = function (a) {
              if (this.formatting_.length) {
                var b = this.formatting_.reverse().reduce(function (a, b) {
                  return a + "</" + b + ">";
                }, "");
                (this.formatting_ = []), this[this.mode_](a, b);
              }
            }),
            (p.prototype.popOn = function (a, b) {
              var c = this.nonDisplayed_[this.row_];
              (c += b), (this.nonDisplayed_[this.row_] = c);
            }),
            (p.prototype.rollUp = function (a, b) {
              var c = this.displayed_[m];
              (c += b), (this.displayed_[m] = c);
            }),
            (p.prototype.shiftRowsUp_ = function () {
              var a;
              for (a = 0; a < this.topRow_; a++) this.displayed_[a] = "";
              for (a = this.topRow_; a < m; a++)
                this.displayed_[a] = this.displayed_[a + 1];
              this.displayed_[m] = "";
            }),
            (p.prototype.paintOn = function () {}),
            (b.exports = { CaptionStream: j, Cea608Stream: p });
        },
        { "../utils/stream": 62 },
      ],
      50: [
        function (a, b, c) {
          "use strict";
          var d,
            e,
            f,
            g = a("../utils/stream.js"),
            h = a("./caption-stream"),
            i = a("./stream-types"),
            j = a("./timestamp-rollover-stream").TimestampRolloverStream,
            k = a("./stream-types.js"),
            l = 188,
            m = 71;
          (d = function () {
            var a = new Uint8Array(l),
              b = 0;
            d.prototype.init.call(this),
              (this.push = function (c) {
                var d,
                  e = 0,
                  f = l;
                for (
                  b
                    ? ((d = new Uint8Array(c.byteLength + b)),
                      d.set(a.subarray(0, b)),
                      d.set(c, b),
                      (b = 0))
                    : (d = c);
                  f < d.byteLength;

                )
                  d[e] !== m || d[f] !== m
                    ? (e++, f++)
                    : (this.trigger("data", d.subarray(e, f)),
                      (e += l),
                      (f += l));
                e < d.byteLength &&
                  (a.set(d.subarray(e), 0), (b = d.byteLength - e));
              }),
              (this.flush = function () {
                b === l && a[0] === m && (this.trigger("data", a), (b = 0)),
                  this.trigger("done");
              });
          }),
            (d.prototype = new g()),
            (e = function () {
              var a, b, c, d;
              e.prototype.init.call(this),
                (d = this),
                (this.packetsWaitingForPmt = []),
                (this.programMapTable = void 0),
                (a = function (a, d) {
                  var e = 0;
                  d.payloadUnitStartIndicator && (e += a[e] + 1),
                    "pat" === d.type
                      ? b(a.subarray(e), d)
                      : c(a.subarray(e), d);
                }),
                (b = function (a, b) {
                  (b.section_number = a[7]),
                    (b.last_section_number = a[8]),
                    (d.pmtPid = ((31 & a[10]) << 8) | a[11]),
                    (b.pmtPid = d.pmtPid);
                }),
                (c = function (a, b) {
                  var c, e, f, g;
                  if (1 & a[5]) {
                    for (
                      d.programMapTable = {
                        video: null,
                        audio: null,
                        "timed-metadata": {},
                      },
                        c = ((15 & a[1]) << 8) | a[2],
                        e = 3 + c - 4,
                        f = ((15 & a[10]) << 8) | a[11],
                        g = 12 + f;
                      g < e;

                    ) {
                      var h = a[g],
                        j = ((31 & a[g + 1]) << 8) | a[g + 2];
                      h === i.H264_STREAM_TYPE &&
                      null === d.programMapTable.video
                        ? (d.programMapTable.video = j)
                        : h === i.ADTS_STREAM_TYPE &&
                          null === d.programMapTable.audio
                        ? (d.programMapTable.audio = j)
                        : h === i.METADATA_STREAM_TYPE &&
                          (d.programMapTable["timed-metadata"][j] = h),
                        (g += (((15 & a[g + 3]) << 8) | a[g + 4]) + 5);
                    }
                    b.programMapTable = d.programMapTable;
                  }
                }),
                (this.push = function (b) {
                  var c = {},
                    d = 4;
                  if (
                    ((c.payloadUnitStartIndicator = !!(64 & b[1])),
                    (c.pid = 31 & b[1]),
                    (c.pid <<= 8),
                    (c.pid |= b[2]),
                    (48 & b[3]) >>> 4 > 1 && (d += b[d] + 1),
                    0 === c.pid)
                  )
                    (c.type = "pat"),
                      a(b.subarray(d), c),
                      this.trigger("data", c);
                  else if (c.pid === this.pmtPid)
                    for (
                      c.type = "pmt",
                        a(b.subarray(d), c),
                        this.trigger("data", c);
                      this.packetsWaitingForPmt.length;

                    )
                      this.processPes_.apply(
                        this,
                        this.packetsWaitingForPmt.shift()
                      );
                  else
                    void 0 === this.programMapTable
                      ? this.packetsWaitingForPmt.push([b, d, c])
                      : this.processPes_(b, d, c);
                }),
                (this.processPes_ = function (a, b, c) {
                  c.pid === this.programMapTable.video
                    ? (c.streamType = i.H264_STREAM_TYPE)
                    : c.pid === this.programMapTable.audio
                    ? (c.streamType = i.ADTS_STREAM_TYPE)
                    : (c.streamType =
                        this.programMapTable["timed-metadata"][c.pid]),
                    (c.type = "pes"),
                    (c.data = a.subarray(b)),
                    this.trigger("data", c);
                });
            }),
            (e.prototype = new g()),
            (e.STREAM_TYPES = { h264: 27, adts: 15 }),
            (f = function () {
              var a = this,
                b = { data: [], size: 0 },
                c = { data: [], size: 0 },
                d = { data: [], size: 0 },
                e = function (a, b) {
                  var c;
                  (b.packetLength = 6 + ((a[4] << 8) | a[5])),
                    (b.dataAlignmentIndicator = 0 !== (4 & a[6])),
                    (c = a[7]),
                    192 & c &&
                      ((b.pts =
                        ((14 & a[9]) << 27) |
                        ((255 & a[10]) << 20) |
                        ((254 & a[11]) << 12) |
                        ((255 & a[12]) << 5) |
                        ((254 & a[13]) >>> 3)),
                      (b.pts *= 4),
                      (b.pts += (6 & a[13]) >>> 1),
                      (b.dts = b.pts),
                      64 & c &&
                        ((b.dts =
                          ((14 & a[14]) << 27) |
                          ((255 & a[15]) << 20) |
                          ((254 & a[16]) << 12) |
                          ((255 & a[17]) << 5) |
                          ((254 & a[18]) >>> 3)),
                        (b.dts *= 4),
                        (b.dts += (6 & a[18]) >>> 1))),
                    (b.data = a.subarray(9 + a[8]));
                },
                g = function (b, c, d) {
                  var f,
                    g = new Uint8Array(b.size),
                    h = { type: c },
                    i = 0,
                    j = 0,
                    k = !1;
                  if (b.data.length && !(b.size < 9)) {
                    for (
                      h.trackId = b.data[0].pid, i = 0;
                      i < b.data.length;
                      i++
                    )
                      (f = b.data[i]),
                        g.set(f.data, j),
                        (j += f.data.byteLength);
                    e(g, h),
                      (k = "video" === c || h.packetLength <= b.size),
                      (d || k) && ((b.size = 0), (b.data.length = 0)),
                      k && a.trigger("data", h);
                  }
                };
              f.prototype.init.call(this),
                (this.push = function (e) {
                  ({
                    pat: function () {},
                    pes: function () {
                      var a, f;
                      switch (e.streamType) {
                        case i.H264_STREAM_TYPE:
                        case k.H264_STREAM_TYPE:
                          (a = b), (f = "video");
                          break;
                        case i.ADTS_STREAM_TYPE:
                          (a = c), (f = "audio");
                          break;
                        case i.METADATA_STREAM_TYPE:
                          (a = d), (f = "timed-metadata");
                          break;
                        default:
                          return;
                      }
                      e.payloadUnitStartIndicator && g(a, f, !0),
                        a.data.push(e),
                        (a.size += e.data.byteLength);
                    },
                    pmt: function () {
                      var b = { type: "metadata", tracks: [] },
                        c = e.programMapTable;
                      null !== c.video &&
                        b.tracks.push({
                          timelineStartInfo: { baseMediaDecodeTime: 0 },
                          id: +c.video,
                          codec: "avc",
                          type: "video",
                        }),
                        null !== c.audio &&
                          b.tracks.push({
                            timelineStartInfo: { baseMediaDecodeTime: 0 },
                            id: +c.audio,
                            codec: "adts",
                            type: "audio",
                          }),
                        a.trigger("data", b);
                    },
                  })[e.type]();
                }),
                (this.flush = function () {
                  g(b, "video"),
                    g(c, "audio"),
                    g(d, "timed-metadata"),
                    this.trigger("done");
                });
            }),
            (f.prototype = new g());
          var n = {
            PAT_PID: 0,
            MP2T_PACKET_LENGTH: l,
            TransportPacketStream: d,
            TransportParseStream: e,
            ElementaryStream: f,
            TimestampRolloverStream: j,
            CaptionStream: h.CaptionStream,
            Cea608Stream: h.Cea608Stream,
            MetadataStream: a("./metadata-stream"),
          };
          for (var o in i) i.hasOwnProperty(o) && (n[o] = i[o]);
          b.exports = n;
        },
        {
          "../utils/stream.js": 62,
          "./caption-stream": 49,
          "./metadata-stream": 51,
          "./stream-types": 53,
          "./stream-types.js": 53,
          "./timestamp-rollover-stream": 54,
        },
      ],
      51: [
        function (a, b, c) {
          "use strict";
          var d,
            e = a("../utils/stream"),
            f = a("./stream-types"),
            g = function (a, b, c) {
              var d,
                e = "";
              for (d = b; d < c; d++)
                e += "%" + ("00" + a[d].toString(16)).slice(-2);
              return e;
            },
            h = function (a, b, c) {
              return decodeURIComponent(g(a, b, c));
            },
            i = function (a, b, c) {
              return unescape(g(a, b, c));
            },
            j = function (a) {
              return (a[0] << 21) | (a[1] << 14) | (a[2] << 7) | a[3];
            },
            k = {
              TXXX: function (a) {
                var b;
                if (3 === a.data[0]) {
                  for (b = 1; b < a.data.length; b++)
                    if (0 === a.data[b]) {
                      (a.description = h(a.data, 1, b)),
                        (a.value = h(a.data, b + 1, a.data.length).replace(
                          /\0*$/,
                          ""
                        ));
                      break;
                    }
                  a.data = a.value;
                }
              },
              WXXX: function (a) {
                var b;
                if (3 === a.data[0])
                  for (b = 1; b < a.data.length; b++)
                    if (0 === a.data[b]) {
                      (a.description = h(a.data, 1, b)),
                        (a.url = h(a.data, b + 1, a.data.length));
                      break;
                    }
              },
              PRIV: function (a) {
                var b;
                for (b = 0; b < a.data.length; b++)
                  if (0 === a.data[b]) {
                    a.owner = i(a.data, 0, b);
                    break;
                  }
                (a.privateData = a.data.subarray(b + 1)),
                  (a.data = a.privateData);
              },
            };
          (d = function (a) {
            var b,
              c = { debug: !(!a || !a.debug), descriptor: a && a.descriptor },
              e = 0,
              g = [],
              h = 0;
            if (
              (d.prototype.init.call(this),
              (this.dispatchType = f.METADATA_STREAM_TYPE.toString(16)),
              c.descriptor)
            )
              for (b = 0; b < c.descriptor.length; b++)
                this.dispatchType += (
                  "00" + c.descriptor[b].toString(16)
                ).slice(-2);
            this.push = function (a) {
              var b, d, f, i, l, m;
              if ("timed-metadata" === a.type) {
                if (
                  (a.dataAlignmentIndicator && ((h = 0), (g.length = 0)),
                  0 === g.length &&
                    (a.data.length < 10 ||
                      a.data[0] !== "I".charCodeAt(0) ||
                      a.data[1] !== "D".charCodeAt(0) ||
                      a.data[2] !== "3".charCodeAt(0)))
                )
                  return void (
                    c.debug &&
                    console.log("Skipping unrecognized metadata packet")
                  );
                if (
                  (g.push(a),
                  (h += a.data.byteLength),
                  1 === g.length &&
                    ((e = j(a.data.subarray(6, 10))), (e += 10)),
                  !(h < e))
                ) {
                  for (
                    b = {
                      data: new Uint8Array(e),
                      frames: [],
                      pts: g[0].pts,
                      dts: g[0].dts,
                    },
                      l = 0;
                    l < e;

                  )
                    b.data.set(g[0].data.subarray(0, e - l), l),
                      (l += g[0].data.byteLength),
                      (h -= g[0].data.byteLength),
                      g.shift();
                  (d = 10),
                    64 & b.data[5] &&
                      ((d += 4),
                      (d += j(b.data.subarray(10, 14))),
                      (e -= j(b.data.subarray(16, 20))));
                  do {
                    if (((f = j(b.data.subarray(d + 4, d + 8))), f < 1))
                      return console.log(
                        "Malformed ID3 frame encountered. Skipping metadata parsing."
                      );
                    if (
                      ((m = String.fromCharCode(
                        b.data[d],
                        b.data[d + 1],
                        b.data[d + 2],
                        b.data[d + 3]
                      )),
                      (i = {
                        id: m,
                        data: b.data.subarray(d + 10, d + f + 10),
                      }),
                      (i.key = i.id),
                      k[i.id] &&
                        (k[i.id](i),
                        "com.apple.streaming.transportStreamTimestamp" ===
                          i.owner))
                    ) {
                      var n = i.data,
                        o =
                          ((1 & n[3]) << 30) |
                          (n[4] << 22) |
                          (n[5] << 14) |
                          (n[6] << 6) |
                          (n[7] >>> 2);
                      (o *= 4),
                        (o += 3 & n[7]),
                        (i.timeStamp = o),
                        void 0 === b.pts &&
                          void 0 === b.dts &&
                          ((b.pts = i.timeStamp), (b.dts = i.timeStamp)),
                        this.trigger("timestamp", i);
                    }
                    b.frames.push(i), (d += 10), (d += f);
                  } while (d < e);
                  this.trigger("data", b);
                }
              }
            };
          }),
            (d.prototype = new e()),
            (b.exports = d);
        },
        { "../utils/stream": 62, "./stream-types": 53 },
      ],
      52: [
        function (a, b, c) {
          "use strict";
          var d = a("./stream-types.js"),
            e = function (a) {
              var b = 31 & a[1];
              return (b <<= 8), (b |= a[2]);
            },
            f = function (a) {
              return !!(64 & a[1]);
            },
            g = function (a) {
              var b = 0;
              return (48 & a[3]) >>> 4 > 1 && (b += a[4] + 1), b;
            },
            h = function (a, b) {
              var c = e(a);
              return 0 === c ? "pat" : c === b ? "pmt" : b ? "pes" : null;
            },
            i = function (a) {
              var b = f(a),
                c = 4 + g(a);
              return b && (c += a[c] + 1), ((31 & a[c + 10]) << 8) | a[c + 11];
            },
            j = function (a) {
              var b = {},
                c = f(a),
                d = 4 + g(a);
              if ((c && (d += a[d] + 1), 1 & a[d + 5])) {
                var e, h, i;
                (e = ((15 & a[d + 1]) << 8) | a[d + 2]),
                  (h = 3 + e - 4),
                  (i = ((15 & a[d + 10]) << 8) | a[d + 11]);
                for (var j = 12 + i; j < h; ) {
                  var k = d + j;
                  (b[((31 & a[k + 1]) << 8) | a[k + 2]] = a[k]),
                    (j += (((15 & a[k + 3]) << 8) | a[k + 4]) + 5);
                }
                return b;
              }
            },
            k = function (a, b) {
              var c = e(a),
                f = b[c];
              switch (f) {
                case d.H264_STREAM_TYPE:
                  return "video";
                case d.ADTS_STREAM_TYPE:
                  return "audio";
                case d.METADATA_STREAM_TYPE:
                  return "timed-metadata";
                default:
                  return null;
              }
            },
            l = function (a) {
              var b = f(a);
              if (!b) return null;
              var c = 4 + g(a);
              if (c >= a.byteLength) return null;
              var d,
                e = null;
              return (
                (d = a[c + 7]),
                192 & d &&
                  ((e = {}),
                  (e.pts =
                    ((14 & a[c + 9]) << 27) |
                    ((255 & a[c + 10]) << 20) |
                    ((254 & a[c + 11]) << 12) |
                    ((255 & a[c + 12]) << 5) |
                    ((254 & a[c + 13]) >>> 3)),
                  (e.pts *= 4),
                  (e.pts += (6 & a[c + 13]) >>> 1),
                  (e.dts = e.pts),
                  64 & d &&
                    ((e.dts =
                      ((14 & a[c + 14]) << 27) |
                      ((255 & a[c + 15]) << 20) |
                      ((254 & a[c + 16]) << 12) |
                      ((255 & a[c + 17]) << 5) |
                      ((254 & a[c + 18]) >>> 3)),
                    (e.dts *= 4),
                    (e.dts += (6 & a[c + 18]) >>> 1))),
                e
              );
            },
            m = function (a) {
              switch (a) {
                case 5:
                  return "slice_layer_without_partitioning_rbsp_idr";
                case 6:
                  return "sei_rbsp";
                case 7:
                  return "seq_parameter_set_rbsp";
                case 8:
                  return "pic_parameter_set_rbsp";
                case 9:
                  return "access_unit_delimiter_rbsp";
                default:
                  return null;
              }
            },
            n = function (a) {
              for (
                var b, c = 4 + g(a), d = a.subarray(c), e = 0, f = 0, h = !1;
                f < d.byteLength - 3;
                f++
              )
                if (1 === d[f + 2]) {
                  e = f + 5;
                  break;
                }
              for (; e < d.byteLength; )
                switch (d[e]) {
                  case 0:
                    if (0 !== d[e - 1]) {
                      e += 2;
                      break;
                    }
                    if (0 !== d[e - 2]) {
                      e++;
                      break;
                    }
                    f + 3 !== e - 2 &&
                      ((b = m(31 & d[f + 3])),
                      "slice_layer_without_partitioning_rbsp_idr" === b &&
                        (h = !0));
                    do e++;
                    while (1 !== d[e] && e < d.length);
                    (f = e - 2), (e += 3);
                    break;
                  case 1:
                    if (0 !== d[e - 1] || 0 !== d[e - 2]) {
                      e += 3;
                      break;
                    }
                    (b = m(31 & d[f + 3])),
                      "slice_layer_without_partitioning_rbsp_idr" === b &&
                        (h = !0),
                      (f = e - 2),
                      (e += 3);
                    break;
                  default:
                    e += 3;
                }
              return (
                (d = d.subarray(f)),
                (e -= f),
                (f = 0),
                d &&
                  d.byteLength > 3 &&
                  ((b = m(31 & d[f + 3])),
                  "slice_layer_without_partitioning_rbsp_idr" === b &&
                    (h = !0)),
                h
              );
            };
          b.exports = {
            parseType: h,
            parsePat: i,
            parsePmt: j,
            parsePayloadUnitStartIndicator: f,
            parsePesType: k,
            parsePesTime: l,
            videoPacketContainsKeyFrame: n,
          };
        },
        { "./stream-types.js": 53 },
      ],
      53: [
        function (a, b, c) {
          "use strict";
          b.exports = {
            H264_STREAM_TYPE: 27,
            ADTS_STREAM_TYPE: 15,
            METADATA_STREAM_TYPE: 21,
          };
        },
        {},
      ],
      54: [
        function (a, b, c) {
          "use strict";
          var d = a("../utils/stream"),
            e = 8589934592,
            f = 4294967296,
            g = function (a, b) {
              var c = 1;
              for (a > b && (c = -1); Math.abs(b - a) > f; ) a += c * e;
              return a;
            },
            h = function (a) {
              var b, c;
              h.prototype.init.call(this),
                (this.type_ = a),
                (this.push = function (a) {
                  a.type === this.type_ &&
                    (void 0 === c && (c = a.dts),
                    (a.dts = g(a.dts, c)),
                    (a.pts = g(a.pts, c)),
                    (b = a.dts),
                    this.trigger("data", a));
                }),
                (this.flush = function () {
                  (c = b), this.trigger("done");
                }),
                (this.discontinuity = function () {
                  (c = void 0), (b = void 0);
                });
            };
          (h.prototype = new d()),
            (b.exports = { TimestampRolloverStream: h, handleRollover: g });
        },
        { "../utils/stream": 62 },
      ],
      55: [
        function (a, b, c) {
          b.exports = {
            generator: a("./mp4-generator"),
            Transmuxer: a("./transmuxer").Transmuxer,
            AudioSegmentStream: a("./transmuxer").AudioSegmentStream,
            VideoSegmentStream: a("./transmuxer").VideoSegmentStream,
          };
        },
        { "./mp4-generator": 56, "./transmuxer": 58 },
      ],
      56: [
        function (a, b, c) {
          "use strict";
          var d,
            e,
            f,
            g,
            h,
            i,
            j,
            k,
            l,
            m,
            n,
            o,
            p,
            q,
            r,
            s,
            t,
            u,
            v,
            w,
            x,
            y,
            z,
            A,
            B,
            C,
            D,
            E,
            F,
            G,
            H,
            I,
            J,
            K,
            L,
            M,
            N = Math.pow(2, 32) - 1;
          !(function () {
            var a;
            if (
              ((z = {
                avc1: [],
                avcC: [],
                btrt: [],
                dinf: [],
                dref: [],
                esds: [],
                ftyp: [],
                hdlr: [],
                mdat: [],
                mdhd: [],
                mdia: [],
                mfhd: [],
                minf: [],
                moof: [],
                moov: [],
                mp4a: [],
                mvex: [],
                mvhd: [],
                sdtp: [],
                smhd: [],
                stbl: [],
                stco: [],
                stsc: [],
                stsd: [],
                stsz: [],
                stts: [],
                styp: [],
                tfdt: [],
                tfhd: [],
                traf: [],
                trak: [],
                trun: [],
                trex: [],
                tkhd: [],
                vmhd: [],
              }),
              "undefined" != typeof Uint8Array)
            ) {
              for (a in z)
                z.hasOwnProperty(a) &&
                  (z[a] = [
                    a.charCodeAt(0),
                    a.charCodeAt(1),
                    a.charCodeAt(2),
                    a.charCodeAt(3),
                  ]);
              (A = new Uint8Array([
                "i".charCodeAt(0),
                "s".charCodeAt(0),
                "o".charCodeAt(0),
                "m".charCodeAt(0),
              ])),
                (C = new Uint8Array([
                  "a".charCodeAt(0),
                  "v".charCodeAt(0),
                  "c".charCodeAt(0),
                  "1".charCodeAt(0),
                ])),
                (B = new Uint8Array([0, 0, 0, 1])),
                (D = new Uint8Array([
                  0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0,
                  0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100,
                  108, 101, 114, 0,
                ])),
                (E = new Uint8Array([
                  0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0,
                  0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100,
                  108, 101, 114, 0,
                ])),
                (F = { video: D, audio: E }),
                (I = new Uint8Array([
                  0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0,
                  0, 1,
                ])),
                (H = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                (J = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                (K = J),
                (L = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])),
                (M = J),
                (G = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]));
            }
          })(),
            (d = function (a) {
              var b,
                c,
                d,
                e = [],
                f = 0;
              for (b = 1; b < arguments.length; b++) e.push(arguments[b]);
              for (b = e.length; b--; ) f += e[b].byteLength;
              for (
                c = new Uint8Array(f + 8),
                  d = new DataView(c.buffer, c.byteOffset, c.byteLength),
                  d.setUint32(0, c.byteLength),
                  c.set(a, 4),
                  b = 0,
                  f = 8;
                b < e.length;
                b++
              )
                c.set(e[b], f), (f += e[b].byteLength);
              return c;
            }),
            (e = function () {
              return d(z.dinf, d(z.dref, I));
            }),
            (f = function (a) {
              return d(
                z.esds,
                new Uint8Array([
                  0,
                  0,
                  0,
                  0,
                  3,
                  25,
                  0,
                  0,
                  0,
                  4,
                  17,
                  64,
                  21,
                  0,
                  6,
                  0,
                  0,
                  0,
                  218,
                  192,
                  0,
                  0,
                  218,
                  192,
                  5,
                  2,
                  (a.audioobjecttype << 3) | (a.samplingfrequencyindex >>> 1),
                  (a.samplingfrequencyindex << 7) | (a.channelcount << 3),
                  6,
                  1,
                  2,
                ])
              );
            }),
            (g = function () {
              return d(z.ftyp, A, B, A, C);
            }),
            (s = function (a) {
              return d(z.hdlr, F[a]);
            }),
            (h = function (a) {
              return d(z.mdat, a);
            }),
            (r = function (a) {
              var b = new Uint8Array([
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                2,
                0,
                0,
                0,
                3,
                0,
                1,
                95,
                144,
                (a.duration >>> 24) & 255,
                (a.duration >>> 16) & 255,
                (a.duration >>> 8) & 255,
                255 & a.duration,
                85,
                196,
                0,
                0,
              ]);
              return (
                a.samplerate &&
                  ((b[12] = (a.samplerate >>> 24) & 255),
                  (b[13] = (a.samplerate >>> 16) & 255),
                  (b[14] = (a.samplerate >>> 8) & 255),
                  (b[15] = 255 & a.samplerate)),
                d(z.mdhd, b)
              );
            }),
            (q = function (a) {
              return d(z.mdia, r(a), s(a.type), j(a));
            }),
            (i = function (a) {
              return d(
                z.mfhd,
                new Uint8Array([
                  0,
                  0,
                  0,
                  0,
                  (4278190080 & a) >> 24,
                  (16711680 & a) >> 16,
                  (65280 & a) >> 8,
                  255 & a,
                ])
              );
            }),
            (j = function (a) {
              return d(
                z.minf,
                "video" === a.type ? d(z.vmhd, G) : d(z.smhd, H),
                e(),
                u(a)
              );
            }),
            (k = function (a, b) {
              for (var c = [], e = b.length; e--; ) c[e] = w(b[e]);
              return d.apply(null, [z.moof, i(a)].concat(c));
            }),
            (l = function (a) {
              for (var b = a.length, c = []; b--; ) c[b] = o(a[b]);
              return d.apply(
                null,
                [z.moov, n(4294967295)].concat(c).concat(m(a))
              );
            }),
            (m = function (a) {
              for (var b = a.length, c = []; b--; ) c[b] = x(a[b]);
              return d.apply(null, [z.mvex].concat(c));
            }),
            (n = function (a) {
              var b = new Uint8Array([
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                2,
                0,
                1,
                95,
                144,
                (4278190080 & a) >> 24,
                (16711680 & a) >> 16,
                (65280 & a) >> 8,
                255 & a,
                0,
                1,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                64,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                255,
                255,
                255,
                255,
              ]);
              return d(z.mvhd, b);
            }),
            (t = function (a) {
              var b,
                c,
                e = a.samples || [],
                f = new Uint8Array(4 + e.length);
              for (c = 0; c < e.length; c++)
                (b = e[c].flags),
                  (f[c + 4] =
                    (b.dependsOn << 4) |
                    (b.isDependedOn << 2) |
                    b.hasRedundancy);
              return d(z.sdtp, f);
            }),
            (u = function (a) {
              return d(
                z.stbl,
                v(a),
                d(z.stts, M),
                d(z.stsc, K),
                d(z.stsz, L),
                d(z.stco, J)
              );
            }),
            (function () {
              var a, b;
              (v = function (c) {
                return d(
                  z.stsd,
                  new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]),
                  "video" === c.type ? a(c) : b(c)
                );
              }),
                (a = function (a) {
                  var b,
                    c = a.sps || [],
                    e = a.pps || [],
                    f = [],
                    g = [];
                  for (b = 0; b < c.length; b++)
                    f.push((65280 & c[b].byteLength) >>> 8),
                      f.push(255 & c[b].byteLength),
                      (f = f.concat(Array.prototype.slice.call(c[b])));
                  for (b = 0; b < e.length; b++)
                    g.push((65280 & e[b].byteLength) >>> 8),
                      g.push(255 & e[b].byteLength),
                      (g = g.concat(Array.prototype.slice.call(e[b])));
                  return d(
                    z.avc1,
                    new Uint8Array([
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      (65280 & a.width) >> 8,
                      255 & a.width,
                      (65280 & a.height) >> 8,
                      255 & a.height,
                      0,
                      72,
                      0,
                      0,
                      0,
                      72,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      19,
                      118,
                      105,
                      100,
                      101,
                      111,
                      106,
                      115,
                      45,
                      99,
                      111,
                      110,
                      116,
                      114,
                      105,
                      98,
                      45,
                      104,
                      108,
                      115,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      24,
                      17,
                      17,
                    ]),
                    d(
                      z.avcC,
                      new Uint8Array(
                        [
                          1,
                          a.profileIdc,
                          a.profileCompatibility,
                          a.levelIdc,
                          255,
                        ]
                          .concat([c.length])
                          .concat(f)
                          .concat([e.length])
                          .concat(g)
                      )
                    ),
                    d(
                      z.btrt,
                      new Uint8Array([
                        0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192,
                      ])
                    )
                  );
                }),
                (b = function (a) {
                  return d(
                    z.mp4a,
                    new Uint8Array([
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      (65280 & a.channelcount) >> 8,
                      255 & a.channelcount,
                      (65280 & a.samplesize) >> 8,
                      255 & a.samplesize,
                      0,
                      0,
                      0,
                      0,
                      (65280 & a.samplerate) >> 8,
                      255 & a.samplerate,
                      0,
                      0,
                    ]),
                    f(a)
                  );
                });
            })(),
            (p = function (a) {
              var b = new Uint8Array([
                0,
                0,
                0,
                7,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                (4278190080 & a.id) >> 24,
                (16711680 & a.id) >> 16,
                (65280 & a.id) >> 8,
                255 & a.id,
                0,
                0,
                0,
                0,
                (4278190080 & a.duration) >> 24,
                (16711680 & a.duration) >> 16,
                (65280 & a.duration) >> 8,
                255 & a.duration,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                64,
                0,
                0,
                0,
                (65280 & a.width) >> 8,
                255 & a.width,
                0,
                0,
                (65280 & a.height) >> 8,
                255 & a.height,
                0,
                0,
              ]);
              return d(z.tkhd, b);
            }),
            (w = function (a) {
              var b, c, e, f, g, h, i;
              return (
                (b = d(
                  z.tfhd,
                  new Uint8Array([
                    0,
                    0,
                    0,
                    58,
                    (4278190080 & a.id) >> 24,
                    (16711680 & a.id) >> 16,
                    (65280 & a.id) >> 8,
                    255 & a.id,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                  ])
                )),
                (h = Math.floor(a.baseMediaDecodeTime / (N + 1))),
                (i = Math.floor(a.baseMediaDecodeTime % (N + 1))),
                (c = d(
                  z.tfdt,
                  new Uint8Array([
                    1,
                    0,
                    0,
                    0,
                    (h >>> 24) & 255,
                    (h >>> 16) & 255,
                    (h >>> 8) & 255,
                    255 & h,
                    (i >>> 24) & 255,
                    (i >>> 16) & 255,
                    (i >>> 8) & 255,
                    255 & i,
                  ])
                )),
                (g = 92),
                "audio" === a.type
                  ? ((e = y(a, g)), d(z.traf, b, c, e))
                  : ((f = t(a)),
                    (e = y(a, f.length + g)),
                    d(z.traf, b, c, e, f))
              );
            }),
            (o = function (a) {
              return (
                (a.duration = a.duration || 4294967295), d(z.trak, p(a), q(a))
              );
            }),
            (x = function (a) {
              var b = new Uint8Array([
                0,
                0,
                0,
                0,
                (4278190080 & a.id) >> 24,
                (16711680 & a.id) >> 16,
                (65280 & a.id) >> 8,
                255 & a.id,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                1,
              ]);
              return "video" !== a.type && (b[b.length - 1] = 0), d(z.trex, b);
            }),
            (function () {
              var a, b, c;
              (c = function (a, b) {
                var c = 0,
                  d = 0,
                  e = 0,
                  f = 0;
                return (
                  a.length &&
                    (void 0 !== a[0].duration && (c = 1),
                    void 0 !== a[0].size && (d = 2),
                    void 0 !== a[0].flags && (e = 4),
                    void 0 !== a[0].compositionTimeOffset && (f = 8)),
                  [
                    0,
                    0,
                    c | d | e | f,
                    1,
                    (4278190080 & a.length) >>> 24,
                    (16711680 & a.length) >>> 16,
                    (65280 & a.length) >>> 8,
                    255 & a.length,
                    (4278190080 & b) >>> 24,
                    (16711680 & b) >>> 16,
                    (65280 & b) >>> 8,
                    255 & b,
                  ]
                );
              }),
                (b = function (a, b) {
                  var e, f, g, h;
                  for (
                    f = a.samples || [],
                      b += 20 + 16 * f.length,
                      e = c(f, b),
                      h = 0;
                    h < f.length;
                    h++
                  )
                    (g = f[h]),
                      (e = e.concat([
                        (4278190080 & g.duration) >>> 24,
                        (16711680 & g.duration) >>> 16,
                        (65280 & g.duration) >>> 8,
                        255 & g.duration,
                        (4278190080 & g.size) >>> 24,
                        (16711680 & g.size) >>> 16,
                        (65280 & g.size) >>> 8,
                        255 & g.size,
                        (g.flags.isLeading << 2) | g.flags.dependsOn,
                        (g.flags.isDependedOn << 6) |
                          (g.flags.hasRedundancy << 4) |
                          (g.flags.paddingValue << 1) |
                          g.flags.isNonSyncSample,
                        61440 & g.flags.degradationPriority,
                        15 & g.flags.degradationPriority,
                        (4278190080 & g.compositionTimeOffset) >>> 24,
                        (16711680 & g.compositionTimeOffset) >>> 16,
                        (65280 & g.compositionTimeOffset) >>> 8,
                        255 & g.compositionTimeOffset,
                      ]));
                  return d(z.trun, new Uint8Array(e));
                }),
                (a = function (a, b) {
                  var e, f, g, h;
                  for (
                    f = a.samples || [],
                      b += 20 + 8 * f.length,
                      e = c(f, b),
                      h = 0;
                    h < f.length;
                    h++
                  )
                    (g = f[h]),
                      (e = e.concat([
                        (4278190080 & g.duration) >>> 24,
                        (16711680 & g.duration) >>> 16,
                        (65280 & g.duration) >>> 8,
                        255 & g.duration,
                        (4278190080 & g.size) >>> 24,
                        (16711680 & g.size) >>> 16,
                        (65280 & g.size) >>> 8,
                        255 & g.size,
                      ]));
                  return d(z.trun, new Uint8Array(e));
                }),
                (y = function (c, d) {
                  return "audio" === c.type ? a(c, d) : b(c, d);
                });
            })(),
            (b.exports = {
              ftyp: g,
              mdat: h,
              moof: k,
              moov: l,
              initSegment: function (a) {
                var b,
                  c = g(),
                  d = l(a);
                return (
                  (b = new Uint8Array(c.byteLength + d.byteLength)),
                  b.set(c),
                  b.set(d, c.byteLength),
                  b
                );
              },
            });
        },
        {},
      ],
      57: [
        function (a, b, c) {
          "use strict";
          var d, e, f, g;
          (d = function (a, b) {
            var c,
              f,
              g,
              h,
              i,
              j = [];
            if (!b.length) return null;
            for (c = 0; c < a.byteLength; )
              (f = a[c] << 24),
                (f |= a[c + 1] << 16),
                (f |= a[c + 2] << 8),
                (f |= a[c + 3]),
                (g = e(a.subarray(c + 4, c + 8))),
                (h = f > 1 ? c + f : a.byteLength),
                g === b[0] &&
                  (1 === b.length
                    ? j.push(a.subarray(c + 8, h))
                    : ((i = d(a.subarray(c + 8, h), b.slice(1))),
                      i.length && (j = j.concat(i)))),
                (c = h);
            return j;
          }),
            (e = function (a) {
              var b = "";
              return (
                (b += String.fromCharCode(a[0])),
                (b += String.fromCharCode(a[1])),
                (b += String.fromCharCode(a[2])),
                (b += String.fromCharCode(a[3]))
              );
            }),
            (f = function (a) {
              var b = {},
                c = d(a, ["moov", "trak"]);
              return c.reduce(function (a, b) {
                var c, e, f, g, h;
                return (c = d(b, ["tkhd"])[0])
                  ? ((e = c[0]),
                    (f = 0 === e ? 12 : 20),
                    (g =
                      (c[f] << 24) |
                      (c[f + 1] << 16) |
                      (c[f + 2] << 8) |
                      c[f + 3]),
                    (h = d(b, ["mdia", "mdhd"])[0])
                      ? ((e = h[0]),
                        (f = 0 === e ? 12 : 20),
                        (a[g] =
                          (h[f] << 24) |
                          (h[f + 1] << 16) |
                          (h[f + 2] << 8) |
                          h[f + 3]),
                        a)
                      : null)
                  : null;
              }, b);
            }),
            (g = function (a, b) {
              var c, e, f;
              return (
                (c = d(b, ["moof", "traf"])),
                (e = [].concat.apply(
                  [],
                  c.map(function (b) {
                    return d(b, ["tfhd"]).map(function (c) {
                      var e, f, g;
                      return (
                        (e = (c[4] << 24) | (c[5] << 16) | (c[6] << 8) | c[7]),
                        (f = a[e] || 9e4),
                        (g = d(b, ["tfdt"]).map(function (a) {
                          var b, c;
                          return (
                            (b = a[0]),
                            (c =
                              (a[4] << 24) | (a[5] << 16) | (a[6] << 8) | a[7]),
                            1 === b &&
                              ((c *= Math.pow(2, 32)),
                              (c +=
                                (a[8] << 24) |
                                (a[9] << 16) |
                                (a[10] << 8) |
                                a[11])),
                            c
                          );
                        })[0]),
                        (g = g || 1 / 0),
                        g / f
                      );
                    });
                  })
                )),
                (f = Math.min.apply(null, e)),
                isFinite(f) ? f : 0
              );
            }),
            (b.exports = { parseType: e, timescale: f, startTime: g });
        },
        {},
      ],
      58: [
        function (a, b, c) {
          "use strict";
          var d,
            e,
            f,
            g,
            h,
            i,
            j,
            k,
            l,
            m,
            n,
            o = a("../utils/stream.js"),
            p = a("./mp4-generator.js"),
            q = a("../m2ts/m2ts.js"),
            r = a("../codecs/adts.js"),
            s = a("../codecs/h264").H264Stream,
            t = a("../aac"),
            u = a("../data/silence"),
            v = a("../utils/clock"),
            w = [
              "audioobjecttype",
              "channelcount",
              "samplerate",
              "samplingfrequencyindex",
              "samplesize",
            ],
            x = [
              "width",
              "height",
              "profileIdc",
              "levelIdc",
              "profileCompatibility",
            ],
            y = 9e4;
          (h = function () {
            return {
              size: 0,
              flags: {
                isLeading: 0,
                dependsOn: 1,
                isDependedOn: 0,
                hasRedundancy: 0,
                degradationPriority: 0,
              },
            };
          }),
            (i = function (a) {
              return (
                a[0] === "I".charCodeAt(0) &&
                a[1] === "D".charCodeAt(0) &&
                a[2] === "3".charCodeAt(0)
              );
            }),
            (m = function (a, b) {
              var c;
              if (a.length !== b.length) return !1;
              for (c = 0; c < a.length; c++) if (a[c] !== b[c]) return !1;
              return !0;
            }),
            (n = function (a) {
              var b,
                c,
                d = 0;
              for (b = 0; b < a.length; b++)
                (c = a[b]), (d += c.data.byteLength);
              return d;
            }),
            (e = function (a) {
              var b = [],
                c = 0,
                d = 0,
                f = 0,
                g = 1 / 0;
              e.prototype.init.call(this),
                (this.push = function (c) {
                  j(a, c),
                    a &&
                      w.forEach(function (b) {
                        a[b] = c[b];
                      }),
                    b.push(c);
                }),
                (this.setEarliestDts = function (b) {
                  d = b - a.timelineStartInfo.baseMediaDecodeTime;
                }),
                (this.setVideoBaseMediaDecodeTime = function (a) {
                  g = a;
                }),
                (this.setAudioAppendStart = function (a) {
                  f = a;
                }),
                (this.flush = function () {
                  var d, e, f, g;
                  return 0 === b.length
                    ? void this.trigger("done", "AudioSegmentStream")
                    : ((d = this.trimAdtsFramesByEarliestDts_(b)),
                      (a.baseMediaDecodeTime = l(a)),
                      this.prefixWithSilence_(a, d),
                      (a.samples = this.generateSampleTable_(d)),
                      (f = p.mdat(this.concatenateFrameData_(d))),
                      (b = []),
                      (e = p.moof(c, [a])),
                      (g = new Uint8Array(e.byteLength + f.byteLength)),
                      c++,
                      g.set(e),
                      g.set(f, e.byteLength),
                      k(a),
                      this.trigger("data", { track: a, boxes: g }),
                      void this.trigger("done", "AudioSegmentStream"));
                }),
                (this.prefixWithSilence_ = function (a, b) {
                  var c,
                    d,
                    e,
                    h = 0,
                    i = 0,
                    j = 0,
                    k = 0;
                  if (
                    b.length &&
                    ((c = v.audioTsToVideoTs(
                      a.baseMediaDecodeTime,
                      a.samplerate
                    )),
                    (h = Math.ceil(y / (a.samplerate / 1024))),
                    f &&
                      g &&
                      ((i = c - Math.max(f, g)),
                      (j = Math.floor(i / h)),
                      (k = j * h)),
                    !(j < 1 || k > y / 2))
                  ) {
                    for (
                      d = u[a.samplerate], d || (d = b[0].data), e = 0;
                      e < j;
                      e++
                    )
                      b.splice(e, 0, { data: d });
                    a.baseMediaDecodeTime -= Math.floor(
                      v.videoTsToAudioTs(k, a.samplerate)
                    );
                  }
                }),
                (this.trimAdtsFramesByEarliestDts_ = function (b) {
                  return a.minSegmentDts >= d
                    ? b
                    : ((a.minSegmentDts = 1 / 0),
                      b.filter(function (b) {
                        return (
                          b.dts >= d &&
                          ((a.minSegmentDts = Math.min(a.minSegmentDts, b.dts)),
                          (a.minSegmentPts = a.minSegmentDts),
                          !0)
                        );
                      }));
                }),
                (this.generateSampleTable_ = function (a) {
                  var b,
                    c,
                    d = [];
                  for (b = 0; b < a.length; b++)
                    (c = a[b]),
                      d.push({ size: c.data.byteLength, duration: 1024 });
                  return d;
                }),
                (this.concatenateFrameData_ = function (a) {
                  var b,
                    c,
                    d = 0,
                    e = new Uint8Array(n(a));
                  for (b = 0; b < a.length; b++)
                    (c = a[b]), e.set(c.data, d), (d += c.data.byteLength);
                  return e;
                });
            }),
            (e.prototype = new o()),
            (d = function (a, b) {
              var c,
                e,
                f = 0,
                g = [],
                i = [];
              (b = b || {}),
                d.prototype.init.call(this),
                delete a.minPTS,
                (this.gopCache_ = []),
                (this.push = function (b) {
                  j(a, b),
                    "seq_parameter_set_rbsp" !== b.nalUnitType ||
                      c ||
                      ((c = b.config),
                      (a.sps = [b.data]),
                      x.forEach(function (b) {
                        a[b] = c[b];
                      }, this)),
                    "pic_parameter_set_rbsp" !== b.nalUnitType ||
                      e ||
                      ((e = b.data), (a.pps = [b.data])),
                    g.push(b);
                }),
                (this.flush = function () {
                  for (
                    var c, d, e, h, m, n;
                    g.length &&
                    "access_unit_delimiter_rbsp" !== g[0].nalUnitType;

                  )
                    g.shift();
                  if (0 === g.length)
                    return (
                      this.resetStream_(),
                      void this.trigger("done", "VideoSegmentStream")
                    );
                  if (
                    ((c = this.groupNalsIntoFrames_(g)),
                    (e = this.groupFramesIntoGops_(c)),
                    e[0][0].keyFrame ||
                      ((d = this.getGopForFusion_(g[0], a)),
                      d
                        ? (e.unshift(d),
                          (e.byteLength += d.byteLength),
                          (e.nalCount += d.nalCount),
                          (e.pts = d.pts),
                          (e.dts = d.dts),
                          (e.duration += d.duration))
                        : (e = this.extendFirstKeyFrame_(e))),
                    i.length)
                  ) {
                    var o;
                    if (
                      ((o = b.alignGopsAtEnd
                        ? this.alignGopsAtEnd_(e)
                        : this.alignGopsAtStart_(e)),
                      !o)
                    )
                      return (
                        this.gopCache_.unshift({
                          gop: e.pop(),
                          pps: a.pps,
                          sps: a.sps,
                        }),
                        (this.gopCache_.length = Math.min(
                          6,
                          this.gopCache_.length
                        )),
                        (g = []),
                        this.resetStream_(),
                        void this.trigger("done", "VideoSegmentStream")
                      );
                    k(a), (e = o);
                  }
                  j(a, e),
                    (a.samples = this.generateSampleTable_(e)),
                    (m = p.mdat(this.concatenateNalData_(e))),
                    (a.baseMediaDecodeTime = l(a)),
                    this.trigger(
                      "processedGopsInfo",
                      e.map(function (a) {
                        return {
                          pts: a.pts,
                          dts: a.dts,
                          byteLength: a.byteLength,
                        };
                      })
                    ),
                    this.gopCache_.unshift({
                      gop: e.pop(),
                      pps: a.pps,
                      sps: a.sps,
                    }),
                    (this.gopCache_.length = Math.min(
                      6,
                      this.gopCache_.length
                    )),
                    (g = []),
                    this.trigger("baseMediaDecodeTime", a.baseMediaDecodeTime),
                    this.trigger("timelineStartInfo", a.timelineStartInfo),
                    (h = p.moof(f, [a])),
                    (n = new Uint8Array(h.byteLength + m.byteLength)),
                    f++,
                    n.set(h),
                    n.set(m, h.byteLength),
                    this.trigger("data", { track: a, boxes: n }),
                    this.resetStream_(),
                    this.trigger("done", "VideoSegmentStream");
                }),
                (this.resetStream_ = function () {
                  k(a), (c = void 0), (e = void 0);
                }),
                (this.getGopForFusion_ = function (b) {
                  var c,
                    d,
                    e,
                    f,
                    g,
                    h = 45e3,
                    i = 1e4,
                    j = 1 / 0;
                  for (g = 0; g < this.gopCache_.length; g++)
                    (f = this.gopCache_[g]),
                      (e = f.gop),
                      a.pps &&
                        m(a.pps[0], f.pps[0]) &&
                        a.sps &&
                        m(a.sps[0], f.sps[0]) &&
                        (e.dts < a.timelineStartInfo.dts ||
                          ((c = b.dts - e.dts - e.duration),
                          c >= -i &&
                            c <= h &&
                            (!d || j > c) &&
                            ((d = f), (j = c))));
                  return d ? d.gop : null;
                }),
                (this.extendFirstKeyFrame_ = function (a) {
                  var b;
                  return (
                    !a[0][0].keyFrame &&
                      a.length > 1 &&
                      ((b = a.shift()),
                      (a.byteLength -= b.byteLength),
                      (a.nalCount -= b.nalCount),
                      (a[0][0].dts = b.dts),
                      (a[0][0].pts = b.pts),
                      (a[0][0].duration += b.duration)),
                    a
                  );
                }),
                (this.groupNalsIntoFrames_ = function (a) {
                  var b,
                    c,
                    d = [],
                    e = [];
                  for (d.byteLength = 0, b = 0; b < a.length; b++)
                    (c = a[b]),
                      "access_unit_delimiter_rbsp" === c.nalUnitType
                        ? (d.length &&
                            ((d.duration = c.dts - d.dts), e.push(d)),
                          (d = [c]),
                          (d.byteLength = c.data.byteLength),
                          (d.pts = c.pts),
                          (d.dts = c.dts))
                        : ("slice_layer_without_partitioning_rbsp_idr" ===
                            c.nalUnitType && (d.keyFrame = !0),
                          (d.duration = c.dts - d.dts),
                          (d.byteLength += c.data.byteLength),
                          d.push(c));
                  return (
                    e.length &&
                      (!d.duration || d.duration <= 0) &&
                      (d.duration = e[e.length - 1].duration),
                    e.push(d),
                    e
                  );
                }),
                (this.groupFramesIntoGops_ = function (a) {
                  var b,
                    c,
                    d = [],
                    e = [];
                  for (
                    d.byteLength = 0,
                      d.nalCount = 0,
                      d.duration = 0,
                      d.pts = a[0].pts,
                      d.dts = a[0].dts,
                      e.byteLength = 0,
                      e.nalCount = 0,
                      e.duration = 0,
                      e.pts = a[0].pts,
                      e.dts = a[0].dts,
                      b = 0;
                    b < a.length;
                    b++
                  )
                    (c = a[b]),
                      c.keyFrame
                        ? (d.length &&
                            (e.push(d),
                            (e.byteLength += d.byteLength),
                            (e.nalCount += d.nalCount),
                            (e.duration += d.duration)),
                          (d = [c]),
                          (d.nalCount = c.length),
                          (d.byteLength = c.byteLength),
                          (d.pts = c.pts),
                          (d.dts = c.dts),
                          (d.duration = c.duration))
                        : ((d.duration += c.duration),
                          (d.nalCount += c.length),
                          (d.byteLength += c.byteLength),
                          d.push(c));
                  return (
                    e.length &&
                      d.duration <= 0 &&
                      (d.duration = e[e.length - 1].duration),
                    (e.byteLength += d.byteLength),
                    (e.nalCount += d.nalCount),
                    (e.duration += d.duration),
                    e.push(d),
                    e
                  );
                }),
                (this.generateSampleTable_ = function (a, b) {
                  var c,
                    d,
                    e,
                    f,
                    g,
                    i = b || 0,
                    j = [];
                  for (c = 0; c < a.length; c++)
                    for (f = a[c], d = 0; d < f.length; d++)
                      (g = f[d]),
                        (e = h()),
                        (e.dataOffset = i),
                        (e.compositionTimeOffset = g.pts - g.dts),
                        (e.duration = g.duration),
                        (e.size = 4 * g.length),
                        (e.size += g.byteLength),
                        g.keyFrame && (e.flags.dependsOn = 2),
                        (i += e.size),
                        j.push(e);
                  return j;
                }),
                (this.concatenateNalData_ = function (a) {
                  var b,
                    c,
                    d,
                    e,
                    f,
                    g,
                    h = 0,
                    i = a.byteLength,
                    j = a.nalCount,
                    k = i + 4 * j,
                    l = new Uint8Array(k),
                    m = new DataView(l.buffer);
                  for (b = 0; b < a.length; b++)
                    for (e = a[b], c = 0; c < e.length; c++)
                      for (f = e[c], d = 0; d < f.length; d++)
                        (g = f[d]),
                          m.setUint32(h, g.data.byteLength),
                          (h += 4),
                          l.set(g.data, h),
                          (h += g.data.byteLength);
                  return l;
                }),
                (this.alignGopsAtStart_ = function (a) {
                  var b, c, d, e, f, g, h, j;
                  for (
                    f = a.byteLength, g = a.nalCount, h = a.duration, b = c = 0;
                    b < i.length &&
                    c < a.length &&
                    ((d = i[b]), (e = a[c]), d.pts !== e.pts);

                  )
                    e.pts > d.pts
                      ? b++
                      : (c++,
                        (f -= e.byteLength),
                        (g -= e.nalCount),
                        (h -= e.duration));
                  return 0 === c
                    ? a
                    : c === a.length
                    ? null
                    : ((j = a.slice(c)),
                      (j.byteLength = f),
                      (j.duration = h),
                      (j.nalCount = g),
                      (j.pts = j[0].pts),
                      (j.dts = j[0].dts),
                      j);
                }),
                (this.alignGopsAtEnd_ = function (a) {
                  var b, c, d, e, f, g;
                  for (
                    b = i.length - 1, c = a.length - 1, f = null, g = !1;
                    b >= 0 && c >= 0;

                  ) {
                    if (((d = i[b]), (e = a[c]), d.pts === e.pts)) {
                      g = !0;
                      break;
                    }
                    d.pts > e.pts ? b-- : (b === i.length - 1 && (f = c), c--);
                  }
                  if (!g && null === f) return null;
                  var h;
                  if (((h = g ? c : f), 0 === h)) return a;
                  var j = a.slice(h),
                    k = j.reduce(
                      function (a, b) {
                        return (
                          (a.byteLength += b.byteLength),
                          (a.duration += b.duration),
                          (a.nalCount += b.nalCount),
                          a
                        );
                      },
                      { byteLength: 0, duration: 0, nalCount: 0 }
                    );
                  return (
                    (j.byteLength = k.byteLength),
                    (j.duration = k.duration),
                    (j.nalCount = k.nalCount),
                    (j.pts = j[0].pts),
                    (j.dts = j[0].dts),
                    j
                  );
                }),
                (this.alignGopsWith = function (a) {
                  i = a;
                });
            }),
            (d.prototype = new o()),
            (j = function (a, b) {
              "number" == typeof b.pts &&
                (void 0 === a.timelineStartInfo.pts &&
                  (a.timelineStartInfo.pts = b.pts),
                void 0 === a.minSegmentPts
                  ? (a.minSegmentPts = b.pts)
                  : (a.minSegmentPts = Math.min(a.minSegmentPts, b.pts)),
                void 0 === a.maxSegmentPts
                  ? (a.maxSegmentPts = b.pts)
                  : (a.maxSegmentPts = Math.max(a.maxSegmentPts, b.pts))),
                "number" == typeof b.dts &&
                  (void 0 === a.timelineStartInfo.dts &&
                    (a.timelineStartInfo.dts = b.dts),
                  void 0 === a.minSegmentDts
                    ? (a.minSegmentDts = b.dts)
                    : (a.minSegmentDts = Math.min(a.minSegmentDts, b.dts)),
                  void 0 === a.maxSegmentDts
                    ? (a.maxSegmentDts = b.dts)
                    : (a.maxSegmentDts = Math.max(a.maxSegmentDts, b.dts)));
            }),
            (k = function (a) {
              delete a.minSegmentDts,
                delete a.maxSegmentDts,
                delete a.minSegmentPts,
                delete a.maxSegmentPts;
            }),
            (l = function (a) {
              var b,
                c,
                d = a.minSegmentDts - a.timelineStartInfo.dts;
              return (
                (b = a.timelineStartInfo.baseMediaDecodeTime),
                (b += d),
                (b = Math.max(0, b)),
                "audio" === a.type &&
                  ((c = a.samplerate / y), (b *= c), (b = Math.floor(b))),
                b
              );
            }),
            (g = function (a, b) {
              (this.numberOfTracks = 0),
                (this.metadataStream = b),
                "undefined" != typeof a.remux
                  ? (this.remuxTracks = !!a.remux)
                  : (this.remuxTracks = !0),
                (this.pendingTracks = []),
                (this.videoTrack = null),
                (this.pendingBoxes = []),
                (this.pendingCaptions = []),
                (this.pendingMetadata = []),
                (this.pendingBytes = 0),
                (this.emittedTracks = 0),
                g.prototype.init.call(this),
                (this.push = function (a) {
                  return a.text
                    ? this.pendingCaptions.push(a)
                    : a.frames
                    ? this.pendingMetadata.push(a)
                    : (this.pendingTracks.push(a.track),
                      this.pendingBoxes.push(a.boxes),
                      (this.pendingBytes += a.boxes.byteLength),
                      "video" === a.track.type && (this.videoTrack = a.track),
                      void (
                        "audio" === a.track.type && (this.audioTrack = a.track)
                      ));
                });
            }),
            (g.prototype = new o()),
            (g.prototype.flush = function (a) {
              var b,
                c,
                d,
                e,
                f = 0,
                g = {
                  captions: [],
                  captionStreams: {},
                  metadata: [],
                  info: {},
                },
                h = 0;
              if (this.pendingTracks.length < this.numberOfTracks) {
                if ("VideoSegmentStream" !== a && "AudioSegmentStream" !== a)
                  return;
                if (this.remuxTracks) return;
                if (0 === this.pendingTracks.length)
                  return (
                    this.emittedTracks++,
                    void (
                      this.emittedTracks >= this.numberOfTracks &&
                      (this.trigger("done"), (this.emittedTracks = 0))
                    )
                  );
              }
              for (
                this.videoTrack
                  ? ((h = this.videoTrack.timelineStartInfo.pts),
                    x.forEach(function (a) {
                      g.info[a] = this.videoTrack[a];
                    }, this))
                  : this.audioTrack &&
                    ((h = this.audioTrack.timelineStartInfo.pts),
                    w.forEach(function (a) {
                      g.info[a] = this.audioTrack[a];
                    }, this)),
                  1 === this.pendingTracks.length
                    ? (g.type = this.pendingTracks[0].type)
                    : (g.type = "combined"),
                  this.emittedTracks += this.pendingTracks.length,
                  d = p.initSegment(this.pendingTracks),
                  g.initSegment = new Uint8Array(d.byteLength),
                  g.initSegment.set(d),
                  g.data = new Uint8Array(this.pendingBytes),
                  e = 0;
                e < this.pendingBoxes.length;
                e++
              )
                g.data.set(this.pendingBoxes[e], f),
                  (f += this.pendingBoxes[e].byteLength);
              for (e = 0; e < this.pendingCaptions.length; e++)
                (b = this.pendingCaptions[e]),
                  (b.startTime = b.startPts - h),
                  (b.startTime /= 9e4),
                  (b.endTime = b.endPts - h),
                  (b.endTime /= 9e4),
                  (g.captionStreams[b.stream] = !0),
                  g.captions.push(b);
              for (e = 0; e < this.pendingMetadata.length; e++)
                (c = this.pendingMetadata[e]),
                  (c.cueTime = c.pts - h),
                  (c.cueTime /= 9e4),
                  g.metadata.push(c);
              (g.metadata.dispatchType = this.metadataStream.dispatchType),
                (this.pendingTracks.length = 0),
                (this.videoTrack = null),
                (this.pendingBoxes.length = 0),
                (this.pendingCaptions.length = 0),
                (this.pendingBytes = 0),
                (this.pendingMetadata.length = 0),
                this.trigger("data", g),
                this.emittedTracks >= this.numberOfTracks &&
                  (this.trigger("done"), (this.emittedTracks = 0));
            }),
            (f = function (a) {
              var b,
                c,
                h = this,
                j = !0;
              f.prototype.init.call(this),
                (a = a || {}),
                (this.baseMediaDecodeTime = a.baseMediaDecodeTime || 0),
                (this.transmuxPipeline_ = {}),
                (this.setupAacPipeline = function () {
                  var b = {};
                  (this.transmuxPipeline_ = b),
                    (b.type = "aac"),
                    (b.metadataStream = new q.MetadataStream()),
                    (b.aacStream = new t()),
                    (b.audioTimestampRolloverStream =
                      new q.TimestampRolloverStream("audio")),
                    (b.timedMetadataTimestampRolloverStream =
                      new q.TimestampRolloverStream("timed-metadata")),
                    (b.adtsStream = new r()),
                    (b.coalesceStream = new g(a, b.metadataStream)),
                    (b.headOfPipeline = b.aacStream),
                    b.aacStream
                      .pipe(b.audioTimestampRolloverStream)
                      .pipe(b.adtsStream),
                    b.aacStream
                      .pipe(b.timedMetadataTimestampRolloverStream)
                      .pipe(b.metadataStream)
                      .pipe(b.coalesceStream),
                    b.metadataStream.on("timestamp", function (a) {
                      b.aacStream.setTimestamp(a.timeStamp);
                    }),
                    b.aacStream.on("data", function (a) {
                      "timed-metadata" !== a.type ||
                        b.audioSegmentStream ||
                        ((c = c || {
                          timelineStartInfo: {
                            baseMediaDecodeTime: h.baseMediaDecodeTime,
                          },
                          codec: "adts",
                          type: "audio",
                        }),
                        b.coalesceStream.numberOfTracks++,
                        (b.audioSegmentStream = new e(c)),
                        b.adtsStream
                          .pipe(b.audioSegmentStream)
                          .pipe(b.coalesceStream));
                    }),
                    b.coalesceStream.on(
                      "data",
                      this.trigger.bind(this, "data")
                    ),
                    b.coalesceStream.on(
                      "done",
                      this.trigger.bind(this, "done")
                    );
                }),
                (this.setupTsPipeline = function () {
                  var f = {};
                  (this.transmuxPipeline_ = f),
                    (f.type = "ts"),
                    (f.metadataStream = new q.MetadataStream()),
                    (f.packetStream = new q.TransportPacketStream()),
                    (f.parseStream = new q.TransportParseStream()),
                    (f.elementaryStream = new q.ElementaryStream()),
                    (f.videoTimestampRolloverStream =
                      new q.TimestampRolloverStream("video")),
                    (f.audioTimestampRolloverStream =
                      new q.TimestampRolloverStream("audio")),
                    (f.timedMetadataTimestampRolloverStream =
                      new q.TimestampRolloverStream("timed-metadata")),
                    (f.adtsStream = new r()),
                    (f.h264Stream = new s()),
                    (f.captionStream = new q.CaptionStream()),
                    (f.coalesceStream = new g(a, f.metadataStream)),
                    (f.headOfPipeline = f.packetStream),
                    f.packetStream.pipe(f.parseStream).pipe(f.elementaryStream),
                    f.elementaryStream
                      .pipe(f.videoTimestampRolloverStream)
                      .pipe(f.h264Stream),
                    f.elementaryStream
                      .pipe(f.audioTimestampRolloverStream)
                      .pipe(f.adtsStream),
                    f.elementaryStream
                      .pipe(f.timedMetadataTimestampRolloverStream)
                      .pipe(f.metadataStream)
                      .pipe(f.coalesceStream),
                    f.h264Stream.pipe(f.captionStream).pipe(f.coalesceStream),
                    f.elementaryStream.on("data", function (g) {
                      var i;
                      if ("metadata" === g.type) {
                        for (i = g.tracks.length; i--; )
                          b || "video" !== g.tracks[i].type
                            ? c ||
                              "audio" !== g.tracks[i].type ||
                              ((c = g.tracks[i]),
                              (c.timelineStartInfo.baseMediaDecodeTime =
                                h.baseMediaDecodeTime))
                            : ((b = g.tracks[i]),
                              (b.timelineStartInfo.baseMediaDecodeTime =
                                h.baseMediaDecodeTime));
                        b &&
                          !f.videoSegmentStream &&
                          (f.coalesceStream.numberOfTracks++,
                          (f.videoSegmentStream = new d(b, a)),
                          f.videoSegmentStream.on(
                            "timelineStartInfo",
                            function (a) {
                              c &&
                                ((c.timelineStartInfo = a),
                                f.audioSegmentStream.setEarliestDts(a.dts));
                            }
                          ),
                          f.videoSegmentStream.on(
                            "processedGopsInfo",
                            h.trigger.bind(h, "gopInfo")
                          ),
                          f.videoSegmentStream.on(
                            "baseMediaDecodeTime",
                            function (a) {
                              c &&
                                f.audioSegmentStream.setVideoBaseMediaDecodeTime(
                                  a
                                );
                            }
                          ),
                          f.h264Stream
                            .pipe(f.videoSegmentStream)
                            .pipe(f.coalesceStream)),
                          c &&
                            !f.audioSegmentStream &&
                            (f.coalesceStream.numberOfTracks++,
                            (f.audioSegmentStream = new e(c)),
                            f.adtsStream
                              .pipe(f.audioSegmentStream)
                              .pipe(f.coalesceStream));
                      }
                    }),
                    f.coalesceStream.on(
                      "data",
                      this.trigger.bind(this, "data")
                    ),
                    f.coalesceStream.on(
                      "done",
                      this.trigger.bind(this, "done")
                    );
                }),
                (this.setBaseMediaDecodeTime = function (a) {
                  var d = this.transmuxPipeline_;
                  (this.baseMediaDecodeTime = a),
                    c &&
                      ((c.timelineStartInfo.dts = void 0),
                      (c.timelineStartInfo.pts = void 0),
                      k(c),
                      (c.timelineStartInfo.baseMediaDecodeTime = a),
                      d.audioTimestampRolloverStream &&
                        d.audioTimestampRolloverStream.discontinuity()),
                    b &&
                      (d.videoSegmentStream &&
                        ((d.videoSegmentStream.gopCache_ = []),
                        d.videoTimestampRolloverStream.discontinuity()),
                      (b.timelineStartInfo.dts = void 0),
                      (b.timelineStartInfo.pts = void 0),
                      k(b),
                      d.captionStream.reset(),
                      (b.timelineStartInfo.baseMediaDecodeTime = a)),
                    d.timedMetadataTimestampRolloverStream &&
                      d.timedMetadataTimestampRolloverStream.discontinuity();
                }),
                (this.setAudioAppendStart = function (a) {
                  c &&
                    this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(
                      a
                    );
                }),
                (this.alignGopsWith = function (a) {
                  b &&
                    this.transmuxPipeline_.videoSegmentStream &&
                    this.transmuxPipeline_.videoSegmentStream.alignGopsWith(a);
                }),
                (this.push = function (a) {
                  if (j) {
                    var b = i(a);
                    b && "aac" !== this.transmuxPipeline_.type
                      ? this.setupAacPipeline()
                      : b ||
                        "ts" === this.transmuxPipeline_.type ||
                        this.setupTsPipeline(),
                      (j = !1);
                  }
                  this.transmuxPipeline_.headOfPipeline.push(a);
                }),
                (this.flush = function () {
                  (j = !0), this.transmuxPipeline_.headOfPipeline.flush();
                }),
                (this.resetCaptions = function () {
                  this.transmuxPipeline_.captionStream &&
                    this.transmuxPipeline_.captionStream.reset();
                });
            }),
            (f.prototype = new o()),
            (b.exports = {
              Transmuxer: f,
              VideoSegmentStream: d,
              AudioSegmentStream: e,
              AUDIO_PROPERTIES: w,
              VIDEO_PROPERTIES: x,
            });
        },
        {
          "../aac": 38,
          "../codecs/adts.js": 40,
          "../codecs/h264": 41,
          "../data/silence": 42,
          "../m2ts/m2ts.js": 50,
          "../utils/clock": 60,
          "../utils/stream.js": 62,
          "./mp4-generator.js": 56,
        },
      ],
      59: [
        function (a, b, c) {
          "use strict";
          var d = a("../m2ts/stream-types.js"),
            e = a("../m2ts/timestamp-rollover-stream.js").handleRollover,
            f = {};
          (f.ts = a("../m2ts/probe.js")), (f.aac = a("../aac/probe.js"));
          var g = 9e4,
            h = 188,
            i = 71,
            j = function (a) {
              return (
                a[0] === "I".charCodeAt(0) &&
                a[1] === "D".charCodeAt(0) &&
                a[2] === "3".charCodeAt(0)
              );
            },
            k = function (a, b) {
              for (var c, d, e = 0, g = h; g < a.byteLength; )
                if (a[e] !== i || a[g] !== i) e++, g++;
                else {
                  switch (
                    ((c = a.subarray(e, g)), (d = f.ts.parseType(c, b.pid)))
                  ) {
                    case "pat":
                      b.pid || (b.pid = f.ts.parsePat(c));
                      break;
                    case "pmt":
                      b.table || (b.table = f.ts.parsePmt(c));
                  }
                  if (b.pid && b.table) return;
                  (e += h), (g += h);
                }
            },
            l = function (a, b, c) {
              for (var d, e, g, j, k, l = 0, m = h, n = !1; m < a.byteLength; )
                if (a[l] !== i || a[m] !== i) l++, m++;
                else {
                  switch (
                    ((d = a.subarray(l, m)), (e = f.ts.parseType(d, b.pid)))
                  ) {
                    case "pes":
                      (g = f.ts.parsePesType(d, b.table)),
                        (j = f.ts.parsePayloadUnitStartIndicator(d)),
                        "audio" === g &&
                          j &&
                          ((k = f.ts.parsePesTime(d)),
                          k && ((k.type = "audio"), c.audio.push(k), (n = !0)));
                  }
                  if (n) break;
                  (l += h), (m += h);
                }
              for (m = a.byteLength, l = m - h, n = !1; l >= 0; )
                if (a[l] !== i || a[m] !== i) l--, m--;
                else {
                  switch (
                    ((d = a.subarray(l, m)), (e = f.ts.parseType(d, b.pid)))
                  ) {
                    case "pes":
                      (g = f.ts.parsePesType(d, b.table)),
                        (j = f.ts.parsePayloadUnitStartIndicator(d)),
                        "audio" === g &&
                          j &&
                          ((k = f.ts.parsePesTime(d)),
                          k && ((k.type = "audio"), c.audio.push(k), (n = !0)));
                  }
                  if (n) break;
                  (l -= h), (m -= h);
                }
            },
            m = function (a, b, c) {
              for (
                var d,
                  e,
                  g,
                  j,
                  k,
                  l,
                  m,
                  n,
                  o = 0,
                  p = h,
                  q = !1,
                  r = { data: [], size: 0 };
                p < a.byteLength;

              )
                if (a[o] !== i || a[p] !== i) o++, p++;
                else {
                  switch (
                    ((d = a.subarray(o, p)), (e = f.ts.parseType(d, b.pid)))
                  ) {
                    case "pes":
                      if (
                        ((g = f.ts.parsePesType(d, b.table)),
                        (j = f.ts.parsePayloadUnitStartIndicator(d)),
                        "video" === g &&
                          (j &&
                            !q &&
                            ((k = f.ts.parsePesTime(d)),
                            k &&
                              ((k.type = "video"), c.video.push(k), (q = !0))),
                          !c.firstKeyFrame))
                      ) {
                        if (j && 0 !== r.size) {
                          for (
                            l = new Uint8Array(r.size), m = 0;
                            r.data.length;

                          )
                            (n = r.data.shift()),
                              l.set(n, m),
                              (m += n.byteLength);
                          f.ts.videoPacketContainsKeyFrame(l) &&
                            ((c.firstKeyFrame = f.ts.parsePesTime(l)),
                            (c.firstKeyFrame.type = "video")),
                            (r.size = 0);
                        }
                        r.data.push(d), (r.size += d.byteLength);
                      }
                  }
                  if (q && c.firstKeyFrame) break;
                  (o += h), (p += h);
                }
              for (p = a.byteLength, o = p - h, q = !1; o >= 0; )
                if (a[o] !== i || a[p] !== i) o--, p--;
                else {
                  switch (
                    ((d = a.subarray(o, p)), (e = f.ts.parseType(d, b.pid)))
                  ) {
                    case "pes":
                      (g = f.ts.parsePesType(d, b.table)),
                        (j = f.ts.parsePayloadUnitStartIndicator(d)),
                        "video" === g &&
                          j &&
                          ((k = f.ts.parsePesTime(d)),
                          k && ((k.type = "video"), c.video.push(k), (q = !0)));
                  }
                  if (q) break;
                  (o -= h), (p -= h);
                }
            },
            n = function (a, b) {
              if (a.audio && a.audio.length) {
                var c = b;
                "undefined" == typeof c && (c = a.audio[0].dts),
                  a.audio.forEach(function (a) {
                    (a.dts = e(a.dts, c)),
                      (a.pts = e(a.pts, c)),
                      (a.dtsTime = a.dts / g),
                      (a.ptsTime = a.pts / g);
                  });
              }
              if (a.video && a.video.length) {
                var d = b;
                if (
                  ("undefined" == typeof d && (d = a.video[0].dts),
                  a.video.forEach(function (a) {
                    (a.dts = e(a.dts, d)),
                      (a.pts = e(a.pts, d)),
                      (a.dtsTime = a.dts / g),
                      (a.ptsTime = a.pts / g);
                  }),
                  a.firstKeyFrame)
                ) {
                  var f = a.firstKeyFrame;
                  (f.dts = e(f.dts, d)),
                    (f.pts = e(f.pts, d)),
                    (f.dtsTime = f.dts / g),
                    (f.ptsTime = f.dts / g);
                }
              }
            },
            o = function (a) {
              for (
                var b, c = !1, d = 0, e = null, h = null, i = 0, j = 0;
                a.length - j >= 3;

              ) {
                var k = f.aac.parseType(a, j);
                switch (k) {
                  case "timed-metadata":
                    if (a.length - j < 10) {
                      c = !0;
                      break;
                    }
                    if (((i = f.aac.parseId3TagSize(a, j)), i > a.length)) {
                      c = !0;
                      break;
                    }
                    null === h &&
                      ((b = a.subarray(j, j + i)),
                      (h = f.aac.parseAacTimestamp(b))),
                      (j += i);
                    break;
                  case "audio":
                    if (a.length - j < 7) {
                      c = !0;
                      break;
                    }
                    if (((i = f.aac.parseAdtsSize(a, j)), i > a.length)) {
                      c = !0;
                      break;
                    }
                    null === e &&
                      ((b = a.subarray(j, j + i)),
                      (e = f.aac.parseSampleRate(b))),
                      d++,
                      (j += i);
                    break;
                  default:
                    j++;
                }
                if (c) return null;
              }
              if (null === e || null === h) return null;
              var l = g / e,
                m = {
                  audio: [
                    { type: "audio", dts: h, pts: h },
                    {
                      type: "audio",
                      dts: h + 1024 * d * l,
                      pts: h + 1024 * d * l,
                    },
                  ],
                };
              return m;
            },
            p = function (a) {
              var b = { pid: null, table: null },
                c = {};
              k(a, b);
              for (var e in b.table)
                if (b.table.hasOwnProperty(e)) {
                  var f = b.table[e];
                  switch (f) {
                    case d.H264_STREAM_TYPE:
                      (c.video = []),
                        m(a, b, c),
                        0 === c.video.length && delete c.video;
                      break;
                    case d.ADTS_STREAM_TYPE:
                      (c.audio = []),
                        l(a, b, c),
                        0 === c.audio.length && delete c.audio;
                  }
                }
              return c;
            },
            q = function (a, b) {
              var c,
                d = j(a);
              return (
                (c = d ? o(a) : p(a)),
                c && (c.audio || c.video) ? (n(c, b), c) : null
              );
            };
          b.exports = { inspect: q };
        },
        {
          "../aac/probe.js": 39,
          "../m2ts/probe.js": 52,
          "../m2ts/stream-types.js": 53,
          "../m2ts/timestamp-rollover-stream.js": 54,
        },
      ],
      60: [
        function (a, b, c) {
          var d,
            e,
            f,
            g,
            h,
            i,
            j = 9e4;
          (d = function (a) {
            return a * j;
          }),
            (e = function (a, b) {
              return a * b;
            }),
            (f = function (a) {
              return a / j;
            }),
            (g = function (a, b) {
              return a / b;
            }),
            (h = function (a, b) {
              return d(g(a, b));
            }),
            (i = function (a, b) {
              return e(f(a), b);
            }),
            (b.exports = {
              secondsToVideoTs: d,
              secondsToAudioTs: e,
              videoTsToSeconds: f,
              audioTsToSeconds: g,
              audioTsToVideoTs: h,
              videoTsToAudioTs: i,
            });
        },
        {},
      ],
      61: [
        function (a, b, c) {
          "use strict";
          var d;
          (d = function (a) {
            var b = a.byteLength,
              c = 0,
              d = 0;
            (this.length = function () {
              return 8 * b;
            }),
              (this.bitsAvailable = function () {
                return 8 * b + d;
              }),
              (this.loadWord = function () {
                var e = a.byteLength - b,
                  f = new Uint8Array(4),
                  g = Math.min(4, b);
                if (0 === g) throw new Error("no bytes available");
                f.set(a.subarray(e, e + g)),
                  (c = new DataView(f.buffer).getUint32(0)),
                  (d = 8 * g),
                  (b -= g);
              }),
              (this.skipBits = function (a) {
                var e;
                d > a
                  ? ((c <<= a), (d -= a))
                  : ((a -= d),
                    (e = Math.floor(a / 8)),
                    (a -= 8 * e),
                    (b -= e),
                    this.loadWord(),
                    (c <<= a),
                    (d -= a));
              }),
              (this.readBits = function (a) {
                var e = Math.min(d, a),
                  f = c >>> (32 - e);
                return (
                  (d -= e),
                  d > 0 ? (c <<= e) : b > 0 && this.loadWord(),
                  (e = a - e),
                  e > 0 ? (f << e) | this.readBits(e) : f
                );
              }),
              (this.skipLeadingZeros = function () {
                var a;
                for (a = 0; a < d; ++a)
                  if (0 !== (c & (2147483648 >>> a)))
                    return (c <<= a), (d -= a), a;
                return this.loadWord(), a + this.skipLeadingZeros();
              }),
              (this.skipUnsignedExpGolomb = function () {
                this.skipBits(1 + this.skipLeadingZeros());
              }),
              (this.skipExpGolomb = function () {
                this.skipBits(1 + this.skipLeadingZeros());
              }),
              (this.readUnsignedExpGolomb = function () {
                var a = this.skipLeadingZeros();
                return this.readBits(a + 1) - 1;
              }),
              (this.readExpGolomb = function () {
                var a = this.readUnsignedExpGolomb();
                return 1 & a ? (1 + a) >>> 1 : -1 * (a >>> 1);
              }),
              (this.readBoolean = function () {
                return 1 === this.readBits(1);
              }),
              (this.readUnsignedByte = function () {
                return this.readBits(8);
              }),
              this.loadWord();
          }),
            (b.exports = d);
        },
        {},
      ],
      62: [
        function (a, b, c) {
          "use strict";
          var d = function () {
            this.init = function () {
              var a = {};
              (this.on = function (b, c) {
                a[b] || (a[b] = []), (a[b] = a[b].concat(c));
              }),
                (this.off = function (b, c) {
                  var d;
                  return (
                    !!a[b] &&
                    ((d = a[b].indexOf(c)),
                    (a[b] = a[b].slice()),
                    a[b].splice(d, 1),
                    d > -1)
                  );
                }),
                (this.trigger = function (b) {
                  var c, d, e, f;
                  if ((c = a[b]))
                    if (2 === arguments.length)
                      for (e = c.length, d = 0; d < e; ++d)
                        c[d].call(this, arguments[1]);
                    else {
                      for (
                        f = [], d = arguments.length, d = 1;
                        d < arguments.length;
                        ++d
                      )
                        f.push(arguments[d]);
                      for (e = c.length, d = 0; d < e; ++d) c[d].apply(this, f);
                    }
                }),
                (this.dispose = function () {
                  a = {};
                });
            };
          };
          (d.prototype.pipe = function (a) {
            return (
              this.on("data", function (b) {
                a.push(b);
              }),
              this.on("done", function (b) {
                a.flush(b);
              }),
              a
            );
          }),
            (d.prototype.push = function (a) {
              this.trigger("data", a);
            }),
            (d.prototype.flush = function (a) {
              this.trigger("done", a);
            }),
            (b.exports = d);
        },
        {},
      ],
      63: [
        function (b, c, d) {
          !(function (b) {
            var e =
                /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,
              f = /^([^\/;?#]*)(.*)$/,
              g = /(?:\/|^)\.(?=\/)/g,
              h = /(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,
              i = {
                buildAbsoluteURL: function (a, b, c) {
                  if (((c = c || {}), (a = a.trim()), (b = b.trim()), !b)) {
                    if (!c.alwaysNormalize) return a;
                    var d = this.parseURL(a);
                    if (!d) throw new Error("Error trying to parse base URL.");
                    return (
                      (d.path = i.normalizePath(d.path)), i.buildURLFromParts(d)
                    );
                  }
                  var e = this.parseURL(b);
                  if (!e)
                    throw new Error("Error trying to parse relative URL.");
                  if (e.scheme)
                    return c.alwaysNormalize
                      ? ((e.path = i.normalizePath(e.path)),
                        i.buildURLFromParts(e))
                      : b;
                  var g = this.parseURL(a);
                  if (!g) throw new Error("Error trying to parse base URL.");
                  if (!g.netLoc && g.path && "/" !== g.path[0]) {
                    var h = f.exec(g.path);
                    (g.netLoc = h[1]), (g.path = h[2]);
                  }
                  g.netLoc && !g.path && (g.path = "/");
                  var j = {
                    scheme: g.scheme,
                    netLoc: e.netLoc,
                    path: null,
                    params: e.params,
                    query: e.query,
                    fragment: e.fragment,
                  };
                  if (!e.netLoc && ((j.netLoc = g.netLoc), "/" !== e.path[0]))
                    if (e.path) {
                      var k = g.path,
                        l = k.substring(0, k.lastIndexOf("/") + 1) + e.path;
                      j.path = i.normalizePath(l);
                    } else
                      (j.path = g.path),
                        e.params ||
                          ((j.params = g.params),
                          e.query || (j.query = g.query));
                  return (
                    null === j.path &&
                      (j.path = c.alwaysNormalize
                        ? i.normalizePath(e.path)
                        : e.path),
                    i.buildURLFromParts(j)
                  );
                },
                parseURL: function (a) {
                  var b = e.exec(a);
                  return b
                    ? {
                        scheme: b[1] || "",
                        netLoc: b[2] || "",
                        path: b[3] || "",
                        params: b[4] || "",
                        query: b[5] || "",
                        fragment: b[6] || "",
                      }
                    : null;
                },
                normalizePath: function (a) {
                  for (
                    a = a.split("").reverse().join("").replace(g, "");
                    a.length !== (a = a.replace(h, "")).length;

                  );
                  return a.split("").reverse().join("");
                },
                buildURLFromParts: function (a) {
                  return (
                    a.scheme +
                    a.netLoc +
                    a.path +
                    a.params +
                    a.query +
                    a.fragment
                  );
                },
              };
            "object" == typeof d && "object" == typeof c
              ? (c.exports = i)
              : "function" == typeof a && a.amd
              ? a([], function () {
                  return i;
                })
              : "object" == typeof d
              ? (d.URLToolkit = i)
              : (b.URLToolkit = i);
          })(this);
        },
        {},
      ],
      64: [
        function (a, b, c) {
          (function (d) {
            "use strict";
            function e(a) {
              return a && a.__esModule ? a : { default: a };
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var f = a("global/window"),
              g = e(f),
              h =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof d
                  ? d.videojs
                  : null,
              i = e(h),
              j = function (a) {
                Object.defineProperties(a.frame, {
                  id: {
                    get: function () {
                      return (
                        i["default"].log.warn(
                          "cue.frame.id is deprecated. Use cue.value.key instead."
                        ),
                        a.value.key
                      );
                    },
                  },
                  value: {
                    get: function () {
                      return (
                        i["default"].log.warn(
                          "cue.frame.value is deprecated. Use cue.value.data instead."
                        ),
                        a.value.data
                      );
                    },
                  },
                  privateData: {
                    get: function () {
                      return (
                        i["default"].log.warn(
                          "cue.frame.privateData is deprecated. Use cue.value.data instead."
                        ),
                        a.value.data
                      );
                    },
                  },
                });
              },
              k = function (a) {
                var b = void 0;
                return (b =
                  isNaN(a) || Math.abs(a) === 1 / 0 ? Number.MAX_VALUE : a);
              },
              l = function (a, b, c) {
                var d = g["default"].WebKitDataCue || g["default"].VTTCue;
                b &&
                  b.forEach(function (a) {
                    var b = a.stream;
                    this.inbandTextTracks_[b].addCue(
                      new d(
                        a.startTime + this.timestampOffset,
                        a.endTime + this.timestampOffset,
                        a.text
                      )
                    );
                  }, a),
                  c &&
                    !(function () {
                      var b = k(a.mediaSource_.duration);
                      c.forEach(function (a) {
                        var b = a.cueTime + this.timestampOffset;
                        a.frames.forEach(function (a) {
                          var c = new d(b, b, a.value || a.url || a.data || "");
                          (c.frame = a),
                            (c.value = a),
                            j(c),
                            this.metadataTrack_.addCue(c);
                        }, this);
                      }, a),
                        a.metadataTrack_ &&
                          a.metadataTrack_.cues &&
                          a.metadataTrack_.cues.length &&
                          !(function () {
                            for (
                              var c = a.metadataTrack_.cues, d = [], e = 0;
                              e < c.length;
                              e++
                            )
                              c[e] && d.push(c[e]);
                            var f = d.reduce(function (a, b) {
                                var c = a[b.startTime] || [];
                                return c.push(b), (a[b.startTime] = c), a;
                              }, {}),
                              g = Object.keys(f).sort(function (a, b) {
                                return Number(a) - Number(b);
                              });
                            g.forEach(function (a, c) {
                              var d = f[a],
                                e = Number(g[c + 1]) || b;
                              d.forEach(function (a) {
                                a.endTime = e;
                              });
                            });
                          })();
                    })();
              };
            (c["default"] = { addTextTrackData: l, durationOfVideo: k }),
              (b.exports = c["default"]);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        { "global/window": 32 },
      ],
      65: [
        function (a, b, c) {
          "use strict";
          Object.defineProperty(c, "__esModule", { value: !0 });
          var d = function (a) {
              return /mp4a\.\d+.\d+/i.test(a);
            },
            e = function (a) {
              return /avc1\.[\da-f]+/i.test(a);
            },
            f = function (a) {
              var b = { type: "", parameters: {} },
                c = a.trim().split(";");
              return (
                (b.type = c.shift().trim()),
                c.forEach(function (a) {
                  var c = a.trim().split("=");
                  if (c.length > 1) {
                    var d = c[0].replace(/"/g, "").trim(),
                      e = c[1].replace(/"/g, "").trim();
                    b.parameters[d] = e;
                  }
                }),
                b
              );
            },
            g = function (a) {
              return a.map(function (a) {
                return a.replace(/avc1\.(\d+)\.(\d+)/i, function (a, b, c) {
                  var d = ("00" + Number(b).toString(16)).slice(-2),
                    e = ("00" + Number(c).toString(16)).slice(-2);
                  return "avc1." + d + "00" + e;
                });
              });
            };
          (c["default"] = {
            isAudioCodec: d,
            parseContentType: f,
            isVideoCodec: e,
            translateLegacyCodecs: g,
          }),
            (b.exports = c["default"]);
        },
        {},
      ],
      66: [
        function (a, b, c) {
          "use strict";
          Object.defineProperty(c, "__esModule", { value: !0 });
          var d = function (a, b, c) {
            var d = b.player_;
            if (c.captions && c.captions.length) {
              a.inbandTextTracks_ || (a.inbandTextTracks_ = {});
              for (var e in c.captionStreams)
                if (!a.inbandTextTracks_[e]) {
                  d.tech_.trigger({ type: "usage", name: "hls-608" });
                  var f = d.textTracks().getTrackById(e);
                  f
                    ? (a.inbandTextTracks_[e] = f)
                    : (a.inbandTextTracks_[e] = d.addRemoteTextTrack(
                        { kind: "captions", id: e, label: e },
                        !1
                      ).track);
                }
            }
            c.metadata &&
              c.metadata.length &&
              !a.metadataTrack_ &&
              ((a.metadataTrack_ = d.addRemoteTextTrack(
                { kind: "metadata", label: "Timed Metadata" },
                !1
              ).track),
              (a.metadataTrack_.inBandMetadataTrackDispatchType =
                c.metadata.dispatchType));
          };
          (c["default"] = d), (b.exports = c["default"]);
        },
        {},
      ],
      67: [
        function (a, b, c) {
          "use strict";
          Object.defineProperty(c, "__esModule", { value: !0 });
          var d = { TIME_BETWEEN_CHUNKS: 1, BYTES_PER_CHUNK: 32768 };
          (c["default"] = d), (b.exports = c["default"]);
        },
        {},
      ],
      68: [
        function (a, b, c) {
          (function (d) {
            "use strict";
            function e(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function f(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            function g(a, b) {
              if ("function" != typeof b && null !== b)
                throw new TypeError(
                  "Super expression must either be null or a function, not " +
                    typeof b
                );
              (a.prototype = Object.create(b && b.prototype, {
                constructor: {
                  value: a,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                b &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(a, b)
                    : (a.__proto__ = b));
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var h = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              i = function (a, b, c) {
                for (var d = !0; d; ) {
                  var e = a,
                    f = b,
                    g = c;
                  (d = !1), null === e && (e = Function.prototype);
                  var h = Object.getOwnPropertyDescriptor(e, f);
                  if (void 0 !== h) {
                    if ("value" in h) return h.value;
                    var i = h.get;
                    if (void 0 === i) return;
                    return i.call(g);
                  }
                  var j = Object.getPrototypeOf(e);
                  if (null === j) return;
                  (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
                }
              },
              j = a("global/document"),
              k = e(j),
              l =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof d
                  ? d.videojs
                  : null,
              m = e(l),
              n = a("./flash-source-buffer"),
              o = e(n),
              p = a("./flash-constants"),
              q = e(p),
              r = a("./codec-utils"),
              s = (function (a) {
                function b() {
                  var a = this;
                  f(this, b),
                    i(
                      Object.getPrototypeOf(b.prototype),
                      "constructor",
                      this
                    ).call(this),
                    (this.sourceBuffers = []),
                    (this.readyState = "closed"),
                    this.on(["sourceopen", "webkitsourceopen"], function (b) {
                      (a.swfObj = k["default"].getElementById(b.swfId)),
                        (a.player_ = (0, m["default"])(a.swfObj.parentNode)),
                        (a.tech_ = a.swfObj.tech),
                        (a.readyState = "open"),
                        a.tech_.on("seeking", function () {
                          for (var b = a.sourceBuffers.length; b--; )
                            a.sourceBuffers[b].abort();
                        }),
                        a.swfObj && a.swfObj.vjs_load();
                    });
                }
                return (
                  g(b, a),
                  h(b, [
                    { key: "addSeekableRange_", value: function () {} },
                    {
                      key: "addSourceBuffer",
                      value: function (a) {
                        var b = (0, r.parseContentType)(a),
                          c = void 0;
                        if ("video/mp2t" !== b.type && "audio/mp2t" !== b.type)
                          throw new Error("NotSupportedError (Video.js)");
                        return (
                          (c = new o["default"](this)),
                          this.sourceBuffers.push(c),
                          c
                        );
                      },
                    },
                    {
                      key: "endOfStream",
                      value: function (a) {
                        "network" === a
                          ? this.tech_.error(2)
                          : "decode" === a && this.tech_.error(3),
                          "ended" !== this.readyState &&
                            ((this.readyState = "ended"),
                            this.swfObj.vjs_endOfStream());
                      },
                    },
                  ]),
                  b
                );
              })(m["default"].EventTarget);
            c["default"] = s;
            try {
              Object.defineProperty(s.prototype, "duration", {
                get: function () {
                  return this.swfObj
                    ? this.swfObj.vjs_getProperty("duration")
                    : NaN;
                },
                set: function (a) {
                  var b = void 0,
                    c = this.swfObj.vjs_getProperty("duration");
                  if ((this.swfObj.vjs_setProperty("duration", a), a < c))
                    for (b = 0; b < this.sourceBuffers.length; b++)
                      this.sourceBuffers[b].remove(a, c);
                  return a;
                },
              });
            } catch (t) {
              s.prototype.duration = NaN;
            }
            for (var u in q["default"]) s[u] = q["default"][u];
            b.exports = c["default"];
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {
          "./codec-utils": 65,
          "./flash-constants": 67,
          "./flash-source-buffer": 69,
          "global/document": 31,
        },
      ],
      69: [
        function (a, b, c) {
          (function (d) {
            "use strict";
            function e(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function f(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            function g(a, b) {
              if ("function" != typeof b && null !== b)
                throw new TypeError(
                  "Super expression must either be null or a function, not " +
                    typeof b
                );
              (a.prototype = Object.create(b && b.prototype, {
                constructor: {
                  value: a,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                b &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(a, b)
                    : (a.__proto__ = b));
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var h = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              i = function (a, b, c) {
                for (var d = !0; d; ) {
                  var e = a,
                    f = b,
                    g = c;
                  (d = !1), null === e && (e = Function.prototype);
                  var h = Object.getOwnPropertyDescriptor(e, f);
                  if (void 0 !== h) {
                    if ("value" in h) return h.value;
                    var i = h.get;
                    if (void 0 === i) return;
                    return i.call(g);
                  }
                  var j = Object.getPrototypeOf(e);
                  if (null === j) return;
                  (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
                }
              },
              j = a("global/window"),
              k = e(j),
              l =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof d
                  ? d.videojs
                  : null,
              m = e(l),
              n = a("mux.js/lib/flv"),
              o = e(n),
              p = a("./remove-cues-from-track"),
              q = e(p),
              r = a("./create-text-tracks-if-necessary"),
              s = e(r),
              t = a("./add-text-track-data"),
              u = a("./flash-transmuxer-worker"),
              v = e(u),
              w = a("webwackify"),
              x = e(w),
              y = a("./flash-constants"),
              z = e(y),
              A = function () {
                var b = void 0;
                try {
                  b = a.resolve("./flash-transmuxer-worker");
                } catch (c) {}
                return b;
              },
              B = function (a) {
                k["default"].setTimeout(a, z["default"].TIME_BETWEEN_CHUNKS);
              },
              C = function () {
                return Math.random().toString(36).slice(2, 8);
              },
              D = function (a, b) {
                ("number" != typeof b || b < 0) && (b = 0);
                var c = Math.pow(10, b);
                return Math.round(a * c) / c;
              },
              E = (function (a) {
                function b(a) {
                  var c = this;
                  f(this, b),
                    i(
                      Object.getPrototypeOf(b.prototype),
                      "constructor",
                      this
                    ).call(this);
                  var d = void 0;
                  (this.chunkSize_ = z["default"].BYTES_PER_CHUNK),
                    (this.buffer_ = []),
                    (this.bufferSize_ = 0),
                    (this.basePtsOffset_ = NaN),
                    (this.mediaSource_ = a),
                    (this.audioBufferEnd_ = NaN),
                    (this.videoBufferEnd_ = NaN),
                    (this.updating = !1),
                    (this.timestampOffset_ = 0),
                    (d = k["default"].btoa(
                      String.fromCharCode.apply(
                        null,
                        Array.prototype.slice.call(o["default"].getFlvHeader())
                      )
                    ));
                  var e = this.mediaSource_.player_
                    .id()
                    .replace(/[^a-zA-Z0-9]/g, "_");
                  (this.flashEncodedHeaderName_ =
                    "vjs_flashEncodedHeader_" + e + C()),
                    (this.flashEncodedDataName_ =
                      "vjs_flashEncodedData_" + e + C()),
                    (k["default"][this.flashEncodedHeaderName_] = function () {
                      return delete k["default"][c.flashEncodedHeaderName_], d;
                    }),
                    this.mediaSource_.swfObj.vjs_appendChunkReady(
                      this.flashEncodedHeaderName_
                    ),
                    (this.transmuxer_ = (0, x["default"])(v["default"], A())),
                    this.transmuxer_.postMessage({
                      action: "init",
                      options: {},
                    }),
                    (this.transmuxer_.onmessage = function (a) {
                      "data" === a.data.action &&
                        c.receiveBuffer_(a.data.segment);
                    }),
                    this.one("updateend", function () {
                      c.mediaSource_.tech_.trigger("loadedmetadata");
                    }),
                    Object.defineProperty(this, "timestampOffset", {
                      get: function () {
                        return this.timestampOffset_;
                      },
                      set: function (a) {
                        "number" == typeof a &&
                          a >= 0 &&
                          ((this.timestampOffset_ = a),
                          this.mediaSource_.swfObj.vjs_discontinuity(),
                          (this.basePtsOffset_ = NaN),
                          (this.audioBufferEnd_ = NaN),
                          (this.videoBufferEnd_ = NaN),
                          this.transmuxer_.postMessage({ action: "reset" }));
                      },
                    }),
                    Object.defineProperty(this, "buffered", {
                      get: function () {
                        if (
                          !(
                            this.mediaSource_ &&
                            this.mediaSource_.swfObj &&
                            "vjs_getProperty" in this.mediaSource_.swfObj
                          )
                        )
                          return m["default"].createTimeRange();
                        var a =
                          this.mediaSource_.swfObj.vjs_getProperty("buffered");
                        return (
                          a &&
                            a.length &&
                            ((a[0][0] = D(a[0][0], 3)),
                            (a[0][1] = D(a[0][1], 3))),
                          m["default"].createTimeRanges(a)
                        );
                      },
                    }),
                    this.mediaSource_.player_.on("seeked", function () {
                      console.log("seeked");
                    });
                  var g = this.onHlsReset_.bind(this);
                  this.mediaSource_.player_.tech_.on("hls-reset", g),
                    this.mediaSource_.player_.tech_.hls.on(
                      "dispose",
                      function () {
                        c.transmuxer_.terminate(),
                          c.mediaSource_.player_.tech_.off("hls-reset", g);
                      }
                    );
                }
                return (
                  g(b, a),
                  h(b, [
                    {
                      key: "appendBuffer",
                      value: function (a) {
                        var b = void 0;
                        if (this.updating)
                          throw (
                            ((b = new Error(
                              "SourceBuffer.append() cannot be called while an update is in progress"
                            )),
                            (b.name = "InvalidStateError"),
                            (b.code = 11),
                            b)
                          );
                        (this.updating = !0),
                          (this.mediaSource_.readyState = "open"),
                          this.trigger({ type: "update" }),
                          this.transmuxer_.postMessage(
                            {
                              action: "push",
                              data: a.buffer,
                              byteOffset: a.byteOffset,
                              byteLength: a.byteLength,
                            },
                            [a.buffer]
                          ),
                          this.transmuxer_.postMessage({ action: "flush" });
                      },
                    },
                    {
                      key: "abort",
                      value: function () {
                        (this.buffer_ = []),
                          (this.bufferSize_ = 0),
                          this.mediaSource_.swfObj.vjs_abort(),
                          this.updating &&
                            ((this.updating = !1),
                            this.trigger({ type: "updateend" }));
                      },
                    },
                    {
                      key: "remove",
                      value: function (a, b) {
                        if (
                          ((0, q["default"])(a, b, this.metadataTrack_),
                          this.inbandTextTracks_)
                        )
                          for (var c in this.inbandTextTracks_)
                            (0, q["default"])(a, b, this.inbandTextTracks_[c]);
                        this.trigger({ type: "update" }),
                          this.trigger({ type: "updateend" });
                      },
                    },
                    {
                      key: "receiveBuffer_",
                      value: function (a) {
                        var b = this;
                        (0, s["default"])(this, this.mediaSource_, a),
                          (0, t.addTextTrackData)(this, a.captions, a.metadata),
                          B(function () {
                            var c = b.convertTagsToData_(a);
                            0 === b.buffer_.length &&
                              B(b.processBuffer_.bind(b)),
                              c &&
                                (b.buffer_.push(c),
                                (b.bufferSize_ += c.byteLength));
                          });
                      },
                    },
                    {
                      key: "processBuffer_",
                      value: function () {
                        var a = this,
                          b = z["default"].BYTES_PER_CHUNK;
                        if (!this.buffer_.length)
                          return void (
                            this.updating !== !1 &&
                            ((this.updating = !1),
                            this.trigger({ type: "updateend" }))
                          );
                        var c = this.buffer_[0].subarray(0, b);
                        c.byteLength < b || this.buffer_[0].byteLength === b
                          ? this.buffer_.shift()
                          : (this.buffer_[0] = this.buffer_[0].subarray(b)),
                          (this.bufferSize_ -= c.byteLength);
                        for (var d = [], e = c.byteLength, f = 0; f < e; f++)
                          d.push(String.fromCharCode(c[f]));
                        var g = k["default"].btoa(d.join(""));
                        (k["default"][this.flashEncodedDataName_] =
                          function () {
                            return (
                              B(a.processBuffer_.bind(a)),
                              delete k["default"][a.flashEncodedDataName_],
                              g
                            );
                          }),
                          this.mediaSource_.swfObj.vjs_appendChunkReady(
                            this.flashEncodedDataName_
                          );
                      },
                    },
                    {
                      key: "convertTagsToData_",
                      value: function (a) {
                        var b = 0,
                          c = this.mediaSource_.tech_,
                          d = 0,
                          e = void 0,
                          f = a.tags.videoTags,
                          g = a.tags.audioTags;
                        if (
                          isNaN(this.basePtsOffset_) &&
                          (f.length || g.length)
                        ) {
                          var h = f[0] || { pts: 1 / 0 },
                            i = g[0] || { pts: 1 / 0 };
                          this.basePtsOffset_ = Math.min(i.pts, h.pts);
                        }
                        c.seeking() &&
                          ((this.videoBufferEnd_ = NaN),
                          (this.audioBufferEnd_ = NaN)),
                          isNaN(this.videoBufferEnd_)
                            ? (c.buffered().length &&
                                (d =
                                  c.buffered().end(0) - this.timestampOffset),
                              c.seeking() &&
                                (d = Math.max(
                                  d,
                                  c.currentTime() - this.timestampOffset
                                )),
                              (d *= 1e3),
                              (d += this.basePtsOffset_))
                            : (d = this.videoBufferEnd_ + 0.1);
                        var j = f.length;
                        if (j && f[j - 1].pts >= d) {
                          for (; --j; ) {
                            var k = f[j];
                            if (!(k.pts > d) && (k.keyFrame || k.metaDataTag))
                              break;
                          }
                          for (; j; ) {
                            var l = f[j - 1];
                            if (!l.metaDataTag) break;
                            j--;
                          }
                        }
                        var m = f.slice(j),
                          n = void 0;
                        for (
                          n = isNaN(this.audioBufferEnd_)
                            ? d
                            : this.audioBufferEnd_ + 0.1,
                            m.length && (n = Math.min(n, m[0].pts)),
                            j = 0;
                          j < g.length && !(g[j].pts >= n);

                        )
                          j++;
                        var o = g.slice(j);
                        o.length &&
                          (this.audioBufferEnd_ = o[o.length - 1].pts),
                          m.length &&
                            (this.videoBufferEnd_ = m[m.length - 1].pts);
                        var p = this.getOrderedTags_(m, o);
                        if (0 !== p.length) {
                          if (p[0].pts < d && c.seeking()) {
                            var q = 1 / 30,
                              r = c.currentTime(),
                              s = (d - p[0].pts) / 1e3,
                              t = r - s;
                            t < q && (t = 0);
                            try {
                              this.mediaSource_.swfObj.vjs_adjustCurrentTime(t);
                            } catch (u) {}
                          }
                          for (var v = 0; v < p.length; v++)
                            b += p[v].bytes.byteLength;
                          e = new Uint8Array(b);
                          for (var v = 0, w = 0; v < p.length; v++)
                            e.set(p[v].bytes, w), (w += p[v].bytes.byteLength);
                          return e;
                        }
                      },
                    },
                    {
                      key: "getOrderedTags_",
                      value: function (a, b) {
                        for (var c = void 0, d = []; a.length || b.length; )
                          (c = a.length
                            ? b.length && b[0].dts < a[0].dts
                              ? b.shift()
                              : a.shift()
                            : b.shift()),
                            d.push(c);
                        return d;
                      },
                    },
                    {
                      key: "onHlsReset_",
                      value: function () {
                        this.transmuxer_.postMessage({
                          action: "resetCaptions",
                        });
                      },
                    },
                  ]),
                  b
                );
              })(m["default"].EventTarget);
            (c["default"] = E), (b.exports = c["default"]);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {
          "./add-text-track-data": 64,
          "./create-text-tracks-if-necessary": 66,
          "./flash-constants": 67,
          "./flash-transmuxer-worker": 70,
          "./remove-cues-from-track": 72,
          "global/window": 32,
          "mux.js/lib/flv": 46,
          webwackify: 76,
        },
      ],
      70: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          function e(a, b) {
            if (!(a instanceof b))
              throw new TypeError("Cannot call a class as a function");
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var f = (function () {
              function a(a, b) {
                for (var c = 0; c < b.length; c++) {
                  var d = b[c];
                  (d.enumerable = d.enumerable || !1),
                    (d.configurable = !0),
                    "value" in d && (d.writable = !0),
                    Object.defineProperty(a, d.key, d);
                }
              }
              return function (b, c, d) {
                return c && a(b.prototype, c), d && a(b, d), b;
              };
            })(),
            g = a("global/window"),
            h = d(g),
            i = a("mux.js/lib/flv"),
            j = d(i),
            k = function (a) {
              a.on("data", function (a) {
                h["default"].postMessage({ action: "data", segment: a });
              }),
                a.on("done", function (a) {
                  h["default"].postMessage({ action: "done" });
                });
            },
            l = (function () {
              function a(b) {
                e(this, a), (this.options = b || {}), this.init();
              }
              return (
                f(a, [
                  {
                    key: "init",
                    value: function () {
                      this.transmuxer && this.transmuxer.dispose(),
                        (this.transmuxer = new j["default"].Transmuxer(
                          this.options
                        )),
                        k(this.transmuxer);
                    },
                  },
                  {
                    key: "push",
                    value: function (a) {
                      var b = new Uint8Array(
                        a.data,
                        a.byteOffset,
                        a.byteLength
                      );
                      this.transmuxer.push(b);
                    },
                  },
                  {
                    key: "reset",
                    value: function () {
                      this.init();
                    },
                  },
                  {
                    key: "flush",
                    value: function () {
                      this.transmuxer.flush();
                    },
                  },
                  {
                    key: "resetCaptions",
                    value: function () {
                      this.transmuxer.resetCaptions();
                    },
                  },
                ]),
                a
              );
            })(),
            m = function (a) {
              a.onmessage = function (a) {
                return "init" === a.data.action && a.data.options
                  ? void (this.messageHandlers = new l(a.data.options))
                  : (this.messageHandlers || (this.messageHandlers = new l()),
                    void (
                      a.data &&
                      a.data.action &&
                      "init" !== a.data.action &&
                      this.messageHandlers[a.data.action] &&
                      this.messageHandlers[a.data.action](a.data)
                    ));
              };
            };
          (c["default"] = function (a) {
            return new m(a);
          }),
            (b.exports = c["default"]);
        },
        { "global/window": 32, "mux.js/lib/flv": 46 },
      ],
      71: [
        function (a, b, c) {
          (function (d) {
            "use strict";
            function e(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function f(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            function g(a, b) {
              if ("function" != typeof b && null !== b)
                throw new TypeError(
                  "Super expression must either be null or a function, not " +
                    typeof b
                );
              (a.prototype = Object.create(b && b.prototype, {
                constructor: {
                  value: a,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                b &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(a, b)
                    : (a.__proto__ = b));
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var h = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              i = function (a, b, c) {
                for (var d = !0; d; ) {
                  var e = a,
                    f = b,
                    g = c;
                  (d = !1), null === e && (e = Function.prototype);
                  var h = Object.getOwnPropertyDescriptor(e, f);
                  if (void 0 !== h) {
                    if ("value" in h) return h.value;
                    var i = h.get;
                    if (void 0 === i) return;
                    return i.call(g);
                  }
                  var j = Object.getPrototypeOf(e);
                  if (null === j) return;
                  (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
                }
              },
              j = a("global/window"),
              k = e(j),
              l = a("global/document"),
              m = e(l),
              n =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof d
                  ? d.videojs
                  : null,
              o = e(n),
              p = a("./virtual-source-buffer"),
              q = e(p),
              r = a("./add-text-track-data"),
              s = a("./codec-utils"),
              t = (function (a) {
                function b() {
                  var a = this;
                  f(this, b),
                    i(
                      Object.getPrototypeOf(b.prototype),
                      "constructor",
                      this
                    ).call(this);
                  var c = void 0;
                  this.nativeMediaSource_ = new k["default"].MediaSource();
                  for (c in this.nativeMediaSource_)
                    c in b.prototype ||
                      "function" != typeof this.nativeMediaSource_[c] ||
                      (this[c] = this.nativeMediaSource_[c].bind(
                        this.nativeMediaSource_
                      ));
                  (this.duration_ = NaN),
                    Object.defineProperty(this, "duration", {
                      get: function () {
                        return this.duration_ === 1 / 0
                          ? this.duration_
                          : this.nativeMediaSource_.duration;
                      },
                      set: function (a) {
                        if (((this.duration_ = a), a !== 1 / 0))
                          return void (this.nativeMediaSource_.duration = a);
                      },
                    }),
                    Object.defineProperty(this, "seekable", {
                      get: function () {
                        return this.duration_ === 1 / 0
                          ? o["default"].createTimeRanges([
                              [0, this.nativeMediaSource_.duration],
                            ])
                          : this.nativeMediaSource_.seekable;
                      },
                    }),
                    Object.defineProperty(this, "readyState", {
                      get: function () {
                        return this.nativeMediaSource_.readyState;
                      },
                    }),
                    Object.defineProperty(this, "activeSourceBuffers", {
                      get: function () {
                        return this.activeSourceBuffers_;
                      },
                    }),
                    (this.sourceBuffers = []),
                    (this.activeSourceBuffers_ = []),
                    (this.updateActiveSourceBuffers_ = function () {
                      if (
                        ((a.activeSourceBuffers_.length = 0),
                        1 === a.sourceBuffers.length)
                      ) {
                        var b = a.sourceBuffers[0];
                        return (
                          (b.appendAudioInitSegment_ = !0),
                          (b.audioDisabled_ = !b.audioCodec_),
                          void a.activeSourceBuffers_.push(b)
                        );
                      }
                      for (
                        var c = !1, d = !0, e = 0;
                        e < a.player_.audioTracks().length;
                        e++
                      ) {
                        var f = a.player_.audioTracks()[e];
                        if (f.enabled && "main" !== f.kind) {
                          (c = !0), (d = !1);
                          break;
                        }
                      }
                      a.sourceBuffers.forEach(function (b) {
                        if (
                          ((b.appendAudioInitSegment_ = !0),
                          b.videoCodec_ && b.audioCodec_)
                        )
                          b.audioDisabled_ = c;
                        else if (b.videoCodec_ && !b.audioCodec_)
                          (b.audioDisabled_ = !0), (d = !1);
                        else if (
                          !b.videoCodec_ &&
                          b.audioCodec_ &&
                          ((b.audioDisabled_ = d), d)
                        )
                          return;
                        a.activeSourceBuffers_.push(b);
                      });
                    }),
                    (this.onPlayerMediachange_ = function () {
                      a.sourceBuffers.forEach(function (a) {
                        a.appendAudioInitSegment_ = !0;
                      });
                    }),
                    (this.onHlsReset_ = function () {
                      a.sourceBuffers.forEach(function (a) {
                        a.transmuxer_ &&
                          a.transmuxer_.postMessage({
                            action: "resetCaptions",
                          });
                      });
                    }),
                    (this.onHlsSegmentTimeMapping_ = function (b) {
                      a.sourceBuffers.forEach(function (a) {
                        return (a.timeMapping_ = b.mapping);
                      });
                    }),
                    ["sourceopen", "sourceclose", "sourceended"].forEach(
                      function (a) {
                        this.nativeMediaSource_.addEventListener(
                          a,
                          this.trigger.bind(this)
                        );
                      },
                      this
                    ),
                    this.on("sourceopen", function (b) {
                      var c = m["default"].querySelector(
                        '[src="' + a.url_ + '"]'
                      );
                      c &&
                        ((a.player_ = (0, o["default"])(c.parentNode)),
                        a.player_.tech_.on("hls-reset", a.onHlsReset_),
                        a.player_.tech_.on(
                          "hls-segment-time-mapping",
                          a.onHlsSegmentTimeMapping_
                        ),
                        a.player_.audioTracks &&
                          a.player_.audioTracks() &&
                          (a.player_
                            .audioTracks()
                            .on("change", a.updateActiveSourceBuffers_),
                          a.player_
                            .audioTracks()
                            .on("addtrack", a.updateActiveSourceBuffers_),
                          a.player_
                            .audioTracks()
                            .on("removetrack", a.updateActiveSourceBuffers_)),
                        a.player_.on("mediachange", a.onPlayerMediachange_));
                    }),
                    this.on("sourceended", function (b) {
                      for (
                        var c = (0, r.durationOfVideo)(a.duration), d = 0;
                        d < a.sourceBuffers.length;
                        d++
                      ) {
                        var e = a.sourceBuffers[d],
                          f = e.metadataTrack_ && e.metadataTrack_.cues;
                        f && f.length && (f[f.length - 1].endTime = c);
                      }
                    }),
                    this.on("sourceclose", function (a) {
                      this.sourceBuffers.forEach(function (a) {
                        a.transmuxer_ && a.transmuxer_.terminate();
                      }),
                        (this.sourceBuffers.length = 0),
                        this.player_ &&
                          (this.player_.audioTracks &&
                            this.player_.audioTracks() &&
                            (this.player_
                              .audioTracks()
                              .off("change", this.updateActiveSourceBuffers_),
                            this.player_
                              .audioTracks()
                              .off("addtrack", this.updateActiveSourceBuffers_),
                            this.player_
                              .audioTracks()
                              .off(
                                "removetrack",
                                this.updateActiveSourceBuffers_
                              )),
                          this.player_.el_ &&
                            (this.player_.off(
                              "mediachange",
                              this.onPlayerMediachange_
                            ),
                            this.player_.tech_.off(
                              "hls-reset",
                              this.onHlsReset_
                            ),
                            this.player_.tech_.off(
                              "hls-segment-time-mapping",
                              this.onHlsSegmentTimeMapping_
                            )));
                    });
                }
                return (
                  g(b, a),
                  h(b, [
                    {
                      key: "addSeekableRange_",
                      value: function (a, b) {
                        var c = void 0;
                        if (this.duration !== 1 / 0)
                          throw (
                            ((c = new Error(
                              "MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"
                            )),
                            (c.name = "InvalidStateError"),
                            (c.code = 11),
                            c)
                          );
                        (b > this.nativeMediaSource_.duration ||
                          isNaN(this.nativeMediaSource_.duration)) &&
                          (this.nativeMediaSource_.duration = b);
                      },
                    },
                    {
                      key: "addSourceBuffer",
                      value: function (a) {
                        var b = void 0,
                          c = (0, s.parseContentType)(a);
                        if (/^(video|audio)\/mp2t$/i.test(c.type)) {
                          var d = [];
                          c.parameters &&
                            c.parameters.codecs &&
                            ((d = c.parameters.codecs.split(",")),
                            (d = (0, s.translateLegacyCodecs)(d)),
                            (d = d.filter(function (a) {
                              return (
                                (0, s.isAudioCodec)(a) || (0, s.isVideoCodec)(a)
                              );
                            }))),
                            0 === d.length &&
                              (d = ["avc1.4d400d", "mp4a.40.2"]),
                            (b = new q["default"](this, d)),
                            0 !== this.sourceBuffers.length &&
                              (this.sourceBuffers[0].createRealSourceBuffers_(),
                              b.createRealSourceBuffers_(),
                              (this.sourceBuffers[0].audioDisabled_ = !0));
                        } else b = this.nativeMediaSource_.addSourceBuffer(a);
                        return this.sourceBuffers.push(b), b;
                      },
                    },
                  ]),
                  b
                );
              })(o["default"].EventTarget);
            (c["default"] = t), (b.exports = c["default"]);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {
          "./add-text-track-data": 64,
          "./codec-utils": 65,
          "./virtual-source-buffer": 75,
          "global/document": 31,
          "global/window": 32,
        },
      ],
      72: [
        function (a, b, c) {
          "use strict";
          Object.defineProperty(c, "__esModule", { value: !0 });
          var d = function (a, b, c) {
            var d = void 0,
              e = void 0;
            if (c && c.cues)
              for (d = c.cues.length; d--; )
                (e = c.cues[d]),
                  e.startTime <= b && e.endTime >= a && c.removeCue(e);
          };
          (c["default"] = d), (b.exports = c["default"]);
        },
        {},
      ],
      73: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a && a.__esModule ? a : { default: a };
          }
          function e(a, b) {
            if (!(a instanceof b))
              throw new TypeError("Cannot call a class as a function");
          }
          Object.defineProperty(c, "__esModule", { value: !0 });
          var f = (function () {
              function a(a, b) {
                for (var c = 0; c < b.length; c++) {
                  var d = b[c];
                  (d.enumerable = d.enumerable || !1),
                    (d.configurable = !0),
                    "value" in d && (d.writable = !0),
                    Object.defineProperty(a, d.key, d);
                }
              }
              return function (b, c, d) {
                return c && a(b.prototype, c), d && a(b, d), b;
              };
            })(),
            g = a("global/window"),
            h = d(g),
            i = a("mux.js/lib/mp4"),
            j = d(i),
            k = function (a) {
              a.on("data", function (a) {
                var b = a.initSegment;
                a.initSegment = {
                  data: b.buffer,
                  byteOffset: b.byteOffset,
                  byteLength: b.byteLength,
                };
                var c = a.data;
                (a.data = c.buffer),
                  h["default"].postMessage(
                    {
                      action: "data",
                      segment: a,
                      byteOffset: c.byteOffset,
                      byteLength: c.byteLength,
                    },
                    [a.data]
                  );
              }),
                a.captionStream &&
                  a.captionStream.on("data", function (a) {
                    h["default"].postMessage({ action: "caption", data: a });
                  }),
                a.on("done", function (a) {
                  h["default"].postMessage({ action: "done" });
                }),
                a.on("gopInfo", function (a) {
                  h["default"].postMessage({ action: "gopInfo", gopInfo: a });
                });
            },
            l = (function () {
              function a(b) {
                e(this, a), (this.options = b || {}), this.init();
              }
              return (
                f(a, [
                  {
                    key: "init",
                    value: function () {
                      this.transmuxer && this.transmuxer.dispose(),
                        (this.transmuxer = new j["default"].Transmuxer(
                          this.options
                        )),
                        k(this.transmuxer);
                    },
                  },
                  {
                    key: "push",
                    value: function (a) {
                      var b = new Uint8Array(
                        a.data,
                        a.byteOffset,
                        a.byteLength
                      );
                      this.transmuxer.push(b);
                    },
                  },
                  {
                    key: "reset",
                    value: function () {
                      this.init();
                    },
                  },
                  {
                    key: "setTimestampOffset",
                    value: function (a) {
                      var b = a.timestampOffset || 0;
                      this.transmuxer.setBaseMediaDecodeTime(
                        Math.round(9e4 * b)
                      );
                    },
                  },
                  {
                    key: "setAudioAppendStart",
                    value: function (a) {
                      this.transmuxer.setAudioAppendStart(
                        Math.ceil(9e4 * a.appendStart)
                      );
                    },
                  },
                  {
                    key: "flush",
                    value: function (a) {
                      this.transmuxer.flush();
                    },
                  },
                  {
                    key: "resetCaptions",
                    value: function () {
                      this.transmuxer.resetCaptions();
                    },
                  },
                  {
                    key: "alignGopsWith",
                    value: function (a) {
                      this.transmuxer.alignGopsWith(a.gopsToAlignWith.slice());
                    },
                  },
                ]),
                a
              );
            })(),
            m = function (a) {
              a.onmessage = function (a) {
                return "init" === a.data.action && a.data.options
                  ? void (this.messageHandlers = new l(a.data.options))
                  : (this.messageHandlers || (this.messageHandlers = new l()),
                    void (
                      a.data &&
                      a.data.action &&
                      "init" !== a.data.action &&
                      this.messageHandlers[a.data.action] &&
                      this.messageHandlers[a.data.action](a.data)
                    ));
              };
            };
          (c["default"] = function (a) {
            return new m(a);
          }),
            (b.exports = c["default"]);
        },
        { "global/window": 32, "mux.js/lib/mp4": 55 },
      ],
      74: [
        function (a, b, c) {
          (function (b) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var e = a("global/window"),
              f = d(e),
              g = a("./flash-media-source"),
              h = d(g),
              i = a("./html-media-source"),
              j = d(i),
              k =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof b
                  ? b.videojs
                  : null,
              l = d(k),
              m = 0,
              n = { mode: "auto" };
            l["default"].mediaSources = {};
            var o = function (a, b) {
                var c = l["default"].mediaSources[a];
                if (!c) throw new Error("Media Source not found (Video.js)");
                c.trigger({ type: "sourceopen", swfId: b });
              },
              p = function () {
                return (
                  !!f["default"].MediaSource &&
                  !!f["default"].MediaSource.isTypeSupported &&
                  f["default"].MediaSource.isTypeSupported(
                    'video/mp4;codecs="avc1.4d400d,mp4a.40.2"'
                  )
                );
              },
              q = function (a) {
                var b = l["default"].mergeOptions(n, a);
                if (
                  ((this.MediaSource = {
                    open: o,
                    supportsNativeMediaSources: p,
                  }),
                  "html5" === b.mode || ("auto" === b.mode && p()))
                )
                  return new j["default"]();
                if (l["default"].getTech("Flash")) return new h["default"]();
                throw new Error(
                  "Cannot use Flash or Html5 to create a MediaSource for this video"
                );
              };
            (c.MediaSource = q),
              (q.open = o),
              (q.supportsNativeMediaSources = p);
            var r = {
              createObjectURL: function (a) {
                var b = "blob:vjs-media-source/",
                  c = void 0;
                return a instanceof j["default"]
                  ? ((c = f["default"].URL.createObjectURL(
                      a.nativeMediaSource_
                    )),
                    (a.url_ = c),
                    c)
                  : a instanceof h["default"]
                  ? ((c = b + m), m++, (l["default"].mediaSources[c] = a), c)
                  : ((c = f["default"].URL.createObjectURL(a)),
                    (a.url_ = c),
                    c);
              },
            };
            (c.URL = r), (l["default"].MediaSource = q), (l["default"].URL = r);
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {
          "./flash-media-source": 68,
          "./html-media-source": 71,
          "global/window": 32,
        },
      ],
      75: [
        function (a, b, c) {
          (function (b) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function e(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            function f(a, b) {
              if ("function" != typeof b && null !== b)
                throw new TypeError(
                  "Super expression must either be null or a function, not " +
                    typeof b
                );
              (a.prototype = Object.create(b && b.prototype, {
                constructor: {
                  value: a,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                b &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(a, b)
                    : (a.__proto__ = b));
            }
            Object.defineProperty(c, "__esModule", { value: !0 });
            var g = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              h = function (a, b, c) {
                for (var d = !0; d; ) {
                  var e = a,
                    f = b,
                    g = c;
                  (d = !1), null === e && (e = Function.prototype);
                  var h = Object.getOwnPropertyDescriptor(e, f);
                  if (void 0 !== h) {
                    if ("value" in h) return h.value;
                    var i = h.get;
                    if (void 0 === i) return;
                    return i.call(g);
                  }
                  var j = Object.getPrototypeOf(e);
                  if (null === j) return;
                  (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
                }
              },
              i =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof b
                  ? b.videojs
                  : null,
              j = d(i),
              k = a("./create-text-tracks-if-necessary"),
              l = d(k),
              m = a("./remove-cues-from-track"),
              n = d(m),
              o = a("./add-text-track-data"),
              p = a("webwackify"),
              q = d(p),
              r = a("./transmuxer-worker"),
              s = d(r),
              t = a("./codec-utils"),
              u = function () {
                var b = void 0;
                try {
                  b = a.resolve("./transmuxer-worker");
                } catch (c) {}
                return b;
              },
              v = function (a, b) {
                var c = a.addSourceBuffer(b),
                  d = Object.create(null);
                (d.updating = !1), (d.realBuffer_ = c);
                var e = function (a) {
                  "function" == typeof c[a]
                    ? (d[a] = function () {
                        return c[a].apply(c, arguments);
                      })
                    : "undefined" == typeof d[a] &&
                      Object.defineProperty(d, a, {
                        get: function () {
                          return c[a];
                        },
                        set: function (b) {
                          return (c[a] = b);
                        },
                      });
                };
                for (var f in c) e(f);
                return d;
              },
              w = function (a, b, c) {
                if (!b || !a.length) return [];
                var d = Math.ceil(9e4 * (b.currentTime() - c + 3)),
                  e = void 0;
                for (e = 0; e < a.length && !(a[e].pts > d); e++);
                return a.slice(e);
              };
            c.gopsSafeToAlignWith = w;
            var x = function (a, b, c) {
              if (!b.length) return a;
              if (c) return b.slice();
              var d = b[0].pts,
                e = 0;
              for (e; e < a.length && !(a[e].pts >= d); e++);
              return a.slice(0, e).concat(b);
            };
            c.updateGopBuffer = x;
            var y = function (a, b, c, d) {
              for (
                var e = Math.ceil(9e4 * (b - d)),
                  f = Math.ceil(9e4 * (c - d)),
                  g = a.slice(),
                  h = a.length;
                h-- && !(a[h].pts <= f);

              );
              if (h === -1) return g;
              for (var i = h + 1; i-- && !(a[i].pts <= e); );
              return (i = Math.max(i, 0)), g.splice(i, h - i + 1), g;
            };
            c.removeGopBuffer = y;
            var z = (function (a) {
              function b(a, c) {
                var d = this;
                e(this, b),
                  h(
                    Object.getPrototypeOf(b.prototype),
                    "constructor",
                    this
                  ).call(this, j["default"].EventTarget),
                  (this.timestampOffset_ = 0),
                  (this.pendingBuffers_ = []),
                  (this.bufferUpdating_ = !1),
                  (this.mediaSource_ = a),
                  (this.codecs_ = c),
                  (this.audioCodec_ = null),
                  (this.videoCodec_ = null),
                  (this.audioDisabled_ = !1),
                  (this.appendAudioInitSegment_ = !0),
                  (this.gopBuffer_ = []),
                  (this.timeMapping_ = 0),
                  (this.safeAppend_ = j["default"].browser.IE_VERSION >= 11);
                var f = { remux: !1, alignGopsAtEnd: this.safeAppend_ };
                this.codecs_.forEach(function (a) {
                  (0, t.isAudioCodec)(a)
                    ? (d.audioCodec_ = a)
                    : (0, t.isVideoCodec)(a) && (d.videoCodec_ = a);
                }),
                  (this.transmuxer_ = (0, q["default"])(s["default"], u())),
                  this.transmuxer_.postMessage({ action: "init", options: f }),
                  (this.transmuxer_.onmessage = function (a) {
                    return "data" === a.data.action
                      ? d.data_(a)
                      : "done" === a.data.action
                      ? d.done_(a)
                      : "gopInfo" === a.data.action
                      ? d.appendGopInfo_(a)
                      : void 0;
                  }),
                  Object.defineProperty(this, "timestampOffset", {
                    get: function () {
                      return this.timestampOffset_;
                    },
                    set: function (a) {
                      "number" == typeof a &&
                        a >= 0 &&
                        ((this.timestampOffset_ = a),
                        (this.appendAudioInitSegment_ = !0),
                        (this.gopBuffer_.length = 0),
                        (this.timeMapping_ = 0),
                        this.transmuxer_.postMessage({
                          action: "setTimestampOffset",
                          timestampOffset: a,
                        }));
                    },
                  }),
                  Object.defineProperty(this, "appendWindowStart", {
                    get: function () {
                      return (this.videoBuffer_ || this.audioBuffer_)
                        .appendWindowStart;
                    },
                    set: function (a) {
                      this.videoBuffer_ &&
                        (this.videoBuffer_.appendWindowStart = a),
                        this.audioBuffer_ &&
                          (this.audioBuffer_.appendWindowStart = a);
                    },
                  }),
                  Object.defineProperty(this, "updating", {
                    get: function () {
                      return !!(
                        this.bufferUpdating_ ||
                        (!this.audioDisabled_ &&
                          this.audioBuffer_ &&
                          this.audioBuffer_.updating) ||
                        (this.videoBuffer_ && this.videoBuffer_.updating)
                      );
                    },
                  }),
                  Object.defineProperty(this, "buffered", {
                    get: function () {
                      var a = null,
                        b = null,
                        c = 0,
                        d = [],
                        e = [];
                      if (!this.videoBuffer_ && !this.audioBuffer_)
                        return j["default"].createTimeRange();
                      if (!this.videoBuffer_) return this.audioBuffer_.buffered;
                      if (!this.audioBuffer_) return this.videoBuffer_.buffered;
                      if (this.audioDisabled_)
                        return this.videoBuffer_.buffered;
                      if (
                        0 === this.videoBuffer_.buffered.length &&
                        0 === this.audioBuffer_.buffered.length
                      )
                        return j["default"].createTimeRange();
                      for (
                        var f = this.videoBuffer_.buffered,
                          g = this.audioBuffer_.buffered,
                          h = f.length;
                        h--;

                      )
                        d.push({ time: f.start(h), type: "start" }),
                          d.push({ time: f.end(h), type: "end" });
                      for (h = g.length; h--; )
                        d.push({ time: g.start(h), type: "start" }),
                          d.push({ time: g.end(h), type: "end" });
                      for (
                        d.sort(function (a, b) {
                          return a.time - b.time;
                        }),
                          h = 0;
                        h < d.length;
                        h++
                      )
                        "start" === d[h].type
                          ? (c++, 2 === c && (a = d[h].time))
                          : "end" === d[h].type &&
                            (c--, 1 === c && (b = d[h].time)),
                          null !== a &&
                            null !== b &&
                            (e.push([a, b]), (a = null), (b = null));
                      return j["default"].createTimeRanges(e);
                    },
                  });
              }
              return (
                f(b, a),
                g(b, [
                  {
                    key: "data_",
                    value: function (a) {
                      var b = a.data.segment;
                      (b.data = new Uint8Array(
                        b.data,
                        a.data.byteOffset,
                        a.data.byteLength
                      )),
                        (b.initSegment = new Uint8Array(
                          b.initSegment.data,
                          b.initSegment.byteOffset,
                          b.initSegment.byteLength
                        )),
                        (0, l["default"])(this, this.mediaSource_, b),
                        this.pendingBuffers_.push(b);
                    },
                  },
                  {
                    key: "done_",
                    value: function (a) {
                      return "closed" === this.mediaSource_.readyState
                        ? void (this.pendingBuffers_.length = 0)
                        : void this.processPendingSegments_();
                    },
                  },
                  {
                    key: "createRealSourceBuffers_",
                    value: function () {
                      var a = this,
                        b = ["audio", "video"];
                      b.forEach(function (c) {
                        if (a[c + "Codec_"] && !a[c + "Buffer_"]) {
                          var d = null;
                          if (a.mediaSource_[c + "Buffer_"])
                            (d = a.mediaSource_[c + "Buffer_"]),
                              (d.updating = !1);
                          else {
                            var e = c + "Codec_",
                              f = c + '/mp4;codecs="' + a[e] + '"';
                            (d = v(a.mediaSource_.nativeMediaSource_, f)),
                              (a.mediaSource_[c + "Buffer_"] = d);
                          }
                          (a[c + "Buffer_"] = d),
                            ["update", "updatestart", "updateend"].forEach(
                              function (e) {
                                d.addEventListener(e, function () {
                                  if ("audio" !== c || !a.audioDisabled_) {
                                    "updateend" === e &&
                                      (a[c + "Buffer_"].updating = !1);
                                    var d = b.every(function (b) {
                                      return (
                                        !("audio" !== b || !a.audioDisabled_) ||
                                        c === b ||
                                        !a[b + "Buffer_"] ||
                                        !a[b + "Buffer_"].updating
                                      );
                                    });
                                    return d ? a.trigger(e) : void 0;
                                  }
                                });
                              }
                            );
                        }
                      });
                    },
                  },
                  {
                    key: "appendBuffer",
                    value: function (a) {
                      if (
                        ((this.bufferUpdating_ = !0),
                        this.audioBuffer_ && this.audioBuffer_.buffered.length)
                      ) {
                        var b = this.audioBuffer_.buffered;
                        this.transmuxer_.postMessage({
                          action: "setAudioAppendStart",
                          appendStart: b.end(b.length - 1),
                        });
                      }
                      this.videoBuffer_ &&
                        this.transmuxer_.postMessage({
                          action: "alignGopsWith",
                          gopsToAlignWith: w(
                            this.gopBuffer_,
                            this.mediaSource_.player_,
                            this.timeMapping_
                          ),
                        }),
                        this.transmuxer_.postMessage(
                          {
                            action: "push",
                            data: a.buffer,
                            byteOffset: a.byteOffset,
                            byteLength: a.byteLength,
                          },
                          [a.buffer]
                        ),
                        this.transmuxer_.postMessage({ action: "flush" });
                    },
                  },
                  {
                    key: "appendGopInfo_",
                    value: function (a) {
                      this.gopBuffer_ = x(
                        this.gopBuffer_,
                        a.data.gopInfo,
                        this.safeAppend_
                      );
                    },
                  },
                  {
                    key: "remove",
                    value: function (a, b) {
                      if (
                        (this.videoBuffer_ &&
                          ((this.videoBuffer_.updating = !0),
                          this.videoBuffer_.remove(a, b),
                          (this.gopBuffer_ = y(
                            this.gopBuffer_,
                            a,
                            b,
                            this.timeMapping_
                          ))),
                        !this.audioDisabled_ &&
                          this.audioBuffer_ &&
                          ((this.audioBuffer_.updating = !0),
                          this.audioBuffer_.remove(a, b)),
                        (0, n["default"])(a, b, this.metadataTrack_),
                        this.inbandTextTracks_)
                      )
                        for (var c in this.inbandTextTracks_)
                          (0, n["default"])(a, b, this.inbandTextTracks_[c]);
                    },
                  },
                  {
                    key: "processPendingSegments_",
                    value: function () {
                      var a = {
                        video: { segments: [], bytes: 0 },
                        audio: { segments: [], bytes: 0 },
                        captions: [],
                        metadata: [],
                      };
                      (a = this.pendingBuffers_.reduce(function (a, b) {
                        var c = b.type,
                          d = b.data,
                          e = b.initSegment;
                        return (
                          a[c].segments.push(d),
                          (a[c].bytes += d.byteLength),
                          (a[c].initSegment = e),
                          b.captions &&
                            (a.captions = a.captions.concat(b.captions)),
                          b.info && (a[c].info = b.info),
                          b.metadata &&
                            (a.metadata = a.metadata.concat(b.metadata)),
                          a
                        );
                      }, a)),
                        this.videoBuffer_ ||
                          this.audioBuffer_ ||
                          (0 === a.video.bytes && (this.videoCodec_ = null),
                          0 === a.audio.bytes && (this.audioCodec_ = null),
                          this.createRealSourceBuffers_()),
                        a.audio.info &&
                          this.mediaSource_.trigger({
                            type: "audioinfo",
                            info: a.audio.info,
                          }),
                        a.video.info &&
                          this.mediaSource_.trigger({
                            type: "videoinfo",
                            info: a.video.info,
                          }),
                        this.appendAudioInitSegment_ &&
                          (!this.audioDisabled_ &&
                            this.audioBuffer_ &&
                            (a.audio.segments.unshift(a.audio.initSegment),
                            (a.audio.bytes += a.audio.initSegment.byteLength)),
                          (this.appendAudioInitSegment_ = !1));
                      var b = !1;
                      this.videoBuffer_ && a.video.bytes
                        ? (a.video.segments.unshift(a.video.initSegment),
                          (a.video.bytes += a.video.initSegment.byteLength),
                          this.concatAndAppendSegments_(
                            a.video,
                            this.videoBuffer_
                          ),
                          (0, o.addTextTrackData)(this, a.captions, a.metadata))
                        : !this.videoBuffer_ ||
                          (!this.audioDisabled_ && this.audioBuffer_) ||
                          (b = !0),
                        !this.audioDisabled_ &&
                          this.audioBuffer_ &&
                          this.concatAndAppendSegments_(
                            a.audio,
                            this.audioBuffer_
                          ),
                        (this.pendingBuffers_.length = 0),
                        b && this.trigger("updateend"),
                        (this.bufferUpdating_ = !1);
                    },
                  },
                  {
                    key: "concatAndAppendSegments_",
                    value: function (a, b) {
                      var c = 0,
                        d = void 0;
                      if (a.bytes) {
                        (d = new Uint8Array(a.bytes)),
                          a.segments.forEach(function (a) {
                            d.set(a, c), (c += a.byteLength);
                          });
                        try {
                          (b.updating = !0), b.appendBuffer(d);
                        } catch (e) {
                          this.mediaSource_.player_ &&
                            this.mediaSource_.player_.error({
                              code: -3,
                              type: "APPEND_BUFFER_ERR",
                              message: e.message,
                              originalError: e,
                            });
                        }
                      }
                    },
                  },
                  {
                    key: "abort",
                    value: function () {
                      this.videoBuffer_ && this.videoBuffer_.abort(),
                        !this.audioDisabled_ &&
                          this.audioBuffer_ &&
                          this.audioBuffer_.abort(),
                        this.transmuxer_ &&
                          this.transmuxer_.postMessage({ action: "reset" }),
                        (this.pendingBuffers_.length = 0),
                        (this.bufferUpdating_ = !1);
                    },
                  },
                ]),
                b
              );
            })(j["default"].EventTarget);
            c["default"] = z;
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {
          "./add-text-track-data": 64,
          "./codec-utils": 65,
          "./create-text-tracks-if-necessary": 66,
          "./remove-cues-from-track": 72,
          "./transmuxer-worker": 73,
          webwackify: 76,
        },
      ],
      76: [
        function (a, b, c) {
          var d = arguments[3],
            e = arguments[4],
            f = arguments[5],
            g = JSON.stringify,
            h = !1,
            i = function (a) {
              function b(d) {
                if (c[d]) return c[d].exports;
                var e = (c[d] = { i: d, l: !1, exports: {} });
                return (
                  a[d].call(e.exports, e, e.exports, b), (e.l = !0), e.exports
                );
              }
              var c = {};
              return (
                (b.m = a),
                (b.c = c),
                (b.d = function (a, c, d) {
                  b.o(a, c) ||
                    Object.defineProperty(a, c, {
                      configurable: !1,
                      enumerable: !0,
                      get: d,
                    });
                }),
                (b.n = function (a) {
                  var c =
                    a && a.__esModule
                      ? function () {
                          return a["default"];
                        }
                      : function () {
                          return a;
                        };
                  return b.d(c, "a", c), c;
                }),
                (b.o = function (a, b) {
                  return Object.prototype.hasOwnProperty.call(a, b);
                }),
                (b.p = ""),
                b((b.s = entryModule))
              );
            };
          "undefined" == typeof d &&
            ((h = !0), (d = i), (e = __webpack_modules__));
          var j = function (a) {
              for (var b, c = Object.keys(f), h = 0; h < c.length; h++) {
                var i = c[h],
                  j = f[i].exports;
                if (j === a || (j && j["default"] === a)) {
                  b = i;
                  break;
                }
              }
              if (!b) {
                b = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);
                for (var k = {}, h = 0; h < c.length; h++) {
                  var i = c[h];
                  k[i] = i;
                }
                e[b] = [
                  "function(require,module,exports){" + a + "(self); }",
                  k,
                ];
              }
              var l = Math.floor(Math.pow(16, 8) * Math.random()).toString(16),
                m = {};
              return (
                (m[b] = b),
                (e[l] = [
                  "function(require,module,exports){var f = require(" +
                    g(b) +
                    ");(f.default ? f.default : f)(self);}",
                  m,
                ]),
                "(" +
                  d +
                  ")({" +
                  Object.keys(e)
                    .map(function (a) {
                      return g(a) + ":[" + e[a][0] + "," + g(e[a][1]) + "]";
                    })
                    .join(",") +
                  "},{},[" +
                  g(l) +
                  "])"
              );
            },
            k = function (a, b) {
              var c,
                f = "string" == typeof b;
              (c = f ? {} : []),
                Object.keys(e).forEach(function (a) {
                  e[a] && (c[a] = e[a].toString());
                });
              var h = __webpack_require__(b);
              if (!h || (h !== a && h["default"] !== a)) {
                var i = c[b];
                c[b] = i.substring(0, i.length - 1) + "\n" + a.name + "();\n}";
              }
              var j;
              if (f) {
                b = g(b);
                var k = Object.keys(c).map(function (a) {
                  return g(a) + ":" + c[a];
                });
                j = "{" + k.join(",") + "}";
              } else j = "[" + c.join(",") + "]";
              return (
                "var fn = (" +
                d.toString().replace("entryModule", b) +
                ")(" +
                j +
                ');\n(typeof fn === "function") && fn(self);'
              );
            };
          b.exports = function (a, b) {
            var c;
            c = h ? k(a, b) : j(a);
            var d = new Blob([c], { type: "text/javascript" }),
              e =
                window.URL || window.webkitURL || window.mozURL || window.msURL,
              f = e.createObjectURL(d),
              g = new Worker(f);
            return (g.objectURL = f), g;
          };
        },
        {},
      ],
      77: [
        function (a, b, c) {
          (function (c) {
            "use strict";
            function d(a) {
              return a && a.__esModule ? a : { default: a };
            }
            function e(a, b) {
              if (!(a instanceof b))
                throw new TypeError("Cannot call a class as a function");
            }
            function f(a, b) {
              if ("function" != typeof b && null !== b)
                throw new TypeError(
                  "Super expression must either be null or a function, not " +
                    typeof b
                );
              (a.prototype = Object.create(b && b.prototype, {
                constructor: {
                  value: a,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                b &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(a, b)
                    : (a.__proto__ = b));
            }
            var g = (function () {
                function a(a, b) {
                  for (var c = 0; c < b.length; c++) {
                    var d = b[c];
                    (d.enumerable = d.enumerable || !1),
                      (d.configurable = !0),
                      "value" in d && (d.writable = !0),
                      Object.defineProperty(a, d.key, d);
                  }
                }
                return function (b, c, d) {
                  return c && a(b.prototype, c), d && a(b, d), b;
                };
              })(),
              h = function (a, b, c) {
                for (var d = !0; d; ) {
                  var e = a,
                    f = b,
                    g = c;
                  (d = !1), null === e && (e = Function.prototype);
                  var h = Object.getOwnPropertyDescriptor(e, f);
                  if (void 0 !== h) {
                    if ("value" in h) return h.value;
                    var i = h.get;
                    if (void 0 === i) return;
                    return i.call(g);
                  }
                  var j = Object.getPrototypeOf(e);
                  if (null === j) return;
                  (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
                }
              },
              i = a("global/document"),
              j = d(i),
              k = a("./playlist-loader"),
              l = d(k),
              m = a("./playlist"),
              n = d(m),
              o = a("./xhr"),
              p = d(o),
              q = a("aes-decrypter"),
              r = a("./bin-utils"),
              s = d(r),
              t = a("videojs-contrib-media-sources"),
              u = a("m3u8-parser"),
              v = d(u),
              w =
                "undefined" != typeof window
                  ? window.videojs
                  : "undefined" != typeof c
                  ? c.videojs
                  : null,
              x = d(w),
              y = a("./master-playlist-controller"),
              z = a("./config"),
              A = d(z),
              B = a("./rendition-mixin"),
              C = d(B),
              D = a("global/window"),
              E = d(D),
              F = a("./playback-watcher"),
              G = d(F),
              H = a("./reload-source-on-error"),
              I = d(H),
              J = a("./playlist-selectors.js"),
              K = {
                PlaylistLoader: l["default"],
                Playlist: n["default"],
                Decrypter: q.Decrypter,
                AsyncStream: q.AsyncStream,
                decrypt: q.decrypt,
                utils: s["default"],
                STANDARD_PLAYLIST_SELECTOR: J.lastBandwidthSelector,
                INITIAL_PLAYLIST_SELECTOR:
                  J.lowestBitrateCompatibleVariantSelector,
                comparePlaylistBandwidth: J.comparePlaylistBandwidth,
                comparePlaylistResolution: J.comparePlaylistResolution,
                xhr: (0, p["default"])(),
              },
              L = 4194304;
            [
              "GOAL_BUFFER_LENGTH",
              "MAX_GOAL_BUFFER_LENGTH",
              "GOAL_BUFFER_LENGTH_RATE",
              "BUFFER_LOW_WATER_LINE",
              "MAX_BUFFER_LOW_WATER_LINE",
              "BUFFER_LOW_WATER_LINE_RATE",
              "BANDWIDTH_VARIANCE",
            ].forEach(function (a) {
              Object.defineProperty(K, a, {
                get: function () {
                  return (
                    x["default"].log.warn(
                      "using Hls." +
                        a +
                        " is UNSAFE be sure you know what you are doing"
                    ),
                    A["default"][a]
                  );
                },
                set: function (b) {
                  return (
                    x["default"].log.warn(
                      "using Hls." +
                        a +
                        " is UNSAFE be sure you know what you are doing"
                    ),
                    "number" != typeof b || b < 0
                      ? void x["default"].log.warn(
                          "value of Hls." +
                            a +
                            " must be greater than or equal to 0"
                        )
                      : void (A["default"][a] = b)
                  );
                },
              });
            });
            var M = function (a, b) {
                for (var c = b.media(), d = -1, e = 0; e < a.length; e++)
                  if (a[e].id === c.uri) {
                    d = e;
                    break;
                  }
                (a.selectedIndex_ = d),
                  a.trigger({ selectedIndex: d, type: "change" });
              },
              N = function (a, b) {
                b.representations().forEach(function (b) {
                  a.addQualityLevel(b);
                }),
                  M(a, b.playlists);
              };
            (K.canPlaySource = function () {
              return x["default"].log.warn(
                "HLS is no longer a tech. Please remove it from your player's techOrder."
              );
            }),
              (K.supportsNativeHls = (function () {
                var a = j["default"].createElement("video");
                if (!x["default"].getTech("Html5").isSupported()) return !1;
                var b = [
                  "application/vnd.apple.mpegurl",
                  "audio/mpegurl",
                  "audio/x-mpegurl",
                  "application/x-mpegurl",
                  "video/x-mpegurl",
                  "video/mpegurl",
                  "application/mpegurl",
                ];
                return b.some(function (b) {
                  return /maybe|probably/i.test(a.canPlayType(b));
                });
              })()),
              (K.isSupported = function () {
                return x["default"].log.warn(
                  "HLS is no longer a tech. Please remove it from your player's techOrder."
                );
              });
            var O = x["default"].getComponent("Component"),
              P = (function (a) {
                function b(a, c, d) {
                  var f = this;
                  if (
                    (e(this, b),
                    h(
                      Object.getPrototypeOf(b.prototype),
                      "constructor",
                      this
                    ).call(this, c, d.hls),
                    c.options_ && c.options_.playerId)
                  ) {
                    var g = (0, x["default"])(c.options_.playerId);
                    g.hasOwnProperty("hls") ||
                      Object.defineProperty(g, "hls", {
                        get: function () {
                          return (
                            x["default"].log.warn(
                              "player.hls is deprecated. Use player.tech_.hls instead."
                            ),
                            c.trigger({
                              type: "usage",
                              name: "hls-player-access",
                            }),
                            f
                          );
                        },
                      });
                  }
                  if (
                    ((this.tech_ = c),
                    (this.source_ = a),
                    (this.stats = {}),
                    (this.ignoreNextSeekingEvent_ = !1),
                    this.setOptions_(),
                    this.options_.overrideNative &&
                      (c.featuresNativeVideoTracks ||
                        c.featuresNativeAudioTracks))
                  )
                    throw new Error(
                      "Overriding native HLS requires emulated tracks. See https://git.io/vMpjB"
                    );
                  this.on(
                    j["default"],
                    [
                      "fullscreenchange",
                      "webkitfullscreenchange",
                      "mozfullscreenchange",
                      "MSFullscreenChange",
                    ],
                    function (a) {
                      var b =
                        j["default"].fullscreenElement ||
                        j["default"].webkitFullscreenElement ||
                        j["default"].mozFullScreenElement ||
                        j["default"].msFullscreenElement;
                      b &&
                        b.contains(f.tech_.el()) &&
                        f.masterPlaylistController_.fastQualityChange_();
                    }
                  ),
                    this.on(this.tech_, "seeking", function () {
                      return this.ignoreNextSeekingEvent_
                        ? void (this.ignoreNextSeekingEvent_ = !1)
                        : void this.setCurrentTime(this.tech_.currentTime());
                    }),
                    this.on(this.tech_, "error", function () {
                      this.masterPlaylistController_ &&
                        this.masterPlaylistController_.pauseLoading();
                    }),
                    this.on(this.tech_, "play", this.play);
                }
                return (
                  f(b, a),
                  g(b, [
                    {
                      key: "setOptions_",
                      value: function () {
                        var a = this;
                        (this.options_.withCredentials =
                          this.options_.withCredentials || !1),
                          "number" != typeof this.options_.blacklistDuration &&
                            (this.options_.blacklistDuration = 300),
                          "number" != typeof this.options_.bandwidth &&
                            (this.options_.bandwidth = L),
                          (this.options_.enableLowInitialPlaylist =
                            this.options_.enableLowInitialPlaylist &&
                            this.options_.bandwidth === L),
                          ["withCredentials", "bandwidth"].forEach(function (
                            b
                          ) {
                            "undefined" != typeof a.source_[b] &&
                              (a.options_[b] = a.source_[b]);
                          }),
                          (this.bandwidth = this.options_.bandwidth);
                      },
                    },
                    {
                      key: "src",
                      value: function (a) {
                        var b = this;
                        a &&
                          (this.setOptions_(),
                          (this.options_.url = this.source_.src),
                          (this.options_.tech = this.tech_),
                          (this.options_.externHls = K),
                          (this.masterPlaylistController_ =
                            new y.MasterPlaylistController(this.options_)),
                          (this.playbackWatcher_ = new G["default"](
                            x["default"].mergeOptions(this.options_, {
                              seekable: function () {
                                return b.seekable();
                              },
                            })
                          )),
                          this.masterPlaylistController_.on(
                            "error",
                            function () {
                              var a =
                                x["default"].players[b.tech_.options_.playerId];
                              a.error(b.masterPlaylistController_.error);
                            }
                          ),
                          (this.masterPlaylistController_.selectPlaylist = this
                            .selectPlaylist
                            ? this.selectPlaylist.bind(this)
                            : K.STANDARD_PLAYLIST_SELECTOR.bind(this)),
                          (this.masterPlaylistController_.selectInitialPlaylist =
                            K.INITIAL_PLAYLIST_SELECTOR.bind(this)),
                          (this.playlists =
                            this.masterPlaylistController_.masterPlaylistLoader_),
                          (this.mediaSource =
                            this.masterPlaylistController_.mediaSource),
                          Object.defineProperties(this, {
                            selectPlaylist: {
                              get: function () {
                                return this.masterPlaylistController_
                                  .selectPlaylist;
                              },
                              set: function (a) {
                                this.masterPlaylistController_.selectPlaylist =
                                  a.bind(this);
                              },
                            },
                            throughput: {
                              get: function () {
                                return this.masterPlaylistController_
                                  .mainSegmentLoader_.throughput.rate;
                              },
                              set: function (a) {
                                (this.masterPlaylistController_.mainSegmentLoader_.throughput.rate =
                                  a),
                                  (this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1);
                              },
                            },
                            bandwidth: {
                              get: function () {
                                return this.masterPlaylistController_
                                  .mainSegmentLoader_.bandwidth;
                              },
                              set: function (a) {
                                (this.masterPlaylistController_.mainSegmentLoader_.bandwidth =
                                  a),
                                  (this.masterPlaylistController_.mainSegmentLoader_.throughput =
                                    { rate: 0, count: 0 });
                              },
                            },
                            systemBandwidth: {
                              get: function () {
                                var a = 1 / (this.bandwidth || 1),
                                  b = void 0;
                                b =
                                  this.throughput > 0 ? 1 / this.throughput : 0;
                                var c = Math.floor(1 / (a + b));
                                return c;
                              },
                              set: function () {
                                x["default"].log.error(
                                  'The "systemBandwidth" property is read-only'
                                );
                              },
                            },
                          }),
                          Object.defineProperties(this.stats, {
                            bandwidth: {
                              get: function () {
                                return b.bandwidth || 0;
                              },
                              enumerable: !0,
                            },
                            mediaRequests: {
                              get: function () {
                                return (
                                  b.masterPlaylistController_.mediaRequests_() ||
                                  0
                                );
                              },
                              enumerable: !0,
                            },
                            mediaRequestsAborted: {
                              get: function () {
                                return (
                                  b.masterPlaylistController_.mediaRequestsAborted_() ||
                                  0
                                );
                              },
                              enumerable: !0,
                            },
                            mediaRequestsTimedout: {
                              get: function () {
                                return (
                                  b.masterPlaylistController_.mediaRequestsTimedout_() ||
                                  0
                                );
                              },
                              enumerable: !0,
                            },
                            mediaRequestsErrored: {
                              get: function () {
                                return (
                                  b.masterPlaylistController_.mediaRequestsErrored_() ||
                                  0
                                );
                              },
                              enumerable: !0,
                            },
                            mediaTransferDuration: {
                              get: function () {
                                return (
                                  b.masterPlaylistController_.mediaTransferDuration_() ||
                                  0
                                );
                              },
                              enumerable: !0,
                            },
                            mediaBytesTransferred: {
                              get: function () {
                                return (
                                  b.masterPlaylistController_.mediaBytesTransferred_() ||
                                  0
                                );
                              },
                              enumerable: !0,
                            },
                            mediaSecondsLoaded: {
                              get: function () {
                                return (
                                  b.masterPlaylistController_.mediaSecondsLoaded_() ||
                                  0
                                );
                              },
                              enumerable: !0,
                            },
                          }),
                          this.tech_.one(
                            "canplay",
                            this.masterPlaylistController_.setupFirstPlay.bind(
                              this.masterPlaylistController_
                            )
                          ),
                          this.masterPlaylistController_.on(
                            "selectedinitialmedia",
                            function () {
                              (0, C["default"])(b);
                            }
                          ),
                          this.on(
                            this.masterPlaylistController_,
                            "progress",
                            function () {
                              this.tech_.trigger("progress");
                            }
                          ),
                          this.on(
                            this.masterPlaylistController_,
                            "firstplay",
                            function () {
                              this.ignoreNextSeekingEvent_ = !0;
                            }
                          ),
                          this.tech_.ready(function () {
                            return b.setupQualityLevels_();
                          }),
                          this.tech_.el() &&
                            this.tech_.src(
                              x["default"].URL.createObjectURL(
                                this.masterPlaylistController_.mediaSource
                              )
                            ));
                      },
                    },
                    {
                      key: "setupQualityLevels_",
                      value: function () {
                        var a = this,
                          b =
                            x["default"].players[this.tech_.options_.playerId];
                        b &&
                          b.qualityLevels &&
                          ((this.qualityLevels_ = b.qualityLevels()),
                          this.masterPlaylistController_.on(
                            "selectedinitialmedia",
                            function () {
                              N(a.qualityLevels_, a);
                            }
                          ),
                          this.playlists.on("mediachange", function () {
                            M(a.qualityLevels_, a.playlists);
                          }));
                      },
                    },
                    {
                      key: "play",
                      value: function () {
                        this.masterPlaylistController_.play();
                      },
                    },
                    {
                      key: "setCurrentTime",
                      value: function (a) {
                        this.masterPlaylistController_.setCurrentTime(a);
                      },
                    },
                    {
                      key: "duration",
                      value: function () {
                        return this.masterPlaylistController_.duration();
                      },
                    },
                    {
                      key: "seekable",
                      value: function () {
                        return this.masterPlaylistController_.seekable();
                      },
                    },
                    {
                      key: "dispose",
                      value: function () {
                        this.playbackWatcher_ &&
                          this.playbackWatcher_.dispose(),
                          this.masterPlaylistController_ &&
                            this.masterPlaylistController_.dispose(),
                          this.qualityLevels_ && this.qualityLevels_.dispose(),
                          h(
                            Object.getPrototypeOf(b.prototype),
                            "dispose",
                            this
                          ).call(this);
                      },
                    },
                  ]),
                  b
                );
              })(O),
              Q = function S(a) {
                return {
                  canHandleSource: function (b) {
                    var c =
                        arguments.length <= 1 || void 0 === arguments[1]
                          ? {}
                          : arguments[1],
                      d = x["default"].mergeOptions(x["default"].options, c);
                    return (
                      (!d.hls || !d.hls.mode || d.hls.mode === a) &&
                      S.canPlayType(b.type, d)
                    );
                  },
                  handleSource: function (b, c) {
                    var d =
                        arguments.length <= 2 || void 0 === arguments[2]
                          ? {}
                          : arguments[2],
                      e = x["default"].mergeOptions(x["default"].options, d, {
                        hls: { mode: a },
                      });
                    return (
                      "flash" === a &&
                        c.setTimeout(function () {
                          c.trigger("loadstart");
                        }, 1),
                      (c.hls = new P(b, c, e)),
                      (c.hls.xhr = (0, p["default"])()),
                      c.hls.src(b.src),
                      c.hls
                    );
                  },
                  canPlayType: function (a) {
                    var b =
                        arguments.length <= 1 || void 0 === arguments[1]
                          ? {}
                          : arguments[1],
                      c = x["default"].mergeOptions(x["default"].options, b);
                    return S.canPlayType(a, c) ? "maybe" : "";
                  },
                };
              };
            (Q.canPlayType = function (a, b) {
              if (
                x["default"].browser.IE_VERSION &&
                x["default"].browser.IE_VERSION <= 10
              )
                return !1;
              var c = /^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;
              return (
                !(!b.hls.overrideNative && K.supportsNativeHls) && c.test(a)
              );
            }),
              ("undefined" != typeof x["default"].MediaSource &&
                "undefined" != typeof x["default"].URL) ||
                ((x["default"].MediaSource = t.MediaSource),
                (x["default"].URL = t.URL));
            var R = x["default"].getTech("Flash");
            t.MediaSource.supportsNativeMediaSources() &&
              x["default"]
                .getTech("Html5")
                .registerSourceHandler(Q("html5"), 0),
              E["default"].Uint8Array &&
                R &&
                R.registerSourceHandler(Q("flash")),
              (x["default"].HlsHandler = P),
              (x["default"].HlsSourceHandler = Q),
              (x["default"].Hls = K),
              x["default"].use || x["default"].registerComponent("Hls", K),
              (x["default"].m3u8 = v["default"]),
              (x["default"].options.hls = x["default"].options.hls || {}),
              x["default"].registerPlugin
                ? x["default"].registerPlugin(
                    "reloadSourceOnError",
                    I["default"]
                  )
                : x["default"].plugin("reloadSourceOnError", I["default"]),
              (b.exports = { Hls: K, HlsHandler: P, HlsSourceHandler: Q });
          }).call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          );
        },
        {
          "./bin-utils": 2,
          "./config": 3,
          "./master-playlist-controller": 5,
          "./playback-watcher": 8,
          "./playlist": 11,
          "./playlist-loader": 9,
          "./playlist-selectors.js": 10,
          "./reload-source-on-error": 13,
          "./rendition-mixin": 14,
          "./xhr": 21,
          "aes-decrypter": 25,
          "global/document": 31,
          "global/window": 32,
          "m3u8-parser": 33,
          "videojs-contrib-media-sources": 74,
        },
      ],
    },
    {},
    [77]
  )(77);
});
!(function (a, b) {
  "object" == typeof exports && "undefined" != typeof module
    ? (module.exports = b(require("video.js"), require("global/document")))
    : "function" == typeof define && define.amd
    ? define(
        "mod_vod/videojs-contrib-quality-levels",
        ["mod_vod/video-lazy"],
        b
      )
    : (a.videojsContribQualityLevels = b(a.videojs));
})(this, function (a, b) {
  "use strict";
  function c(a, b) {
    (a.prototype = Object.create(b.prototype)),
      (a.prototype.constructor = a),
      (a.__proto__ = b);
  }
  function d(a) {
    if (void 0 === a)
      throw new ReferenceError(
        "this hasn't been initialised - super() hasn't been called"
      );
    return a;
  }
  (a = a && a.hasOwnProperty("default") ? a["default"] : a),
    (b = b && b.hasOwnProperty("default") ? b["default"] : b);
  var e = function l(c) {
      var d = this;
      if (a.browser.IS_IE8) {
        d = b.createElement("custom");
        for (var e in l.prototype)
          "constructor" !== e && (d[e] = l.prototype[e]);
      }
      return (
        (d.id = c.id),
        (d.label = d.id),
        (d.width = c.width),
        (d.height = c.height),
        (d.bitrate = c.bandwidth),
        (d.enabled_ = c.enabled),
        Object.defineProperty(d, "enabled", {
          get: function () {
            return d.enabled_();
          },
          set: function (a) {
            d.enabled_(a);
          },
        }),
        d
      );
    },
    f = (function (f) {
      function g() {
        var c;
        c = f.call(this) || this;
        var e = d(d(c));
        if (a.browser.IS_IE8) {
          e = b.createElement("custom");
          for (var h in g.prototype)
            "constructor" !== h && (e[h] = g.prototype[h]);
        }
        return (
          (e.levels_ = []),
          (e.selectedIndex_ = -1),
          Object.defineProperty(e, "selectedIndex", {
            get: function () {
              return e.selectedIndex_;
            },
          }),
          Object.defineProperty(e, "length", {
            get: function () {
              return e.levels_.length;
            },
          }),
          e || d(c)
        );
      }
      c(g, f);
      var h = g.prototype;
      return (
        (h.addQualityLevel = function (a) {
          var b = this.getQualityLevelById(a.id);
          if (b) return b;
          var c = this.levels_.length;
          return (
            (b = new e(a)),
            "" + c in this ||
              Object.defineProperty(this, c, {
                get: function () {
                  return this.levels_[c];
                },
              }),
            this.levels_.push(b),
            this.trigger({ qualityLevel: b, type: "addqualitylevel" }),
            b
          );
        }),
        (h.removeQualityLevel = function (a) {
          for (var b = null, c = 0, d = this.length; c < d; c++)
            if (this[c] === a) {
              (b = this.levels_.splice(c, 1)[0]),
                this.selectedIndex_ === c
                  ? (this.selectedIndex_ = -1)
                  : this.selectedIndex_ > c && this.selectedIndex_--;
              break;
            }
          return (
            b && this.trigger({ qualityLevel: a, type: "removequalitylevel" }),
            b
          );
        }),
        (h.getQualityLevelById = function (a) {
          for (var b = 0, c = this.length; b < c; b++) {
            var d = this[b];
            if (d.id === a) return d;
          }
          return null;
        }),
        (h.dispose = function () {
          (this.selectedIndex_ = -1), (this.levels_.length = 0);
        }),
        g
      );
    })(a.EventTarget);
  f.prototype.allowedEvents_ = {
    change: "change",
    addqualitylevel: "addqualitylevel",
    removequalitylevel: "removequalitylevel",
  };
  for (var g in f.prototype.allowedEvents_) f.prototype["on" + g] = null;
  var h = "2.0.9",
    i = a.registerPlugin || a.plugin,
    j = function (a, b) {
      var c = a.qualityLevels,
        d = new f(),
        e = function g() {
          d.dispose(), (a.qualityLevels = c), a.off("dispose", g);
        };
      return (
        a.on("dispose", e),
        (a.qualityLevels = function () {
          return d;
        }),
        (a.qualityLevels.VERSION = h),
        d
      );
    },
    k = function (b) {
      return j(this, a.mergeOptions({}, b));
    };
  return i("qualityLevels", k), (k.VERSION = h), k;
});
!(function (a, b) {
  "object" == typeof exports && "undefined" != typeof module
    ? (module.exports = b(require("video.js")))
    : "function" == typeof define && define.amd
    ? define("mod_vod/videojs-hls-quality-selector", ["mod_vod/video-lazy"], b)
    : (a.videojsHlsQualitySelector = b(a.videojs));
})(this, function (a) {
  "use strict";
  function b(a) {
    return "string" != typeof a ? a : a.charAt(0).toUpperCase() + a.slice(1);
  }
  a = a && a.hasOwnProperty("default") ? a["default"] : a;
  var c = "1.0.5",
    d =
      "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
        ? function (a) {
            return typeof a;
          }
        : function (a) {
            return a &&
              "function" == typeof Symbol &&
              a.constructor === Symbol &&
              a !== Symbol.prototype
              ? "symbol"
              : typeof a;
          },
    e =
      ((function () {
        function a(a) {
          this.value = a;
        }
        function b(b) {
          function c(a, b) {
            return new Promise(function (c, e) {
              var h = { key: a, arg: b, resolve: c, reject: e, next: null };
              g ? (g = g.next = h) : ((f = g = h), d(a, b));
            });
          }
          function d(c, f) {
            try {
              var g = b[c](f),
                h = g.value;
              h instanceof a
                ? Promise.resolve(h.value).then(
                    function (a) {
                      d("next", a);
                    },
                    function (a) {
                      d("throw", a);
                    }
                  )
                : e(g.done ? "return" : "normal", g.value);
            } catch (i) {
              e("throw", i);
            }
          }
          function e(a, b) {
            switch (a) {
              case "return":
                f.resolve({ value: b, done: !0 });
                break;
              case "throw":
                f.reject(b);
                break;
              default:
                f.resolve({ value: b, done: !1 });
            }
            (f = f.next), f ? d(f.key, f.arg) : (g = null);
          }
          var f, g;
          (this._invoke = c),
            "function" != typeof b["return"] && (this["return"] = void 0);
        }
        return (
          "function" == typeof Symbol &&
            Symbol.asyncIterator &&
            (b.prototype[Symbol.asyncIterator] = function () {
              return this;
            }),
          (b.prototype.next = function (a) {
            return this._invoke("next", a);
          }),
          (b.prototype["throw"] = function (a) {
            return this._invoke("throw", a);
          }),
          (b.prototype["return"] = function (a) {
            return this._invoke("return", a);
          }),
          {
            wrap: function (a) {
              return function () {
                return new b(a.apply(this, arguments));
              };
            },
            await: function (b) {
              return new a(b);
            },
          }
        );
      })(),
      function (a, b) {
        if (!(a instanceof b))
          throw new TypeError("Cannot call a class as a function");
      }),
    f = function (a, b) {
      if ("function" != typeof b && null !== b)
        throw new TypeError(
          "Super expression must either be null or a function, not " + typeof b
        );
      (a.prototype = Object.create(b && b.prototype, {
        constructor: {
          value: a,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
        b &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(a, b)
            : (a.__proto__ = b));
    },
    g = function (a, b) {
      if (!a)
        throw new ReferenceError(
          "this hasn't been initialised - super() hasn't been called"
        );
      return !b || ("object" != typeof b && "function" != typeof b) ? a : b;
    },
    h = a.getComponent("MenuButton"),
    i = a.getComponent("Menu"),
    j = a.getComponent("Component"),
    k = a.dom,
    l = (function (a) {
      function c(b) {
        return (
          e(this, c), g(this, a.call(this, b, { title: b.localize("Quality") }))
        );
      }
      return (
        f(c, a),
        (c.prototype.createItems = function () {
          return [];
        }),
        (c.prototype.createMenu = function () {
          var a = new i(this.player_, { menuButton: this });
          if (((this.hideThreshold_ = 0), this.options_.title)) {
            var c = k.createEl("li", {
                className: "vjs-menu-title",
                innerHTML: b(this.options_.title),
                tabIndex: -1,
              }),
              d = new j(this.player_, { el: c });
            (this.hideThreshold_ += 1), a.addItem(d);
          }
          if (((this.items = this.createItems()), this.items))
            for (var e = 0; e < this.items.length; e++)
              a.addItem(this.items[e]);
          return a;
        }),
        c
      );
    })(h),
    m = a.getComponent("MenuItem"),
    n = (function (a) {
      function b(c, d, f, h) {
        e(this, b);
        var i = g(
          this,
          a.call(this, c, {
            label: d.label,
            selectable: !0,
            selected: d.selected || !1,
          })
        );
        return (i.item = d), (i.qualityButton = f), (i.plugin = h), i;
      }
      return (
        f(b, a),
        (b.prototype.handleClick = function () {
          for (var a = 0; a < this.qualityButton.items.length; ++a)
            this.qualityButton.items[a].selected(!1);
          this.plugin.setQuality(this.item.value), this.selected(!0);
        }),
        b
      );
    })(m),
    o = {},
    p = a.registerPlugin || a.plugin,
    q = (function () {
      function a(b, c) {
        e(this, a),
          (this.player = b),
          this.player.qualityLevels &&
            this.getHls() &&
            (this.createQualityButton(), this.bindPlayerEvents());
      }
      return (
        (a.prototype.getHls = function () {
          return this.player.tech({ IWillNotUseThisInPlugins: !0 }).hls;
        }),
        (a.prototype.bindPlayerEvents = function () {
          this.player
            .qualityLevels()
            .on("addqualitylevel", this.onAddQualityLevel.bind(this));
        }),
        (a.prototype.createQualityButton = function () {
          var a = this.player;
          this._qualityButton = new l(a);
          var b = a.controlBar.children().length - 2,
            c = a.controlBar.addChild(
              this._qualityButton,
              { componentClass: "qualitySelector" },
              b
            );
          c.addClass("vjs-quality-selector"),
            (c.menuButton_.$(".vjs-icon-placeholder").className +=
              " vjs-icon-hd"),
            c.removeClass("vjs-hidden");
        }),
        (a.prototype.getQualityMenuItem = function (a) {
          var b = this.player;
          return new n(b, a, this._qualityButton, this);
        }),
        (a.prototype.onAddQualityLevel = function () {
          for (
            var a = this,
              b = this.player,
              c = b.qualityLevels(),
              e = c.levels_ || [],
              f = [],
              g = function (b) {
                if (
                  !f.filter(function (a) {
                    return a.item && a.item.value === e[b].height;
                  }).length
                ) {
                  var c = a.getQualityMenuItem.call(a, {
                    label: e[b].height + "p",
                    value: e[b].height,
                  });
                  f.push(c);
                }
              },
              h = 0;
            h < e.length;
            ++h
          )
            g(h);
          f.sort(function (a, b) {
            return "object" !==
              ("undefined" == typeof a ? "undefined" : d(a)) ||
              "object" !== ("undefined" == typeof b ? "undefined" : d(b))
              ? -1
              : a.item.value < b.item.value
              ? -1
              : a.item.value > b.item.value
              ? 1
              : 0;
          }),
            f.push(
              this.getQualityMenuItem.call(this, {
                label: b.localize("Auto"),
                value: "auto",
                selected: !0,
              })
            ),
            this._qualityButton &&
              ((this._qualityButton.createItems = function () {
                return f;
              }),
              this._qualityButton.update());
        }),
        (a.prototype.setQuality = function (a) {
          for (var b = this.player.qualityLevels(), c = 0; c < b.length; ++c) {
            var d = b[c];
            d.enabled = d.height === a || "auto" === a;
          }
          this._qualityButton.unpressButton();
        }),
        a
      );
    })(),
    r = function (a, b) {
      a.addClass("vjs-hls-quality-selector"),
        (a.hlsQualitySelector = new q(a, b));
    },
    s = function (b) {
      var c = this;
      this.ready(function () {
        r(c, a.mergeOptions(o, b));
      });
    };
  return p("hlsQualitySelector", s), (s.VERSION = c), s;
});
!(function (a, b) {
  "object" == typeof exports && "undefined" != typeof module
    ? (module.exports = b(require("video.js")))
    : "function" == typeof define && define.amd
    ? define("mod_vod/videojs-hotkeys", ["mod_vod/video-lazy"], b)
    : (a.hotkeys = b(a.videojs));
})(this, function (a) {
  "use strict";
  "undefined" != typeof window &&
    (window.videojs_hotkeys = { version: "0.2.20" });
  var b = function (b) {
      function c(a) {
        return 32 === a.which || 179 === a.which;
      }
      function d(a) {
        return 37 === a.which || 177 === a.which;
      }
      function e(a) {
        return 39 === a.which || 176 === a.which;
      }
      function f(a) {
        return 38 === a.which;
      }
      function g(a) {
        return 40 === a.which;
      }
      function h(a) {
        return 77 === a.which;
      }
      function i(a) {
        return 70 === a.which;
      }
      var j = this,
        k = j.el(),
        l = document,
        m = {
          volumeStep: 0.1,
          seekStep: 5,
          enableMute: !0,
          enableVolumeScroll: !0,
          enableFullscreen: !0,
          enableNumbers: !0,
          enableJogStyle: !1,
          alwaysCaptureHotkeys: !1,
          enableModifiersForNumbers: !0,
          enableInactiveFocus: !0,
          skipInitialFocus: !1,
          playPauseKey: c,
          rewindKey: d,
          forwardKey: e,
          volumeUpKey: f,
          volumeDownKey: g,
          muteKey: h,
          fullscreenKey: i,
          customKeys: {},
        },
        n = 1,
        o = 2,
        p = 3,
        q = 4,
        r = 5,
        s = 6,
        t = 7,
        u = a.mergeOptions || a.util.mergeOptions;
      b = u(m, b || {});
      var v = b.volumeStep,
        w = b.seekStep,
        x = b.enableMute,
        y = b.enableVolumeScroll,
        z = b.enableFullscreen,
        A = b.enableNumbers,
        B = b.enableJogStyle,
        C = b.alwaysCaptureHotkeys,
        D = b.enableModifiersForNumbers,
        E = b.enableInactiveFocus,
        F = b.skipInitialFocus;
      k.hasAttribute("tabIndex") || k.setAttribute("tabIndex", "-1"),
        (k.style.outline = "none"),
        (!C && j.autoplay()) ||
          F ||
          j.one("play", function () {
            k.focus();
          }),
        E &&
          j.on("userinactive", function () {
            var a = function () {
                clearTimeout(b);
              },
              b = setTimeout(function () {
                j.off("useractive", a),
                  l.activeElement.parentElement ==
                    k.querySelector(".vjs-control-bar") && k.focus();
              }, 10);
            j.one("useractive", a);
          }),
        j.on("play", function () {
          var a = k.querySelector(".iframeblocker");
          a &&
            "" === a.style.display &&
            ((a.style.display = "block"), (a.style.bottom = "39px"));
        });
      var G = function (a) {
          var c,
            d,
            e = a.which,
            f = a.preventDefault,
            g = j.duration();
          if (j.controls()) {
            var h = l.activeElement;
            if (
              C ||
              h == k ||
              h == k.querySelector(".vjs-tech") ||
              h == k.querySelector(".vjs-control-bar") ||
              h == k.querySelector(".iframeblocker")
            )
              switch (J(a, j)) {
                case n:
                  f(),
                    C && a.stopPropagation(),
                    j.paused() ? j.play() : j.pause();
                  break;
                case o:
                  (c = !j.paused()),
                    f(),
                    c && j.pause(),
                    (d = j.currentTime() - w),
                    j.currentTime() <= w && (d = 0),
                    j.currentTime(d),
                    c && j.play();
                  break;
                case p:
                  (c = !j.paused()),
                    f(),
                    c && j.pause(),
                    (d = j.currentTime() + w),
                    d >= g && (d = c ? g - 0.001 : g),
                    j.currentTime(d),
                    c && j.play();
                  break;
                case r:
                  f(),
                    B
                      ? ((d = j.currentTime() - 1),
                        j.currentTime() <= 1 && (d = 0),
                        j.currentTime(d))
                      : j.volume(j.volume() - v);
                  break;
                case q:
                  f(),
                    B
                      ? ((d = j.currentTime() + 1),
                        d >= g && (d = g),
                        j.currentTime(d))
                      : j.volume(j.volume() + v);
                  break;
                case s:
                  x && j.muted(!j.muted());
                  break;
                case t:
                  z &&
                    (j.isFullscreen()
                      ? j.exitFullscreen()
                      : j.requestFullscreen());
                  break;
                default:
                  if (
                    ((e > 47 && e < 59) || (e > 95 && e < 106)) &&
                    (D || !(a.metaKey || a.ctrlKey || a.altKey)) &&
                    A
                  ) {
                    var i = 48;
                    e > 95 && (i = 96);
                    var m = e - i;
                    f(), j.currentTime(j.duration() * m * 0.1);
                  }
                  for (var u in b.customKeys) {
                    var y = b.customKeys[u];
                    y &&
                      y.key &&
                      y.handler &&
                      y.key(a) &&
                      (f(), y.handler(j, b, a));
                  }
              }
          }
        },
        H = function (a) {
          if (j.controls()) {
            var b = a.relatedTarget || a.toElement || l.activeElement;
            (b != k &&
              b != k.querySelector(".vjs-tech") &&
              b != k.querySelector(".iframeblocker")) ||
              (z &&
                (j.isFullscreen()
                  ? j.exitFullscreen()
                  : j.requestFullscreen()));
          }
        },
        I = function (a) {
          if (j.controls()) {
            var b = a.relatedTarget || a.toElement || l.activeElement;
            if (
              (C ||
                b == k ||
                b == k.querySelector(".vjs-tech") ||
                b == k.querySelector(".iframeblocker") ||
                b == k.querySelector(".vjs-control-bar")) &&
              y
            ) {
              a = window.event || a;
              var c = Math.max(-1, Math.min(1, a.wheelDelta || -a.detail));
              a.preventDefault(),
                1 == c
                  ? j.volume(j.volume() + v)
                  : c == -1 && j.volume(j.volume() - v);
            }
          }
        },
        J = function (a, c) {
          return b.playPauseKey(a, c)
            ? n
            : b.rewindKey(a, c)
            ? o
            : b.forwardKey(a, c)
            ? p
            : b.volumeUpKey(a, c)
            ? q
            : b.volumeDownKey(a, c)
            ? r
            : b.muteKey(a, c)
            ? s
            : b.fullscreenKey(a, c)
            ? t
            : void 0;
        };
      return (
        j.on("keydown", G),
        j.on("dblclick", H),
        j.on("mousewheel", I),
        j.on("DOMMouseScroll", I),
        this
      );
    },
    c = a.registerPlugin || a.plugin;
  c("hotkeys", b);
});
define("mod_vod/vod", [
  "jquery",
  "mod_vod/video-lazy",
  "mod_vod/videojs-flash-lazy",
], function (t, e) {
  let o = 1;
  var a = {
    isLogin: !0,
    isProgress: !0,
    vodTagID: null,
    actionurl: M.cfg.wwwroot + "/mod/vod/action.php",
    courseid: null,
    cmid: null,
    trackid: null,
    attempt: null,
    intervalSecond: 60,
    isProgressPeriodCheck: 0,
    publicKey: null,
    beforeProgress: 0,
    logtime: null,
  };
  return (
    (a.videojsModule = function (t, o) {
      window.videojs = e;
      var a = [
        "mod_vod/videojs-hotkeys",
        "mod_vod/videojs-contrib-quality-levels",
      ];
      return (
        t &&
          (a.push("mod_vod/videojs-contrib-hls"),
          a.push("mod_vod/videojs-hls-quality-selector")),
        o && a.push("mod_vod/Youtube-lazy"),
        a
      );
    }),
    (a.progress = function (
      s,
      n,
      r,
      l,
      u,
      c,
      p,
      v,
      d,
      m,
      b,
      k,
      f,
      h,
      g,
      j,
      $,
      y,
      x,
      _,
      w,
      T,
      P,
      C,
      B,
      S,
      F,
      z,
      I,
      N
    ) {
      (a.isProgress = 0 != n),
        (a.vodTagID = s),
        (a.courseid = p),
        (a.cmid = v),
        (a.trackid = d),
        (a.attempt = m),
        (a.intervalSecond = f),
        (a.beforeProgress = parseInt(y)),
        (a.isProgressPeriodCheck = c),
        (a.logtime = P),
        (a.isQuality = _),
        (a.useVodContents = B),
        (a.totalProgressPercent = S),
        (a.playtime = F),
        (a.id = N),
        require(a.videojsModule(h, $), function () {
          e.options.flash.swf = g;
          var p = t("#" + s).data("setup-lazy");
          console.log(p);
          var v = e(s, p);
          console.log(v),
            v.on("error", function () {
              if ("4" == v.error().code) {
                var e = M.util.get_string(
                  "not_support_browser",
                  "vod",
                  navigator.userAgent
                );
                t(".vjs-error-display .vjs-modal-dialog-content").append(e);
              }
            }),
            _ && h && v.hlsQualitySelector({ displayCurrentQuality: !0 });
          var d = {
              current: 0,
              max: b,
              old: 0,
              previous: 0,
              isMaxMove: !1,
              moveOld: 0,
              moveNew: 0,
            },
            m = null,
            $ = !0,
            P = "vjs-coursemos-progress";
          t("#viewer #vod_header .vod_close_button").click(function () {
            v.pause(),
              setTimeout(function () {
                self.close();
              }, 500);
          }),
            t(".vod_help_icon").mouseover(function () {
              t(".vod_help_popup").css("display", "block");
            }),
            t(".vod_help_popup").mouseleave(function () {
              t(this).css("display", "none");
            }),
            a.trackForWindow(3, 0),
            a.ajax("1", 0, 0),
            c ||
              a.alertMessage(
                "alert-danger",
                M.util.get_string("no_progress_period", "vod")
              ),
            n &&
              (navigator.userAgent.match(/SamsungBrowser/i) &&
                a.alertMessage(
                  "alert-danger",
                  M.util.get_string("samsung_popup_message", "vod"),
                  1e4
                ),
              (m = v.setInterval(function () {
                var t = d.current;
                a.ajax("8", t, t), a.trackForWindow(99, d.current);
              }, f)),
              l > 0 &&
                !r &&
                86400 > u > 0 &&
                c &&
                setTimeout(function () {
                  var t = d.current;
                  a.trackForWindow(5, t);
                }, 1e3 * u)),
            n && !r && c && ($ = !1),
            v.ready(function () {
              v.focus(),
                this.hotkeys({
                  enableNumbers: !1,
                  forwardKey: function (t, e) {
                    var o = 39 === t.which || 176 === t.which;
                    if (!$ && o) {
                      var s = e.duration(),
                        n = !e.paused();
                      t.stopPropagation(),
                        t.stopImmediatePropagation(),
                        t.preventDefault(),
                        n && e.pause();
                      var r = e.currentTime() + this.seekStep;
                      if (r > d.max)
                        return (
                          (r = d.max - 1) >= s && (r = n ? s - 0.001 : s),
                          e.currentTime(r),
                          n && e.play(),
                          !1
                        );
                      n && e.play();
                    }
                    return o;
                  },
                });
              var e = this;
              "Youtube" == e.techName_ &&
                v.tech_.ytPlayer.addEventListener(
                  "onStateChange",
                  function (t) {
                    switch (t.data) {
                      case YT.PlayerState.PLAYING:
                      case YT.PlayerState.BUFFERING:
                        v.focus();
                    }
                  }
                ),
                t("#vod_viewer .vjs-progress-control .vjs-progress-holder")
                  .length > 0 &&
                  t(
                    "#vod_viewer .vjs-progress-control .vjs-progress-holder"
                  ).append('<div class="' + P + '" />'),
                jQuery(".vjs-play-control").after(
                  '<button class="skipbutton" skipval="-10" title="Prev"><<</button><button class="skipbutton" skipval="10" title="Next">>></button>'
                ),
                jQuery(".vjs-control-bar .vjs-custom-control-spacer").append(
                  '<button>학습진도율:<span id="progress_percent">' +
                    Math.floor(a.totalProgressPercent) +
                    "</span>%</button>"
                ),
                jQuery(".vjs-control-bar .vjs-custom-control-spacer").append(
                  "<button>열람횟수:" + a.attempt + "회</button>"
                );
              var o =
                '<div class="vjs-fav-button vjs-menu-button vjs-menu-button-popup vjs-control">';
              for (var s in ((o +=
                '<button class="vjs-subtitles-button vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-live="polite" aria-disabled="false" title="Bookmark" aria-haspopup="true" aria-expanded="false">'),
              (o +=
                '<span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text">Bookmark</span></button>'),
              (o +=
                '<div class="vjs-menu" style="width:280px;left:-15em"><ul class="vjs-menu-content" role="menu">'),
              (o +=
                '<li class="vjs-menu-title" tabindex="-1" style="height:35px"><span>북마크</span><button class="btn btn-primary addBookmarkBtn" style="float:right">현재 위치 북마크 추가</button></li>'),
              (o +=
                '<li class="vjs-menu-title" style="text-align:left" tabindex="-1">'),
              (o +=
                '  <button class="btn btn-default allCheckBookmark">전체선택</button>'),
              (o +=
                '  <button class="btn btn-warning allDelBookmarkBtn" style="float:right">일괄삭제</button>'),
              (o += "</li>"),
              console.log(I),
              I))
                s > 0 &&
                  ((o +=
                    '<li class="vjs-menu-item" tabindex="0" style="text-align:left;margin-left:5px;clear:both" role="menuitemcheckbox" aria-live="polite" aria-disabled="false" aria-checked="false">'),
                  (o +=
                    '<span class="vjs-menu-item-text bookmarklist" position="' +
                    I[s].position +
                    '">'),
                  (o +=
                    '<input type="checkbox" name="selbookmark[]" value="' +
                    I[s].id +
                    '"> <span class="bookmarkTime">' +
                    I[s].position +
                    "</span></span>"),
                  (o +=
                    '<span class="bookmarkBtnGroup" style="float:right;margin-right:5px">'),
                  (o +=
                    ' <button type="button" class="btn btn-xs updateBookmarkBtn">수정</button>'),
                  (o +=
                    ' <button type="button" class="btn btn-xs delBookmarkBtn">삭제</button>'),
                  (o += '</span><span class="vjs-control-text"></span>'),
                  (o += "</li>"));
              if (
                ((o += "</ul></div>"),
                (o += "</div>"),
                jQuery(".vjs-control-bar .vjs-custom-control-spacer").after(o),
                t(".vjs-subtitles-button").focus(function (e) {
                  t(".vjs-chapters-button").removeClass(
                    "vjs-chapters-button-hover"
                  ),
                    t(".vjs-fav-button").toggleClass("vjs-fav-button-hover");
                }),
                jQuery(".vjs-control-bar").keypress(function (t) {
                  if ("32" == t.keyCode) {
                    if ((jQuery("video").focus(), v.paused())) {
                      v.play();
                      return;
                    }
                    v.pause();
                    return;
                  }
                }),
                a.useVodContents)
              ) {
                var l =
                  '<div class="vjs-chapters-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button">';
                for (var s in ((l +=
                  '<button class="vjs-chapters-button vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-live="polite" aria-disabled="false" title="Chapters" aria-haspopup="true" aria-expanded="false">'),
                (l +=
                  '<span aria-hidden="true" class="vjs-icon-placeholder"></span><span class="vjs-control-text">Chapters</span></button>'),
                (l +=
                  '<div class="vjs-menu"><ul class="vjs-menu-content" role="menu">'),
                (l +=
                  '<li class="vjs-menu-title" tabindex="-1">&nbsp;&nbsp;&nbsp;&nbsp;학습목차</li>'),
                z)) {
                  var u = leftSpaceQuantity(z[s].title),
                    c = "";
                  u > 0 && (c = "padding-left:" + 10 * u + "px;"),
                    1 == z[s].link_type
                      ? ((l +=
                          '<li class="vjs-menu-item chapterlist" link_type="1" position="' +
                          z[s].position +
                          '" tabindex="0" role="menuitemcheckbox" aria-live="polite" aria-disabled="false" aria-checked="false">'),
                        (l +=
                          '<div class="vjs-menu-item-text" style="width:75%;display:inline-table;text-transform:none;' +
                          c +
                          '">' +
                          z[s].title +
                          "</div>"),
                        (l +=
                          '<div style="float:right;margin-right:5px">' +
                          z[s].position +
                          '</div><span class="vjs-control-text"></span>'),
                        (l += "</li>"))
                      : ((l +=
                          '<li class="vjs-menu-item chapterlist" link_type="2" link_url="' +
                          z[s].link_url +
                          '" tabindex="0" role="menuitemcheckbox" aria-live="polite" aria-disabled="false" aria-checked="false">'),
                        (l +=
                          '<div class="vjs-menu-item-text" style="width:75%;display:inline-table;text-transform:none;' +
                          c +
                          '">' +
                          z[s].title +
                          "</div>"),
                        (l +=
                          '<div style="float:right;margin-right:5px">참고자료</div><span class="vjs-control-text"></span>'),
                        (l += "</li>"));
                }
                (l += "</ul></div>"),
                  (l += "</div>"),
                  jQuery(".vjs-control-bar .vjs-custom-control-spacer").after(
                    l
                  ),
                  t(".vjs-chapters-button").focus(function (e) {
                    t(".vjs-fav-button").removeClass("vjs-fav-button-hover"),
                      t(".vjs-chapters-button").toggleClass(
                        "vjs-chapters-button-hover"
                      );
                  });
              }
              console.log("check", !r, b, n, k),
                !r &&
                  b > 0 &&
                  n &&
                  k &&
                  (v.pause(),
                  confirm(
                    M.util.get_string("prev_playback", "vod", a.secondToTime(b))
                  ) &&
                    (v.on("loadedmetadata", function () {
                      console.log("maxposition:", b - 1), v.currentTime(b - 1);
                    }),
                    setTimeout(function () {
                      v.play(),
                        v.currentTime(b - 1),
                        "Youtube" == e.techName_ && v.currentTime(b);
                    }, 1e3),
                    setTimeout(function () {
                      a.ajax("3", b, b);
                    }, 1500)));
            }),
            !$ &&
              ((e.getComponent("SeekBar").prototype.handleMouseMove = function (
                t
              ) {
                var e = this.calculateDistance(t) * this.player_.duration();
                e === this.player_.duration() && (e -= 0.1),
                  e < d.max ? this.player_.currentTime(e) : false;
              }),
              v.on("seeking", function () {
                var t = Math.floor(v.currentTime());
                t > 0 && C > 0 && (t -= C) < 0 && (t = 0),
                  n && t > d.max && !r
                    ? false
                    : (d.moveOld == d.old ||
                        d.moveNew == t ||
                        a.isComplete ||
                        (a.ajax("2", d.old, t), a.trackForWindow(99, d.old)),
                      (d.moveOld = d.old),
                      (d.moveNew = t));
              })),
            v.on("timeupdate", function () {
              var e = v.playbackRate();
              if (
                (!j && e > 1
                  ? (v.playbackRate(1),
                    a.alertMessage(
                      "alert-danger",
                      M.util.get_string("can_not_playbackrate", "vod")
                    ))
                  : j &&
                    e > x &&
                    (v.playbackRate(x),
                    a.alertMessage(
                      "alert-danger",
                      M.util.get_string("can_not_playbackrate_max", "vod", x)
                    )),
                (d.previous = d.current),
                (d.current = v.currentTime()),
                d.previous < d.current &&
                  ((d.old = d.previous), (d.previous = d.current)),
                !0 != v.paused() &&
                  d.current >= d.max &&
                  (d.max = Math.floor(d.current)),
                v.paused() ||
                  t("#vod_viewer .video-js").hasClass("vjs-has-started") ||
                  (v.focus(), v.pause(), v.play()),
                "NaN" != this.duration() && a.isProgressPeriodCheck)
              ) {
                var o = 0,
                  s = ((o = n ? d.max : y) / this.duration()) * 100;
                (s = s.toFixed(2)),
                  t("#vod_viewer .video-js ." + P).css("width", s + "%");
              }
            }),
            v.on("play", function () {
              if (!v.seeking()) {
                var t = v.currentTime();
                a.ajax("3", t, t), a.trackForWindow(99, t);
              }
              v.playbackRate(),
                setTimeout(function () {
                  v.playbackRate(o), (o = v.playbackRate());
                }, 1e3);
            }),
            v.on("pause", function () {
              if (v.paused() && !v.seeking() && !v.ended() && !a.isComplete) {
                var t = v.currentTime();
                a.ajax("2", t, t), a.trackForWindow(99, t);
              }
            }),
            v.on("ended", function () {
              var t = v.currentTime() + 1;
              a.ajax("10", t, t),
                a.trackForWindow(99, t),
                v.clearInterval(m),
                a.alertMessage(
                  "alert-danger",
                  M.util.get_string("complete_study_activity", "vod")
                );
            }),
            t(".vjs-playback-rate").on("click", function (e) {
              return (
                e.preventDefault(),
                e.stopPropagation(),
                e.stopImmediatePropagation(),
                t("div.vjs-playback-rate").toggleClass(
                  "vjs-playback-rate-hover"
                ),
                !1
              );
            }),
            t("button.vjs-playback-rate").focus(function (e) {
              return (
                t(".vjs-fav-button").removeClass("vjs-fav-button-hover"),
                t("div.vjs-playback-rate").toggleClass(
                  "vjs-playback-rate-hover"
                ),
                !1
              );
            }),
            t("button.vjs-playback-rate").focusout(function (e) {
              return (
                t("div.vjs-playback-rate").removeClass(
                  "vjs-playback-rate-hover"
                ),
                !1
              );
            }),
            jQuery(document).on(
              "click",
              ".vjs-fav-button .addBookmarkBtn",
              function () {
                var t = v.currentTime();
                jQuery.ajax({
                  url: "/mod/vod/action.php",
                  data:
                    "type=vod_add_bookmark&position=" + t + "&vodid=" + a.id,
                  type: "POST",
                  dataType: "json",
                  success: function (e) {
                    if (e.code == mesg.success) {
                      (o = Math.floor(t / 3600)),
                        (o = o < 10 ? "0" + o : o),
                        (a =
                          (a = Math.floor((t % 3600) / 60)) < 10 ? "0" + a : a);
                      var o,
                        a,
                        s,
                        n = "";
                      (n +=
                        '<li class="vjs-menu-item" tabindex="-1" style="text-align:left;margin-left:5px;clear:both" role="menuitemcheckbox" aria-live="polite" aria-disabled="false" aria-checked="false">'),
                        (n +=
                          '<span class="vjs-menu-item-text bookmarklist" position="' +
                          o +
                          ":" +
                          a +
                          ":" +
                          (s =
                            (s = Math.floor((t % 3600) % 60)) < 10
                              ? "0" + s
                              : s) +
                          '">'),
                        (n +=
                          '<input type="checkbox" name="selbookmark[]" value="' +
                          e.insert_id +
                          '"> <span class="bookmarkTime">' +
                          o +
                          ":" +
                          a +
                          ":" +
                          s +
                          "</span></span>"),
                        (n +=
                          '<span class="bookmarkBtnGroup" style="float:right;margin-right:5px">'),
                        (n +=
                          ' <button type="button" class="btn btn-xs updateBookmarkBtn">수정</button>'),
                        (n +=
                          ' <button type="button" class="btn btn-xs delBookmarkBtn">삭제</button>'),
                        (n += '</span><span class="vjs-control-text"></span>'),
                        (n += "</li>"),
                        jQuery(".vjs-fav-button .vjs-menu-content").append(n);
                    } else alert(e.msg);
                  },
                });
              }
            );
          var B = 0;
          jQuery(document).on(
            "click",
            ".vjs-fav-button .allCheckBookmark",
            function () {
              B
                ? (jQuery(".vjs-fav-button input[name='selbookmark[]']").prop(
                    "checked",
                    ""
                  ),
                  jQuery(this).text("전체선택"),
                  (B = 0))
                : (jQuery(".vjs-fav-button input[name='selbookmark[]']").prop(
                    "checked",
                    "checked"
                  ),
                  jQuery(this).text("전체선택취소"),
                  (B = 1));
            }
          ),
            jQuery(document).on("keyup", function (e) {
              t(".vjs-menu-button").hasClass("vjs-subs-caps-button") &&
                "67" == e.keyCode &&
                t(".vjs-subs-caps-button").click();
            }),
            jQuery(document).on(
              "click",
              ".vjs-fav-button .allDelBookmarkBtn",
              function () {
                if (confirm("선택된 북마크를 삭제하시겠습니까?")) {
                  var t = "",
                    e = 0;
                  if (
                    (jQuery(
                      ".vjs-fav-button input[name='selbookmark[]']:checked"
                    ).each(function () {
                      (t += "&selbookmark[]=" + jQuery(this).val()), e++;
                    }),
                    e < 1)
                  )
                    return alert("먼저 삭제할 북마크를 선택해주세요."), !1;
                  jQuery.ajax({
                    url: "/mod/vod/action.php",
                    data: "type=vod_del_bookmark&vodid=" + a.id + t,
                    type: "POST",
                    dataType: "json",
                    success: function (t) {
                      t.code == mesg.success
                        ? jQuery(
                            ".vjs-fav-button input[name='selbookmark[]']:checked"
                          ).each(function () {
                            jQuery(this).parents("li").remove();
                          })
                        : alert(t.msg);
                    },
                  });
                }
              }
            ),
            jQuery(document).on(
              "click",
              ".vjs-fav-button .delBookmarkBtn",
              function () {
                if (confirm("북마크를 삭제하시겠습니까?")) {
                  var t = jQuery(this),
                    e = t
                      .parents("li")
                      .find("input[name='selbookmark[]']")
                      .val();
                  console.log(e),
                    jQuery.ajax({
                      url: "/mod/vod/action.php",
                      data:
                        "type=vod_del_bookmark&vodid=" +
                        a.id +
                        "&selbookmark[]=" +
                        e,
                      type: "POST",
                      dataType: "json",
                      success: function (e) {
                        e.code == mesg.success
                          ? t.parents("li").remove()
                          : alert(e.msg);
                      },
                    });
                }
                return !1;
              }
            ),
            jQuery(document).on(
              "click",
              ".vjs-fav-button .updateBookmarkBtn",
              function () {
                var t = jQuery(this),
                  e = t.parents("li").find("input[name='selbookmark[]']").val(),
                  o = t
                    .parents("li")
                    .find(".bookmarklist .bookmarkTime")
                    .text();
                t
                  .parents("li")
                  .removeClass("vjs-menu-item")
                  .addClass("vjs-menu-title"),
                  t.parents("li").find(".bookmarklist").css("display", "none"),
                  t.parents(".bookmarkBtnGroup").css("display", "none");
                var a = "<span class='updateForm'>";
                (a +=
                  "<span style='color:#000000'><input type='text' name='updatePosition' value='" +
                  o +
                  "' bookmark_id='" +
                  e +
                  "'></span>"),
                  (a +=
                    "<span><button type='button' class='saveBookmarkBtn'>저장</button></span>"),
                  (a += "</span>"),
                  t.parents("li").prepend(a);
              }
            ),
            jQuery(document).on(
              "click",
              ".vjs-fav-button .saveBookmarkBtn",
              function () {
                var t = jQuery(this),
                  e = t.parents("li"),
                  o = e
                    .find("input[name='updatePosition']")
                    .attr("bookmark_id"),
                  a = t
                    .parents("li")
                    .find("input[name='updatePosition']")
                    .val();
                console.log(o, a),
                  jQuery.ajax({
                    url: "/mod/vod/action.php",
                    data: "type=vod_update_bookmark&position=" + a + "&id=" + o,
                    type: "POST",
                    dataType: "json",
                    success: function (t) {
                      t.code == mesg.success
                        ? (e
                            .removeClass("vjs-menu-title")
                            .addClass("vjs-menu-item"),
                          e
                            .find(".bookmarklist")
                            .css("display", "inline-block"),
                          e.find(".bookmarklist").attr("position", a),
                          e.find(".bookmarkBtnGroup").css("display", "block"),
                          e.find(".bookmarklist .bookmarkTime").text(a),
                          e.find(".updateForm").remove())
                        : alert(t.msg);
                    },
                  });
              }
            ),
            jQuery(document).on("click", ".skipbutton", function () {
              var t = Number(jQuery(this).attr("skipval")),
                e = v.currentTime() + t;
              v.currentTime(e);
            }),
            jQuery(document).on(
              "click",
              ".vjs-fav-button .vjs-menu-item:not(input,button) ",
              function () {
                var t = jQuery(this)
                    .find(".bookmarklist")
                    .attr("position")
                    .split(":"),
                  e = 0;
                (e += 3600 * parseInt(t[0])),
                  (e += 60 * parseInt(t[1])),
                  (e += parseInt(t[2])),
                  console.log(e),
                  v.currentTime(e);
              }
            ),
            jQuery(document).on(
              "click",
              ".vjs-chapters-button .chapterlist",
              function () {
                var t = jQuery(this).attr("link_type");
                if ("1" == t) {
                  var e = jQuery(this).attr("position").split(":"),
                    o = 0;
                  (o += 3600 * parseInt(e[0])),
                    (o += 60 * parseInt(e[1])),
                    (o += parseInt(e[2])),
                    v.currentTime(o);
                }
                "2" == t &&
                  ((link_url = jQuery(this).attr("link_url")),
                  window.open(
                    link_url,
                    "pop01",
                    "top=10, left=10, width=1200, height=800, status=no, menubar=no, toolbar=no, resizable=yes"
                  ));
              }
            ),
            jQuery(document).on(
              "keyup",
              ".vjs-chapters-button .chapterlist",
              function (t) {
                if ("13" == t.keyCode) {
                  var e = jQuery(this).attr("link_type");
                  if ("1" == e) {
                    var o = jQuery(this).attr("position").split(":"),
                      a = 0;
                    (a += 3600 * parseInt(o[0])),
                      (a += 60 * parseInt(o[1])),
                      (a += parseInt(o[2])),
                      v.currentTime(a);
                  }
                  "2" == e &&
                    ((link_url = jQuery(this).attr("link_url")),
                    window.open(
                      link_url,
                      "pop01",
                      "top=10, left=10, width=1200, height=800, status=no, menubar=no, toolbar=no, resizable=yes"
                    ));
                }
              }
            ),
            v.on("ratechange", function () {
              t(".video-js .vjs-control-bar .vjs-playback-rate").removeClass(
                "vjs-playback-rate-hover"
              ),
                (o = v.playbackRate());
            }),
            t(window).bind("beforeunload", function (t) {
              v.paused() || v.pause();
              var e = v.currentTime();
              if ((a.ajax("99", e, e), a.trackForWindow(99, e), a.isProgress)) {
                var o = M.util.get_string("track_window_close", "vod");
                return ((t || window.event).returnValue = o), o;
              }
            }),
            "" != w &&
              (require.config({
                enforceDefine: !1,
                paths: { externalLearningChecker: w },
              }),
              require(["externalLearningChecker"], function (t) {
                var o = null;
                e.getPlayers()[a.vodTagID] && (o = e.getPlayers()[a.vodTagID]),
                  t.init(T, o);
              })),
            t("video").bind("contextmenu", function () {
              return !1;
            });
        });
    }),
    (a.alertMessage = function (e, o, a) {
      a = void 0 !== a ? a : 5e3;
      var s = null;
      t("#vod_viewer .alert-message").length > 0 &&
        (s =
          parseInt(t("#vod_viewer .alert-message:last-child").css("top")) +
          parseInt(t("#vod_viewer .alert-message:last-child").outerHeight()) +
          10);
      var n = null,
        r = !0;
      e.indexOf("alert-max-move") > 0 &&
        t("#vod_viewer .alert-max-move").length > 0 &&
        ((n = t("#vod_viewer .alert-max-move")).html(o), (r = !1)),
        r &&
          ((n = t('<div class="alert alert-message"></div>')),
          null !== s && n.css("top", s),
          n.addClass(e).html(o),
          t("#vod_viewer").append(n)),
        n.show();
      var l = setTimeout(function () {
        n.remove();
      }, a);
      n.click(function () {
        t(this).remove(), clearTimeout(l);
      });
    }),
    (a.ajax = function (t, e, o) {}),
    (a.trackForWindow = function (e, o) {
      if (
        a.isProgress &&
        (a.isProgressPeriodCheck || (o = 0), a.trackid > 0 && a.attempt > 0)
      ) {
        var s = {
          type: "vod_track_for_onwindow",
          track: a.trackid,
          state: e,
          position: o,
          attempts: a.attempt,
          interval: a.intervalSecond,
        };
        t.ajax({
          url: a.actionurl,
          data: s,
          type: "POST",
          success: function (t) {
            if ((console.log(t, "inject"), "100" == t.code)) {
              console.log(
                Math.floor((t.progress_obj.totalprogress / a.playtime) * 100)
              );
              var e = Math.floor(
                (t.progress_obj.totalprogress / a.playtime) * 100
              );
              jQuery("#progress_percent").text(e);
            } else if (t.code == mesg.failure) return alert(t.msg), !1;
          },
          error: function (t, e) {
            t.responseText && alert(e + " : " + t.responseText);
          },
        });
      }
    }),
    (a.embeded = function (o, s, n) {
      require(a.videojsModule(s), function () {
        e.options.flash.swf = n;
        var a = t("#" + o).data("setup-lazy");
        e("my-video", a).ready(function () {
          this.hotkeys({});
        });
      });
    }),
    (a.secondToTime = function (t) {
      var e = new Date(null);
      return e.setSeconds(t), e.toISOString().substr(11, 8);
    }),
    (a.resize = function (t, e) {
      (e = parseInt(e) + 69), window.resizeTo(t, e);
    }),
    {
      progress: a.progress,
      embeded: a.embeded,
      resize: a.resize,
      alertMessage: a.alertMessage,
    }
  );
});
function leftSpaceQuantity(t) {
  var e = 0;
  for (i = 0; i < t.length; i++)
    if (" " == t.charAt(i)) e++;
    else break;
  return e;
}
define("mod_workshop/workshopview", ["jquery"], function (a) {
  function b(b) {
    var c = 0;
    b.height("auto"),
      b.each(function () {
        var b = a(this).height();
        b > c && (c = b);
      }),
      b.height(c);
  }
  return {
    init: function () {
      var c = a(".path-mod-workshop .userplan dt"),
        d = a(".path-mod-workshop .userplan dd");
      b(c),
        b(d),
        a(window).on("resize", function () {
          b(c), b(d);
        });
    },
  };
});
define("mod_zoom/form", ["jquery"], function (a) {
  return {
    init: function () {
      var b = a('input[name="option_jbh"][type!="hidden"]'),
        c = a('input[name="option_waiting_room"][type!="hidden"]');
      b.change(function () {
        1 == b.is(":checked") && c.prop("checked", !1);
      }),
        c.change(function () {
          1 == c.is(":checked") && b.prop("checked", !1);
        });
    },
  };
});
define("mod_zoom/ubzoom", [
  "jquery",
  "theme_coursemos/bootstrap",
  "theme_coursemos/jquery.validate",
], function (a) {
  return {
    user_participation_detail: function (b, c, d) {
      a("#participants-search").submit(function (b) {
        a("#participants-search input[name='page']").val("0");
      }),
        a(".btn-user-detail").click(function () {
          (username = a(this).attr("title")),
            (userid = a(this).attr("data-userid")),
            (type = "USER_P_DETAIL"),
            (target_element = a(this)),
            a("#participantModal .modal-header .modal-title").text(username),
            a("#participantModal").modal("show");
        }),
        a("#participantModal").on("show.bs.modal", function () {
          a.ajax({
            url: "ub_action.php",
            data:
              "type=" +
              type +
              "&courseid=" +
              b +
              "&tableid=" +
              d +
              "&userid=" +
              userid +
              "&multiple=" +
              c,
            type: "post",
            success: function (b) {
              return (
                (modal_body = a("#participantModal .modal-body")),
                modal_body.empty(),
                b.code != mesg.success
                  ? (alert(b.msg), !1)
                  : void (b.html && modal_body.append(b.html))
              );
            },
          });
        });
    },
    api_call: function (b, c, d) {
      a(".btn-api-hostinfo").click(function () {
        a("#zoomApiModal .modal-body .param-value").empty(),
          a("#zoomApiModal .modal-body .param-value-div").empty(),
          a("#zoomApiModal .modal-header .modal-title").text(
            "Zoom User-Info for Host"
          ),
          a("#zoomApiModal .modal-body .param").text("Host-ID : "),
          a("#zoomApiModal .modal-body .param-value").text(c),
          (api_display = a("#zoomApiModal .modal-body #api-result")),
          a("#zoomapiForm")[0].reset(),
          a.ajax({
            url: "ub_action.php",
            data: "type=API_CALL_HOSTINFO&hostid=" + c,
            type: "post",
            success: function (b) {
              return b.code != mesg.success
                ? (alert(b.msg), !1)
                : void (
                    b.info &&
                    (api_display.text(b.info), a("#zoomApiModal").modal("show"))
                  );
            },
          });
      }),
        a(".btn-api-zoominfo").click(function () {
          a("#zoomApiModal .modal-body .param-value").empty(),
            a("#zoomApiModal .modal-body .param-value-div").empty(),
            a("#zoomApiModal .modal-header .modal-title").text(
              "Zoom Course Meeting-Info for Host"
            ),
            a("#zoomApiModal .modal-body .param").text("Course Meeting-ID : "),
            a("#zoomApiModal .modal-body .param-value").text(b),
            (api_display = a("#zoomApiModal .modal-body #api-result")),
            a("#zoomapiForm")[0].reset(),
            a.ajax({
              url: "ub_action.php",
              data: "type=API_CALL_MEETINGINFO&meetingid=" + b,
              type: "post",
              success: function (b) {
                return b.code != mesg.success
                  ? (alert(b.msg), !1)
                  : void (
                      b.info &&
                      (api_display.val(b.info),
                      a("#zoomApiModal").modal("show"))
                    );
              },
            });
        }),
        a(".btn-api-sessionsinfo").click(function () {
          a("#zoomApiModal .modal-body .param-value").empty(),
            a("#zoomApiModal .modal-body .param-value-div").empty(),
            a("#zoomApiModal .modal-header .modal-title").text(
              "Prgress Meeting History for Host"
            ),
            a("#zoomApiModal .modal-body .param").text(
              "Host-ID & Condition period"
            );
          var b = new Date(1e3 * d).toLocaleDateString("ko-KR");
          a("#zoomApiModal .modal-body .param-value-div").html(
            "- Host id : " +
              c +
              "<br/>- Period : " +
              b +
              " 00:00:00 ~ " +
              b +
              " 23:29:59"
          ),
            (api_display = a("#zoomApiModal .modal-body #api-result")),
            a("#zoomapiForm")[0].reset(),
            a.ajax({
              url: "ub_action.php",
              data: "type=API_CALL_SESSIONS&hostid=" + c + "&starttime=" + d,
              type: "post",
              success: function (b) {
                return b.code != mesg.success
                  ? (alert(b.msg), !1)
                  : void (
                      b.info &&
                      (api_display.val(b.info),
                      a("#zoomApiModal").modal("show"))
                    );
              },
            });
        }),
        a(".btn-api-participants").click(function () {
          (uuid = a(this).attr("data-uuid")),
            a("#zoomApiModal .modal-body .param-value").empty(),
            a("#zoomApiModal .modal-body .param-value-div").empty(),
            a("#zoomApiModal .modal-header .modal-title").text(
              "Participants List"
            ),
            a("#zoomApiModal .modal-body .param").text("UUID"),
            a("#zoomApiModal .modal-body .param-value").text(uuid),
            (api_display = a("#zoomApiModal .modal-body #api-result")),
            a("#zoomapiForm")[0].reset(),
            a.ajax({
              url: "ub_action.php",
              data: "type=API_CALL_PARTICIPANTS&uuid=" + uuid,
              type: "post",
              success: function (b) {
                return b.code != mesg.success
                  ? (alert(b.msg), !1)
                  : void (
                      b.info &&
                      (api_display.val(b.info),
                      a("#zoomApiModal").modal("show"))
                    );
              },
            });
        });
    },
  };
});
define("message_popup/message_popover_controller", [
  "jquery",
  "core/ajax",
  "core/templates",
  "core/str",
  "core/notification",
  "core/custom_interaction_events",
  "core/popover_region_controller",
  "core_message/message_repository",
  "core/url",
], function (a, b, c, d, e, f, g, h, i) {
  var j = {
      MARK_ALL_READ_BUTTON: '[data-action="mark-all-read"]',
      CONTENT: '[data-region="messages"]',
      CONTENT_ITEM_CONTAINER: '[data-region="message-content-item-container"]',
      EMPTY_MESSAGE: '[data-region="empty-message"]',
      COUNT_CONTAINER: '[data-region="count-container"]',
    },
    k = function (a) {
      g.call(this, a),
        (this.markAllReadButton = this.root.find(j.MARK_ALL_READ_BUTTON)),
        (this.content = this.root.find(j.CONTENT)),
        (this.userId = this.root.attr("data-userid")),
        (this.limit = 20),
        (this.offset = 0),
        (this.loadedAll = !1),
        (this.initialLoad = !1),
        this.loadUnreadMessageCount();
    };
  return (
    (k.prototype = Object.create(g.prototype)),
    (k.prototype.constructor = k),
    (k.prototype.getContent = function () {
      return this.content;
    }),
    (k.prototype.incrementOffset = function () {
      this.offset += this.limit;
    }),
    (k.prototype.updateButtonAriaLabel = function () {
      this.isMenuOpen()
        ? d.get_string("hidemessagewindow", "message").done(
            function (a) {
              this.menuToggle.attr("aria-label", a);
            }.bind(this)
          )
        : this.unreadCount
        ? d
            .get_string(
              "showmessagewindowwithcount",
              "message",
              this.unreadCount
            )
            .done(
              function (a) {
                this.menuToggle.attr("aria-label", a);
              }.bind(this)
            )
        : d.get_string("showmessagewindownonew", "message").done(
            function (a) {
              this.menuToggle.attr("aria-label", a);
            }.bind(this)
          );
    }),
    (k.prototype.renderUnreadCount = function () {
      var a = this.root.find(j.COUNT_CONTAINER);
      this.unreadCount
        ? (a.text(this.unreadCount), a.removeClass("hidden"))
        : a.addClass("hidden");
    }),
    (k.prototype.hideUnreadCount = function () {
      this.root.find(j.COUNT_CONTAINER).addClass("hidden");
    }),
    (k.prototype.loadUnreadMessageCount = function () {
      h.countUnreadConversations({ useridto: this.userId }).then(
        function (a) {
          (this.unreadCount = a),
            this.renderUnreadCount(),
            this.updateButtonAriaLabel();
        }.bind(this)
      );
    }),
    (k.prototype.renderMessages = function (b, d) {
      var e = [],
        f = [],
        g = [];
      return (
        b.length &&
          a.each(
            b,
            function (a, b) {
              (b.contexturl = i.relativeUrl("/message/index.php", {
                user: this.userId,
                id: b.userid,
              })),
                (b.profileurl = i.relativeUrl("/user/profile.php", {
                  id: b.userid,
                }));
              var d = c.render("message_popup/message_content_item", b);
              e.push(d),
                d.then(function (b, c) {
                  (f[a] = b), (g[a] = c);
                });
            }.bind(this)
          ),
        a.when.apply(a.when, e).then(function () {
          b.length &&
            a.each(b, function (a) {
              d.append(f[a]), c.runTemplateJS(g[a]);
            });
        })
      );
    }),
    (k.prototype.loadMoreMessages = function () {
      if (this.isLoading || this.loadedAll) return a.Deferred().resolve();
      this.startLoading();
      var b = { userid: this.userId, limit: this.limit, offset: this.offset },
        c = this.getContent();
      return h
        .query(b)
        .then(
          function (a) {
            var b = a.contacts;
            return (
              (this.loadedAll = !b.length || b.length < this.limit),
              (this.initialLoad = !0),
              this.updateButtonAriaLabel(),
              !!b.length && (this.incrementOffset(), this.renderMessages(b, c))
            );
          }.bind(this)
        )
        .always(
          function () {
            this.stopLoading();
          }.bind(this)
        );
    }),
    (k.prototype.markAllAsRead = function () {
      return this.markAllReadButton.hasClass("loading")
        ? a.Deferred().resolve()
        : (this.markAllReadButton.addClass("loading"),
          h
            .markAllAsRead({ useridto: this.userId })
            .then(
              function () {
                (this.unreadCount = 0),
                  this.hideUnreadCount(),
                  this.getContent()
                    .find(j.CONTENT_ITEM_CONTAINER)
                    .removeClass("unread");
              }.bind(this)
            )
            .always(
              function () {
                this.markAllReadButton.removeClass("loading");
              }.bind(this)
            ));
    }),
    (k.prototype.registerEventListeners = function () {
      f.define(this.root, [f.events.keyboardActivate]),
        this.root.on(
          this.events().menuOpened,
          function () {
            this.hideUnreadCount(),
              this.updateButtonAriaLabel(),
              this.initialLoad || this.loadMoreMessages();
          }.bind(this)
        ),
        this.root.on(
          this.events().menuClosed,
          function () {
            this.renderUnreadCount(), this.updateButtonAriaLabel();
          }.bind(this)
        ),
        this.root.on(
          f.events.scrollBottom,
          function () {
            this.loadMoreMessages();
          }.bind(this)
        ),
        this.root.on(
          f.events.activate,
          j.MARK_ALL_READ_BUTTON,
          function (a, b) {
            this.markAllAsRead(),
              a.stopPropagation(),
              b.originalEvent.preventDefault();
          }.bind(this)
        ),
        f.define(this.getContentContainer(), [f.events.scrollLock]),
        a(document).on(
          "messagearea:conversationselected",
          function () {
            this.unreadCount--, this.renderUnreadCount();
          }.bind(this)
        );
    }),
    k
  );
});
define("message_popup/notification_area_content_area", [
  "jquery",
  "core/templates",
  "core/notification",
  "core/custom_interaction_events",
  "message_popup/notification_repository",
  "message_popup/notification_area_events",
], function (a, b, c, d, e, f) {
  var g = {
      CONTAINER: '[data-region="notification-area"]',
      CONTENT: '[data-region="content"]',
      HEADER: '[data-region="header"]',
      FOOTER: '[data-region="footer"]',
      TOGGLE_MODE: '[data-action="toggle-mode"]',
    },
    h = {
      HEADER: "message_popup/notification_area_content_area_header",
      CONTENT: "message_popup/notification_area_content_area_content",
      FOOTER: "message_popup/notification_area_content_area_footer",
    },
    i = function (b, c) {
      (this.root = a(b)),
        (this.container = this.root.closest(g.CONTAINER)),
        (this.userId = c),
        (this.header = this.root.find(g.HEADER)),
        (this.content = this.root.find(g.CONTENT)),
        (this.footer = this.root.find(g.FOOTER)),
        this.registerEventListeners();
    };
  return (
    (i.prototype.getRoot = function () {
      return this.root;
    }),
    (i.prototype.getContainer = function () {
      return this.container;
    }),
    (i.prototype.getUserId = function () {
      return this.userId;
    }),
    (i.prototype.getHeader = function () {
      return this.header;
    }),
    (i.prototype.getContent = function () {
      return this.content;
    }),
    (i.prototype.getFooter = function () {
      return this.footer;
    }),
    (i.prototype.show = function () {
      this.getContainer().addClass("show-content-area");
    }),
    (i.prototype.hide = function () {
      this.getContainer().removeClass("show-content-area");
    }),
    (i.prototype.setHeaderHTML = function (a) {
      this.getHeader().empty().html(a);
    }),
    (i.prototype.setContentHTML = function (a) {
      this.getContent().empty().html(a);
    }),
    (i.prototype.setFooterHTML = function (a) {
      this.getFooter().empty().html(a);
    }),
    (i.prototype.showNotification = function (c) {
      var d = b.render(h.HEADER, c).done(
          function (a) {
            this.setHeaderHTML(a);
          }.bind(this)
        ),
        e = b.render(h.CONTENT, c).done(
          function (a) {
            this.setContentHTML(a);
          }.bind(this)
        ),
        g = b.render(h.FOOTER, c).done(
          function (a) {
            this.setFooterHTML(a);
          }.bind(this)
        );
      return a.when(d, e, g).done(
        function () {
          this.show(), this.getContainer().trigger(f.notificationShown, [c]);
        }.bind(this)
      );
    }),
    (i.prototype.registerEventListeners = function () {
      d.define(this.getRoot(), [d.events.activate]),
        this.getRoot().on(
          d.events.activate,
          g.VIEW_TOGGLE,
          function () {
            this.hide();
          }.bind(this)
        ),
        this.getContainer().on(
          f.showNotification,
          function (a, b) {
            this.showNotification(b);
          }.bind(this)
        );
    }),
    i
  );
});
define("message_popup/notification_area_control_area", [
  "jquery",
  "core/templates",
  "core/notification",
  "core/custom_interaction_events",
  "message_popup/notification_repository",
  "message_popup/notification_area_events",
], function (a, b, c, d, e, f) {
  var g = {
      CONTAINER: '[data-region="notification-area"]',
      CONTENT: '[data-region="content"]',
      NOTIFICATION: '[data-region="notification-content-item-container"]',
      CAN_RECEIVE_FOCUS:
        'input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]',
    },
    h = { NOTIFICATION: "message_popup/notification_content_item" },
    i = function (b, c) {
      (this.root = a(b)),
        (this.container = this.root.closest(g.CONTAINER)),
        (this.userId = c),
        (this.content = this.root.find(g.CONTENT)),
        (this.offset = 0),
        (this.limit = 20),
        (this.initialLoad = !1),
        (this.isLoading = !1),
        (this.loadedAll = !1),
        (this.notifications = {}),
        this.registerEventListeners();
    };
  return (
    (i.prototype.getRoot = function () {
      return this.root;
    }),
    (i.prototype.getContainer = function () {
      return this.container;
    }),
    (i.prototype.getUserId = function () {
      return this.userId;
    }),
    (i.prototype.getContent = function () {
      return this.content;
    }),
    (i.prototype.getOffset = function () {
      return this.offset;
    }),
    (i.prototype.getLimit = function () {
      return this.limit;
    }),
    (i.prototype.setOffset = function (a) {
      this.offset = a;
    }),
    (i.prototype.setLimit = function (a) {
      this.limit = a;
    }),
    (i.prototype.incrementOffset = function () {
      this.offset += this.limit;
    }),
    (i.prototype.startLoading = function () {
      (this.isLoading = !0), this.getRoot().addClass("loading");
    }),
    (i.prototype.stopLoading = function () {
      (this.isLoading = !1), this.getRoot().removeClass("loading");
    }),
    (i.prototype.hasDoneInitialLoad = function () {
      return this.initialLoad;
    }),
    (i.prototype.hasLoadedAllContent = function () {
      return this.loadedAll;
    }),
    (i.prototype.setLoadedAllContent = function (a) {
      this.loadedAll = a;
    }),
    (i.prototype.setCacheNotification = function (a) {
      this.notifications[a.id] = a;
    }),
    (i.prototype.getCacheNotification = function (a) {
      return this.notifications[a];
    }),
    (i.prototype.getNotificationElement = function (a) {
      var b = this.getRoot().find(g.NOTIFICATION + '[data-id="' + a + '"]');
      return 1 == b.length ? b : null;
    }),
    (i.prototype.scrollNotificationIntoView = function (a) {
      var b = a.position(),
        c = this.getRoot(),
        d = b.top - c.scrollTop();
      if (d > c.innerHeight()) {
        var e = a.outerHeight();
        e = 4 * e;
        var f = b.top - e;
        c.scrollTop(f);
      }
    }),
    (i.prototype.showNotification = function (b) {
      if (
        ("object" != typeof b && (b = this.getNotificationElement(b)),
        b && b.length)
      ) {
        this.getRoot().find(g.NOTIFICATION).removeClass("selected"),
          b.addClass("selected").find(g.CAN_RECEIVE_FOCUS).focus();
        var c = b.attr("data-id"),
          d = this.getCacheNotification(c);
        this.scrollNotificationIntoView(b),
          this.getContainer().trigger(f.showNotification, [a.extend({}, d)]);
      }
    }),
    (i.prototype.markNotificationAsRead = function (a) {
      return e.markAsRead(a.attr("data-id")).done(function () {
        a.removeClass("unread");
      });
    }),
    (i.prototype.renderNotifications = function (d) {
      var e = [],
        f = [],
        g = [],
        i = this.getContent();
      return (
        d.length &&
          a.each(
            d,
            function (a, d) {
              var i = d.contexturl;
              delete d.contexturl;
              var j = b.render(h.NOTIFICATION, d);
              e.push(j),
                j
                  .then(
                    function (b, c) {
                      (f[a] = b),
                        (g[a] = c),
                        (d.contexturl = i),
                        this.setCacheNotification(d);
                    }.bind(this)
                  )
                  .fail(c.exception);
            }.bind(this)
          ),
        a.when.apply(a.when, e).then(function () {
          d.length &&
            a.each(d, function (a) {
              i.append(f[a]), b.runTemplateJS(g[a]);
            });
        })
      );
    }),
    (i.prototype.loadMoreNotifications = function () {
      if (this.isLoading || this.hasLoadedAllContent())
        return a.Deferred().resolve();
      this.startLoading();
      var b = {
        limit: this.getLimit(),
        offset: this.getOffset(),
        useridto: this.getUserId(),
      };
      this.initialLoad ||
        ((b.limit = this.getOffset() + this.getLimit()), (b.offset = 0));
      var c = e
        .query(b)
        .then(
          function (a) {
            var b = a.notifications;
            return (
              (this.unreadCount = a.unreadcount),
              this.setLoadedAllContent(!b.length || b.length < this.getLimit()),
              (this.initialLoad = !0),
              !!b.length &&
                (this.incrementOffset(), this.renderNotifications(b))
            );
          }.bind(this)
        )
        .always(
          function () {
            this.stopLoading();
          }.bind(this)
        );
      return c;
    }),
    (i.prototype.registerEventListeners = function () {
      d.define(this.getRoot(), [
        d.events.activate,
        d.events.scrollBottom,
        d.events.scrollLock,
        d.events.up,
        d.events.down,
      ]),
        this.getRoot().on(
          d.events.scrollBottom,
          function () {
            this.loadMoreNotifications();
          }.bind(this)
        ),
        this.getRoot().on(
          d.events.activate,
          g.NOTIFICATION,
          function (b) {
            var c = a(b.target).closest(g.NOTIFICATION);
            this.showNotification(c);
          }.bind(this)
        ),
        this.getRoot().on(
          d.events.up,
          g.NOTIFICATION,
          function (b, c) {
            var d = a(b.target).closest(g.NOTIFICATION);
            this.showNotification(d.prev()), c.originalEvent.preventDefault();
          }.bind(this)
        ),
        this.getRoot().on(
          d.events.down,
          g.NOTIFICATION,
          function (b, c) {
            var d = a(b.target).closest(g.NOTIFICATION);
            this.showNotification(d.next()), c.originalEvent.preventDefault();
          }.bind(this)
        ),
        this.getContainer().on(
          f.notificationShown,
          function (a, b) {
            if (!b.read) {
              var c = this.getNotificationElement(b.id);
              c && this.markNotificationAsRead(c);
              var d = this.getCacheNotification(b.id);
              d && (d.read = !0);
            }
          }.bind(this)
        );
    }),
    i
  );
});
define("message_popup/notification_area_events", [], function () {
  return {
    showNotification: "notification-area-events:showNotification",
    notificationShown: "notification-area-events:notificationShown",
  };
});
define("message_popup/notification_popover_controller", [
  "jquery",
  "core/ajax",
  "core/templates",
  "core/str",
  "core/url",
  "core/notification",
  "core/custom_interaction_events",
  "core/popover_region_controller",
  "message_popup/notification_repository",
  "message_popup/notification_area_events",
], function (a, b, c, d, e, f, g, h, i, j) {
  var k = {
      MARK_ALL_READ_BUTTON: '[data-action="mark-all-read"]',
      ALL_NOTIFICATIONS_CONTAINER: '[data-region="all-notifications"]',
      NOTIFICATION: '[data-region="notification-content-item-container"]',
      UNREAD_NOTIFICATION:
        '[data-region="notification-content-item-container"].unread',
      NOTIFICATION_LINK: '[data-action="content-item-link"]',
      EMPTY_MESSAGE: '[data-region="empty-message"]',
      COUNT_CONTAINER: '[data-region="count-container"]',
    },
    l = function (a) {
      h.call(this, a),
        (this.markAllReadButton = this.root.find(k.MARK_ALL_READ_BUTTON)),
        (this.unreadCount = 0),
        (this.userId = this.root.attr("data-userid")),
        (this.container = this.root.find(k.ALL_NOTIFICATIONS_CONTAINER)),
        (this.limit = 20),
        (this.offset = 0),
        (this.loadedAll = !1),
        (this.initialLoad = !1),
        this.loadUnreadNotificationCount();
    };
  return (
    (l.prototype = Object.create(h.prototype)),
    (l.prototype.constructor = l),
    (l.prototype.updateButtonAriaLabel = function () {
      this.isMenuOpen()
        ? d.get_string("hidenotificationwindow", "message").done(
            function (a) {
              this.menuToggle.attr("aria-label", a);
            }.bind(this)
          )
        : this.unreadCount
        ? d
            .get_string(
              "shownotificationwindowwithcount",
              "message",
              this.unreadCount
            )
            .done(
              function (a) {
                this.menuToggle.attr("aria-label", a);
              }.bind(this)
            )
        : d.get_string("shownotificationwindownonew", "message").done(
            function (a) {
              this.menuToggle.attr("aria-label", a);
            }.bind(this)
          );
    }),
    (l.prototype.getContent = function () {
      return this.container;
    }),
    (l.prototype.getOffset = function () {
      return this.offset;
    }),
    (l.prototype.incrementOffset = function () {
      this.offset += this.limit;
    }),
    (l.prototype.hasDoneInitialLoad = function () {
      return this.initialLoad;
    }),
    (l.prototype.hasLoadedAllContent = function () {
      return this.loadedAll;
    }),
    (l.prototype.setLoadedAllContent = function (a) {
      this.loadedAll = a;
    }),
    (l.prototype.renderUnreadCount = function () {
      var a = this.root.find(k.COUNT_CONTAINER);
      this.unreadCount
        ? (a.text(this.unreadCount), a.removeClass("hidden"))
        : a.addClass("hidden");
    }),
    (l.prototype.hideUnreadCount = function () {
      this.root.find(k.COUNT_CONTAINER).addClass("hidden");
    }),
    (l.prototype.loadUnreadNotificationCount = function () {
      i.countUnread({ useridto: this.userId }).then(
        function (a) {
          (this.unreadCount = a),
            this.renderUnreadCount(),
            this.updateButtonAriaLabel();
        }.bind(this)
      );
    }),
    (l.prototype.getNotificationElement = function (a) {
      var b = this.root.find(k.NOTIFICATION + '[data-id="' + a + '"]');
      return 1 == b.length ? b : null;
    }),
    (l.prototype.renderNotifications = function (b, d) {
      var g = [],
        h = [],
        i = [];
      return (
        b.length &&
          a.each(
            b,
            function (a, b) {
              var d = this.getOffset() - this.limit;
              b.viewmoreurl = e.relativeUrl(
                "/message/output/popup/notifications.php",
                { notificationid: b.id, offset: d }
              );
              var j = c.render("message_popup/notification_content_item", b);
              g.push(j),
                j
                  .then(function (b, c) {
                    (h[a] = b), (i[a] = c);
                  })
                  .fail(f.exception);
            }.bind(this)
          ),
        a.when.apply(a.when, g).then(function () {
          b.length &&
            a.each(b, function (a) {
              d.append(h[a]), c.runTemplateJS(i[a]);
            });
        })
      );
    }),
    (l.prototype.loadMoreNotifications = function () {
      if (this.isLoading || this.hasLoadedAllContent())
        return a.Deferred().resolve();
      this.startLoading();
      var b = {
          limit: this.limit,
          offset: this.getOffset(),
          useridto: this.userId,
        },
        c = this.getContent();
      return i
        .query(b)
        .then(
          function (a) {
            var b = a.notifications;
            return (
              (this.unreadCount = a.unreadcount),
              this.setLoadedAllContent(!b.length || b.length < this.limit),
              (this.initialLoad = !0),
              this.updateButtonAriaLabel(),
              !!b.length &&
                (this.incrementOffset(), this.renderNotifications(b, c))
            );
          }.bind(this)
        )
        .always(
          function () {
            this.stopLoading();
          }.bind(this)
        );
    }),
    (l.prototype.markAllAsRead = function () {
      return (
        this.markAllReadButton.addClass("loading"),
        i
          .markAllAsRead({ useridto: this.userId })
          .then(
            function () {
              (this.unreadCount = 0),
                this.root.find(k.UNREAD_NOTIFICATION).removeClass("unread");
            }.bind(this)
          )
          .always(
            function () {
              this.markAllReadButton.removeClass("loading");
            }.bind(this)
          )
      );
    }),
    (l.prototype.markNotificationAsRead = function (a) {
      return (
        !!a.hasClass("unread") &&
        i.markAsRead(a.attr("data-id")).then(
          function () {
            this.unreadCount--, a.removeClass("unread");
          }.bind(this)
        )
      );
    }),
    (l.prototype.registerEventListeners = function () {
      g.define(this.root, [g.events.activate]),
        this.root.on(
          g.events.activate,
          k.MARK_ALL_READ_BUTTON,
          function (a) {
            this.markAllAsRead(), a.stopPropagation();
          }.bind(this)
        ),
        this.root.on(
          g.events.activate,
          k.NOTIFICATION_LINK,
          function (b) {
            var c = a(b.target).closest(k.NOTIFICATION);
            this.markNotificationAsRead(c), b.stopPropagation();
          }.bind(this)
        ),
        this.root.on(
          this.events().menuOpened,
          function () {
            this.hideUnreadCount(),
              this.updateButtonAriaLabel(),
              this.hasDoneInitialLoad() || this.loadMoreNotifications();
          }.bind(this)
        ),
        this.root.on(
          this.events().menuClosed,
          function () {
            this.renderUnreadCount(), this.updateButtonAriaLabel();
          }.bind(this)
        ),
        this.root.on(
          this.events().startLoading,
          function () {
            this.getContent().attr("aria-busy", "true");
          }.bind(this)
        ),
        this.root.on(
          this.events().stopLoading,
          function () {
            this.getContent().attr("aria-busy", "false");
          }.bind(this)
        ),
        this.getContentContainer().on(
          g.events.scrollBottom,
          function () {
            this.isLoading ||
              this.hasLoadedAllContent() ||
              this.loadMoreNotifications();
          }.bind(this)
        ),
        g.define(this.getContentContainer(), [g.events.scrollLock]),
        a(document).on(
          j.notificationShown,
          function (a, b) {
            if (!b.read) {
              var c = this.getNotificationElement(b.id);
              c && c.removeClass("unread"),
                this.unreadCount--,
                this.renderUnreadCount();
            }
          }.bind(this)
        );
    }),
    l
  );
});
define("message_popup/notification_repository", [
  "core/ajax",
  "core/notification",
], function (a, b) {
  var c = function (c) {
      "undefined" == typeof c.limit && (c.limit = 20),
        "undefined" == typeof c.offset && (c.offset = 0);
      var d = { methodname: "message_popup_get_popup_notifications", args: c },
        e = a.call([d])[0];
      return e.fail(b.exception), e;
    },
    d = function (c) {
      var d = {
          methodname: "message_popup_get_unread_popup_notification_count",
          args: c,
        },
        e = a.call([d])[0];
      return e.fail(b.exception), e;
    },
    e = function (c) {
      var d = {
          methodname: "core_message_mark_all_notifications_as_read",
          args: c,
        },
        e = a.call([d])[0];
      return e.fail(b.exception), e;
    },
    f = function (c, d) {
      var e = { messageid: c };
      d && (e.timeread = d);
      var f = { methodname: "core_message_mark_message_read", args: e },
        g = a.call([f])[0];
      return g.fail(b.exception), g;
    };
  return { query: c, countUnread: d, markAllAsRead: e, markAsRead: f };
});
define("block_navigation/ajax_response_renderer", ["jquery"], function (a) {
  function b(d, e) {
    var f = a("<ul></ul>");
    f.attr("role", "group"),
      f.attr("aria-hidden", !0),
      a.each(e, function (d, e) {
        if ("object" == typeof e) {
          var g = a("<li></li>"),
            h = a("<p></p>"),
            i = e.id || e.key + "_tree_item",
            j = null,
            k = !(!e.expandable && !e.haschildren);
          if (
            (h.addClass("tree_item"),
            h.attr("id", i),
            h.attr("role", "treeitem"),
            h.attr("tabindex", "-1"),
            e.requiresajaxloading &&
              (h.attr("data-requires-ajax", !0),
              h.attr("data-node-id", e.id),
              h.attr("data-node-key", e.key),
              h.attr("data-node-type", e.type)),
            k &&
              (g.addClass("collapsed contains_branch"),
              h.attr("aria-expanded", !1),
              h.addClass("branch")),
            !e.icon ||
              (k && e.type !== c.ACTIVITY && e.type !== c.RESOURCE) ||
              (g.addClass("item_with_icon"),
              h.addClass("hasicon"),
              (j = a("<img/>")),
              j.attr("alt", e.icon.alt),
              j.attr("title", e.icon.title),
              j.attr("src", M.util.image_url(e.icon.pix, e.icon.component)),
              a.each(e.icon.classes, function (a, b) {
                j.addClass(b);
              })),
            e.link)
          ) {
            var l = a('<a title="' + e.title + '" href="' + e.link + '"></a>');
            j
              ? (l.append(j),
                l.append(
                  '<span class="item-content-wrap">' + e.name + "</span>"
                ))
              : l.append(e.name),
              e.hidden && l.addClass("dimmed"),
              h.append(l);
          } else {
            var m = a("<span></span>");
            j
              ? (m.append(j),
                m.append(
                  '<span class="item-content-wrap">' + e.name + "</span>"
                ))
              : m.append(e.name),
              e.hidden && m.addClass("dimmed"),
              h.append(m);
          }
          g.append(h),
            f.append(g),
            e.children && e.children.length
              ? b(h, e.children)
              : k &&
                !e.requiresajaxloading &&
                (g.removeClass("contains_branch"), h.addClass("emptybranch"));
        }
      }),
      d.parent().append(f);
    var g = d.attr("id") + "_group";
    f.attr("id", g), d.attr("aria-owns", g), d.attr("role", "treeitem");
  }
  var c = { ACTIVITY: 40, RESOURCE: 50 };
  return {
    render: function (a, c) {
      if (c.children && c.children.length) {
        b(a, c.children);
        var d = a.children("[role='treeitem']").first(),
          e = a.find("#" + d.attr("aria-owns"));
        d.attr("aria-expanded", !0), e.attr("aria-hidden", !1);
      } else
        a.parent().hasClass("contains_branch") &&
          (a.parent().removeClass("contains_branch"),
          a.addClass("emptybranch"));
    },
  };
});
define("block_navigation/nav_loader", [
  "jquery",
  "core/ajax",
  "core/config",
  "block_navigation/ajax_response_renderer",
], function (a, b, c, d) {
  function e(a) {
    return a.closest("[data-block]").attr("data-instanceid");
  }
  var f = c.wwwroot + "/lib/ajax/getnavbranch.php";
  return {
    load: function (b) {
      b = a(b);
      var g = a.Deferred(),
        h = {
          elementid: b.attr("data-node-id"),
          id: b.attr("data-node-key"),
          type: b.attr("data-node-type"),
          sesskey: c.sesskey,
          instance: e(b),
        },
        i = { type: "POST", dataType: "json", data: h };
      return (
        a.ajax(f, i).done(function (a) {
          d.render(b, a), g.resolve();
        }),
        g
      );
    },
  };
});
define("block_navigation/navblock", ["jquery", "core/tree"], function (a, b) {
  return {
    init: function (a) {
      var c = new b(".block_navigation .block_tree");
      (c.finishExpandingGroup = function (c) {
        b.prototype.finishExpandingGroup.call(this, c),
          Y.use("moodle-core-event", function () {
            Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED, {
              instanceid: a,
            });
          });
      }),
        (c.collapseGroup = function (c) {
          b.prototype.collapseGroup.call(this, c),
            Y.use("moodle-core-event", function () {
              Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED, {
                instanceid: a,
              });
            });
        });
    },
  };
});
define("block_navigation/site_admin_loader", [
  "jquery",
  "core/ajax",
  "core/config",
  "block_navigation/ajax_response_renderer",
], function (a, b, c, d) {
  var e = 71,
    f = c.wwwroot + "/lib/ajax/getsiteadminbranch.php";
  return {
    load: function (b) {
      b = a(b);
      var g = a.Deferred(),
        h = { type: e, sesskey: c.sesskey },
        i = { type: "POST", dataType: "json", data: h };
      return (
        a.ajax(f, i).done(function (a) {
          d.render(b, a), g.resolve();
        }),
        g
      );
    },
  };
});
define("block_settings/settingsblock", ["jquery", "core/tree"], function (
  a,
  b
) {
  return {
    init: function (a, c) {
      var d = new b(".block_settings .block_tree");
      if (c) {
        var e = d.treeRoot.find("#" + c),
          f = e.children("a").first();
        f.replaceWith('<span tabindex="0">' + f.html() + "</span>");
      }
      (d.finishExpandingGroup = function (c) {
        b.prototype.finishExpandingGroup.call(this, c),
          Y.use("moodle-core-event", function () {
            Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED, {
              instanceid: a,
            });
          });
      }),
        (d.collapseGroup = function (c) {
          b.prototype.collapseGroup.call(this, c),
            Y.use("moodle-core-event", function () {
              Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED, {
                instanceid: a,
              });
            });
        });
    },
  };
});
define("media_videojs/loader", ["jquery", "core/event"], function (a, b) {
  var c,
    d = function (d) {
      (c = d),
        e(null, a("body")),
        b.getLegacyEvents().done(function (b) {
          a(document).on(b.FILTER_CONTENT_UPDATED, e);
        });
    },
    e = function (b, d) {
      var e = ".mediaplugin_videojs";
      d.find(e)
        .addBack(e)
        .find("audio, video")
        .each(function () {
          var b = a(this).attr("id"),
            d = a(this).data("setup"),
            e = ["media_videojs/video-lazy"];
          d.techOrder &&
            d.techOrder.indexOf("youtube") !== -1 &&
            e.push("media_videojs/Youtube-lazy"),
            require(e, function (a) {
              c && (c(a), (c = null)), a(b, d);
            });
        });
    };
  return { setUp: d };
});
function MediaStreamRecorder(a) {
  if (!a) throw "MediaStream is mandatory.";
  (this.start = function (c) {
    var d;
    "undefined" != typeof MediaRecorder
      ? (d = PlainMediaRecorderWrapper)
      : (IsChrome || IsOpera || IsEdge) &&
        (this.mimeType.indexOf("video") !== -1
          ? (d = WhammyRecorder)
          : this.mimeType.indexOf("audio") !== -1 && (d = StereoAudioRecorder)),
      "image/gif" === this.mimeType && (d = GifRecorder),
      ("audio/wav" !== this.mimeType && "audio/pcm" !== this.mimeType) ||
        (d = StereoAudioRecorder),
      this.recorderType && (d = this.recorderType),
      (b = new d(a)),
      (b.blobs = []);
    var e = this;
    (b.ondataavailable = function (a) {
      b.blobs.push(a), e.ondataavailable(a);
    }),
      (b.onstop = this.onstop),
      (b.onStartedDrawingNonBlankFrames = this.onStartedDrawingNonBlankFrames),
      (b = mergeProps(b, this)),
      b.start(c);
  }),
    (this.onStartedDrawingNonBlankFrames = function () {}),
    (this.clearOldRecordedFrames = function () {
      b && b.clearOldRecordedFrames();
    }),
    (this.stop = function () {
      b && b.stop();
    }),
    (this.ondataavailable = function (a) {
      console.log("ondataavailable..", a);
    }),
    (this.onstop = function (a) {
      console.warn("stopped..", a);
    }),
    (this.save = function (a, c) {
      if (!a) {
        if (!b) return;
        return void ConcatenateBlobs(b.blobs, b.blobs[0].type, function (a) {
          invokeSaveAsDialog(a);
        });
      }
      invokeSaveAsDialog(a, c);
    }),
    (this.pause = function () {
      b &&
        (b.pause(),
        console.log("Paused recording.", this.mimeType || b.mimeType));
    }),
    (this.resume = function () {
      b &&
        (b.resume(),
        console.log("Resumed recording.", this.mimeType || b.mimeType));
    }),
    (this.recorderType = null),
    (this.mimeType = "video/webm"),
    (this.disableLogs = !1);
  var b;
}
function MultiStreamRecorder(a) {
  function b() {
    f.audioContext = new AudioContext();
    var b = [],
      c = 0;
    if (
      (a.forEach(function (a) {
        a.getAudioTracks().length &&
          (c++, b.push(f.audioContext.createMediaStreamSource(a)));
      }),
      c)
    )
      return (
        (f.audioDestination = f.audioContext.createMediaStreamDestination()),
        b.forEach(function (a) {
          a.connect(f.audioDestination);
        }),
        f.audioDestination.stream
      );
  }
  function c() {
    a.forEach(function (a) {
      if (a.getVideoTracks().length) {
        var b = d(a);
        (b.width = f.video.width), (b.height = f.video.height), h.push(b);
      }
    });
    var b;
    return (
      "captureStream" in j
        ? (b = j.captureStream())
        : "mozCaptureStream" in j
        ? (b = j.mozCaptureStream())
        : f.disableLogs ||
          console.error(
            "Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features"
          ),
      b
    );
  }
  function d(a) {
    var b = document.createElement("video");
    return (b.srcObject = a), b.play(), b;
  }
  function e() {
    if (!i) {
      var a = h.length;
      (j.width = a > 1 ? 2 * h[0].width : h[0].width),
        (j.height = a > 2 ? 2 * h[0].height : h[0].height),
        h.forEach(function (b, c) {
          if (1 === a) return void k.drawImage(b, 0, 0, b.width, b.height);
          if (2 === a) {
            var d = 0,
              e = 0;
            return (
              1 === c && (d = b.width),
              void k.drawImage(b, d, e, b.width, b.height)
            );
          }
          if (3 === a) {
            var d = 0,
              e = 0;
            return (
              1 === c && (d = b.width),
              2 === c && (e = b.height),
              void k.drawImage(b, d, e, b.width, b.height)
            );
          }
          if (4 === a) {
            var d = 0,
              e = 0;
            return (
              1 === c && (d = b.width),
              2 === c && (e = b.height),
              3 === c && ((d = b.width), (e = b.height)),
              void k.drawImage(b, d, e, b.width, b.height)
            );
          }
        }),
        setTimeout(e, f.frameInterval);
    }
  }

  a instanceof MediaStream && (a = [a]);
  var f = this;
  this.mimeType || (this.mimeType = "video/webm"),
    this.frameInterval || (this.frameInterval = 10),
    this.video || (this.video = {}),
    this.video.width || (this.video.width = 360),
    this.video.height || (this.video.height = 240),
    (this.start = function (a) {
      i = !1;
      var d = c(),
        h = b();
      h &&
        h.getAudioTracks().forEach(function (a) {
          d.addTrack(a);
        }),
        f.previewStream &&
          "function" == typeof f.previewStream &&
          f.previewStream(d),
        (g = new MediaStreamRecorder(d));
      for (var j in f) "function" != typeof f[j] && (g[j] = f[j]);
      (g.ondataavailable = function (a) {
        f.ondataavailable(a);
      }),
        e(),
        g.start(a);
    }),
    (this.stop = function (a) {
      (i = !0),
        g &&
          g.stop(function (b) {
            a(b);
          });
    });
  var g,
    h = [],
    i = !1,
    j = document.createElement("canvas"),
    k = j.getContext("2d");
  (j.style =
    "opacity:0;position:absolute;z-index:-1;top: -100000000;left:-1000000000;"),
    (document.body || document.documentElement).appendChild(j),
    (this.pause = function () {
      g && g.pause();
    }),
    (this.resume = function () {
      g && g.resume();
    }),
    (this.clearRecordedData = function () {
      (h = []),
        k.clearRect(0, 0, j.width, j.height),
        (i = !1),
        (g = null),
        g && g.clearRecordedData();
    }),
    (this.addStream = function (b) {
      if (b instanceof Array && b.length) return void b.forEach(this.addStream);
      if ((a.push(b), g)) {
        if (b.getVideoTracks().length) {
          var c = d(b);
          (c.width = f.video.width), (c.height = f.video.height), h.push(c);
        }
        if (b.getAudioTracks().length && f.audioContext) {
          var e = f.audioContext.createMediaStreamSource(b);
          e.connect(f.audioDestination);
        }
      }
    }),
    (this.ondataavailable = function (a) {
      f.disableLogs || console.log("ondataavailable", a);
    });
}
function mergeProps(a, b) {
  for (var c in b) "function" != typeof b[c] && (a[c] = b[c]);
  return a;
}
function dropFirstFrame(a) {
  return a.shift(), a;
}
function invokeSaveAsDialog(a, b) {
  if (!a) throw "Blob object is required.";
  var c = (a.type || "video/webm").split("/")[1];
  if (b && b.indexOf(".") !== -1) {
    var d = b.split(".");
    (b = d[0]), (c = d[1]);
  }
  var e = (b || Math.round(9999999999 * Math.random()) + 888888888) + "." + c;
  if ("undefined" != typeof navigator.msSaveOrOpenBlob)
    return navigator.msSaveOrOpenBlob(a, e);
  if ("undefined" != typeof navigator.msSaveBlob)
    return navigator.msSaveBlob(a, e);
  var f = document.createElement("a");
  (f.href = URL.createObjectURL(a)),
    (f.target = "_blank"),
    (f.download = e),
    navigator.mozGetUserMedia &&
      ((f.onclick = function () {
        (document.body || document.documentElement).removeChild(f);
      }),
      (document.body || document.documentElement).appendChild(f));
  var g = new MouseEvent("click", {
    view: window,
    bubbles: !0,
    cancelable: !0,
  });
  f.dispatchEvent(g), navigator.mozGetUserMedia || URL.revokeObjectURL(f.href);
}
function bytesToSize(a) {
  var b = 1e3,
    c = ["Bytes", "KB", "MB", "GB", "TB"];
  if (0 === a) return "0 Bytes";
  var d = parseInt(Math.floor(Math.log(a) / Math.log(b)), 10);
  return (a / Math.pow(b, d)).toPrecision(3) + " " + c[d];
}
function isMediaRecorderCompatible() {
  var a = !!window.opera || navigator.userAgent.indexOf(" OPR/") >= 0,
    b = !!window.chrome && !a,
    c = "undefined" != typeof window.InstallTrigger;
  if (c) return !0;
  if (!b) return !1;
  var d,
    e,
    f = (navigator.appVersion, navigator.userAgent),
    g = "" + parseFloat(navigator.appVersion),
    h = parseInt(navigator.appVersion, 10);
  return (
    b && ((d = f.indexOf("Chrome")), (g = f.substring(d + 7))),
    (e = g.indexOf(";")) !== -1 && (g = g.substring(0, e)),
    (e = g.indexOf(" ")) !== -1 && (g = g.substring(0, e)),
    (h = parseInt("" + g, 10)),
    isNaN(h) &&
      ((g = "" + parseFloat(navigator.appVersion)),
      (h = parseInt(navigator.appVersion, 10))),
    h >= 49
  );
}
function MediaRecorderWrapper(a) {
  function b() {
    if ("active" in a) {
      if (!a.active) return !1;
    } else if ("ended" in a && a.ended) return !1;
    return !0;
  }
  var c = this;
  (this.start = function (b, e) {
    if (
      (c.mimeType || (c.mimeType = "video/webm"),
      c.mimeType.indexOf("audio") !== -1 &&
        a.getVideoTracks().length &&
        a.getAudioTracks().length)
    ) {
      var f;
      navigator.mozGetUserMedia
        ? ((f = new MediaStream()), f.addTrack(a.getAudioTracks()[0]))
        : (f = new MediaStream(a.getAudioTracks())),
        (a = f);
    }
    c.mimeType.indexOf("audio") !== -1 &&
      (c.mimeType = IsChrome ? "audio/webm" : "audio/ogg");
    var g = { mimeType: c.mimeType };
    c.disableLogs ||
      e ||
      console.log("Passing following params over MediaRecorder API.", g),
      d && (d = null),
      IsChrome && !isMediaRecorderCompatible() && (g = "video/vp8");
    try {
      d = new MediaRecorder(a, g);
    } catch (h) {
      d = new MediaRecorder(a);
    }
    "canRecordMimeType" in d &&
      d.canRecordMimeType(c.mimeType) === !1 &&
      (c.disableLogs ||
        console.warn(
          "MediaRecorder API seems unable to record mimeType:",
          c.mimeType
        )),
      (d.ignoreMutedMedia = c.ignoreMutedMedia || !1);
    (d.ondataavailable = function (a) {
      if (!c.dontFireOnDataAvailableEvent && a.data && a.data.size) {
        var e = c.getNativeBlob
          ? a.data
          : new Blob([a.data], { type: c.mimeType || "video/webm" });
        c.ondataavailable(e),
          d && "recording" === d.state && d.stop(),
          (d = null),
          c.start(b, "__disableLogs");
      }
    }),
      (d.onerror = function (a) {
        c.disableLogs ||
          ("InvalidState" === a.name
            ? console.error(
                "The MediaRecorder is not in a state in which the proposed operation is allowed to be executed."
              )
            : "OutOfMemory" === a.name
            ? console.error(
                "The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute."
              )
            : "IllegalStreamModification" === a.name
            ? console.error(
                "A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute."
              )
            : "OtherRecordingError" === a.name
            ? console.error(
                "Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute."
              )
            : "GenericError" === a.name
            ? console.error(
                "The UA cannot provide the codec or recording option that has been requested.",
                a
              )
            : console.error("MediaRecorder Error", a)),
          d && "inactive" !== d.state && "stopped" !== d.state && d.stop();
      });
    try {
      d.start(36e5);
    } catch (h) {
      d = null;
    }
    setTimeout(function () {
      d && "recording" === d.state && d.requestData();
    }, b);
  }),
    (this.stop = function (a) {
      d &&
        "recording" === d.state &&
        (d.requestData(),
        setTimeout(function () {
          (c.dontFireOnDataAvailableEvent = !0),
            d && "recording" === d.state && d.stop(),
            (d = null);
        }, 2e3));
    }),
    (this.pause = function () {
      d && "recording" === d.state && d.pause();
    }),
    (this.ondataavailable = function (a) {
      console.log("recorded-blob", a);
    }),
    (this.resume = function () {
      if (this.dontFireOnDataAvailableEvent) {
        this.dontFireOnDataAvailableEvent = !1;
        var a = c.disableLogs;
        return (c.disableLogs = !0), this.record(), void (c.disableLogs = a);
      }
      d && "paused" === d.state && d.resume();
    }),
    (this.clearRecordedData = function () {
      d &&
        (this.pause(), (this.dontFireOnDataAvailableEvent = !0), this.stop());
    });
  var d;
  !(function e() {
    if (d) return b() === !1 ? void c.stop() : void setTimeout(e, 1e3);
  })();
}
function PlainMediaRecorderWrapper(a) {
  function b() {
    if ("active" in a) {
      if (!a.active) return !1;
    } else if ("ended" in a && a.ended) return !1;
    return !0;
  }
  var c = this;
  (this.start = function (b, e) {
    if (
      (c.mimeType || (c.mimeType = "video/webm"),
      c.mimeType.indexOf("audio") !== -1 &&
        a.getVideoTracks().length &&
        a.getAudioTracks().length)
    ) {
      var f;
      navigator.mozGetUserMedia
        ? ((f = new MediaStream()), f.addTrack(a.getAudioTracks()[0]))
        : (f = new MediaStream(a.getAudioTracks())),
        (a = f);
    }
    c.mimeType.indexOf("audio") !== -1 &&
      (c.mimeType = IsChrome ? "audio/webm" : "audio/ogg");
    var g = { mimeType: c.mimeType };
    c.disableLogs ||
      e ||
      console.log("Passing following params over MediaRecorder API.", g);
    try {
      d = new MediaRecorder(a, g);
    } catch (h) {
      d = new MediaRecorder(a);
    }
    "canRecordMimeType" in d &&
      d.canRecordMimeType(c.mimeType) === !1 &&
      (c.disableLogs ||
        console.warn(
          "MediaRecorder API seems unable to record mimeType:",
          c.mimeType
        )),
      (d.ignoreMutedMedia = c.ignoreMutedMedia || !1),
      (d.ondataavailable = function (a) {
        if (a.data && a.data.size) {
          var b = c.getNativeBlob
            ? a.data
            : new Blob([a.data], { type: c.mimeType || "video/webm" });
          c.ondataavailable(b);
        }
      }),
      (d.onerror = function (a) {
        c.disableLogs ||
          ("InvalidState" === a.name
            ? console.error(
                "The MediaRecorder is not in a state in which the proposed operation is allowed to be executed."
              )
            : "OutOfMemory" === a.name
            ? console.error(
                "The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute."
              )
            : "IllegalStreamModification" === a.name
            ? console.error(
                "A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute."
              )
            : "OtherRecordingError" === a.name
            ? console.error(
                "Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute."
              )
            : "GenericError" === a.name
            ? console.error(
                "The UA cannot provide the codec or recording option that has been requested.",
                a
              )
            : console.error("MediaRecorder Error", a)),
          d && "inactive" !== d.state && "stopped" !== d.state && d.stop();
      });
    try {
      d.start(b), console.log("JUSTIN .... started" + b);
    } catch (h) {
      d = null;
    }
  }),
    (this.stop = function (a) {
      d && "recording" === d.state && d.stop();
    }),
    (this.pause = function () {
      d && "recording" === d.state && d.pause();
    }),
    (this.ondataavailable = function (a) {
      console.log("recorded-blob", a);
    }),
    (this.resume = function () {
      d && "paused" === d.state && d.resume();
    }),
    (this.clearRecordedData = function () {
      d && (this.pause(), this.stop());
    });
  var d;
  !(function e() {
    if (d) return b() === !1 ? void c.stop() : void setTimeout(e, 1e3);
  })();
}
function StereoAudioRecorder(a) {
  (this.start = function (d) {
    (d = d || 1e3),
      (b = new StereoAudioRecorderHelper(a, this)),
      b.record(),
      (c = setInterval(function () {
        b.requestData();
      }, d));
  }),
    (this.stop = function () {
      b && (b.stop(), clearTimeout(c));
    }),
    (this.pause = function () {
      b && b.pause();
    }),
    (this.resume = function () {
      b && b.resume();
    }),
    (this.ondataavailable = function () {});
  var b, c;
}
function StereoAudioRecorderHelper(a, b) {
  function c(a, b) {
    for (
      var c = a.length + b.length, d = new Float32Array(c), e = 0, f = 0;
      f < c;

    )
      (d[f++] = a[e]), (d[f++] = b[e]), e++;
    return d;
  }
  function d(a, b) {
    for (var c = new Float32Array(b), d = 0, e = a.length, f = 0; f < e; f++) {
      var g = a[f];
      c.set(g, d), (d += g.length);
    }
    return c;
  }
  function e(a, b, c) {
    for (var d = c.length, e = 0; e < d; e++)
      a.setUint8(b + e, c.charCodeAt(e));
  }
  function f(a) {
    for (var b = a.length, c = new Int16Array(b); b--; ) c[b] = 65535 * a[b];
    return c.buffer;
  }
  var g = 44100;
  ObjectStore.AudioContextConstructor ||
    (ObjectStore.AudioContextConstructor = new ObjectStore.AudioContext()),
    (g = ObjectStore.AudioContextConstructor.sampleRate);
  var h,
    i,
    j,
    k,
    l = [],
    m = [],
    n = !1,
    o = 0,
    p = b.sampleRate || g,
    q = b.mimeType || "audio/wav",
    r = q.indexOf("audio/pcm") > -1,
    s = b.audioChannels || 2;
  (this.record = function () {
    (n = !0), (l.length = m.length = 0), (o = 0);
  }),
    (this.requestData = function () {
      if (!v) {
        if (0 === o) return void (u = !1);
        u = !0;
        var a = l.slice(0),
          g = m.slice(0),
          h = o;
        (l.length = m.length = []), (o = 0), (u = !1);
        var i = d(a, h),
          j = i;
        if (2 === s) {
          var k = d(g, h);
          j = c(i, k);
        }
        if (r) {
          var n = new Blob([f(j)], { type: "audio/pcm" });
          return (
            console.debug("audio recorded blob size:", bytesToSize(n.size)),
            void b.ondataavailable(n)
          );
        }
        var q = new ArrayBuffer(44 + 2 * j.length),
          t = new DataView(q);
        e(t, 0, "RIFF"),
          t.setUint32(4, 44 + 2 * j.length - 8, !0),
          e(t, 8, "WAVE"),
          e(t, 12, "fmt "),
          t.setUint32(16, 16, !0),
          t.setUint16(20, 1, !0),
          t.setUint16(22, s, !0),
          t.setUint32(24, p, !0),
          t.setUint32(28, p * s * 2, !0),
          t.setUint16(32, 2 * s, !0),
          t.setUint16(34, 16, !0),
          e(t, 36, "data"),
          t.setUint32(40, 2 * j.length, !0);
        for (var w = j.length, x = 44, y = 1, z = 0; z < w; z++)
          t.setInt16(x, j[z] * (32767 * y), !0), (x += 2);
        var n = new Blob([t], { type: "audio/wav" });
        console.debug("audio recorded blob size:", bytesToSize(n.size)),
          b.ondataavailable(n);
      }
    }),
    (this.stop = function () {
      (n = !1), this.requestData(), j.disconnect();
    });
  var k = ObjectStore.AudioContextConstructor;
  ObjectStore.VolumeGainNode = k.createGain();
  var i = ObjectStore.VolumeGainNode;
  ObjectStore.AudioInput = k.createMediaStreamSource(a);
  var j = ObjectStore.AudioInput;
  j.connect(i);
  var t = b.bufferSize || 2048;
  if ((0 === b.bufferSize && (t = 0), k.createJavaScriptNode))
    h = k.createJavaScriptNode(t, s, s);
  else {
    if (!k.createScriptProcessor)
      throw "WebAudio API has no support on this browser.";
    h = k.createScriptProcessor(t, s, s);
  }
  (t = h.bufferSize), console.debug("using audio buffer-size:", t);
  var u = !1;
  (window.scriptprocessornode = h),
    1 === s && console.debug("All right-channels are skipped.");
  var v = !1;
  (this.pause = function () {
    v = !0;
  }),
    (this.resume = function () {
      v = !1;
    }),
    (h.onaudioprocess = function (a) {
      if (n && !u && !v) {
        var b = a.inputBuffer.getChannelData(0);
        if ((l.push(new Float32Array(b)), 2 === s)) {
          var c = a.inputBuffer.getChannelData(1);
          m.push(new Float32Array(c));
        }
        o += t;
      }
    }),
    i.connect(h),
    h.connect(k.destination);
}
function WhammyRecorder(a) {
  (this.start = function (d) {
    (d = d || 1e3), (b = new WhammyRecorderHelper(a, this));
    for (var e in this) "function" != typeof this[e] && (b[e] = this[e]);
    b.record(),
      (c = setInterval(function () {
        b.requestData();
      }, d));
  }),
    (this.stop = function () {
      b && (b.stop(), clearTimeout(c));
    }),
    (this.clearOldRecordedFrames = function () {
      b && b.clearOldRecordedFrames();
    }),
    (this.pause = function () {
      b && b.pause();
    }),
    (this.resume = function () {
      b && b.resume();
    }),
    (this.ondataavailable = function () {});
  var b, c;
}
function WhammyRecorderHelper(a, b) {
  function c() {
    if (o) return (j = new Date().getTime()), void setTimeout(c, 500);
    if (!h) {
      if (f) return setTimeout(c, 100);
      var a = new Date().getTime() - j;
      if (!a) return c();
      (j = new Date().getTime()),
        !n.isHTMLObject && i.paused && i.play(),
        m.drawImage(i, 0, 0, l.width, l.height),
        h || k.frames.push({ duration: a, image: l.toDataURL("image/webp") }),
        g ||
          d(k.frames[k.frames.length - 1]) ||
          ((g = !0), b.onStartedDrawingNonBlankFrames()),
        setTimeout(c, 10);
    }
  }
  function d(a, b, c) {
    var d = document.createElement("canvas");
    (d.width = l.width), (d.height = l.height);
    var e,
      f,
      g,
      h = d.getContext("2d"),
      i = { r: 0, g: 0, b: 0 },
      j = Math.sqrt(Math.pow(255, 2) + Math.pow(255, 2) + Math.pow(255, 2)),
      k = b && b >= 0 && b <= 1 ? b : 0,
      m = c && c >= 0 && c <= 1 ? c : 0,
      n = new Image();
    (n.src = a.image), h.drawImage(n, 0, 0, l.width, l.height);
    var o = h.getImageData(0, 0, l.width, l.height);
    (e = 0), (f = o.data.length), (g = o.data.length / 4);
    for (var p = 0; p < f; p += 4) {
      var q = { r: o.data[p], g: o.data[p + 1], b: o.data[p + 2] },
        r = Math.sqrt(
          Math.pow(q.r - i.r, 2) +
            Math.pow(q.g - i.g, 2) +
            Math.pow(q.b - i.b, 2)
        );
      r <= j * k && e++;
    }
    return !(g - e <= g * m);
  }
  function e(a, b, c, d) {
    var e = document.createElement("canvas");
    (e.width = l.width), (e.height = l.height);
    for (
      var f = e.getContext("2d"),
        g = [],
        h = b === -1,
        i = b && b > 0 && b <= a.length ? b : a.length,
        j = { r: 0, g: 0, b: 0 },
        k = Math.sqrt(Math.pow(255, 2) + Math.pow(255, 2) + Math.pow(255, 2)),
        m = c && c >= 0 && c <= 1 ? c : 0,
        n = d && d >= 0 && d <= 1 ? d : 0,
        o = !1,
        p = 0;
      p < i;
      p++
    ) {
      var q, r, s;
      if (!o) {
        var t = new Image();
        (t.src = a[p].image), f.drawImage(t, 0, 0, l.width, l.height);
        var u = f.getImageData(0, 0, l.width, l.height);
        (q = 0), (r = u.data.length), (s = u.data.length / 4);
        for (var v = 0; v < r; v += 4) {
          var w = { r: u.data[v], g: u.data[v + 1], b: u.data[v + 2] },
            x = Math.sqrt(
              Math.pow(w.r - j.r, 2) +
                Math.pow(w.g - j.g, 2) +
                Math.pow(w.b - j.b, 2)
            );
          x <= k * m && q++;
        }
      }
      (!o && s - q <= s * n) || (h && (o = !0), g.push(a[p]));
    }
    return (
      (g = g.concat(a.slice(i))), g.length <= 0 && g.push(a[a.length - 1]), g
    );
  }
  (this.record = function (d) {
    this.width || (this.width = 320),
      this.height || (this.height = 240),
      this.video &&
        this.video instanceof HTMLVideoElement &&
        (this.width || (this.width = i.videoWidth || i.clientWidth || 320),
        this.height || (this.height = i.videoHeight || i.clientHeight || 240)),
      this.video || (this.video = { width: this.width, height: this.height }),
      (this.canvas && this.canvas.width && this.canvas.height) ||
        (this.canvas = { width: this.width, height: this.height }),
      (l.width = this.canvas.width),
      (l.height = this.canvas.height),
      this.video && this.video instanceof HTMLVideoElement
        ? ((this.isHTMLObject = !0), (i = this.video.cloneNode()))
        : ((i = document.createElement("video")),
          (i.srcObject = a),
          (i.width = this.video.width),
          (i.height = this.video.height)),
      (i.muted = !0),
      i.play(),
      (j = new Date().getTime()),
      (k = new Whammy.Video(b.speed, b.quality)),
      console.log("canvas resolutions", l.width, "*", l.height),
      console.log(
        "video width/height",
        i.width || l.width,
        "*",
        i.height || l.height
      ),
      c();
  }),
    (this.clearOldRecordedFrames = function () {
      k.frames = [];
    });
  var f = !1;
  this.requestData = function () {
    if (!o) {
      if (!k.frames.length) return void (f = !1);
      f = !0;
      var a = k.frames.slice(0);
      (k.frames = e(a, -1)),
        k.compile(function (a) {
          b.ondataavailable(a),
            console.debug("video recorded blob size:", bytesToSize(a.size));
        }),
        (k.frames = []),
        (f = !1);
    }
  };
  var g = !1,
    h = !1;
  this.stop = function () {
    (h = !0), this.requestData();
  };
  var i,
    j,
    k,
    l = document.createElement("canvas"),
    m = l.getContext("2d"),
    n = this,
    o = !1;
  (this.pause = function () {
    o = !0;
  }),
    (this.resume = function () {
      o = !1;
    });
}
function GifRecorder(a) {
  function b() {
    i = Date.now();
    var a = new Blob([new Uint8Array(k.stream().bin)], { type: "image/gif" });
    d.ondataavailable(a), (k.stream().bin = []);
  }
  if ("undefined" == typeof GIFEncoder)
    throw "Please link: https://cdn.webrtc-experiment.com/gif-recorder.js";
  (this.start = function (a) {
    function d(a) {
      return c
        ? void setTimeout(d, 500, a)
        : ((m = requestAnimationFrame(d)),
          void 0 === typeof j && (j = a),
          void (
            a - j < 90 ||
            (g.paused && g.play(),
            f.drawImage(g, 0, 0, i, n),
            k.addFrame(f),
            (j = a))
          ));
    }
    a = a || 1e3;
    var i = this.videoWidth || 320,
      n = this.videoHeight || 240;
    (e.width = g.width = i),
      (e.height = g.height = n),
      (k = new GIFEncoder()),
      k.setRepeat(0),
      k.setDelay(this.frameRate || this.speed || 200),
      k.setQuality(this.quality || 1),
      k.start(),
      (h = Date.now()),
      (m = requestAnimationFrame(d)),
      (l = setTimeout(b, a));
  }),
    (this.stop = function () {
      m && (cancelAnimationFrame(m), clearTimeout(l), b());
    });
  var c = !1;
  (this.pause = function () {
    c = !0;
  }),
    (this.resume = function () {
      c = !1;
    }),
    (this.ondataavailable = function () {}),
    (this.onstop = function () {});
  var d = this,
    e = document.createElement("canvas"),
    f = e.getContext("2d"),
    g = document.createElement("video");
  (g.muted = !0), (g.autoplay = !0), (g.srcObject = a), g.play();
  var h,
    i,
    j,
    k,
    l,
    m = null;
}
"undefined" != typeof MediaStreamRecorder &&
  (MediaStreamRecorder.MultiStreamRecorder = MultiStreamRecorder);
var browserFakeUserAgent =
  "Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";
!(function (a) {
  "undefined" == typeof window &&
    ("undefined" == typeof window && "undefined" != typeof global
      ? ((global.navigator = {
          userAgent: browserFakeUserAgent,
          getUserMedia: function () {},
        }),
        (a.window = global))
      : "undefined" == typeof window,
    "undefined" == typeof document &&
      ((a.document = {}),
      (document.createElement =
        document.captureStream =
        document.mozCaptureStream =
          function () {
            return {};
          })),
    "undefined" == typeof location &&
      (a.location = { protocol: "file:", href: "", hash: "" }),
    "undefined" == typeof screen && (a.screen = { width: 0, height: 0 }));
})("undefined" != typeof global ? global : window);
var AudioContext = window.AudioContext;
"undefined" == typeof AudioContext &&
  ("undefined" != typeof webkitAudioContext &&
    (AudioContext = webkitAudioContext),
  "undefined" != typeof mozAudioContext && (AudioContext = mozAudioContext)),
  "undefined" == typeof window && (window = {});
var AudioContext = window.AudioContext;
"undefined" == typeof AudioContext &&
  ("undefined" != typeof webkitAudioContext &&
    (AudioContext = webkitAudioContext),
  "undefined" != typeof mozAudioContext && (AudioContext = mozAudioContext));
var URL = window.URL;
"undefined" == typeof URL &&
  "undefined" != typeof webkitURL &&
  (URL = webkitURL),
  "undefined" != typeof navigator
    ? ("undefined" != typeof navigator.webkitGetUserMedia &&
        (navigator.getUserMedia = navigator.webkitGetUserMedia),
      "undefined" != typeof navigator.mozGetUserMedia &&
        (navigator.getUserMedia = navigator.mozGetUserMedia))
    : (navigator = {
        getUserMedia: function () {},
        userAgent: browserFakeUserAgent,
      });
var IsEdge = !(
    navigator.userAgent.indexOf("Edge") === -1 ||
    (!navigator.msSaveBlob && !navigator.msSaveOrOpenBlob)
  ),
  IsOpera = !1;
"undefined" != typeof opera &&
  navigator.userAgent &&
  navigator.userAgent.indexOf("OPR/") !== -1 &&
  (IsOpera = !0);
var IsChrome = !IsEdge && !IsEdge && !!navigator.webkitGetUserMedia,
  MediaStream = window.MediaStream;
"undefined" == typeof MediaStream &&
  "undefined" != typeof webkitMediaStream &&
  (MediaStream = webkitMediaStream),
  "undefined" != typeof MediaStream &&
    ("getVideoTracks" in MediaStream.prototype ||
      ((MediaStream.prototype.getVideoTracks = function () {
        if (!this.getTracks) return [];
        var a = [];
        return (
          this.getTracks.forEach(function (b) {
            b.kind.toString().indexOf("video") !== -1 && a.push(b);
          }),
          a
        );
      }),
      (MediaStream.prototype.getAudioTracks = function () {
        if (!this.getTracks) return [];
        var a = [];
        return (
          this.getTracks.forEach(function (b) {
            b.kind.toString().indexOf("audio") !== -1 && a.push(b);
          }),
          a
        );
      })),
    "stop" in MediaStream.prototype ||
      (MediaStream.prototype.stop = function () {
        this.getAudioTracks().forEach(function (a) {
          a.stop && a.stop();
        }),
          this.getVideoTracks().forEach(function (a) {
            a.stop && a.stop();
          });
      })),
  "undefined" != typeof location &&
    0 === location.href.indexOf("file:") &&
    console.error("Please load this HTML file on HTTP or HTTPS.");
var ObjectStore = { AudioContext: AudioContext },
  ObjectStore = {
    AudioContext: window.AudioContext || window.webkitAudioContext,
  };
"undefined" != typeof MediaStreamRecorder &&
  (MediaStreamRecorder.MediaRecorderWrapper = MediaRecorderWrapper),
  "undefined" != typeof MediaStreamRecorder &&
    (MediaStreamRecorder.PlainMediaRecorderWrapper = PlainMediaRecorderWrapper),
  "undefined" != typeof MediaStreamRecorder &&
    (MediaStreamRecorder.StereoAudioRecorder = StereoAudioRecorder),
  "undefined" != typeof MediaStreamRecorder &&
    (MediaStreamRecorder.StereoAudioRecorderHelper = StereoAudioRecorderHelper),
  "undefined" != typeof MediaStreamRecorder &&
    (MediaStreamRecorder.WhammyRecorder = WhammyRecorder),
  "undefined" != typeof MediaStreamRecorder &&
    (MediaStreamRecorder.WhammyRecorderHelper = WhammyRecorderHelper),
  "undefined" != typeof MediaStreamRecorder &&
    (MediaStreamRecorder.GifRecorder = GifRecorder);
var Whammy = (function () {
  function a(a, b) {
    (this.frames = []),
      a || (a = 1),
      (this.duration = 1e3 / a),
      (this.quality = b || 0.8);
  }
  function b(a) {
    var b = URL.createObjectURL(
        new Blob(
          [
            a.toString(),
            "this.onmessage =  function (e) {" + a.name + "(e.data);}",
          ],
          { type: "application/javascript" }
        )
      ),
      c = new Worker(b);
    return URL.revokeObjectURL(b), c;
  }
  function c(a) {
    function b(a) {
      var b = d(a);
      if (!b) return [];
      for (
        var e = 3e4,
          f = [
            {
              id: 440786851,
              data: [
                { data: 1, id: 17030 },
                { data: 1, id: 17143 },
                { data: 4, id: 17138 },
                { data: 8, id: 17139 },
                { data: "webm", id: 17026 },
                { data: 2, id: 17031 },
                { data: 2, id: 17029 },
              ],
            },
            {
              id: 408125543,
              data: [
                {
                  id: 357149030,
                  data: [
                    { data: 1e6, id: 2807729 },
                    { data: "whammy", id: 19840 },
                    { data: "whammy", id: 22337 },
                    { data: m(b.duration), id: 17545 },
                  ],
                },
                {
                  id: 374648427,
                  data: [
                    {
                      id: 174,
                      data: [
                        { data: 1, id: 215 },
                        { data: 1, id: 29637 },
                        { data: 0, id: 156 },
                        { data: "und", id: 2274716 },
                        { data: "V_VP8", id: 134 },
                        { data: "VP8", id: 2459272 },
                        { data: 1, id: 131 },
                        {
                          id: 224,
                          data: [
                            { data: b.width, id: 176 },
                            { data: b.height, id: 186 },
                          ],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
          g = 0,
          i = 0;
        g < a.length;

      ) {
        var j = [],
          k = 0;
        do j.push(a[g]), (k += a[g].duration), g++;
        while (g < a.length && k < e);
        var l = 0,
          n = { id: 524531317, data: c(i, l, j) };
        f[1].data.push(n), (i += k);
      }
      return h(f);
    }
    function c(a, b, c) {
      return [{ data: a, id: 231 }].concat(
        c.map(function (a) {
          var c = i({
            discardable: 0,
            frame: a.data.slice(4),
            invisible: 0,
            keyframe: 1,
            lacing: 0,
            trackNum: 1,
            timecode: Math.round(b),
          });
          return (b += a.duration), { data: c, id: 163 };
        })
      );
    }
    function d(a) {
      if (!a[0])
        return void postMessage({
          error:
            "Something went wrong. Maybe WebP format is not supported in the current browser.",
        });
      for (
        var b = a[0].width, c = a[0].height, d = a[0].duration, e = 1;
        e < a.length;
        e++
      )
        d += a[e].duration;
      return { duration: d, width: b, height: c };
    }
    function e(a) {
      for (var b = []; a > 0; ) b.push(255 & a), (a >>= 8);
      return new Uint8Array(b.reverse());
    }
    function f(a) {
      return new Uint8Array(
        a.split("").map(function (a) {
          return a.charCodeAt(0);
        })
      );
    }
    function g(a) {
      var b = [],
        c = a.length % 8 ? new Array(9 - (a.length % 8)).join("0") : "";
      a = c + a;
      for (var d = 0; d < a.length; d += 8) b.push(parseInt(a.substr(d, 8), 2));
      return new Uint8Array(b);
    }
    function h(a) {
      for (var b = [], c = 0; c < a.length; c++) {
        var d = a[c].data;
        "object" == typeof d && (d = h(d)),
          "number" == typeof d && (d = g(d.toString(2))),
          "string" == typeof d && (d = f(d));
        var i = d.size || d.byteLength || d.length,
          j = Math.ceil(Math.ceil(Math.log(i) / Math.log(2)) / 8),
          k = i.toString(2),
          l = new Array(7 * j + 7 + 1 - k.length).join("0") + k,
          m = new Array(j).join("0") + "1" + l;
        b.push(e(a[c].id)), b.push(g(m)), b.push(d);
      }
      return new Blob(b, { type: "video/webm" });
    }
    function i(a) {
      var b = 0;
      if (
        (a.keyframe && (b |= 128),
        a.invisible && (b |= 8),
        a.lacing && (b |= a.lacing << 1),
        a.discardable && (b |= 1),
        a.trackNum > 127)
      )
        throw "TrackNumber > 127 not supported";
      var c =
        [128 | a.trackNum, a.timecode >> 8, 255 & a.timecode, b]
          .map(function (a) {
            return String.fromCharCode(a);
          })
          .join("") + a.frame;
      return c;
    }
    function j(a) {
      for (
        var b = a.RIFF[0].WEBP[0], c = b.indexOf("*"), d = 0, e = [];
        d < 4;
        d++
      )
        e[d] = b.charCodeAt(c + 3 + d);
      var f, g, h;
      return (
        (h = (e[1] << 8) | e[0]),
        (f = 16383 & h),
        (h = (e[3] << 8) | e[2]),
        (g = 16383 & h),
        { width: f, height: g, data: b, riff: a }
      );
    }
    function k(a, b) {
      return parseInt(
        a
          .substr(b + 4, 4)
          .split("")
          .map(function (a) {
            var b = a.charCodeAt(0).toString(2);
            return new Array(8 - b.length + 1).join("0") + b;
          })
          .join(""),
        2
      );
    }
    function l(a) {
      for (var b = 0, c = {}; b < a.length; ) {
        var d = a.substr(b, 4),
          e = k(a, b),
          f = a.substr(b + 4 + 4, e);
        (b += 8 + e),
          (c[d] = c[d] || []),
          "RIFF" === d || "LIST" === d ? c[d].push(l(f)) : c[d].push(f);
      }
      return c;
    }
    function m(a) {
      return [].slice
        .call(new Uint8Array(new Float64Array([a]).buffer), 0)
        .map(function (a) {
          return String.fromCharCode(a);
        })
        .reverse()
        .join("");
    }
    var n = new b(
      a.map(function (a) {
        var b = j(l(atob(a.image.slice(23))));
        return (b.duration = a.duration), b;
      })
    );
    postMessage(n);
  }
  return (
    (a.prototype.add = function (a, b) {
      if (
        ("canvas" in a && (a = a.canvas),
        "toDataURL" in a && (a = a.toDataURL("image/webp", this.quality)),
        !/^data:image\/webp;base64,/gi.test(a))
      )
        throw "Input must be formatted properly as a base64 encoded DataURI of type image/webp";
      this.frames.push({ image: a, duration: b || this.duration });
    }),
    (a.prototype.compile = function (a) {
      var d = b(c);
      (d.onmessage = function (b) {
        return b.data.error ? void console.error(b.data.error) : void a(b.data);
      }),
        d.postMessage(this.frames);
    }),
    { Video: a }
  );
})();
"undefined" != typeof MediaStreamRecorder &&
  (MediaStreamRecorder.Whammy = Whammy),
  (function () {
    window.ConcatenateBlobs = function (a, b, c) {
      function d() {
        if (!a[g]) return e();
        var b = new FileReader();
        (b.onload = function (a) {
          f.push(a.target.result), g++, d();
        }),
          b.readAsArrayBuffer(a[g]);
      }
      function e() {
        var a = 0;
        f.forEach(function (b) {
          a += b.byteLength;
        });
        var d = new Uint16Array(a),
          e = 0;
        f.forEach(function (a) {
          var b = a.byteLength;
          b % 2 != 0 && (a = a.slice(0, b - 1)),
            d.set(new Uint16Array(a), e),
            (e += b);
        });
        var g = new Blob([d.buffer], { type: b });
        c(g);
      }
      var f = [],
        g = 0;
      d();
    };
  })(),
  "undefined" != typeof module && (module.exports = MediaStreamRecorder),
  "function" == typeof define &&
    define.amd &&
    define(
      "filter_poodll/MediaStreamRecorder",
      "MediaStreamRecorder",
      [],
      function () {
        return MediaStreamRecorder;
      }
    );
!(function (a) {
  if ("object" == typeof exports && "undefined" != typeof module)
    module.exports = a();
  else if ("function" == typeof define && define.amd)
    define("filter_poodll/adapter", [], a);
  else {
    var b;
    (b =
      "undefined" != typeof window
        ? window
        : "undefined" != typeof global
        ? global
        : "undefined" != typeof self
        ? self
        : this),
      (b.adapter = a());
  }
})(function () {
  return (function a(b, c, d) {
    function e(g, h) {
      if (!c[g]) {
        if (!b[g]) {
          var i = "function" == typeof require && require;
          if (!h && i) return i(g, !0);
          if (f) return f(g, !0);
          var j = new Error("Cannot find module '" + g + "'");
          throw ((j.code = "MODULE_NOT_FOUND"), j);
        }
        var k = (c[g] = { exports: {} });
        b[g][0].call(
          k.exports,
          function (a) {
            var c = b[g][1][a];
            return e(c ? c : a);
          },
          k,
          k.exports,
          a,
          b,
          c,
          d
        );
      }
      return c[g].exports;
    }
    for (
      var f = "function" == typeof require && require, g = 0;
      g < d.length;
      g++
    )
      e(d[g]);
    return e;
  })(
    {
      1: [
        function (a, b, c) {
          "use strict";
          var d = {};
          (d.generateIdentifier = function () {
            return Math.random().toString(36).substr(2, 10);
          }),
            (d.localCName = d.generateIdentifier()),
            (d.splitLines = function (a) {
              return a
                .trim()
                .split("\n")
                .map(function (a) {
                  return a.trim();
                });
            }),
            (d.splitSections = function (a) {
              var b = a.split("\nm=");
              return b.map(function (a, b) {
                return (b > 0 ? "m=" + a : a).trim() + "\r\n";
              });
            }),
            (d.matchPrefix = function (a, b) {
              return d.splitLines(a).filter(function (a) {
                return 0 === a.indexOf(b);
              });
            }),
            (d.parseCandidate = function (a) {
              var b;
              b =
                0 === a.indexOf("a=candidate:")
                  ? a.substring(12).split(" ")
                  : a.substring(10).split(" ");
              for (
                var c = {
                    foundation: b[0],
                    component: b[1],
                    protocol: b[2].toLowerCase(),
                    priority: parseInt(b[3], 10),
                    ip: b[4],
                    port: parseInt(b[5], 10),
                    type: b[7],
                  },
                  d = 8;
                d < b.length;
                d += 2
              )
                switch (b[d]) {
                  case "raddr":
                    c.relatedAddress = b[d + 1];
                    break;
                  case "rport":
                    c.relatedPort = parseInt(b[d + 1], 10);
                    break;
                  case "tcptype":
                    c.tcpType = b[d + 1];
                }
              return c;
            }),
            (d.writeCandidate = function (a) {
              var b = [];
              b.push(a.foundation),
                b.push(a.component),
                b.push(a.protocol.toUpperCase()),
                b.push(a.priority),
                b.push(a.ip),
                b.push(a.port);
              var c = a.type;
              return (
                b.push("typ"),
                b.push(c),
                "host" !== c &&
                  a.relatedAddress &&
                  a.relatedPort &&
                  (b.push("raddr"),
                  b.push(a.relatedAddress),
                  b.push("rport"),
                  b.push(a.relatedPort)),
                a.tcpType &&
                  "tcp" === a.protocol.toLowerCase() &&
                  (b.push("tcptype"), b.push(a.tcpType)),
                "candidate:" + b.join(" ")
              );
            }),
            (d.parseRtpMap = function (a) {
              var b = a.substr(9).split(" "),
                c = { payloadType: parseInt(b.shift(), 10) };
              return (
                (b = b[0].split("/")),
                (c.name = b[0]),
                (c.clockRate = parseInt(b[1], 10)),
                (c.numChannels = 3 === b.length ? parseInt(b[2], 10) : 1),
                c
              );
            }),
            (d.writeRtpMap = function (a) {
              var b = a.payloadType;
              return (
                void 0 !== a.preferredPayloadType &&
                  (b = a.preferredPayloadType),
                "a=rtpmap:" +
                  b +
                  " " +
                  a.name +
                  "/" +
                  a.clockRate +
                  (1 !== a.numChannels ? "/" + a.numChannels : "") +
                  "\r\n"
              );
            }),
            (d.parseExtmap = function (a) {
              var b = a.substr(9).split(" ");
              return { id: parseInt(b[0], 10), uri: b[1] };
            }),
            (d.writeExtmap = function (a) {
              return (
                "a=extmap:" + (a.id || a.preferredId) + " " + a.uri + "\r\n"
              );
            }),
            (d.parseFmtp = function (a) {
              for (
                var b,
                  c = {},
                  d = a.substr(a.indexOf(" ") + 1).split(";"),
                  e = 0;
                e < d.length;
                e++
              )
                (b = d[e].trim().split("=")), (c[b[0].trim()] = b[1]);
              return c;
            }),
            (d.writeFmtp = function (a) {
              var b = "",
                c = a.payloadType;
              if (
                (void 0 !== a.preferredPayloadType &&
                  (c = a.preferredPayloadType),
                a.parameters && Object.keys(a.parameters).length)
              ) {
                var d = [];
                Object.keys(a.parameters).forEach(function (b) {
                  d.push(b + "=" + a.parameters[b]);
                }),
                  (b += "a=fmtp:" + c + " " + d.join(";") + "\r\n");
              }
              return b;
            }),
            (d.parseRtcpFb = function (a) {
              var b = a.substr(a.indexOf(" ") + 1).split(" ");
              return { type: b.shift(), parameter: b.join(" ") };
            }),
            (d.writeRtcpFb = function (a) {
              var b = "",
                c = a.payloadType;
              return (
                void 0 !== a.preferredPayloadType &&
                  (c = a.preferredPayloadType),
                a.rtcpFeedback &&
                  a.rtcpFeedback.length &&
                  a.rtcpFeedback.forEach(function (a) {
                    b +=
                      "a=rtcp-fb:" +
                      c +
                      " " +
                      a.type +
                      (a.parameter && a.parameter.length
                        ? " " + a.parameter
                        : "") +
                      "\r\n";
                  }),
                b
              );
            }),
            (d.parseSsrcMedia = function (a) {
              var b = a.indexOf(" "),
                c = { ssrc: parseInt(a.substr(7, b - 7), 10) },
                d = a.indexOf(":", b);
              return (
                d > -1
                  ? ((c.attribute = a.substr(b + 1, d - b - 1)),
                    (c.value = a.substr(d + 1)))
                  : (c.attribute = a.substr(b + 1)),
                c
              );
            }),
            (d.getMid = function (a) {
              var b = d.matchPrefix(a, "a=mid:")[0];
              if (b) return b.substr(6);
            }),
            (d.getDtlsParameters = function (a, b) {
              var c = d.splitLines(a);
              c = c.concat(d.splitLines(b));
              var e = c
                  .filter(function (a) {
                    return 0 === a.indexOf("a=fingerprint:");
                  })[0]
                  .substr(14),
                f = {
                  role: "auto",
                  fingerprints: [
                    {
                      algorithm: e.split(" ")[0].toLowerCase(),
                      value: e.split(" ")[1],
                    },
                  ],
                };
              return f;
            }),
            (d.writeDtlsParameters = function (a, b) {
              var c = "a=setup:" + b + "\r\n";
              return (
                a.fingerprints.forEach(function (a) {
                  c += "a=fingerprint:" + a.algorithm + " " + a.value + "\r\n";
                }),
                c
              );
            }),
            (d.getIceParameters = function (a, b) {
              var c = d.splitLines(a);
              c = c.concat(d.splitLines(b));
              var e = {
                usernameFragment: c
                  .filter(function (a) {
                    return 0 === a.indexOf("a=ice-ufrag:");
                  })[0]
                  .substr(12),
                password: c
                  .filter(function (a) {
                    return 0 === a.indexOf("a=ice-pwd:");
                  })[0]
                  .substr(10),
              };
              return e;
            }),
            (d.writeIceParameters = function (a) {
              return (
                "a=ice-ufrag:" +
                a.usernameFragment +
                "\r\na=ice-pwd:" +
                a.password +
                "\r\n"
              );
            }),
            (d.parseRtpParameters = function (a) {
              for (
                var b = {
                    codecs: [],
                    headerExtensions: [],
                    fecMechanisms: [],
                    rtcp: [],
                  },
                  c = d.splitLines(a),
                  e = c[0].split(" "),
                  f = 3;
                f < e.length;
                f++
              ) {
                var g = e[f],
                  h = d.matchPrefix(a, "a=rtpmap:" + g + " ")[0];
                if (h) {
                  var i = d.parseRtpMap(h),
                    j = d.matchPrefix(a, "a=fmtp:" + g + " ");
                  switch (
                    ((i.parameters = j.length ? d.parseFmtp(j[0]) : {}),
                    (i.rtcpFeedback = d
                      .matchPrefix(a, "a=rtcp-fb:" + g + " ")
                      .map(d.parseRtcpFb)),
                    b.codecs.push(i),
                    i.name.toUpperCase())
                  ) {
                    case "RED":
                    case "ULPFEC":
                      b.fecMechanisms.push(i.name.toUpperCase());
                  }
                }
              }
              return (
                d.matchPrefix(a, "a=extmap:").forEach(function (a) {
                  b.headerExtensions.push(d.parseExtmap(a));
                }),
                b
              );
            }),
            (d.writeRtpDescription = function (a, b) {
              var c = "";
              (c += "m=" + a + " "),
                (c += b.codecs.length > 0 ? "9" : "0"),
                (c += " UDP/TLS/RTP/SAVPF "),
                (c +=
                  b.codecs
                    .map(function (a) {
                      return void 0 !== a.preferredPayloadType
                        ? a.preferredPayloadType
                        : a.payloadType;
                    })
                    .join(" ") + "\r\n"),
                (c += "c=IN IP4 0.0.0.0\r\n"),
                (c += "a=rtcp:9 IN IP4 0.0.0.0\r\n"),
                b.codecs.forEach(function (a) {
                  (c += d.writeRtpMap(a)),
                    (c += d.writeFmtp(a)),
                    (c += d.writeRtcpFb(a));
                });
              var e = 0;
              return (
                b.codecs.forEach(function (a) {
                  a.maxptime > e && (e = a.maxptime);
                }),
                e > 0 && (c += "a=maxptime:" + e + "\r\n"),
                (c += "a=rtcp-mux\r\n"),
                b.headerExtensions.forEach(function (a) {
                  c += d.writeExtmap(a);
                }),
                c
              );
            }),
            (d.parseRtpEncodingParameters = function (a) {
              var b,
                c = [],
                e = d.parseRtpParameters(a),
                f = e.fecMechanisms.indexOf("RED") !== -1,
                g = e.fecMechanisms.indexOf("ULPFEC") !== -1,
                h = d
                  .matchPrefix(a, "a=ssrc:")
                  .map(function (a) {
                    return d.parseSsrcMedia(a);
                  })
                  .filter(function (a) {
                    return "cname" === a.attribute;
                  }),
                i = h.length > 0 && h[0].ssrc,
                j = d.matchPrefix(a, "a=ssrc-group:FID").map(function (a) {
                  var b = a.split(" ");
                  return (
                    b.shift(),
                    b.map(function (a) {
                      return parseInt(a, 10);
                    })
                  );
                });
              j.length > 0 && j[0].length > 1 && j[0][0] === i && (b = j[0][1]),
                e.codecs.forEach(function (a) {
                  if ("RTX" === a.name.toUpperCase() && a.parameters.apt) {
                    var d = {
                      ssrc: i,
                      codecPayloadType: parseInt(a.parameters.apt, 10),
                      rtx: { ssrc: b },
                    };
                    c.push(d),
                      f &&
                        ((d = JSON.parse(JSON.stringify(d))),
                        (d.fec = {
                          ssrc: b,
                          mechanism: g ? "red+ulpfec" : "red",
                        }),
                        c.push(d));
                  }
                }),
                0 === c.length && i && c.push({ ssrc: i });
              var k = d.matchPrefix(a, "b=");
              return (
                k.length &&
                  (0 === k[0].indexOf("b=TIAS:")
                    ? (k = parseInt(k[0].substr(7), 10))
                    : 0 === k[0].indexOf("b=AS:") &&
                      (k = parseInt(k[0].substr(5), 10)),
                  c.forEach(function (a) {
                    a.maxBitrate = k;
                  })),
                c
              );
            }),
            (d.parseRtcpParameters = function (a) {
              var b = {},
                c = d
                  .matchPrefix(a, "a=ssrc:")
                  .map(function (a) {
                    return d.parseSsrcMedia(a);
                  })
                  .filter(function (a) {
                    return "cname" === a.attribute;
                  })[0];
              c && ((b.cname = c.value), (b.ssrc = c.ssrc));
              var e = d.matchPrefix(a, "a=rtcp-rsize");
              (b.reducedSize = e.length > 0), (b.compound = 0 === e.length);
              var f = d.matchPrefix(a, "a=rtcp-mux");
              return (b.mux = f.length > 0), b;
            }),
            (d.parseMsid = function (a) {
              var b,
                c = d.matchPrefix(a, "a=msid:");
              if (1 === c.length)
                return (
                  (b = c[0].substr(7).split(" ")), { stream: b[0], track: b[1] }
                );
              var e = d
                .matchPrefix(a, "a=ssrc:")
                .map(function (a) {
                  return d.parseSsrcMedia(a);
                })
                .filter(function (a) {
                  return "msid" === a.attribute;
                });
              return e.length > 0
                ? ((b = e[0].value.split(" ")), { stream: b[0], track: b[1] })
                : void 0;
            }),
            (d.writeSessionBoilerplate = function () {
              return "v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n";
            }),
            (d.writeMediaSection = function (a, b, c, e) {
              var f = d.writeRtpDescription(a.kind, b);
              if (
                ((f += d.writeIceParameters(
                  a.iceGatherer.getLocalParameters()
                )),
                (f += d.writeDtlsParameters(
                  a.dtlsTransport.getLocalParameters(),
                  "offer" === c ? "actpass" : "active"
                )),
                (f += "a=mid:" + a.mid + "\r\n"),
                (f +=
                  a.rtpSender && a.rtpReceiver
                    ? "a=sendrecv\r\n"
                    : a.rtpSender
                    ? "a=sendonly\r\n"
                    : a.rtpReceiver
                    ? "a=recvonly\r\n"
                    : "a=inactive\r\n"),
                a.rtpSender)
              ) {
                var g = "msid:" + e.id + " " + a.rtpSender.track.id + "\r\n";
                (f += "a=" + g),
                  (f += "a=ssrc:" + a.sendEncodingParameters[0].ssrc + " " + g),
                  a.sendEncodingParameters[0].rtx &&
                    ((f +=
                      "a=ssrc:" +
                      a.sendEncodingParameters[0].rtx.ssrc +
                      " " +
                      g),
                    (f +=
                      "a=ssrc-group:FID " +
                      a.sendEncodingParameters[0].ssrc +
                      " " +
                      a.sendEncodingParameters[0].rtx.ssrc +
                      "\r\n"));
              }
              return (
                (f +=
                  "a=ssrc:" +
                  a.sendEncodingParameters[0].ssrc +
                  " cname:" +
                  d.localCName +
                  "\r\n"),
                a.rtpSender &&
                  a.sendEncodingParameters[0].rtx &&
                  (f +=
                    "a=ssrc:" +
                    a.sendEncodingParameters[0].rtx.ssrc +
                    " cname:" +
                    d.localCName +
                    "\r\n"),
                f
              );
            }),
            (d.getDirection = function (a, b) {
              for (var c = d.splitLines(a), e = 0; e < c.length; e++)
                switch (c[e]) {
                  case "a=sendrecv":
                  case "a=sendonly":
                  case "a=recvonly":
                  case "a=inactive":
                    return c[e].substr(2);
                }
              return b ? d.getDirection(b) : "sendrecv";
            }),
            (d.getKind = function (a) {
              var b = d.splitLines(a),
                c = b[0].split(" ");
              return c[0].substr(2);
            }),
            (d.isRejected = function (a) {
              return "0" === a.split(" ", 2)[1];
            }),
            (b.exports = d);
        },
        {},
      ],
      2: [
        function (a, b, c) {
          "use strict";
          !(function () {
            var c = a("./utils"),
              d = c.log,
              e = c.browserDetails;
            (b.exports.browserDetails = e),
              (b.exports.extractVersion = c.extractVersion),
              (b.exports.disableLog = c.disableLog);
            var f = a("./chrome/chrome_shim") || null,
              g = a("./edge/edge_shim") || null,
              h = a("./firefox/firefox_shim") || null,
              i = a("./safari/safari_shim") || null;
            switch (e.browser) {
              case "chrome":
                if (!f || !f.shimPeerConnection)
                  return void d(
                    "Chrome shim is not included in this adapter release."
                  );
                d("adapter.js shimming chrome."),
                  (b.exports.browserShim = f),
                  f.shimGetUserMedia(),
                  f.shimMediaStream(),
                  c.shimCreateObjectURL(),
                  f.shimSourceObject(),
                  f.shimPeerConnection(),
                  f.shimOnTrack(),
                  f.shimGetSendersWithDtmf();
                break;
              case "firefox":
                if (!h || !h.shimPeerConnection)
                  return void d(
                    "Firefox shim is not included in this adapter release."
                  );
                d("adapter.js shimming firefox."),
                  (b.exports.browserShim = h),
                  h.shimGetUserMedia(),
                  c.shimCreateObjectURL(),
                  h.shimSourceObject(),
                  h.shimPeerConnection(),
                  h.shimOnTrack();
                break;
              case "edge":
                if (!g || !g.shimPeerConnection)
                  return void d(
                    "MS edge shim is not included in this adapter release."
                  );
                d("adapter.js shimming edge."),
                  (b.exports.browserShim = g),
                  g.shimGetUserMedia(),
                  c.shimCreateObjectURL(),
                  g.shimPeerConnection(),
                  g.shimReplaceTrack();
                break;
              case "safari":
                if (!i)
                  return void d(
                    "Safari shim is not included in this adapter release."
                  );
                d("adapter.js shimming safari."),
                  (b.exports.browserShim = i),
                  i.shimOnAddStream(),
                  i.shimGetUserMedia();
                break;
              default:
                d("Unsupported browser!");
            }
          })();
        },
        {
          "./chrome/chrome_shim": 3,
          "./edge/edge_shim": 5,
          "./firefox/firefox_shim": 8,
          "./safari/safari_shim": 10,
          "./utils": 11,
        },
      ],
      3: [
        function (a, b, c) {
          "use strict";
          var d = a("../utils.js").log,
            e = a("../utils.js").browserDetails,
            f = {
              shimMediaStream: function () {
                window.MediaStream =
                  window.MediaStream || window.webkitMediaStream;
              },
              shimOnTrack: function () {
                "object" != typeof window ||
                  !window.RTCPeerConnection ||
                  "ontrack" in window.RTCPeerConnection.prototype ||
                  Object.defineProperty(
                    window.RTCPeerConnection.prototype,
                    "ontrack",
                    {
                      get: function () {
                        return this._ontrack;
                      },
                      set: function (a) {
                        var b = this;
                        this._ontrack &&
                          (this.removeEventListener("track", this._ontrack),
                          this.removeEventListener(
                            "addstream",
                            this._ontrackpoly
                          )),
                          this.addEventListener("track", (this._ontrack = a)),
                          this.addEventListener(
                            "addstream",
                            (this._ontrackpoly = function (a) {
                              a.stream.addEventListener(
                                "addtrack",
                                function (c) {
                                  var d = new Event("track");
                                  (d.track = c.track),
                                    (d.receiver = { track: c.track }),
                                    (d.streams = [a.stream]),
                                    b.dispatchEvent(d);
                                }
                              ),
                                a.stream.getTracks().forEach(
                                  function (b) {
                                    var c = new Event("track");
                                    (c.track = b),
                                      (c.receiver = { track: b }),
                                      (c.streams = [a.stream]),
                                      this.dispatchEvent(c);
                                  }.bind(this)
                                );
                            }.bind(this))
                          );
                      },
                    }
                  );
              },
              shimGetSendersWithDtmf: function () {
                if (
                  "object" == typeof window &&
                  window.RTCPeerConnection &&
                  !("getSenders" in RTCPeerConnection.prototype) &&
                  "createDTMFSender" in RTCPeerConnection.prototype
                ) {
                  RTCPeerConnection.prototype.getSenders = function () {
                    return this._senders;
                  };
                  var a = RTCPeerConnection.prototype.addStream,
                    b = RTCPeerConnection.prototype.removeStream;
                  (RTCPeerConnection.prototype.addStream = function (b) {
                    var c = this;
                    (c._senders = c._senders || []),
                      a.apply(c, [b]),
                      b.getTracks().forEach(function (a) {
                        c._senders.push({
                          track: a,
                          get dtmf() {
                            return (
                              void 0 === this._dtmf &&
                                ("audio" === a.kind
                                  ? (this._dtmf = c.createDTMFSender(a))
                                  : (this._dtmf = null)),
                              this._dtmf
                            );
                          },
                        });
                      });
                  }),
                    (RTCPeerConnection.prototype.removeStream = function (a) {
                      var c = this;
                      (c._senders = c._senders || []),
                        b.apply(c, [a]),
                        a.getTracks().forEach(function (a) {
                          var b = c._senders.find(function (b) {
                            return b.track === a;
                          });
                          b && c._senders.splice(c._senders.indexOf(b), 1);
                        });
                    });
                }
              },
              shimSourceObject: function () {
                "object" == typeof window &&
                  (!window.HTMLMediaElement ||
                    "srcObject" in window.HTMLMediaElement.prototype ||
                    Object.defineProperty(
                      window.HTMLMediaElement.prototype,
                      "srcObject",
                      {
                        get: function () {
                          return this._srcObject;
                        },
                        set: function (a) {
                          var b = this;
                          return (
                            (this._srcObject = a),
                            this.src && URL.revokeObjectURL(this.src),
                            a
                              ? ((this.src = URL.createObjectURL(a)),
                                a.addEventListener("addtrack", function () {
                                  b.src && URL.revokeObjectURL(b.src),
                                    (b.src = URL.createObjectURL(a));
                                }),
                                void a.addEventListener(
                                  "removetrack",
                                  function () {
                                    b.src && URL.revokeObjectURL(b.src),
                                      (b.src = URL.createObjectURL(a));
                                  }
                                ))
                              : void (this.src = "")
                          );
                        },
                      }
                    ));
              },
              shimPeerConnection: function () {
                if (window.RTCPeerConnection) {
                  var a = RTCPeerConnection;
                  (window.RTCPeerConnection = function (b, c) {
                    if (b && b.iceServers) {
                      for (var d = [], e = 0; e < b.iceServers.length; e++) {
                        var f = b.iceServers[e];
                        !f.hasOwnProperty("urls") && f.hasOwnProperty("url")
                          ? (console.warn(
                              "RTCIceServer.url is deprecated! Use urls instead."
                            ),
                            (f = JSON.parse(JSON.stringify(f))),
                            (f.urls = f.url),
                            d.push(f))
                          : d.push(b.iceServers[e]);
                      }
                      b.iceServers = d;
                    }
                    return new a(b, c);
                  }),
                    (window.RTCPeerConnection.prototype = a.prototype),
                    Object.defineProperty(
                      window.RTCPeerConnection,
                      "generateCertificate",
                      {
                        get: function () {
                          return a.generateCertificate;
                        },
                      }
                    );
                } else
                  (window.RTCPeerConnection = function (a, b) {
                    return (
                      d("PeerConnection"),
                      a &&
                        a.iceTransportPolicy &&
                        (a.iceTransports = a.iceTransportPolicy),
                      new webkitRTCPeerConnection(a, b)
                    );
                  }),
                    (window.RTCPeerConnection.prototype =
                      webkitRTCPeerConnection.prototype),
                    webkitRTCPeerConnection.generateCertificate &&
                      Object.defineProperty(
                        window.RTCPeerConnection,
                        "generateCertificate",
                        {
                          get: function () {
                            return webkitRTCPeerConnection.generateCertificate;
                          },
                        }
                      );
                var b = RTCPeerConnection.prototype.getStats;
                (RTCPeerConnection.prototype.getStats = function (a, c, d) {
                  var e = this,
                    f = arguments;
                  if (arguments.length > 0 && "function" == typeof a)
                    return b.apply(this, arguments);
                  if (
                    0 === b.length &&
                    (0 === arguments.length ||
                      "function" != typeof arguments[0])
                  )
                    return b.apply(this, []);
                  var g = function (a) {
                      var b = {},
                        c = a.result();
                      return (
                        c.forEach(function (a) {
                          var c = {
                            id: a.id,
                            timestamp: a.timestamp,
                            type:
                              {
                                localcandidate: "local-candidate",
                                remotecandidate: "remote-candidate",
                              }[a.type] || a.type,
                          };
                          a.names().forEach(function (b) {
                            c[b] = a.stat(b);
                          }),
                            (b[c.id] = c);
                        }),
                        b
                      );
                    },
                    h = function (a) {
                      return new Map(
                        Object.keys(a).map(function (b) {
                          return [b, a[b]];
                        })
                      );
                    };
                  if (arguments.length >= 2) {
                    var i = function (a) {
                      f[1](h(g(a)));
                    };
                    return b.apply(this, [i, arguments[0]]);
                  }
                  return new Promise(function (a, c) {
                    b.apply(e, [
                      function (b) {
                        a(h(g(b)));
                      },
                      c,
                    ]);
                  }).then(c, d);
                }),
                  e.version < 51 &&
                    [
                      "setLocalDescription",
                      "setRemoteDescription",
                      "addIceCandidate",
                    ].forEach(function (a) {
                      var b = RTCPeerConnection.prototype[a];
                      RTCPeerConnection.prototype[a] = function () {
                        var a = arguments,
                          c = this,
                          d = new Promise(function (d, e) {
                            b.apply(c, [a[0], d, e]);
                          });
                        return a.length < 2
                          ? d
                          : d.then(
                              function () {
                                a[1].apply(null, []);
                              },
                              function (b) {
                                a.length >= 3 && a[2].apply(null, [b]);
                              }
                            );
                      };
                    }),
                  e.version < 52 &&
                    ["createOffer", "createAnswer"].forEach(function (a) {
                      var b = RTCPeerConnection.prototype[a];
                      RTCPeerConnection.prototype[a] = function () {
                        var a = this;
                        if (
                          arguments.length < 1 ||
                          (1 === arguments.length &&
                            "object" == typeof arguments[0])
                        ) {
                          var c =
                            1 === arguments.length ? arguments[0] : void 0;
                          return new Promise(function (d, e) {
                            b.apply(a, [d, e, c]);
                          });
                        }
                        return b.apply(this, arguments);
                      };
                    }),
                  [
                    "setLocalDescription",
                    "setRemoteDescription",
                    "addIceCandidate",
                  ].forEach(function (a) {
                    var b = RTCPeerConnection.prototype[a];
                    RTCPeerConnection.prototype[a] = function () {
                      return (
                        (arguments[0] = new (
                          "addIceCandidate" === a
                            ? RTCIceCandidate
                            : RTCSessionDescription
                        )(arguments[0])),
                        b.apply(this, arguments)
                      );
                    };
                  });
                var c = RTCPeerConnection.prototype.addIceCandidate;
                RTCPeerConnection.prototype.addIceCandidate = function () {
                  return arguments[0]
                    ? c.apply(this, arguments)
                    : (arguments[1] && arguments[1].apply(null),
                      Promise.resolve());
                };
              },
            };
          b.exports = {
            shimMediaStream: f.shimMediaStream,
            shimOnTrack: f.shimOnTrack,
            shimGetSendersWithDtmf: f.shimGetSendersWithDtmf,
            shimSourceObject: f.shimSourceObject,
            shimPeerConnection: f.shimPeerConnection,
            shimGetUserMedia: a("./getusermedia"),
          };
        },
        { "../utils.js": 11, "./getusermedia": 4 },
      ],
      4: [
        function (a, b, c) {
          "use strict";
          var d = a("../utils.js").log,
            e = a("../utils.js").browserDetails;
          b.exports = function () {
            var a = function (a) {
                if ("object" != typeof a || a.mandatory || a.optional) return a;
                var b = {};
                return (
                  Object.keys(a).forEach(function (c) {
                    if (
                      "require" !== c &&
                      "advanced" !== c &&
                      "mediaSource" !== c
                    ) {
                      var d = "object" == typeof a[c] ? a[c] : { ideal: a[c] };
                      void 0 !== d.exact &&
                        "number" == typeof d.exact &&
                        (d.min = d.max = d.exact);
                      var e = function (a, b) {
                        return a
                          ? a + b.charAt(0).toUpperCase() + b.slice(1)
                          : "deviceId" === b
                          ? "sourceId"
                          : b;
                      };
                      if (void 0 !== d.ideal) {
                        b.optional = b.optional || [];
                        var f = {};
                        "number" == typeof d.ideal
                          ? ((f[e("min", c)] = d.ideal),
                            b.optional.push(f),
                            (f = {}),
                            (f[e("max", c)] = d.ideal),
                            b.optional.push(f))
                          : ((f[e("", c)] = d.ideal), b.optional.push(f));
                      }
                      void 0 !== d.exact && "number" != typeof d.exact
                        ? ((b.mandatory = b.mandatory || {}),
                          (b.mandatory[e("", c)] = d.exact))
                        : ["min", "max"].forEach(function (a) {
                            void 0 !== d[a] &&
                              ((b.mandatory = b.mandatory || {}),
                              (b.mandatory[e(a, c)] = d[a]));
                          });
                    }
                  }),
                  a.advanced &&
                    (b.optional = (b.optional || []).concat(a.advanced)),
                  b
                );
              },
              b = function (b, c) {
                if (
                  ((b = JSON.parse(JSON.stringify(b))),
                  b && b.audio && (b.audio = a(b.audio)),
                  b && "object" == typeof b.video)
                ) {
                  var f = b.video.facingMode;
                  f = f && ("object" == typeof f ? f : { ideal: f });
                  var g = e.version < 61;
                  if (
                    f &&
                    ("user" === f.exact ||
                      "environment" === f.exact ||
                      "user" === f.ideal ||
                      "environment" === f.ideal) &&
                    (!navigator.mediaDevices.getSupportedConstraints ||
                      !navigator.mediaDevices.getSupportedConstraints()
                        .facingMode ||
                      g)
                  ) {
                    delete b.video.facingMode;
                    var h;
                    if (
                      ("environment" === f.exact || "environment" === f.ideal
                        ? (h = ["back", "rear"])
                        : ("user" !== f.exact && "user" !== f.ideal) ||
                          (h = ["front"]),
                      h)
                    )
                      return navigator.mediaDevices
                        .enumerateDevices()
                        .then(function (e) {
                          e = e.filter(function (a) {
                            return "videoinput" === a.kind;
                          });
                          var g = e.find(function (a) {
                            return h.some(function (b) {
                              return a.label.toLowerCase().indexOf(b) !== -1;
                            });
                          });
                          return (
                            !g &&
                              e.length &&
                              h.indexOf("back") !== -1 &&
                              (g = e[e.length - 1]),
                            g &&
                              (b.video.deviceId = f.exact
                                ? { exact: g.deviceId }
                                : { ideal: g.deviceId }),
                            (b.video = a(b.video)),
                            d("chrome: " + JSON.stringify(b)),
                            c(b)
                          );
                        });
                  }
                  b.video = a(b.video);
                }
                return d("chrome: " + JSON.stringify(b)), c(b);
              },
              c = function (a) {
                return {
                  name:
                    {
                      PermissionDeniedError: "NotAllowedError",
                      ConstraintNotSatisfiedError: "OverconstrainedError",
                    }[a.name] || a.name,
                  message: a.message,
                  constraint: a.constraintName,
                  toString: function () {
                    return this.name + (this.message && ": ") + this.message;
                  },
                };
              },
              f = function (a, d, e) {
                b(a, function (a) {
                  navigator.webkitGetUserMedia(a, d, function (a) {
                    e(c(a));
                  });
                });
              };
            navigator.getUserMedia = f;
            var g = function (a) {
              return new Promise(function (b, c) {
                navigator.getUserMedia(a, b, c);
              });
            };
            if (
              (navigator.mediaDevices ||
                (navigator.mediaDevices = {
                  getUserMedia: g,
                  enumerateDevices: function () {
                    return new Promise(function (a) {
                      var b = { audio: "audioinput", video: "videoinput" };
                      return MediaStreamTrack.getSources(function (c) {
                        a(
                          c.map(function (a) {
                            return {
                              label: a.label,
                              kind: b[a.kind],
                              deviceId: a.id,
                              groupId: "",
                            };
                          })
                        );
                      });
                    });
                  },
                  getSupportedConstraints: function () {
                    return {
                      deviceId: !0,
                      echoCancellation: !0,
                      facingMode: !0,
                      frameRate: !0,
                      height: !0,
                      width: !0,
                    };
                  },
                }),
              navigator.mediaDevices.getUserMedia)
            ) {
              var h = navigator.mediaDevices.getUserMedia.bind(
                navigator.mediaDevices
              );
              navigator.mediaDevices.getUserMedia = function (a) {
                return b(a, function (a) {
                  return h(a).then(
                    function (b) {
                      if (
                        (a.audio && !b.getAudioTracks().length) ||
                        (a.video && !b.getVideoTracks().length)
                      )
                        throw (
                          (b.getTracks().forEach(function (a) {
                            a.stop();
                          }),
                          new DOMException("", "NotFoundError"))
                        );
                      return b;
                    },
                    function (a) {
                      return Promise.reject(c(a));
                    }
                  );
                });
              };
            } else
              navigator.mediaDevices.getUserMedia = function (a) {
                return g(a);
              };
            "undefined" == typeof navigator.mediaDevices.addEventListener &&
              (navigator.mediaDevices.addEventListener = function () {
                d("Dummy mediaDevices.addEventListener called.");
              }),
              "undefined" ==
                typeof navigator.mediaDevices.removeEventListener &&
                (navigator.mediaDevices.removeEventListener = function () {
                  d("Dummy mediaDevices.removeEventListener called.");
                });
          };
        },
        { "../utils.js": 11 },
      ],
      5: [
        function (a, b, c) {
          "use strict";
          var d = a("../utils").browserDetails,
            e = a("./rtcpeerconnection_shim");
          b.exports = {
            shimGetUserMedia: a("./getusermedia"),
            shimPeerConnection: function () {
              if (
                window.RTCIceGatherer &&
                (window.RTCIceCandidate ||
                  (window.RTCIceCandidate = function (a) {
                    return a;
                  }),
                window.RTCSessionDescription ||
                  (window.RTCSessionDescription = function (a) {
                    return a;
                  }),
                d.version < 15025)
              ) {
                var a = Object.getOwnPropertyDescriptor(
                  MediaStreamTrack.prototype,
                  "enabled"
                );
                Object.defineProperty(MediaStreamTrack.prototype, "enabled", {
                  set: function (b) {
                    a.set.call(this, b);
                    var c = new Event("enabled");
                    (c.enabled = b), this.dispatchEvent(c);
                  },
                });
              }
              window.RTCPeerConnection = e(d.version);
            },
            shimReplaceTrack: function () {
              !window.RTCRtpSender ||
                "replaceTrack" in RTCRtpSender.prototype ||
                (RTCRtpSender.prototype.replaceTrack =
                  RTCRtpSender.prototype.setTrack);
            },
          };
        },
        { "../utils": 11, "./getusermedia": 6, "./rtcpeerconnection_shim": 7 },
      ],
      6: [
        function (a, b, c) {
          "use strict";
          b.exports = function () {
            var a = function (a) {
                return {
                  name:
                    { PermissionDeniedError: "NotAllowedError" }[a.name] ||
                    a.name,
                  message: a.message,
                  constraint: a.constraint,
                  toString: function () {
                    return this.name;
                  },
                };
              },
              b = navigator.mediaDevices.getUserMedia.bind(
                navigator.mediaDevices
              );
            navigator.mediaDevices.getUserMedia = function (c) {
              return b(c)["catch"](function (b) {
                return Promise.reject(a(b));
              });
            };
          };
        },
        {},
      ],
      7: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = a.filter(function (a) {
                return "audio" === a.kind;
              }),
              c = a.filter(function (a) {
                return "video" === a.kind;
              });
            for (a = []; b.length || c.length; )
              b.length && a.push(b.shift()), c.length && a.push(c.shift());
            return a;
          }
          function e(a, b) {
            var c = !1;
            return (
              (a = JSON.parse(JSON.stringify(a))),
              a.filter(function (a) {
                if (a && (a.urls || a.url)) {
                  var d = a.urls || a.url;
                  a.url &&
                    !a.urls &&
                    console.warn(
                      "RTCIceServer.url is deprecated! Use urls instead."
                    );
                  var e = "string" == typeof d;
                  return (
                    e && (d = [d]),
                    (d = d.filter(function (a) {
                      var d =
                        0 === a.indexOf("turn:") &&
                        a.indexOf("transport=udp") !== -1 &&
                        a.indexOf("turn:[") === -1 &&
                        !c;
                      return d
                        ? ((c = !0), !0)
                        : 0 === a.indexOf("stun:") && b >= 14393;
                    })),
                    delete a.url,
                    (a.urls = e ? d[0] : d),
                    !!d.length
                  );
                }
                return !1;
              })
            );
          }
          var f = a("sdp");
          b.exports = function (a) {
            var b = function (b) {
              var c = this,
                d = document.createDocumentFragment();
              if (
                ([
                  "addEventListener",
                  "removeEventListener",
                  "dispatchEvent",
                ].forEach(function (a) {
                  c[a] = d[a].bind(d);
                }),
                (this.onicecandidate = null),
                (this.onaddstream = null),
                (this.ontrack = null),
                (this.onremovestream = null),
                (this.onsignalingstatechange = null),
                (this.oniceconnectionstatechange = null),
                (this.onicegatheringstatechange = null),
                (this.onnegotiationneeded = null),
                (this.ondatachannel = null),
                (this.canTrickleIceCandidates = null),
                (this.localStreams = []),
                (this.remoteStreams = []),
                (this.getLocalStreams = function () {
                  return c.localStreams;
                }),
                (this.getRemoteStreams = function () {
                  return c.remoteStreams;
                }),
                (this.localDescription = new RTCSessionDescription({
                  type: "",
                  sdp: "",
                })),
                (this.remoteDescription = new RTCSessionDescription({
                  type: "",
                  sdp: "",
                })),
                (this.signalingState = "stable"),
                (this.iceConnectionState = "new"),
                (this.iceGatheringState = "new"),
                (this.iceOptions = { gatherPolicy: "all", iceServers: [] }),
                b && b.iceTransportPolicy)
              )
                switch (b.iceTransportPolicy) {
                  case "all":
                  case "relay":
                    this.iceOptions.gatherPolicy = b.iceTransportPolicy;
                }
              (this.usingBundle = b && "max-bundle" === b.bundlePolicy),
                b &&
                  b.iceServers &&
                  (this.iceOptions.iceServers = e(b.iceServers, a)),
                (this._config = b || {}),
                (this.transceivers = []),
                (this._localIceCandidatesBuffer = []);
            };
            return (
              (b.prototype._emitGatheringStateChange = function () {
                var a = new Event("icegatheringstatechange");
                this.dispatchEvent(a),
                  null !== this.onicegatheringstatechange &&
                    this.onicegatheringstatechange(a);
              }),
              (b.prototype._emitBufferedCandidates = function () {
                var a = this,
                  b = f.splitSections(a.localDescription.sdp);
                this._localIceCandidatesBuffer.forEach(function (c) {
                  var d = !c.candidate || 0 === Object.keys(c.candidate).length;
                  if (d)
                    for (var e = 1; e < b.length; e++)
                      b[e].indexOf("\r\na=end-of-candidates\r\n") === -1 &&
                        (b[e] += "a=end-of-candidates\r\n");
                  else
                    b[c.candidate.sdpMLineIndex + 1] +=
                      "a=" + c.candidate.candidate + "\r\n";
                  if (
                    ((a.localDescription.sdp = b.join("")),
                    a.dispatchEvent(c),
                    null !== a.onicecandidate && a.onicecandidate(c),
                    !c.candidate && "complete" !== a.iceGatheringState)
                  ) {
                    var f = a.transceivers.every(function (a) {
                      return (
                        a.iceGatherer && "completed" === a.iceGatherer.state
                      );
                    });
                    f &&
                      "complete" !== a.iceGatheringStateChange &&
                      ((a.iceGatheringState = "complete"),
                      a._emitGatheringStateChange());
                  }
                }),
                  (this._localIceCandidatesBuffer = []);
              }),
              (b.prototype.getConfiguration = function () {
                return this._config;
              }),
              (b.prototype.addStream = function (b) {
                if (a >= 15025) this.localStreams.push(b);
                else {
                  var c = b.clone();
                  b.getTracks().forEach(function (a, b) {
                    var d = c.getTracks()[b];
                    a.addEventListener("enabled", function (a) {
                      d.enabled = a.enabled;
                    });
                  }),
                    this.localStreams.push(c);
                }
                this._maybeFireNegotiationNeeded();
              }),
              (b.prototype.removeStream = function (a) {
                var b = this.localStreams.indexOf(a);
                b > -1 &&
                  (this.localStreams.splice(b, 1),
                  this._maybeFireNegotiationNeeded());
              }),
              (b.prototype.getSenders = function () {
                return this.transceivers
                  .filter(function (a) {
                    return !!a.rtpSender;
                  })
                  .map(function (a) {
                    return a.rtpSender;
                  });
              }),
              (b.prototype.getReceivers = function () {
                return this.transceivers
                  .filter(function (a) {
                    return !!a.rtpReceiver;
                  })
                  .map(function (a) {
                    return a.rtpReceiver;
                  });
              }),
              (b.prototype._getCommonCapabilities = function (a, b) {
                var c = { codecs: [], headerExtensions: [], fecMechanisms: [] },
                  d = function (a, b) {
                    a = parseInt(a, 10);
                    for (var c = 0; c < b.length; c++)
                      if (
                        b[c].payloadType === a ||
                        b[c].preferredPayloadType === a
                      )
                        return b[c];
                  },
                  e = function (a, b, c, e) {
                    var f = d(a.parameters.apt, c),
                      g = d(b.parameters.apt, e);
                    return (
                      f && g && f.name.toLowerCase() === g.name.toLowerCase()
                    );
                  };
                return (
                  a.codecs.forEach(function (d) {
                    for (var f = 0; f < b.codecs.length; f++) {
                      var g = b.codecs[f];
                      if (
                        d.name.toLowerCase() === g.name.toLowerCase() &&
                        d.clockRate === g.clockRate
                      ) {
                        if (
                          "rtx" === d.name.toLowerCase() &&
                          d.parameters &&
                          g.parameters.apt &&
                          !e(d, g, a.codecs, b.codecs)
                        )
                          continue;
                        (g = JSON.parse(JSON.stringify(g))),
                          (g.numChannels = Math.min(
                            d.numChannels,
                            g.numChannels
                          )),
                          c.codecs.push(g),
                          (g.rtcpFeedback = g.rtcpFeedback.filter(function (a) {
                            for (var b = 0; b < d.rtcpFeedback.length; b++)
                              if (
                                d.rtcpFeedback[b].type === a.type &&
                                d.rtcpFeedback[b].parameter === a.parameter
                              )
                                return !0;
                            return !1;
                          }));
                        break;
                      }
                    }
                  }),
                  a.headerExtensions.forEach(function (a) {
                    for (var d = 0; d < b.headerExtensions.length; d++) {
                      var e = b.headerExtensions[d];
                      if (a.uri === e.uri) {
                        c.headerExtensions.push(e);
                        break;
                      }
                    }
                  }),
                  c
                );
              }),
              (b.prototype._createIceAndDtlsTransports = function (a, b) {
                var c = this,
                  d = new RTCIceGatherer(c.iceOptions),
                  e = new RTCIceTransport(d);
                (d.onlocalcandidate = function (g) {
                  var h = new Event("icecandidate");
                  h.candidate = { sdpMid: a, sdpMLineIndex: b };
                  var i = g.candidate,
                    j = !i || 0 === Object.keys(i).length;
                  j
                    ? void 0 === d.state && (d.state = "completed")
                    : ((i.component = "RTCP" === e.component ? 2 : 1),
                      (h.candidate.candidate = f.writeCandidate(i)));
                  var k = f.splitSections(c.localDescription.sdp);
                  j
                    ? (k[h.candidate.sdpMLineIndex + 1] +=
                        "a=end-of-candidates\r\n")
                    : (k[h.candidate.sdpMLineIndex + 1] +=
                        "a=" + h.candidate.candidate + "\r\n"),
                    (c.localDescription.sdp = k.join(""));
                  var l = c._pendingOffer ? c._pendingOffer : c.transceivers,
                    m = l.every(function (a) {
                      return (
                        a.iceGatherer && "completed" === a.iceGatherer.state
                      );
                    });
                  switch (c.iceGatheringState) {
                    case "new":
                      j || c._localIceCandidatesBuffer.push(h),
                        j &&
                          m &&
                          c._localIceCandidatesBuffer.push(
                            new Event("icecandidate")
                          );
                      break;
                    case "gathering":
                      c._emitBufferedCandidates(),
                        j ||
                          (c.dispatchEvent(h),
                          null !== c.onicecandidate && c.onicecandidate(h)),
                        m &&
                          (c.dispatchEvent(new Event("icecandidate")),
                          null !== c.onicecandidate &&
                            c.onicecandidate(new Event("icecandidate")),
                          (c.iceGatheringState = "complete"),
                          c._emitGatheringStateChange());
                      break;
                    case "complete":
                  }
                }),
                  (e.onicestatechange = function () {
                    c._updateConnectionState();
                  });
                var g = new RTCDtlsTransport(e);
                return (
                  (g.ondtlsstatechange = function () {
                    c._updateConnectionState();
                  }),
                  (g.onerror = function () {
                    (g.state = "failed"), c._updateConnectionState();
                  }),
                  { iceGatherer: d, iceTransport: e, dtlsTransport: g }
                );
              }),
              (b.prototype._disposeIceAndDtlsTransports = function (a) {
                var b = this.transceivers[a].iceGatherer;
                b &&
                  (delete b.onlocalcandidate,
                  delete this.transceivers[a].iceGatherer);
                var c = this.transceivers[a].iceTransport;
                c &&
                  (delete c.onicestatechange,
                  delete this.transceivers[a].iceTransport);
                var d = this.transceivers[a].dtlsTransport;
                d &&
                  (delete d.ondtlssttatechange,
                  delete d.onerror,
                  delete this.transceivers[a].dtlsTransport);
              }),
              (b.prototype._transceive = function (b, c, d) {
                var e = this._getCommonCapabilities(
                  b.localCapabilities,
                  b.remoteCapabilities
                );
                c &&
                  b.rtpSender &&
                  ((e.encodings = b.sendEncodingParameters),
                  (e.rtcp = {
                    cname: f.localCName,
                    compound: b.rtcpParameters.compound,
                  }),
                  b.recvEncodingParameters.length &&
                    (e.rtcp.ssrc = b.recvEncodingParameters[0].ssrc),
                  b.rtpSender.send(e)),
                  d &&
                    b.rtpReceiver &&
                    ("video" === b.kind &&
                      b.recvEncodingParameters &&
                      a < 15019 &&
                      b.recvEncodingParameters.forEach(function (a) {
                        delete a.rtx;
                      }),
                    (e.encodings = b.recvEncodingParameters),
                    (e.rtcp = {
                      cname: b.rtcpParameters.cname,
                      compound: b.rtcpParameters.compound,
                    }),
                    b.sendEncodingParameters.length &&
                      (e.rtcp.ssrc = b.sendEncodingParameters[0].ssrc),
                    b.rtpReceiver.receive(e));
              }),
              (b.prototype.setLocalDescription = function (a) {
                var b,
                  c,
                  d = this;
                if ("offer" === a.type)
                  this._pendingOffer &&
                    ((b = f.splitSections(a.sdp)),
                    (c = b.shift()),
                    b.forEach(function (a, b) {
                      var c = f.parseRtpParameters(a);
                      d._pendingOffer[b].localCapabilities = c;
                    }),
                    (this.transceivers = this._pendingOffer),
                    delete this._pendingOffer);
                else if ("answer" === a.type) {
                  (b = f.splitSections(d.remoteDescription.sdp)),
                    (c = b.shift());
                  var e = f.matchPrefix(c, "a=ice-lite").length > 0;
                  b.forEach(function (a, b) {
                    var g = d.transceivers[b],
                      h = g.iceGatherer,
                      i = g.iceTransport,
                      j = g.dtlsTransport,
                      k = g.localCapabilities,
                      l = g.remoteCapabilities,
                      m = f.isRejected(a);
                    if (!m && !g.isDatachannel) {
                      var n = f.getIceParameters(a, c),
                        o = f.getDtlsParameters(a, c);
                      e && (o.role = "server"),
                        (d.usingBundle && 0 !== b) ||
                          (i.start(h, n, e ? "controlling" : "controlled"),
                          j.start(o));
                      var p = d._getCommonCapabilities(k, l);
                      d._transceive(g, p.codecs.length > 0, !1);
                    }
                  });
                }
                switch (
                  ((this.localDescription = { type: a.type, sdp: a.sdp }),
                  a.type)
                ) {
                  case "offer":
                    this._updateSignalingState("have-local-offer");
                    break;
                  case "answer":
                    this._updateSignalingState("stable");
                    break;
                  default:
                    throw new TypeError('unsupported type "' + a.type + '"');
                }
                var g =
                  arguments.length > 1 && "function" == typeof arguments[1];
                if (g) {
                  var h = arguments[1];
                  window.setTimeout(function () {
                    h(),
                      "new" === d.iceGatheringState &&
                        ((d.iceGatheringState = "gathering"),
                        d._emitGatheringStateChange()),
                      d._emitBufferedCandidates();
                  }, 0);
                }
                var i = Promise.resolve();
                return (
                  i.then(function () {
                    g ||
                      ("new" === d.iceGatheringState &&
                        ((d.iceGatheringState = "gathering"),
                        d._emitGatheringStateChange()),
                      window.setTimeout(
                        d._emitBufferedCandidates.bind(d),
                        500
                      ));
                  }),
                  i
                );
              }),
              (b.prototype.setRemoteDescription = function (b) {
                var c = this,
                  d = {},
                  e = [],
                  g = f.splitSections(b.sdp),
                  h = g.shift(),
                  i = f.matchPrefix(h, "a=ice-lite").length > 0,
                  j = f.matchPrefix(h, "a=group:BUNDLE ").length > 0,
                  k = f.matchPrefix(h, "a=ice-options:")[0];
                switch (
                  (k
                    ? (this.canTrickleIceCandidates =
                        k.substr(14).split(" ").indexOf("trickle") >= 0)
                    : (this.canTrickleIceCandidates = !1),
                  g.forEach(function (g, k) {
                    var l = f.splitLines(g),
                      m = f.getKind(g),
                      n = f.isRejected(g),
                      o = l[0].substr(2).split(" ")[2],
                      p = f.getDirection(g, h),
                      q = f.parseMsid(g),
                      r = f.getMid(g) || f.generateIdentifier();
                    if ("application" === m && "DTLS/SCTP" === o)
                      return void (c.transceivers[k] = {
                        mid: r,
                        isDatachannel: !0,
                      });
                    var s,
                      t,
                      u,
                      v,
                      w,
                      x,
                      y,
                      z,
                      A,
                      B,
                      C,
                      D,
                      E = f.parseRtpParameters(g);
                    n ||
                      ((C = f.getIceParameters(g, h)),
                      (D = f.getDtlsParameters(g, h)),
                      (D.role = "client")),
                      (z = f.parseRtpEncodingParameters(g));
                    var F = f.parseRtcpParameters(g),
                      G = f.matchPrefix(g, "a=end-of-candidates", h).length > 0,
                      H = f
                        .matchPrefix(g, "a=candidate:")
                        .map(function (a) {
                          return f.parseCandidate(a);
                        })
                        .filter(function (a) {
                          return "1" === a.component;
                        });
                    if ("offer" !== b.type || n)
                      "answer" !== b.type ||
                        n ||
                        (j &&
                          k > 0 &&
                          (c._disposeIceAndDtlsTransports(k),
                          (c.transceivers[k].iceGatherer =
                            c.transceivers[0].iceGatherer),
                          (c.transceivers[k].iceTransport =
                            c.transceivers[0].iceTransport),
                          (c.transceivers[k].dtlsTransport =
                            c.transceivers[0].dtlsTransport),
                          c.transceivers[k].rtpSender &&
                            c.transceivers[k].rtpSender.setTransport(
                              c.transceivers[0].dtlsTransport
                            ),
                          c.transceivers[k].rtpReceiver &&
                            c.transceivers[k].rtpReceiver.setTransport(
                              c.transceivers[0].dtlsTransport
                            )),
                        (s = c.transceivers[k]),
                        (t = s.iceGatherer),
                        (u = s.iceTransport),
                        (v = s.dtlsTransport),
                        (w = s.rtpSender),
                        (x = s.rtpReceiver),
                        (y = s.sendEncodingParameters),
                        (A = s.localCapabilities),
                        (c.transceivers[k].recvEncodingParameters = z),
                        (c.transceivers[k].remoteCapabilities = E),
                        (c.transceivers[k].rtcpParameters = F),
                        (i || G) && H.length && u.setRemoteCandidates(H),
                        (j && 0 !== k) ||
                          (u.start(t, C, "controlling"), v.start(D)),
                        c._transceive(
                          s,
                          "sendrecv" === p || "recvonly" === p,
                          "sendrecv" === p || "sendonly" === p
                        ),
                        !x || ("sendrecv" !== p && "sendonly" !== p)
                          ? delete s.rtpReceiver
                          : ((B = x.track),
                            q
                              ? (d[q.stream] ||
                                  (d[q.stream] = new MediaStream()),
                                d[q.stream].addTrack(B),
                                e.push([B, x, d[q.stream]]))
                              : (d["default"] ||
                                  (d["default"] = new MediaStream()),
                                d["default"].addTrack(B),
                                e.push([B, x, d["default"]]))));
                    else {
                      var I =
                        j && k > 0
                          ? {
                              iceGatherer: c.transceivers[0].iceGatherer,
                              iceTransport: c.transceivers[0].iceTransport,
                              dtlsTransport: c.transceivers[0].dtlsTransport,
                            }
                          : c._createIceAndDtlsTransports(r, k);
                      if (
                        (!G ||
                          (j && 0 !== k) ||
                          I.iceTransport.setRemoteCandidates(H),
                        (A = RTCRtpReceiver.getCapabilities(m)),
                        a < 15019 &&
                          (A.codecs = A.codecs.filter(function (a) {
                            return "rtx" !== a.name;
                          })),
                        (y = [{ ssrc: 1001 * (2 * k + 2) }]),
                        ("sendrecv" !== p && "sendonly" !== p) ||
                          ((x = new RTCRtpReceiver(I.dtlsTransport, m)),
                          (B = x.track),
                          q
                            ? (d[q.stream] ||
                                ((d[q.stream] = new MediaStream()),
                                Object.defineProperty(d[q.stream], "id", {
                                  get: function () {
                                    return q.stream;
                                  },
                                })),
                              Object.defineProperty(B, "id", {
                                get: function () {
                                  return q.track;
                                },
                              }),
                              d[q.stream].addTrack(B),
                              e.push([B, x, d[q.stream]]))
                            : (d["default"] ||
                                (d["default"] = new MediaStream()),
                              d["default"].addTrack(B),
                              e.push([B, x, d["default"]]))),
                        c.localStreams.length > 0 &&
                          c.localStreams[0].getTracks().length >= k)
                      ) {
                        var J;
                        "audio" === m
                          ? (J = c.localStreams[0].getAudioTracks()[0])
                          : "video" === m &&
                            (J = c.localStreams[0].getVideoTracks()[0]),
                          J &&
                            (a >= 15019 &&
                              "video" === m &&
                              (y[0].rtx = { ssrc: 1001 * (2 * k + 2) + 1 }),
                            (w = new RTCRtpSender(J, I.dtlsTransport)));
                      }
                      (c.transceivers[k] = {
                        iceGatherer: I.iceGatherer,
                        iceTransport: I.iceTransport,
                        dtlsTransport: I.dtlsTransport,
                        localCapabilities: A,
                        remoteCapabilities: E,
                        rtpSender: w,
                        rtpReceiver: x,
                        kind: m,
                        mid: r,
                        rtcpParameters: F,
                        sendEncodingParameters: y,
                        recvEncodingParameters: z,
                      }),
                        c._transceive(
                          c.transceivers[k],
                          !1,
                          "sendrecv" === p || "sendonly" === p
                        );
                    }
                  }),
                  (this.usingBundle = j),
                  (this.remoteDescription = { type: b.type, sdp: b.sdp }),
                  b.type)
                ) {
                  case "offer":
                    this._updateSignalingState("have-remote-offer");
                    break;
                  case "answer":
                    this._updateSignalingState("stable");
                    break;
                  default:
                    throw new TypeError('unsupported type "' + b.type + '"');
                }
                return (
                  Object.keys(d).forEach(function (a) {
                    var b = d[a];
                    if (b.getTracks().length) {
                      c.remoteStreams.push(b);
                      var f = new Event("addstream");
                      (f.stream = b),
                        c.dispatchEvent(f),
                        null !== c.onaddstream &&
                          window.setTimeout(function () {
                            c.onaddstream(f);
                          }, 0),
                        e.forEach(function (a) {
                          var d = a[0],
                            e = a[1];
                          if (b.id === a[2].id) {
                            var f = new Event("track");
                            (f.track = d),
                              (f.receiver = e),
                              (f.streams = [b]),
                              c.dispatchEvent(f),
                              null !== c.ontrack &&
                                window.setTimeout(function () {
                                  c.ontrack(f);
                                }, 0);
                          }
                        });
                    }
                  }),
                  arguments.length > 1 &&
                    "function" == typeof arguments[1] &&
                    window.setTimeout(arguments[1], 0),
                  Promise.resolve()
                );
              }),
              (b.prototype.close = function () {
                this.transceivers.forEach(function (a) {
                  a.iceTransport && a.iceTransport.stop(),
                    a.dtlsTransport && a.dtlsTransport.stop(),
                    a.rtpSender && a.rtpSender.stop(),
                    a.rtpReceiver && a.rtpReceiver.stop();
                }),
                  this._updateSignalingState("closed");
              }),
              (b.prototype._updateSignalingState = function (a) {
                this.signalingState = a;
                var b = new Event("signalingstatechange");
                this.dispatchEvent(b),
                  null !== this.onsignalingstatechange &&
                    this.onsignalingstatechange(b);
              }),
              (b.prototype._maybeFireNegotiationNeeded = function () {
                var a = new Event("negotiationneeded");
                this.dispatchEvent(a),
                  null !== this.onnegotiationneeded &&
                    this.onnegotiationneeded(a);
              }),
              (b.prototype._updateConnectionState = function () {
                var a,
                  b = this,
                  c = {
                    new: 0,
                    closed: 0,
                    connecting: 0,
                    checking: 0,
                    connected: 0,
                    completed: 0,
                    failed: 0,
                  };
                if (
                  (this.transceivers.forEach(function (a) {
                    c[a.iceTransport.state]++, c[a.dtlsTransport.state]++;
                  }),
                  (c.connected += c.completed),
                  (a = "new"),
                  c.failed > 0
                    ? (a = "failed")
                    : c.connecting > 0 || c.checking > 0
                    ? (a = "connecting")
                    : c.disconnected > 0
                    ? (a = "disconnected")
                    : c["new"] > 0
                    ? (a = "new")
                    : (c.connected > 0 || c.completed > 0) && (a = "connected"),
                  a !== b.iceConnectionState)
                ) {
                  b.iceConnectionState = a;
                  var d = new Event("iceconnectionstatechange");
                  this.dispatchEvent(d),
                    null !== this.oniceconnectionstatechange &&
                      this.oniceconnectionstatechange(d);
                }
              }),
              (b.prototype.createOffer = function () {
                var b = this;
                if (this._pendingOffer)
                  throw new Error(
                    "createOffer called while there is a pending offer."
                  );
                var c;
                1 === arguments.length && "function" != typeof arguments[0]
                  ? (c = arguments[0])
                  : 3 === arguments.length && (c = arguments[2]);
                var e = [],
                  g = 0,
                  h = 0;
                if (
                  (this.localStreams.length &&
                    ((g = this.localStreams.reduce(function (a, b) {
                      return a + b.getAudioTracks().length;
                    }, 0)),
                    (h = this.localStreams.reduce(function (a, b) {
                      return a + b.getVideoTracks().length;
                    }, 0))),
                  c)
                ) {
                  if (c.mandatory || c.optional)
                    throw new TypeError(
                      "Legacy mandatory/optional constraints not supported."
                    );
                  void 0 !== c.offerToReceiveAudio &&
                    (g =
                      c.offerToReceiveAudio === !0
                        ? 1
                        : c.offerToReceiveAudio === !1
                        ? 0
                        : c.offerToReceiveAudio),
                    void 0 !== c.offerToReceiveVideo &&
                      (h =
                        c.offerToReceiveVideo === !0
                          ? 1
                          : c.offerToReceiveVideo === !1
                          ? 0
                          : c.offerToReceiveVideo);
                }
                for (
                  this.localStreams.forEach(function (a) {
                    a.getTracks().forEach(function (b) {
                      e.push({
                        kind: b.kind,
                        track: b,
                        stream: a,
                        wantReceive: "audio" === b.kind ? g > 0 : h > 0,
                      }),
                        "audio" === b.kind ? g-- : "video" === b.kind && h--;
                    });
                  });
                  g > 0 || h > 0;

                )
                  g > 0 && (e.push({ kind: "audio", wantReceive: !0 }), g--),
                    h > 0 && (e.push({ kind: "video", wantReceive: !0 }), h--);
                e = d(e);
                var i = f.writeSessionBoilerplate(),
                  j = [];
                e.forEach(function (c, d) {
                  var e = c.track,
                    g = c.kind,
                    h = f.generateIdentifier(),
                    i =
                      b.usingBundle && d > 0
                        ? {
                            iceGatherer: j[0].iceGatherer,
                            iceTransport: j[0].iceTransport,
                            dtlsTransport: j[0].dtlsTransport,
                          }
                        : b._createIceAndDtlsTransports(h, d),
                    k = RTCRtpSender.getCapabilities(g);
                  a < 15019 &&
                    (k.codecs = k.codecs.filter(function (a) {
                      return "rtx" !== a.name;
                    })),
                    k.codecs.forEach(function (a) {
                      "H264" === a.name &&
                        void 0 === a.parameters["level-asymmetry-allowed"] &&
                        (a.parameters["level-asymmetry-allowed"] = "1");
                    });
                  var l,
                    m,
                    n = [{ ssrc: 1001 * (2 * d + 1) }];
                  e &&
                    (a >= 15019 &&
                      "video" === g &&
                      (n[0].rtx = { ssrc: 1001 * (2 * d + 1) + 1 }),
                    (l = new RTCRtpSender(e, i.dtlsTransport))),
                    c.wantReceive &&
                      (m = new RTCRtpReceiver(i.dtlsTransport, g)),
                    (j[d] = {
                      iceGatherer: i.iceGatherer,
                      iceTransport: i.iceTransport,
                      dtlsTransport: i.dtlsTransport,
                      localCapabilities: k,
                      remoteCapabilities: null,
                      rtpSender: l,
                      rtpReceiver: m,
                      kind: g,
                      mid: h,
                      sendEncodingParameters: n,
                      recvEncodingParameters: null,
                    });
                }),
                  "max-compat" !== this._config.bundlePolicy &&
                    (i +=
                      "a=group:BUNDLE " +
                      j
                        .map(function (a) {
                          return a.mid;
                        })
                        .join(" ") +
                      "\r\n"),
                  (i += "a=ice-options:trickle\r\n"),
                  e.forEach(function (a, b) {
                    var c = j[b];
                    (i += f.writeMediaSection(
                      c,
                      c.localCapabilities,
                      "offer",
                      a.stream
                    )),
                      (i += "a=rtcp-rsize\r\n");
                  }),
                  (this._pendingOffer = j);
                var k = new RTCSessionDescription({ type: "offer", sdp: i });
                return (
                  arguments.length &&
                    "function" == typeof arguments[0] &&
                    window.setTimeout(arguments[0], 0, k),
                  Promise.resolve(k)
                );
              }),
              (b.prototype.createAnswer = function () {
                var a = this,
                  b = f.writeSessionBoilerplate();
                this.usingBundle &&
                  (b +=
                    "a=group:BUNDLE " +
                    this.transceivers
                      .map(function (a) {
                        return a.mid;
                      })
                      .join(" ") +
                    "\r\n"),
                  this.transceivers.forEach(function (c) {
                    if (c.isDatachannel)
                      return void (b +=
                        "m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:" +
                        c.mid +
                        "\r\n");
                    var d = a._getCommonCapabilities(
                        c.localCapabilities,
                        c.remoteCapabilities
                      ),
                      e = d.codecs.filter(function (a) {
                        return "rtx" === a.name.toLowerCase();
                      }).length;
                    !e &&
                      c.sendEncodingParameters[0].rtx &&
                      delete c.sendEncodingParameters[0].rtx,
                      (b += f.writeMediaSection(
                        c,
                        d,
                        "answer",
                        a.localStreams[0]
                      )),
                      c.rtcpParameters &&
                        c.rtcpParameters.reducedSize &&
                        (b += "a=rtcp-rsize\r\n");
                  });
                var c = new RTCSessionDescription({ type: "answer", sdp: b });
                return (
                  arguments.length &&
                    "function" == typeof arguments[0] &&
                    window.setTimeout(arguments[0], 0, c),
                  Promise.resolve(c)
                );
              }),
              (b.prototype.addIceCandidate = function (a) {
                if (a) {
                  var b = a.sdpMLineIndex;
                  if (a.sdpMid)
                    for (var c = 0; c < this.transceivers.length; c++)
                      if (this.transceivers[c].mid === a.sdpMid) {
                        b = c;
                        break;
                      }
                  var d = this.transceivers[b];
                  if (d) {
                    var e =
                      Object.keys(a.candidate).length > 0
                        ? f.parseCandidate(a.candidate)
                        : {};
                    if ("tcp" === e.protocol && (0 === e.port || 9 === e.port))
                      return Promise.resolve();
                    if ("1" !== e.component) return Promise.resolve();
                    d.iceTransport.addRemoteCandidate(e);
                    var g = f.splitSections(this.remoteDescription.sdp);
                    (g[b + 1] +=
                      (e.type ? a.candidate.trim() : "a=end-of-candidates") +
                      "\r\n"),
                      (this.remoteDescription.sdp = g.join(""));
                  }
                } else
                  for (var h = 0; h < this.transceivers.length; h++)
                    if (
                      (this.transceivers[h].iceTransport.addRemoteCandidate({}),
                      this.usingBundle)
                    )
                      return Promise.resolve();
                return (
                  arguments.length > 1 &&
                    "function" == typeof arguments[1] &&
                    window.setTimeout(arguments[1], 0),
                  Promise.resolve()
                );
              }),
              (b.prototype.getStats = function () {
                var a = [];
                this.transceivers.forEach(function (b) {
                  [
                    "rtpSender",
                    "rtpReceiver",
                    "iceGatherer",
                    "iceTransport",
                    "dtlsTransport",
                  ].forEach(function (c) {
                    b[c] && a.push(b[c].getStats());
                  });
                });
                var b =
                    arguments.length > 1 &&
                    "function" == typeof arguments[1] &&
                    arguments[1],
                  c = function (a) {
                    return (
                      {
                        inboundrtp: "inbound-rtp",
                        outboundrtp: "outbound-rtp",
                        candidatepair: "candidate-pair",
                        localcandidate: "local-candidate",
                        remotecandidate: "remote-candidate",
                      }[a.type] || a.type
                    );
                  };
                return new Promise(function (d) {
                  var e = new Map();
                  Promise.all(a).then(function (a) {
                    a.forEach(function (a) {
                      Object.keys(a).forEach(function (b) {
                        (a[b].type = c(a[b])), e.set(b, a[b]);
                      });
                    }),
                      b && window.setTimeout(b, 0, e),
                      d(e);
                  });
                });
              }),
              b
            );
          };
        },
        { sdp: 1 },
      ],
      8: [
        function (a, b, c) {
          "use strict";
          var d = a("../utils").browserDetails,
            e = {
              shimOnTrack: function () {
                "object" != typeof window ||
                  !window.RTCPeerConnection ||
                  "ontrack" in window.RTCPeerConnection.prototype ||
                  Object.defineProperty(
                    window.RTCPeerConnection.prototype,
                    "ontrack",
                    {
                      get: function () {
                        return this._ontrack;
                      },
                      set: function (a) {
                        this._ontrack &&
                          (this.removeEventListener("track", this._ontrack),
                          this.removeEventListener(
                            "addstream",
                            this._ontrackpoly
                          )),
                          this.addEventListener("track", (this._ontrack = a)),
                          this.addEventListener(
                            "addstream",
                            (this._ontrackpoly = function (a) {
                              a.stream.getTracks().forEach(
                                function (b) {
                                  var c = new Event("track");
                                  (c.track = b),
                                    (c.receiver = { track: b }),
                                    (c.streams = [a.stream]),
                                    this.dispatchEvent(c);
                                }.bind(this)
                              );
                            }.bind(this))
                          );
                      },
                    }
                  );
              },
              shimSourceObject: function () {
                "object" == typeof window &&
                  (!window.HTMLMediaElement ||
                    "srcObject" in window.HTMLMediaElement.prototype ||
                    Object.defineProperty(
                      window.HTMLMediaElement.prototype,
                      "srcObject",
                      {
                        get: function () {
                          return this.mozSrcObject;
                        },
                        set: function (a) {
                          this.mozSrcObject = a;
                        },
                      }
                    ));
              },
              shimPeerConnection: function () {
                if (
                  "object" == typeof window &&
                  (window.RTCPeerConnection || window.mozRTCPeerConnection)
                ) {
                  window.RTCPeerConnection ||
                    ((window.RTCPeerConnection = function (a, b) {
                      if (d.version < 38 && a && a.iceServers) {
                        for (var c = [], e = 0; e < a.iceServers.length; e++) {
                          var f = a.iceServers[e];
                          if (f.hasOwnProperty("urls"))
                            for (var g = 0; g < f.urls.length; g++) {
                              var h = { url: f.urls[g] };
                              0 === f.urls[g].indexOf("turn") &&
                                ((h.username = f.username),
                                (h.credential = f.credential)),
                                c.push(h);
                            }
                          else c.push(a.iceServers[e]);
                        }
                        a.iceServers = c;
                      }
                      return new mozRTCPeerConnection(a, b);
                    }),
                    (window.RTCPeerConnection.prototype =
                      mozRTCPeerConnection.prototype),
                    mozRTCPeerConnection.generateCertificate &&
                      Object.defineProperty(
                        window.RTCPeerConnection,
                        "generateCertificate",
                        {
                          get: function () {
                            return mozRTCPeerConnection.generateCertificate;
                          },
                        }
                      ),
                    (window.RTCSessionDescription = mozRTCSessionDescription),
                    (window.RTCIceCandidate = mozRTCIceCandidate)),
                    [
                      "setLocalDescription",
                      "setRemoteDescription",
                      "addIceCandidate",
                    ].forEach(function (a) {
                      var b = RTCPeerConnection.prototype[a];
                      RTCPeerConnection.prototype[a] = function () {
                        return (
                          (arguments[0] = new (
                            "addIceCandidate" === a
                              ? RTCIceCandidate
                              : RTCSessionDescription
                          )(arguments[0])),
                          b.apply(this, arguments)
                        );
                      };
                    });
                  var a = RTCPeerConnection.prototype.addIceCandidate;
                  RTCPeerConnection.prototype.addIceCandidate = function () {
                    return arguments[0]
                      ? a.apply(this, arguments)
                      : (arguments[1] && arguments[1].apply(null),
                        Promise.resolve());
                  };
                  var b = function (a) {
                      var b = new Map();
                      return (
                        Object.keys(a).forEach(function (c) {
                          b.set(c, a[c]), (b[c] = a[c]);
                        }),
                        b
                      );
                    },
                    c = {
                      inboundrtp: "inbound-rtp",
                      outboundrtp: "outbound-rtp",
                      candidatepair: "candidate-pair",
                      localcandidate: "local-candidate",
                      remotecandidate: "remote-candidate",
                    },
                    e = RTCPeerConnection.prototype.getStats;
                  RTCPeerConnection.prototype.getStats = function (a, f, g) {
                    return e
                      .apply(this, [a || null])
                      .then(function (a) {
                        if (
                          (d.version < 48 && (a = b(a)), d.version < 53 && !f)
                        )
                          try {
                            a.forEach(function (a) {
                              a.type = c[a.type] || a.type;
                            });
                          } catch (e) {
                            if ("TypeError" !== e.name) throw e;
                            a.forEach(function (b, d) {
                              a.set(
                                d,
                                Object.assign({}, b, {
                                  type: c[b.type] || b.type,
                                })
                              );
                            });
                          }
                        return a;
                      })
                      .then(f, g);
                  };
                }
              },
            };
          b.exports = {
            shimOnTrack: e.shimOnTrack,
            shimSourceObject: e.shimSourceObject,
            shimPeerConnection: e.shimPeerConnection,
            shimGetUserMedia: a("./getusermedia"),
          };
        },
        { "../utils": 11, "./getusermedia": 9 },
      ],
      9: [
        function (a, b, c) {
          "use strict";
          var d = a("../utils").log,
            e = a("../utils").browserDetails;
          b.exports = function () {
            var a = function (a) {
                return {
                  name:
                    {
                      NotSupportedError: "TypeError",
                      SecurityError: "NotAllowedError",
                      PermissionDeniedError: "NotAllowedError",
                    }[a.name] || a.name,
                  message:
                    {
                      "The operation is insecure.":
                        "The request is not allowed by the user agent or the platform in the current context.",
                    }[a.message] || a.message,
                  constraint: a.constraint,
                  toString: function () {
                    return this.name + (this.message && ": ") + this.message;
                  },
                };
              },
              b = function (b, c, f) {
                var g = function (a) {
                  if ("object" != typeof a || a.require) return a;
                  var b = [];
                  return (
                    Object.keys(a).forEach(function (c) {
                      if (
                        "require" !== c &&
                        "advanced" !== c &&
                        "mediaSource" !== c
                      ) {
                        var d = (a[c] =
                          "object" == typeof a[c] ? a[c] : { ideal: a[c] });
                        if (
                          ((void 0 === d.min &&
                            void 0 === d.max &&
                            void 0 === d.exact) ||
                            b.push(c),
                          void 0 !== d.exact &&
                            ("number" == typeof d.exact
                              ? (d.min = d.max = d.exact)
                              : (a[c] = d.exact),
                            delete d.exact),
                          void 0 !== d.ideal)
                        ) {
                          a.advanced = a.advanced || [];
                          var e = {};
                          "number" == typeof d.ideal
                            ? (e[c] = { min: d.ideal, max: d.ideal })
                            : (e[c] = d.ideal),
                            a.advanced.push(e),
                            delete d.ideal,
                            Object.keys(d).length || delete a[c];
                        }
                      }
                    }),
                    b.length && (a.require = b),
                    a
                  );
                };
                return (
                  (b = JSON.parse(JSON.stringify(b))),
                  e.version < 38 &&
                    (d("spec: " + JSON.stringify(b)),
                    b.audio && (b.audio = g(b.audio)),
                    b.video && (b.video = g(b.video)),
                    d("ff37: " + JSON.stringify(b))),
                  navigator.mozGetUserMedia(b, c, function (b) {
                    f(a(b));
                  })
                );
              },
              c = function (a) {
                return new Promise(function (c, d) {
                  b(a, c, d);
                });
              };
            if (
              (navigator.mediaDevices ||
                (navigator.mediaDevices = {
                  getUserMedia: c,
                  addEventListener: function () {},
                  removeEventListener: function () {},
                }),
              (navigator.mediaDevices.enumerateDevices =
                navigator.mediaDevices.enumerateDevices ||
                function () {
                  return new Promise(function (a) {
                    var b = [
                      {
                        kind: "audioinput",
                        deviceId: "default",
                        label: "",
                        groupId: "",
                      },
                      {
                        kind: "videoinput",
                        deviceId: "default",
                        label: "",
                        groupId: "",
                      },
                    ];
                    a(b);
                  });
                }),
              e.version < 41)
            ) {
              var f = navigator.mediaDevices.enumerateDevices.bind(
                navigator.mediaDevices
              );
              navigator.mediaDevices.enumerateDevices = function () {
                return f().then(void 0, function (a) {
                  if ("NotFoundError" === a.name) return [];
                  throw a;
                });
              };
            }
            if (e.version < 49) {
              var g = navigator.mediaDevices.getUserMedia.bind(
                navigator.mediaDevices
              );
              navigator.mediaDevices.getUserMedia = function (b) {
                return g(b).then(
                  function (a) {
                    if (
                      (b.audio && !a.getAudioTracks().length) ||
                      (b.video && !a.getVideoTracks().length)
                    )
                      throw (
                        (a.getTracks().forEach(function (a) {
                          a.stop();
                        }),
                        new DOMException(
                          "The object can not be found here.",
                          "NotFoundError"
                        ))
                      );
                    return a;
                  },
                  function (b) {
                    return Promise.reject(a(b));
                  }
                );
              };
            }
            navigator.getUserMedia = function (a, c, d) {
              return e.version < 44
                ? b(a, c, d)
                : (console.warn(
                    "navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"
                  ),
                  void navigator.mediaDevices.getUserMedia(a).then(c, d));
            };
          };
        },
        { "../utils": 11 },
      ],
      10: [
        function (a, b, c) {
          "use strict";
          var d = {
            shimOnAddStream: function () {
              "object" != typeof window ||
                !window.RTCPeerConnection ||
                "onaddstream" in window.RTCPeerConnection.prototype ||
                Object.defineProperty(
                  window.RTCPeerConnection.prototype,
                  "onaddstream",
                  {
                    get: function () {
                      return this._onaddstream;
                    },
                    set: function (a) {
                      this._onaddstream &&
                        (this.removeEventListener(
                          "addstream",
                          this._onaddstream
                        ),
                        this.removeEventListener(
                          "track",
                          this._onaddstreampoly
                        )),
                        this.addEventListener(
                          "addstream",
                          (this._onaddstream = a)
                        ),
                        this.addEventListener(
                          "track",
                          (this._onaddstreampoly = function (a) {
                            var b = a.streams[0];
                            if (
                              (this._streams || (this._streams = []),
                              !(this._streams.indexOf(b) >= 0))
                            ) {
                              this._streams.push(b);
                              var c = new Event("addstream");
                              (c.stream = a.streams[0]), this.dispatchEvent(c);
                            }
                          }.bind(this))
                        );
                    },
                  }
                );
            },
            shimGetUserMedia: function () {
              navigator.getUserMedia ||
                (navigator.webkitGetUserMedia
                  ? (navigator.getUserMedia =
                      navigator.webkitGetUserMedia.bind(navigator))
                  : navigator.mediaDevices &&
                    navigator.mediaDevices.getUserMedia &&
                    (navigator.getUserMedia = function (a, b, c) {
                      navigator.mediaDevices.getUserMedia(a).then(b, c);
                    }.bind(navigator)));
            },
          };
          b.exports = {
            shimOnAddStream: d.shimOnAddStream,
            shimGetUserMedia: d.shimGetUserMedia,
          };
        },
        {},
      ],
      11: [
        function (a, b, c) {
          "use strict";
          var d = !0,
            e = {
              disableLog: function (a) {
                return "boolean" != typeof a
                  ? new Error(
                      "Argument type: " + typeof a + ". Please use a boolean."
                    )
                  : ((d = a),
                    a
                      ? "adapter.js logging disabled"
                      : "adapter.js logging enabled");
              },
              log: function () {
                if ("object" == typeof window) {
                  if (d) return;
                  "undefined" != typeof console &&
                    "function" == typeof console.log &&
                    console.log.apply(console, arguments);
                }
              },
              extractVersion: function (a, b, c) {
                var d = a.match(b);
                return d && d.length >= c && parseInt(d[c], 10);
              },
              detectBrowser: function () {
                var a = {};
                if (
                  ((a.browser = null),
                  (a.version = null),
                  "undefined" == typeof window || !window.navigator)
                )
                  return (a.browser = "Not a browser."), a;
                if (navigator.mozGetUserMedia)
                  (a.browser = "firefox"),
                    (a.version = this.extractVersion(
                      navigator.userAgent,
                      /Firefox\/(\d+)\./,
                      1
                    ));
                else if (navigator.webkitGetUserMedia)
                  if (window.webkitRTCPeerConnection)
                    (a.browser = "chrome"),
                      (a.version = this.extractVersion(
                        navigator.userAgent,
                        /Chrom(e|ium)\/(\d+)\./,
                        2
                      ));
                  else {
                    if (!navigator.userAgent.match(/Version\/(\d+).(\d+)/))
                      return (
                        (a.browser =
                          "Unsupported webkit-based browser with GUM support but no WebRTC support."),
                        a
                      );
                    (a.browser = "safari"),
                      (a.version = this.extractVersion(
                        navigator.userAgent,
                        /AppleWebKit\/(\d+)\./,
                        1
                      ));
                  }
                else if (
                  navigator.mediaDevices &&
                  navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)
                )
                  (a.browser = "edge"),
                    (a.version = this.extractVersion(
                      navigator.userAgent,
                      /Edge\/(\d+).(\d+)$/,
                      2
                    ));
                else {
                  if (
                    !navigator.mediaDevices ||
                    !navigator.userAgent.match(/AppleWebKit\/(\d+)\./)
                  )
                    return (a.browser = "Not a supported browser."), a;
                  (a.browser = "safari"),
                    (a.version = this.extractVersion(
                      navigator.userAgent,
                      /AppleWebKit\/(\d+)\./,
                      1
                    ));
                }
                return a;
              },
              shimCreateObjectURL: function () {
                if (
                  "object" == typeof window &&
                  window.HTMLMediaElement &&
                  "srcObject" in window.HTMLMediaElement.prototype
                ) {
                  var a = URL.createObjectURL.bind(URL),
                    b = URL.revokeObjectURL.bind(URL),
                    c = new Map(),
                    d = 0;
                  (URL.createObjectURL = function (b) {
                    if ("getTracks" in b) {
                      var e = "polyblob:" + ++d;
                      return (
                        c.set(e, b),
                        console.log(
                          "URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!"
                        ),
                        e
                      );
                    }
                    return a(b);
                  }),
                    (URL.revokeObjectURL = function (a) {
                      b(a), c["delete"](a);
                    });
                  var e = Object.getOwnPropertyDescriptor(
                    window.HTMLMediaElement.prototype,
                    "src"
                  );
                  Object.defineProperty(
                    window.HTMLMediaElement.prototype,
                    "src",
                    {
                      get: function () {
                        return e.get.apply(this);
                      },
                      set: function (a) {
                        return (
                          (this.srcObject = c.get(a) || null),
                          e.set.apply(this, [a])
                        );
                      },
                    }
                  );
                  var f = HTMLMediaElement.prototype.setAttribute;
                  HTMLMediaElement.prototype.setAttribute = function () {
                    return (
                      2 === arguments.length &&
                        "src" === ("" + arguments[0]).toLowerCase() &&
                        (this.srcObject = c.get(arguments[1]) || null),
                      f.apply(this, arguments)
                    );
                  };
                }
              },
            };
          b.exports = {
            log: e.log,
            disableLog: e.disableLog,
            browserDetails: e.detectBrowser(),
            extractVersion: e.extractVersion,
            shimCreateObjectURL: e.shimCreateObjectURL,
            detectBrowser: e.detectBrowser.bind(e),
          };
        },
        {},
      ],
    },
    {},
    [2]
  )(2);
});
define("filter_poodll/drawingboard", [
  "filter_poodll/poodll_shims",
  "drawingboard",
], function (a, b) {
  return b;
});
define("filter_poodll/drawingboard_amd", [
  "jquery",
  "core/log",
  "filter_poodll/utils_amd",
  "filter_poodll/uploader",
  "filter_poodll/drawingboard",
], function (a, b, c, d, e) {
  "use strict";
  return (
    b.debug("Filter PoodLL: drawingboard.js initialising"),
    {
      whiteboard: null,
      loaddrawingboard: function (b) {
        var c = "#amdopts_" + b.recorderid,
          f = a(c).get(0);
        if (f) {
          if (((b = JSON.parse(f.value)), b.bgimage)) var g = "transparent";
          else {
            var g = "background";
            b.bgimage = "#FFF";
          }
          (this.config = b), a(c).remove();
        }
        var h = "#" + b.recorderid + "drawing-board-id",
          i = new e.Board(b.recorderid + "_drawing-board-id", {
            recorderid: b.recorderid,
            size: 3,
            background: b.bgimage,
            controls: [
              "Color",
              { Size: { type: "auto" } },
              { DrawingMode: { filler: !1, eraser: !0, pencil: !0 } },
              "Navigation",
            ],
            droppable: !0,
            webStorage: !1,
            enlargeYourContainer: !0,
            eraserColor: g,
          });
        (this.whiteboard = i), d.init(h, b);
        var j = b.vectordata;
        j &&
          0 != j.indexOf('{"shapes"') &&
          0 != j.indexOf('{"colors"') &&
          ((i.history = Y.JSON.parse(j)),
          i.setImg(i.history.values[i.history.position - 1])),
          this.registerEvents();
      },
      registerEvents: function () {
        var b = this.config.recorderid,
          e = this,
          f = this.config;
        this.config.autosave
          ? (this.whiteboard.ev.bind("board:startDrawing", function () {
              var a = document.getElementById(b + "_messages");
              if (a) {
                a.innerHTML = "File has not been saved.";
                var d = document.getElementById(b + "_btn_upload_whiteboard");
                d.disabled = !1;
                var g = c.timeouthandles[b];
                g && clearTimeout(g),
                  (c.timeouthandles[b] = setTimeout(function () {
                    c.WhiteboardUploadHandler(b, e.whiteboard, f);
                  }, f.autosave));
              }
            }),
            this.whiteboard.ev.bind("board:stopDrawing", function () {
              var a = document.getElementById(b + "_messages");
              if (a) {
                var d = c.timeouthandles[b];
                d && clearTimeout(d),
                  (c.timeouthandles[b] = setTimeout(function () {
                    c.WhiteboardUploadHandler(b, e.whiteboard, f);
                  }, f.autosave));
              }
            }))
          : this.whiteboard.ev.bind("board:stopDrawing", function () {
              var a = document.getElementById(b + "_messages");
              a && (a.innerHTML = "File has not been saved.");
            });
        var g = "#" + f.recorderid + "_btn_upload_whiteboard",
          h = a(g);
        if (h)
          if (f.autosave)
            h.click(function () {
              c.WhiteboardUploadHandler(b, e.whiteboard, f);
            });
          else {
            var i = c.getCvs(f.recorderid, e.whiteboard, f);
            h.click(function () {
              c.pokeVectorData(f.recorderid, e.whiteboard, f),
                d.uploadFile(i.toDataURL(), "image");
            }, !1);
          }
      },
    }
  );
});
!(function (a) {
  "function" == typeof define && define.amd
    ? define("filter_poodll/jquery.flip", ["jquery"], a)
    : a(jQuery);
})(function (a) {
  var b = function (b, c) {
      b.data("flipped", !0);
      var e = "rotate" + b.data("axis");
      b.find(b.data("front")).css({
        transform: e + (b.data("reverse") ? "(-180deg)" : "(180deg)"),
        "z-index": "0",
      }),
        b.find(b.data("back")).css({ transform: e + "(0deg)", "z-index": "1" }),
        b.one(d(), function () {
          a(this).trigger("flip:done"), void 0 !== c && c.call(this);
        });
    },
    c = function (b, c) {
      b.data("flipped", !1);
      var e = "rotate" + b.data("axis");
      b.find(b.data("front")).css({ transform: e + "(0deg)", "z-index": "1" }),
        b.find(b.data("back")).css({
          transform: e + (b.data("reverse") ? "(180deg)" : "(-180deg)"),
          "z-index": "0",
        }),
        b.one(d(), function () {
          a(this).trigger("flip:done"), void 0 !== c && c.call(this);
        });
    },
    d = function () {
      var a,
        b = document.createElement("fakeelement"),
        c = {
          transition: "transitionend",
          OTransition: "oTransitionEnd",
          MozTransition: "transitionend",
          WebkitTransition: "webkitTransitionEnd",
        };
      for (a in c) if (void 0 !== b.style[a]) return c[a];
    };
  a.fn.flip = function (d, f) {
    return (
      "function" == typeof d && (f = d),
      this.each(function () {
        var g = a(this);
        if (void 0 === d || ("boolean" != typeof d && "string" != typeof d))
          if (g.data("initiated"))
            !d ||
              (void 0 === d.axis && void 0 === d.reverse) ||
              e.call(this, d, function () {
                g.trigger("flip:change"), void 0 !== f && f.call(this);
              });
          else {
            g.data("initiated", !0);
            var h = a.extend(
              {
                axis: "y",
                reverse: !1,
                trigger: "click",
                speed: 500,
                forceHeight: !1,
                forceWidth: !1,
                autoSize: !0,
                front: "auto",
                back: "auto",
              },
              d
            );
            "auto" == h.front
              ? (h.front =
                  g.find(".front").length > 0 ? ".front" : "div:first-child")
              : "autostrict" == h.front && (h.front = "div:first-child"),
              "auto" == h.back
                ? (h.back =
                    g.find(".back").length > 0
                      ? ".back"
                      : "div:first-child + div")
                : "autostrict" == h.back && (h.back = "div:first-child + div"),
              g.data("reverse", h.reverse),
              g.data("axis", h.axis),
              g.data("front", h.front),
              g.data("back", h.back);
            var i = "rotate" + ("x" == h.axis.toLowerCase() ? "x" : "y"),
              j = 2 * g["outer" + ("rotatex" == i ? "Height" : "Width")]();
            g.find(g.data("back")).css({
              transform: i + "(" + (h.reverse ? "180deg" : "-180deg") + ")",
            }),
              g.css({ perspective: j, position: "relative" });
            var k = h.speed / 1e3 || 0.5,
              l = g.find(h.front).add(h.back, g);
            if (
              (h.forceHeight
                ? l.outerHeight(g.height())
                : h.autoSize && l.css({ height: "100%" }),
              h.forceWidth
                ? l.outerWidth(g.width())
                : h.autoSize && l.css({ width: "100%" }),
              l.css({
                "backface-visibility": "hidden",
                "transform-style": "preserve-3d",
                position: "absolute",
                "z-index": "1",
              }),
              l.find("*").css({ "backface-visibility": "hidden" }),
              g.find(g.data("back")).css({
                transform: i + "(" + (h.reverse ? "180deg" : "-180deg") + ")",
                "z-index": "0",
              }),
              (window.chrome || (window.Intl && Intl.v8BreakIterator)) &&
                "CSS" in window &&
                g.css({ "-webkit-transform-style": "preserve-3d" }),
              setTimeout(function () {
                l.css({ transition: "all " + k + "s ease-out" }),
                  void 0 !== f && f.call(this);
              }, 20),
              "click" == h.trigger.toLowerCase())
            )
              g.on(a.fn.tap ? "tap.flip" : "click.flip", function (d) {
                d || (d = window.event),
                  g.find(a(d.target).closest('button, a, input[type="submit"]'))
                    .length || (g.data("flipped") ? c(g) : b(g));
              });
            else if ("hover" == h.trigger.toLowerCase()) {
              var m = function () {
                  g.off("mouseleave.flip"),
                    b(g),
                    setTimeout(function () {
                      g.on("mouseleave.flip", n), g.is(":hover") || c(g);
                    }, h.speed + 150);
                },
                n = function () {
                  c(g);
                };
              g.on("mouseenter.flip", m), g.on("mouseleave.flip", n);
            }
          }
        else "toggle" == d && (d = !g.data("flipped")), d ? b(g, f) : c(g, f);
      }),
      this
    );
  };
  var e = function (b, c) {
    var d = !1;
    if (
      (void 0 !== b.axis &&
        a(this).data("axis") != b.axis.toLowerCase() &&
        (a(this).data("axis", b.axis.toLowerCase()), (d = !0)),
      void 0 !== b.reverse &&
        a(this).data("reverse") != b.reverse &&
        (a(this).data("reverse", b.reverse), (d = !0)),
      d)
    ) {
      var e = a(this)
          .find(a(this).data("front"))
          .add(a(this).data("back"), a(this)),
        f = e.css("transition");
      e.css({ transition: "none" });
      var g = "rotate" + a(this).data("axis");
      a(this).data("flipped")
        ? a(this)
            .find(a(this).data("front"))
            .css({
              transform:
                g + (a(this).data("reverse") ? "(-180deg)" : "(180deg)"),
              "z-index": "0",
            })
        : a(this)
            .find(a(this).data("back"))
            .css({
              transform:
                g +
                "(" +
                (a(this).data("reverse") ? "180deg" : "-180deg") +
                ")",
              "z-index": "0",
            }),
        setTimeout(
          function () {
            e.css({ transition: f }), c.call(this);
          }.bind(this),
          0
        );
    } else setTimeout(c.bind(this), 0);
  };
});
!(function (a) {
  if ("object" == typeof exports && "undefined" != typeof module)
    module.exports = a();
  else if ("function" == typeof define && define.amd)
    define("filter_poodll/literallycanvas", [], a);
  else {
    var b;
    (b =
      "undefined" != typeof window
        ? window
        : "undefined" != typeof global
        ? global
        : "undefined" != typeof self
        ? self
        : this),
      (b.LC = a());
  }
})(function () {
  return (function a(b, c, d) {
    function e(g, h) {
      if (!c[g]) {
        if (!b[g]) {
          var i = "function" == typeof require && require;
          if (!h && i) return i(g, !0);
          if (f) return f(g, !0);
          var j = new Error("Cannot find module '" + g + "'");
          throw ((j.code = "MODULE_NOT_FOUND"), j);
        }
        var k = (c[g] = { exports: {} });
        b[g][0].call(
          k.exports,
          function (a) {
            var c = b[g][1][a];
            return e(c ? c : a);
          },
          k,
          k.exports,
          a,
          b,
          c,
          d
        );
      }
      return c[g].exports;
    }
    for (
      var f = "function" == typeof require && require, g = 0;
      g < d.length;
      g++
    )
      e(d[g]);
    return e;
  })(
    {
      1: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            if (a === b) return !0;
            if (
              "object" != typeof a ||
              null === a ||
              "object" != typeof b ||
              null === b
            )
              return !1;
            var c = Object.keys(a),
              d = Object.keys(b);
            if (c.length !== d.length) return !1;
            for (var f = e.bind(b), g = 0; g < c.length; g++)
              if (!f(c[g]) || a[c[g]] !== b[c[g]]) return !1;
            return !0;
          }
          var e = Object.prototype.hasOwnProperty;
          b.exports = d;
        },
        {},
      ],
      2: [
        function (a, b, c) {
          b.exports = a("react/lib/ReactComponentWithPureRenderMixin");
        },
        { "react/lib/ReactComponentWithPureRenderMixin": 3 },
      ],
      3: [
        function (a, b, c) {
          "use strict";
          var d = a("./shallowCompare"),
            e = {
              shouldComponentUpdate: function (a, b) {
                return d(this, a, b);
              },
            };
          b.exports = e;
        },
        { "./shallowCompare": 4 },
      ],
      4: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c) {
            return !e(a.props, b) || !e(a.state, c);
          }
          var e = a("fbjs/lib/shallowEqual");
          b.exports = d;
        },
        { "fbjs/lib/shallowEqual": 1 },
      ],
      5: [
        function (a, b, c) {
          var d,
            e,
            f,
            g,
            h,
            i,
            j,
            k,
            l,
            m,
            n,
            o,
            p,
            q,
            r,
            s = function (a, b) {
              return function () {
                return a.apply(b, arguments);
              };
            },
            t = [].slice,
            u =
              [].indexOf ||
              function (a) {
                for (var b = 0, c = this.length; c > b; b++)
                  if (b in this && this[b] === a) return b;
                return -1;
              };
          (h = a("./actions")),
            (i = a("./bindEvents")),
            (k = a("./math")),
            (l = a("./shapes")),
            (j = l.createShape),
            (q = l.shapeToJSON),
            (e = l.JSONToShape),
            (m = a("./canvasRenderer").renderShapeToContext),
            (n = a("./svgRenderer").renderShapeToSVG),
            (o = a("./renderSnapshotToImage")),
            (p = a("./renderSnapshotToSVG")),
            (g = a("../tools/Pencil")),
            (r = a("./util")),
            (d = "infinite"),
            (b.exports = f =
              (function () {
                function a(a, b) {
                  this.setImageSize = s(this.setImageSize, this);
                  var c, e;
                  (e = null),
                    (c = null),
                    a instanceof HTMLElement ? ((c = a), (e = b)) : (e = a),
                    (this.opts = e || {}),
                    (this.config = {
                      zoomMin: e.zoomMin || 0.2,
                      zoomMax: e.zoomMax || 4,
                      zoomStep: e.zoomStep || 0.2,
                    }),
                    (this.colors = {
                      primary: e.primaryColor || "#000",
                      secondary: e.secondaryColor || "#fff",
                      background: e.backgroundColor || "transparent",
                    }),
                    (this.watermarkImage = e.watermarkImage),
                    (this.watermarkScale = e.watermarkScale || 1),
                    (this.backgroundCanvas = document.createElement("canvas")),
                    (this.backgroundCtx =
                      this.backgroundCanvas.getContext("2d")),
                    (this.canvas = document.createElement("canvas")),
                    (this.canvas.style["background-color"] = "transparent"),
                    (this.buffer = document.createElement("canvas")),
                    (this.buffer.style["background-color"] = "transparent"),
                    (this.ctx = this.canvas.getContext("2d")),
                    (this.bufferCtx = this.buffer.getContext("2d")),
                    (this.backingScale = r.getBackingScale(this.ctx)),
                    (this.backgroundShapes = e.backgroundShapes || []),
                    (this._shapesInProgress = []),
                    (this.shapes = []),
                    (this.undoStack = []),
                    (this.redoStack = []),
                    (this.isDragging = !1),
                    (this.position = { x: 0, y: 0 }),
                    (this.scale = 1),
                    this.setTool(new this.opts.tools[0](this)),
                    (this.width = e.imageSize.width || d),
                    (this.height = e.imageSize.height || d),
                    this.setZoom(this.scale),
                    e.snapshot && this.loadSnapshot(e.snapshot),
                    (this.isBound = !1),
                    c && this.bindToElement(c),
                    (this.respondToSizeChange = function () {});
                }
                return (
                  (a.prototype.bindToElement = function (a) {
                    var b, c;
                    return this.containerEl
                      ? void console.warn(
                          "Trying to bind Literally Canvas to a DOM element more than once is unsupported."
                        )
                      : ((this.containerEl = a),
                        (this._unsubscribeEvents = i(
                          this,
                          this.containerEl,
                          this.opts.keyboardShortcuts
                        )),
                        (this.containerEl.style["background-color"] =
                          this.colors.background),
                        this.containerEl.appendChild(this.backgroundCanvas),
                        this.containerEl.appendChild(this.canvas),
                        (this.isBound = !0),
                        (c = (function (a) {
                          return function () {
                            return (
                              a.keepPanInImageBounds(), a.repaintAllLayers()
                            );
                          };
                        })(this)),
                        (this.respondToSizeChange = r.matchElementSize(
                          this.containerEl,
                          [this.backgroundCanvas, this.canvas],
                          this.backingScale,
                          c
                        )),
                        this.watermarkImage &&
                          (this.watermarkImage.onload = (function (a) {
                            return function () {
                              return a.repaintLayer("background");
                            };
                          })(this)),
                        null != (b = this.tool) && b.didBecomeActive(this),
                        c());
                  }),
                  (a.prototype._teardown = function () {
                    var a;
                    return (
                      null != (a = this.tool) && a.willBecomeInactive(this),
                      "function" == typeof this._unsubscribeEvents &&
                        this._unsubscribeEvents(),
                      (this.tool = null),
                      (this.containerEl = null),
                      (this.isBound = !1)
                    );
                  }),
                  (a.prototype.trigger = function (a, b) {
                    return (
                      this.canvas.dispatchEvent(
                        new CustomEvent(a, { detail: b })
                      ),
                      null
                    );
                  }),
                  (a.prototype.on = function (a, b) {
                    var c;
                    return (
                      (c = function (a) {
                        return b(a.detail);
                      }),
                      this.canvas.addEventListener(a, c),
                      (function (b) {
                        return function () {
                          return b.canvas.removeEventListener(a, c);
                        };
                      })(this)
                    );
                  }),
                  (a.prototype.getRenderScale = function () {
                    return this.scale * this.backingScale;
                  }),
                  (a.prototype.clientCoordsToDrawingCoords = function (a, b) {
                    return {
                      x:
                        (a * this.backingScale - this.position.x) /
                        this.getRenderScale(),
                      y:
                        (b * this.backingScale - this.position.y) /
                        this.getRenderScale(),
                    };
                  }),
                  (a.prototype.drawingCoordsToClientCoords = function (a, b) {
                    return {
                      x: a * this.getRenderScale() + this.position.x,
                      y: b * this.getRenderScale() + this.position.y,
                    };
                  }),
                  (a.prototype.setImageSize = function (a, b) {
                    return (
                      (this.width = a || d),
                      (this.height = b || d),
                      this.keepPanInImageBounds(),
                      this.repaintAllLayers(),
                      this.trigger("imageSizeChange", {
                        width: this.width,
                        height: this.height,
                      })
                    );
                  }),
                  (a.prototype.setTool = function (a) {
                    var b;
                    return (
                      this.isBound &&
                        null != (b = this.tool) &&
                        b.willBecomeInactive(this),
                      (this.tool = a),
                      this.trigger("toolChange", { tool: a }),
                      this.isBound ? this.tool.didBecomeActive(this) : void 0
                    );
                  }),
                  (a.prototype.setShapesInProgress = function (a) {
                    return (this._shapesInProgress = a);
                  }),
                  (a.prototype.pointerDown = function (a, b) {
                    var c;
                    return (
                      (c = this.clientCoordsToDrawingCoords(a, b)),
                      this.tool.usesSimpleAPI
                        ? (this.tool.begin(c.x, c.y, this),
                          (this.isDragging = !0),
                          this.trigger("drawStart", { tool: this.tool }))
                        : ((this.isDragging = !0),
                          this.trigger("lc-pointerdown", {
                            tool: this.tool,
                            x: c.x,
                            y: c.y,
                            rawX: a,
                            rawY: b,
                          }))
                    );
                  }),
                  (a.prototype.pointerMove = function (a, b) {
                    return r.requestAnimationFrame(
                      (function (c) {
                        return function () {
                          var d, e;
                          return (
                            (d = c.clientCoordsToDrawingCoords(a, b)),
                            (null != (e = c.tool) ? e.usesSimpleAPI : 0)
                              ? c.isDragging
                                ? (c.tool["continue"](d.x, d.y, c),
                                  c.trigger("drawContinue", { tool: c.tool }))
                                : void 0
                              : c.isDragging
                              ? c.trigger("lc-pointerdrag", {
                                  tool: c.tool,
                                  x: d.x,
                                  y: d.y,
                                  rawX: a,
                                  rawY: b,
                                })
                              : c.trigger("lc-pointermove", {
                                  tool: c.tool,
                                  x: d.x,
                                  y: d.y,
                                  rawX: a,
                                  rawY: b,
                                })
                          );
                        };
                      })(this)
                    );
                  }),
                  (a.prototype.pointerUp = function (a, b) {
                    var c;
                    return (
                      (c = this.clientCoordsToDrawingCoords(a, b)),
                      this.tool.usesSimpleAPI
                        ? this.isDragging
                          ? (this.tool.end(c.x, c.y, this),
                            (this.isDragging = !1),
                            this.trigger("drawEnd", { tool: this.tool }))
                          : void 0
                        : ((this.isDragging = !1),
                          this.trigger("lc-pointerup", {
                            tool: this.tool,
                            x: c.x,
                            y: c.y,
                            rawX: a,
                            rawY: b,
                          }))
                    );
                  }),
                  (a.prototype.setColor = function (a, b) {
                    if (((this.colors[a] = b), this.isBound)) {
                      switch (a) {
                        case "background":
                          (this.containerEl.style.backgroundColor =
                            this.colors.background),
                            this.repaintLayer("background");
                          break;
                        case "primary":
                          this.repaintLayer("main");
                          break;
                        case "secondary":
                          this.repaintLayer("main");
                      }
                      return (
                        this.trigger(a + "ColorChange", this.colors[a]),
                        "background" === a
                          ? this.trigger("drawingChange")
                          : void 0
                      );
                    }
                  }),
                  (a.prototype.getColor = function (a) {
                    return this.colors[a];
                  }),
                  (a.prototype.saveShape = function (a, b, c) {
                    return (
                      null == b && (b = !0),
                      null == c && (c = null),
                      c ||
                        (c = this.shapes.length
                          ? this.shapes[this.shapes.length - 1].id
                          : null),
                      this.execute(new h.AddShapeAction(this, a, c)),
                      b &&
                        this.trigger("shapeSave", {
                          shape: a,
                          previousShapeId: c,
                        }),
                      this.trigger("drawingChange")
                    );
                  }),
                  (a.prototype.pan = function (a, b) {
                    return this.setPan(
                      this.position.x - a,
                      this.position.y - b
                    );
                  }),
                  (a.prototype.keepPanInImageBounds = function () {
                    var a, b, c, e;
                    return (
                      (b = this.getRenderScale()),
                      (a = this.position),
                      (c = a.x),
                      (e = a.y),
                      this.width !== d &&
                        (c =
                          this.canvas.width > this.width * b
                            ? (this.canvas.width - this.width * b) / 2
                            : Math.max(
                                Math.min(0, c),
                                this.canvas.width - this.width * b
                              )),
                      this.height !== d &&
                        (e =
                          this.canvas.height > this.height * b
                            ? (this.canvas.height - this.height * b) / 2
                            : Math.max(
                                Math.min(0, e),
                                this.canvas.height - this.height * b
                              )),
                      (this.position = { x: c, y: e })
                    );
                  }),
                  (a.prototype.setPan = function (a, b) {
                    return (
                      (this.position = { x: a, y: b }),
                      this.keepPanInImageBounds(),
                      this.repaintAllLayers(),
                      this.trigger("pan", {
                        x: this.position.x,
                        y: this.position.y,
                      })
                    );
                  }),
                  (a.prototype.zoom = function (a) {
                    var b;
                    return (
                      (b = this.scale + a),
                      (b = Math.max(b, this.config.zoomMin)),
                      (b = Math.min(b, this.config.zoomMax)),
                      (b = Math.round(100 * b) / 100),
                      this.setZoom(b)
                    );
                  }),
                  (a.prototype.setZoom = function (a) {
                    var b;
                    return (
                      (b = this.scale),
                      (this.scale = a),
                      (this.position.x = k.scalePositionScalar(
                        this.position.x,
                        this.canvas.width,
                        b,
                        this.scale
                      )),
                      (this.position.y = k.scalePositionScalar(
                        this.position.y,
                        this.canvas.height,
                        b,
                        this.scale
                      )),
                      this.keepPanInImageBounds(),
                      this.repaintAllLayers(),
                      this.trigger("zoom", {
                        oldScale: b,
                        newScale: this.scale,
                      })
                    );
                  }),
                  (a.prototype.setWatermarkImage = function (a) {
                    return (
                      (this.watermarkImage = a),
                      r.addImageOnload(
                        a,
                        (function (a) {
                          return function () {
                            return a.repaintLayer("background");
                          };
                        })(this)
                      ),
                      a.width ? this.repaintLayer("background") : void 0
                    );
                  }),
                  (a.prototype.repaintAllLayers = function () {
                    var a, b, c, d;
                    for (
                      d = ["background", "main"], a = 0, c = d.length;
                      c > a;
                      a++
                    )
                      (b = d[a]), this.repaintLayer(b);
                    return null;
                  }),
                  (a.prototype.repaintLayer = function (a, b) {
                    var c;
                    if ((null == b && (b = "main" === a), this.isBound)) {
                      switch (a) {
                        case "background":
                          this.backgroundCtx.clearRect(
                            0,
                            0,
                            this.backgroundCanvas.width,
                            this.backgroundCanvas.height
                          ),
                            (c = (function (a) {
                              return function () {
                                return a.repaintLayer("background");
                              };
                            })(this)),
                            this.watermarkImage &&
                              this._renderWatermark(this.backgroundCtx, !0, c),
                            this.draw(
                              this.backgroundShapes,
                              this.backgroundCtx,
                              c
                            );
                          break;
                        case "main":
                          (c = (function (a) {
                            return function () {
                              return a.repaintLayer("main", !0);
                            };
                          })(this)),
                            b &&
                              ((this.buffer.width = this.canvas.width),
                              (this.buffer.height = this.canvas.height),
                              this.bufferCtx.clearRect(
                                0,
                                0,
                                this.buffer.width,
                                this.buffer.height
                              ),
                              this.draw(this.shapes, this.bufferCtx, c)),
                            this.ctx.clearRect(
                              0,
                              0,
                              this.canvas.width,
                              this.canvas.height
                            ),
                            this.canvas.width > 0 &&
                              this.canvas.height > 0 &&
                              ((this.ctx.fillStyle = "#ccc"),
                              this.ctx.fillRect(
                                0,
                                0,
                                this.canvas.width,
                                this.canvas.height
                              ),
                              this.clipped(
                                (function (a) {
                                  return function () {
                                    return (
                                      a.ctx.clearRect(
                                        0,
                                        0,
                                        a.canvas.width,
                                        a.canvas.height
                                      ),
                                      a.ctx.drawImage(a.buffer, 0, 0)
                                    );
                                  };
                                })(this),
                                this.ctx
                              ),
                              this.clipped(
                                (function (a) {
                                  return function () {
                                    return a.transformed(
                                      function () {
                                        var b, c, d, e, f;
                                        for (
                                          d = a._shapesInProgress,
                                            e = [],
                                            b = 0,
                                            c = d.length;
                                          c > b;
                                          b++
                                        )
                                          (f = d[b]),
                                            e.push(
                                              m(a.ctx, f, {
                                                bufferCtx: a.bufferCtx,
                                                shouldOnlyDrawLatest: !0,
                                              })
                                            );
                                        return e;
                                      },
                                      a.ctx,
                                      a.bufferCtx
                                    );
                                  };
                                })(this),
                                this.ctx,
                                this.bufferCtx
                              ));
                      }
                      return this.trigger("repaint", { layerKey: a });
                    }
                  }),
                  (a.prototype._renderWatermark = function (a, b, c) {
                    return (
                      null == b && (b = !0),
                      this.watermarkImage.width
                        ? (a.save(),
                          a.translate(a.canvas.width / 2, a.canvas.height / 2),
                          a.scale(this.watermarkScale, this.watermarkScale),
                          b && a.scale(this.backingScale, this.backingScale),
                          a.drawImage(
                            this.watermarkImage,
                            -this.watermarkImage.width / 2,
                            -this.watermarkImage.height / 2
                          ),
                          a.restore())
                        : void (this.watermarkImage.onload = c)
                    );
                  }),
                  (a.prototype.drawShapeInProgress = function (a) {
                    return (
                      this.repaintLayer("main", !1),
                      this.clipped(
                        (function (b) {
                          return function () {
                            return b.transformed(
                              function () {
                                return m(b.ctx, a, {
                                  bufferCtx: b.bufferCtx,
                                  shouldOnlyDrawLatest: !0,
                                });
                              },
                              b.ctx,
                              b.bufferCtx
                            );
                          };
                        })(this),
                        this.ctx,
                        this.bufferCtx
                      )
                    );
                  }),
                  (a.prototype.draw = function (a, b, c) {
                    var d;
                    if (a.length)
                      return (
                        (d = (function (d) {
                          return function () {
                            var d, e, f, g;
                            for (f = [], d = 0, e = a.length; e > d; d++)
                              (g = a[d]), f.push(m(b, g, { retryCallback: c }));
                            return f;
                          };
                        })(this)),
                        this.clipped(
                          (function (a) {
                            return function () {
                              return a.transformed(d, b);
                            };
                          })(this),
                          b
                        )
                      );
                  }),
                  (a.prototype.clipped = function () {
                    var a, b, c, e, f, g, h, i, j, k, l, m;
                    for (
                      c = arguments[0],
                        a = 2 <= arguments.length ? t.call(arguments, 1) : [],
                        l = this.width === d ? 0 : this.position.x,
                        m = this.height === d ? 0 : this.position.y,
                        k = function () {
                          switch (this.width) {
                            case d:
                              return this.canvas.width;
                            default:
                              return this.width * this.getRenderScale();
                          }
                        }.call(this),
                        e = function () {
                          switch (this.height) {
                            case d:
                              return this.canvas.height;
                            default:
                              return this.height * this.getRenderScale();
                          }
                        }.call(this),
                        f = 0,
                        h = a.length;
                      h > f;
                      f++
                    )
                      (b = a[f]),
                        b.save(),
                        b.beginPath(),
                        b.rect(l, m, k, e),
                        b.clip();
                    for (c(), j = [], g = 0, i = a.length; i > g; g++)
                      (b = a[g]), j.push(b.restore());
                    return j;
                  }),
                  (a.prototype.transformed = function () {
                    var a, b, c, d, e, f, g, h, i;
                    for (
                      c = arguments[0],
                        a = 2 <= arguments.length ? t.call(arguments, 1) : [],
                        d = 0,
                        f = a.length;
                      f > d;
                      d++
                    )
                      (b = a[d]),
                        b.save(),
                        b.translate(
                          Math.floor(this.position.x),
                          Math.floor(this.position.y)
                        ),
                        (i = this.getRenderScale()),
                        b.scale(i, i);
                    for (c(), h = [], e = 0, g = a.length; g > e; e++)
                      (b = a[e]), h.push(b.restore());
                    return h;
                  }),
                  (a.prototype.clear = function (a) {
                    var b, c;
                    return (
                      null == a && (a = !0),
                      (c = this.shapes),
                      (b = []),
                      this.setShapesInProgress([]),
                      this.execute(new h.ClearAction(this, c, b)),
                      this.repaintLayer("main"),
                      a && this.trigger("clear", null),
                      this.trigger("drawingChange", {})
                    );
                  }),
                  (a.prototype.execute = function (a) {
                    return (
                      this.undoStack.push(a), a["do"](), (this.redoStack = [])
                    );
                  }),
                  (a.prototype.undo = function () {
                    var a;
                    if (this.undoStack.length)
                      return (
                        (a = this.undoStack.pop()),
                        a.undo(),
                        this.redoStack.push(a),
                        this.trigger("undo", { action: a }),
                        this.trigger("drawingChange", {})
                      );
                  }),
                  (a.prototype.redo = function () {
                    var a;
                    if (this.redoStack.length)
                      return (
                        (a = this.redoStack.pop()),
                        this.undoStack.push(a),
                        a["do"](),
                        this.trigger("redo", { action: a }),
                        this.trigger("drawingChange", {})
                      );
                  }),
                  (a.prototype.canUndo = function () {
                    return !!this.undoStack.length;
                  }),
                  (a.prototype.canRedo = function () {
                    return !!this.redoStack.length;
                  }),
                  (a.prototype.getPixel = function (a, b) {
                    var c, d;
                    return (
                      (c = this.drawingCoordsToClientCoords(a, b)),
                      (d = this.ctx.getImageData(c.x, c.y, 1, 1).data),
                      d[3]
                        ? "rgb(" + d[0] + ", " + d[1] + ", " + d[2] + ")"
                        : null
                    );
                  }),
                  (a.prototype.getContentBounds = function () {
                    return r.getBoundingRect(
                      this.shapes
                        .concat(this.backgroundShapes)
                        .map(function (a) {
                          return a.getBoundingRect();
                        }),
                      this.width === d ? 0 : this.width,
                      this.height === d ? 0 : this.height
                    );
                  }),
                  (a.prototype.getDefaultImageRect = function (a, b) {
                    var c;
                    return (
                      null == a && (a = { width: 0, height: 0 }),
                      null == b &&
                        (b = { top: 0, right: 0, bottom: 0, left: 0 }),
                      r.getDefaultImageRect(
                        function () {
                          var a, b, d, e;
                          for (
                            d = this.shapes.concat(this.backgroundShapes),
                              e = [],
                              a = 0,
                              b = d.length;
                            b > a;
                            a++
                          )
                            (c = d[a]), e.push(c.getBoundingRect(this.ctx));
                          return e;
                        }.call(this),
                        a,
                        b
                      )
                    );
                  }),
                  (a.prototype.getImage = function (a) {
                    return (
                      null == a && (a = {}),
                      null == a.includeWatermark && (a.includeWatermark = !0),
                      null == a.scaleDownRetina && (a.scaleDownRetina = !0),
                      null == a.scale && (a.scale = 1),
                      a.scaleDownRetina || (a.scale *= this.backingScale),
                      a.includeWatermark &&
                        ((a.watermarkImage = this.watermarkImage),
                        (a.watermarkScale = this.watermarkScale),
                        a.scaleDownRetina ||
                          (a.watermarkScale *= this.backingScale)),
                      o(this.getSnapshot(), a)
                    );
                  }),
                  (a.prototype.canvasForExport = function () {
                    return (
                      this.repaintAllLayers(),
                      r.combineCanvases(this.backgroundCanvas, this.canvas)
                    );
                  }),
                  (a.prototype.canvasWithBackground = function (a) {
                    return r.combineCanvases(a, this.canvasForExport());
                  }),
                  (a.prototype.getSnapshot = function (a) {
                    var b, c, d, e, f, g;
                    for (
                      null == a && (a = null),
                        null == a &&
                          (a = [
                            "shapes",
                            "imageSize",
                            "colors",
                            "position",
                            "scale",
                            "backgroundShapes",
                          ]),
                        g = {},
                        e = ["colors", "position", "scale"],
                        b = 0,
                        d = e.length;
                      d > b;
                      b++
                    )
                      (c = e[b]), u.call(a, c) >= 0 && (g[c] = this[c]);
                    return (
                      u.call(a, "shapes") >= 0 &&
                        (g.shapes = function () {
                          var a, b, c, d;
                          for (
                            c = this.shapes, d = [], a = 0, b = c.length;
                            b > a;
                            a++
                          )
                            (f = c[a]), d.push(q(f));
                          return d;
                        }.call(this)),
                      u.call(a, "backgroundShapes") >= 0 &&
                        (g.backgroundShapes = function () {
                          var a, b, c, d;
                          for (
                            c = this.backgroundShapes,
                              d = [],
                              a = 0,
                              b = c.length;
                            b > a;
                            a++
                          )
                            (f = c[a]), d.push(q(f));
                          return d;
                        }.call(this)),
                      u.call(a, "imageSize") >= 0 &&
                        (g.imageSize = {
                          width: this.width,
                          height: this.height,
                        }),
                      g
                    );
                  }),
                  (a.prototype.getSnapshotJSON = function () {
                    return (
                      console.warn(
                        "lc.getSnapshotJSON() is deprecated. use JSON.stringify(lc.getSnapshot()) instead."
                      ),
                      JSON.stringify(this.getSnapshot())
                    );
                  }),
                  (a.prototype.getSVGString = function (a) {
                    return null == a && (a = {}), p(this.getSnapshot(), a);
                  }),
                  (a.prototype.loadSnapshot = function (a) {
                    var b, c, d, f, g, i, j, k, l, m;
                    if (a) {
                      if (a.colors)
                        for (
                          i = ["primary", "secondary", "background"],
                            b = 0,
                            f = i.length;
                          f > b;
                          b++
                        )
                          (d = i[b]), this.setColor(d, a.colors[d]);
                      if (a.shapes)
                        for (
                          this.shapes = [], j = a.shapes, c = 0, g = j.length;
                          g > c;
                          c++
                        )
                          (m = j[c]),
                            (l = e(m)),
                            l && this.execute(new h.AddShapeAction(this, l));
                      return (
                        a.backgroundShapes &&
                          (this.backgroundShapes = (function () {
                            var b, c, d, f;
                            for (
                              d = a.backgroundShapes,
                                f = [],
                                b = 0,
                                c = d.length;
                              c > b;
                              b++
                            )
                              (k = d[b]), f.push(e(k));
                            return f;
                          })()),
                        a.imageSize &&
                          ((this.width = a.imageSize.width),
                          (this.height = a.imageSize.height)),
                        a.position && (this.position = a.position),
                        a.scale && (this.scale = a.scale),
                        this.repaintAllLayers(),
                        this.trigger("snapshotLoad"),
                        this.trigger("drawingChange", {})
                      );
                    }
                  }),
                  (a.prototype.loadSnapshotJSON = function (a) {
                    return (
                      console.warn(
                        "lc.loadSnapshotJSON() is deprecated. use lc.loadSnapshot(JSON.parse(snapshot)) instead."
                      ),
                      this.loadSnapshot(JSON.parse(a))
                    );
                  }),
                  a
                );
              })());
        },
        {
          "../tools/Pencil": 48,
          "./actions": 7,
          "./bindEvents": 8,
          "./canvasRenderer": 9,
          "./math": 14,
          "./renderSnapshotToImage": 15,
          "./renderSnapshotToSVG": 16,
          "./shapes": 17,
          "./svgRenderer": 18,
          "./util": 19,
        },
      ],
      6: [
        function (a, b, c) {
          var d, e, f, g;
          a("./fontmetrics.js"),
            (g = function (a) {
              var b, c, d, e, f, g, h, i;
              for (c = a.split(" "), d = 0, f = 0, g = c.length; g > f; f++)
                (e = c[f]),
                  (h = parseInt(e.replace("px", ""), 10)),
                  isNaN(h) || (d = h);
              if (!d) throw "Font size not found";
              return (
                (i = a
                  .substring(c[0].length + 1)
                  .replace("bold ", "")
                  .replace("italic ", "")
                  .replace("underline ", "")),
                (b = i),
                { fontSize: d, fontFamily: b }
              );
            }),
            (f = function (a, b, c) {
              var d, e, f, g, h, i, j, k, l, m;
              if (!b.length) return ["", ""];
              for (e = 0, i = 0, j = 0, m = !1; ; )
                if (
                  ((e += 1),
                  (f = e >= b.length),
                  (h = !f && b[e].match(/\s/)),
                  (g = h || f),
                  (l = b.substring(0, e)),
                  (d = !c || a.measureTextWidth(l).width <= c),
                  d && (j = e),
                  g && m && ((m = !1), d && (i = e)),
                  (m = !h),
                  f || !d)
                ) {
                  if (d) return [b, ""];
                  if (i > 0) {
                    for (k = i + 1; k < b.length && b[k].match("/s/"); ) k += 1;
                    return [b.substring(0, i), b.substring(k)];
                  }
                  return [b.substring(0, j), b.substring(j)];
                }
            }),
            (e = function (a, b, c) {
              var d, e, g, h, i, j, k, l, m;
              for (
                m = b.split(/\r\n|\r|\n/g), g = [], d = 0, e = m.length;
                e > d;
                d++
              )
                if (((l = m[d]), (i = f(a, l, c)), (h = i[0]), (k = i[1]), h))
                  for (; h; )
                    g.push(h), (j = f(a, k, c)), (h = j[0]), (k = j[1]);
                else g.push(l);
              return g;
            }),
            (d = (function () {
              function a(a, b, c, d, f) {
                var h, i, j;
                (this.text = b),
                  (this.font = c),
                  (this.forcedWidth = d),
                  (this.forcedHeight = f),
                  (j = g(this.font)),
                  (h = j.fontFamily),
                  (i = j.fontSize),
                  (a.font = this.font),
                  (a.textBaseline = "baseline"),
                  (this.emDashWidth = a.measureTextWidth("—", i, h).width),
                  (this.caratWidth = a.measureTextWidth("|", i, h).width),
                  (this.lines = e(a, this.text, this.forcedWidth)),
                  (this.metricses = this.lines.map(
                    (function (b) {
                      return function (c) {
                        return a.measureText2(c || "X", i, b.font);
                      };
                    })(this)
                  )),
                  (this.metrics = {
                    ascent: Math.max.apply(
                      Math,
                      this.metricses.map(function (a) {
                        var b;
                        return (b = a.ascent);
                      })
                    ),
                    descent: Math.max.apply(
                      Math,
                      this.metricses.map(function (a) {
                        var b;
                        return (b = a.descent);
                      })
                    ),
                    fontsize: Math.max.apply(
                      Math,
                      this.metricses.map(function (a) {
                        var b;
                        return (b = a.fontsize);
                      })
                    ),
                    leading: Math.max.apply(
                      Math,
                      this.metricses.map(function (a) {
                        var b;
                        return (b = a.leading);
                      })
                    ),
                    width: Math.max.apply(
                      Math,
                      this.metricses.map(function (a) {
                        var b;
                        return (b = a.width);
                      })
                    ),
                    height: Math.max.apply(
                      Math,
                      this.metricses.map(function (a) {
                        var b;
                        return (b = a.height);
                      })
                    ),
                    bounds: {
                      minx: Math.min.apply(
                        Math,
                        this.metricses.map(function (a) {
                          var b;
                          return (b = a.bounds), b.minx;
                        })
                      ),
                      miny: Math.min.apply(
                        Math,
                        this.metricses.map(function (a) {
                          var b;
                          return (b = a.bounds), b.miny;
                        })
                      ),
                      maxx: Math.max.apply(
                        Math,
                        this.metricses.map(function (a) {
                          var b;
                          return (b = a.bounds), b.maxx;
                        })
                      ),
                      maxy: Math.max.apply(
                        Math,
                        this.metricses.map(function (a) {
                          var b;
                          return (b = a.bounds), b.maxy;
                        })
                      ),
                    },
                  }),
                  (this.boundingBoxWidth = Math.ceil(this.metrics.width));
              }
              return (
                (a.prototype.draw = function (a, b, c) {
                  var d, e, f, g, h, i;
                  for (
                    a.textBaseline = "top",
                      a.font = this.font,
                      d = 0,
                      h = this.lines,
                      i = [],
                      e = 0,
                      f = h.length;
                    f > e;
                    e++
                  )
                    (g = h[e]),
                      a.fillText(g, b, c + d * this.metrics.leading),
                      i.push((d += 1));
                  return i;
                }),
                (a.prototype.getWidth = function (a) {
                  return (
                    null == a && (a = !1),
                    this.forcedWidth
                      ? this.forcedWidth
                      : a
                      ? this.metrics.bounds.maxx + this.caratWidth
                      : this.metrics.bounds.maxx
                  );
                }),
                (a.prototype.getHeight = function () {
                  return (
                    this.forcedHeight ||
                    this.metrics.leading * this.lines.length
                  );
                }),
                a
              );
            })()),
            (b.exports = d);
        },
        { "./fontmetrics.js": 11 },
      ],
      7: [
        function (a, b, c) {
          var d, e;
          (e = (function () {
            function a(a, b, c) {
              (this.lc = a), (this.oldShapes = b), (this.newShapes = c);
            }
            return (
              (a.prototype["do"] = function () {
                return (
                  (this.lc.shapes = this.newShapes),
                  this.lc.repaintLayer("main")
                );
              }),
              (a.prototype.undo = function () {
                return (
                  (this.lc.shapes = this.oldShapes),
                  this.lc.repaintLayer("main")
                );
              }),
              a
            );
          })()),
            (d = (function () {
              function a(a, b, c) {
                (this.lc = a),
                  (this.shape = b),
                  (this.previousShapeId = null != c ? c : null);
              }
              return (
                (a.prototype["do"] = function () {
                  var a, b, c, d, e, f;
                  if (
                    this.lc.shapes.length &&
                    this.lc.shapes[this.lc.shapes.length - 1].id !==
                      this.previousShapeId &&
                    null !== this.previousShapeId
                  ) {
                    for (
                      d = [], a = !1, e = this.lc.shapes, b = 0, c = e.length;
                      c > b;
                      b++
                    )
                      (f = e[b]),
                        d.push(f),
                        f.id === this.previousShapeId &&
                          (d.push(this.shape), (a = !0));
                    a || d.push(this.shape), (this.lc.shapes = d);
                  } else this.lc.shapes.push(this.shape);
                  return this.lc.repaintLayer("main");
                }),
                (a.prototype.undo = function () {
                  var a, b, c, d, e;
                  if (
                    this.lc.shapes[this.lc.shapes.length - 1].id ===
                    this.shape.id
                  )
                    this.lc.shapes.pop();
                  else {
                    for (
                      c = [], d = this.lc.shapes, a = 0, b = d.length;
                      b > a;
                      a++
                    )
                      (e = d[a]), e.id !== this.shape.id && c.push(e);
                    lc.shapes = c;
                  }
                  return this.lc.repaintLayer("main");
                }),
                a
              );
            })()),
            (b.exports = { ClearAction: e, AddShapeAction: d });
        },
        {},
      ],
      8: [
        function (a, b, c) {
          var d, e, f, g;
          (f = function (a, b) {
            var c, d, e;
            return (
              (d = b.changedTouches[0].clientX),
              (e = b.changedTouches[0].clientY),
              (c = a.getBoundingClientRect()),
              [d - c.left, e - c.top]
            );
          }),
            (g = function (a, b) {
              var c;
              return (
                (c = a.getBoundingClientRect()),
                { left: b.clientX - c.left, top: b.clientY - c.top }
              );
            }),
            (e = function (a) {
              return null != a.buttons ? 1 === a.buttons : a.which > 0;
            }),
            (b.exports = d =
              function (a, b, c) {
                var d, e, h, i, j, k;
                return (
                  null == c && (c = !1),
                  (k = []),
                  (e = (function (c) {
                    return function (c) {
                      var d;
                      return (
                        c.preventDefault(),
                        (d = g(b, c)),
                        a.pointerMove(d.left, d.top)
                      );
                    };
                  })(this)),
                  (h = (function (c) {
                    return function (c) {
                      var d;
                      return (
                        c.preventDefault(),
                        (b.onselectstart = function () {
                          return !0;
                        }),
                        (d = g(b, c)),
                        a.pointerUp(d.left, d.top),
                        document.removeEventListener("mousemove", e),
                        document.removeEventListener("mouseup", h),
                        b.addEventListener("mousemove", e)
                      );
                    };
                  })(this)),
                  b.addEventListener(
                    "mousedown",
                    (function (c) {
                      return function (c) {
                        var d, f;
                        if ("canvas" === c.target.tagName.toLowerCase())
                          return (
                            (d = !0),
                            c.preventDefault(),
                            (b.onselectstart = function () {
                              return !1;
                            }),
                            (f = g(b, c)),
                            a.pointerDown(f.left, f.top),
                            b.removeEventListener("mousemove", e),
                            document.addEventListener("mousemove", e),
                            document.addEventListener("mouseup", h)
                          );
                      };
                    })(this)
                  ),
                  (j = function (c) {
                    return c.preventDefault(), a.pointerMove.apply(a, f(b, c));
                  }),
                  (i = function (c) {
                    return (
                      c.preventDefault(),
                      a.pointerUp.apply(a, f(b, c)),
                      document.removeEventListener("touchmove", j),
                      document.removeEventListener("touchend", i),
                      document.removeEventListener("touchcancel", i)
                    );
                  }),
                  b.addEventListener("touchstart", function (c) {
                    return "canvas" === c.target.tagName.toLowerCase()
                      ? (c.preventDefault(),
                        1 === c.touches.length
                          ? (a.pointerDown.apply(a, f(b, c)),
                            document.addEventListener("touchmove", j),
                            document.addEventListener("touchend", i),
                            document.addEventListener("touchcancel", i))
                          : a.pointerMove.apply(a, f(b, c)))
                      : void 0;
                  }),
                  c &&
                    (console.warn("Keyboard panning is deprecated."),
                    (d = function (b) {
                      switch (b.keyCode) {
                        case 37:
                          a.pan(-10, 0);
                          break;
                        case 38:
                          a.pan(0, -10);
                          break;
                        case 39:
                          a.pan(10, 0);
                          break;
                        case 40:
                          a.pan(0, 10);
                      }
                      return a.repaintAllLayers();
                    }),
                    document.addEventListener("keydown", d),
                    k.push(function () {
                      return document.removeEventListener(d);
                    })),
                  function () {
                    var a, b, c, d;
                    for (d = [], b = 0, c = k.length; c > b; b++)
                      (a = k[b]), d.push(a());
                    return d;
                  }
                );
              });
        },
        {},
      ],
      9: [
        function (a, b, c) {
          var d, e, f, g, h, i, j, k, l, m, n;
          (j = a("./lineEndCapShapes")),
            (n = {}),
            (e = function (a, b, c) {
              return (n[a] = { drawFunc: b, drawLatestFunc: c });
            }),
            (k = function () {}),
            (m = function (a, b, c) {
              var d;
              if (
                (null == c && (c = {}),
                null == c.shouldIgnoreUnsupportedShapes &&
                  (c.shouldIgnoreUnsupportedShapes = !1),
                null == c.retryCallback && (c.retryCallback = k),
                null == c.shouldOnlyDrawLatest && (c.shouldOnlyDrawLatest = !1),
                null == c.bufferCtx && (c.bufferCtx = null),
                (d = c.bufferCtx),
                n[b.className])
              )
                return c.shouldOnlyDrawLatest && n[b.className].drawLatestFunc
                  ? n[b.className].drawLatestFunc(a, d, b, c.retryCallback)
                  : n[b.className].drawFunc(a, b, c.retryCallback);
              if (c.shouldIgnoreUnsupportedShapes)
                return console.warn(
                  "Can't render shape of type " + b.className + " to canvas"
                );
              throw "Can't render shape of type " + b.className + " to canvas";
            }),
            (l = function (a, b, c) {
              return m(a.getContext("2d"), b, c);
            }),
            e("Rectangle", function (a, b) {
              var c, d;
              return (
                (c = b.x),
                (d = b.y),
                b.strokeWidth % 2 !== 0 && ((c += 0.5), (d += 0.5)),
                (a.fillStyle = b.fillColor),
                a.fillRect(c, d, b.width, b.height),
                (a.lineWidth = b.strokeWidth),
                (a.strokeStyle = b.strokeColor),
                a.strokeRect(c, d, b.width, b.height)
              );
            }),
            e("Ellipse", function (a, b) {
              var c, d, e, f;
              return (
                a.save(),
                (f = Math.floor(b.width / 2)),
                (e = Math.floor(b.height / 2)),
                (c = b.x + f),
                (d = b.y + e),
                a.translate(c, d),
                a.scale(1, Math.abs(b.height / b.width)),
                a.beginPath(),
                a.arc(0, 0, Math.abs(f), 0, 2 * Math.PI),
                a.closePath(),
                a.restore(),
                (a.fillStyle = b.fillColor),
                a.fill(),
                (a.lineWidth = b.strokeWidth),
                (a.strokeStyle = b.strokeColor),
                a.stroke()
              );
            }),
            e(
              "SelectionBox",
              (function () {
                var a;
                return (
                  (a = function (a, b, c) {
                    var d, e;
                    return (
                      (d = b.x),
                      (e = b.y),
                      0 !== c
                        ? ((a.fillStyle = "#fff"),
                          a.fillRect(d, e, c, c),
                          (a.strokeStyle = "#000"),
                          a.strokeRect(d, e, c, c))
                        : void 0
                    );
                  }),
                  function (b, c) {
                    return (
                      a(b, c.getTopLeftHandleRect(), c.handleSize),
                      a(b, c.getTopRightHandleRect(), c.handleSize),
                      a(b, c.getBottomLeftHandleRect(), c.handleSize),
                      a(b, c.getBottomRightHandleRect(), c.handleSize),
                      c.backgroundColor &&
                        ((b.fillStyle = c.backgroundColor),
                        b.fillRect(
                          c._br.x - c.margin,
                          c._br.y - c.margin,
                          c._br.width + 2 * c.margin,
                          c._br.height + 2 * c.margin
                        )),
                      (b.lineWidth = 1),
                      (b.strokeStyle = "#000"),
                      b.setLineDash([2, 4]),
                      b.strokeRect(
                        c._br.x - c.margin,
                        c._br.y - c.margin,
                        c._br.width + 2 * c.margin,
                        c._br.height + 2 * c.margin
                      ),
                      b.setLineDash([])
                    );
                  }
                );
              })()
            ),
            e("Image", function (a, b, c) {
              return b.image.width
                ? 1 === b.scale
                  ? a.drawImage(b.image, b.x, b.y)
                  : a.drawImage(
                      b.image,
                      b.x,
                      b.y,
                      b.image.width * b.scale,
                      b.image.height * b.scale
                    )
                : c
                ? (b.image.onload = c)
                : void 0;
            }),
            e("Line", function (a, b) {
              var c, d, e, f, g;
              if (b.x1 !== b.x2 || b.y1 !== b.y2)
                return (
                  (d = b.x1),
                  (e = b.x2),
                  (f = b.y1),
                  (g = b.y2),
                  b.strokeWidth % 2 !== 0 &&
                    ((d += 0.5), (e += 0.5), (f += 0.5), (g += 0.5)),
                  (a.lineWidth = b.strokeWidth),
                  (a.strokeStyle = b.color),
                  (a.lineCap = b.capStyle),
                  b.dash && a.setLineDash(b.dash),
                  a.beginPath(),
                  a.moveTo(d, f),
                  a.lineTo(e, g),
                  a.stroke(),
                  b.dash && a.setLineDash([]),
                  (c = Math.max(2.2 * b.strokeWidth, 5)),
                  b.endCapShapes[0] &&
                    j[b.endCapShapes[0]].drawToCanvas(
                      a,
                      d,
                      f,
                      Math.atan2(f - g, d - e),
                      c,
                      b.color
                    ),
                  b.endCapShapes[1]
                    ? j[b.endCapShapes[1]].drawToCanvas(
                        a,
                        e,
                        g,
                        Math.atan2(g - f, e - d),
                        c,
                        b.color
                      )
                    : void 0
                );
            }),
            (d = function (a, b, c, d) {
              var e, f, g, h;
              if (
                (null == c && (c = !1), null == d && (d = "round"), b.length)
              ) {
                for (
                  a.lineCap = d,
                    a.strokeStyle = b[0].color,
                    a.lineWidth = b[0].size,
                    a.beginPath(),
                    b[0].size % 2 === 0
                      ? a.moveTo(b[0].x, b[0].y)
                      : a.moveTo(b[0].x + 0.5, b[0].y + 0.5),
                    h = b.slice(1),
                    e = 0,
                    f = h.length;
                  f > e;
                  e++
                )
                  (g = h[e]),
                    b[0].size % 2 === 0
                      ? a.lineTo(g.x, g.y)
                      : a.lineTo(g.x + 0.5, g.y + 0.5);
                return c ? a.closePath() : void 0;
              }
            }),
            (h = function (a, b) {
              return d(a, b.smoothedPoints), a.stroke();
            }),
            (i = function (a, b, c) {
              var e, f, g;
              return c.tail
                ? ((g = c.smoothedPoints.length - c.segmentSize * c.tailSize),
                  (f = g < 2 * c.segmentSize ? 0 : g),
                  (e = g + c.segmentSize + 1),
                  d(b, c.smoothedPoints.slice(f, e)),
                  b.stroke())
                : (d(b, c.smoothedPoints), b.stroke());
            }),
            e("LinePath", h, i),
            (f = function (a, b) {
              return (
                a.save(),
                (a.globalCompositeOperation = "destination-out"),
                h(a, b),
                a.restore()
              );
            }),
            (g = function (a, b, c) {
              return (
                a.save(),
                (a.globalCompositeOperation = "destination-out"),
                b.save(),
                (b.globalCompositeOperation = "destination-out"),
                i(a, b, c),
                a.restore(),
                b.restore()
              );
            }),
            e("ErasedLinePath", f, g),
            e("Text", function (a, b) {
              return (
                b.renderer || b._makeRenderer(a),
                (a.fillStyle = b.color),
                b.renderer.draw(a, b.x, b.y)
              );
            }),
            e("Polygon", function (a, b) {
              return (
                (a.fillStyle = b.fillColor),
                d(a, b.points, b.isClosed, "butt"),
                a.fill(),
                a.stroke()
              );
            }),
            (b.exports = {
              defineCanvasRenderer: e,
              renderShapeToCanvas: l,
              renderShapeToContext: m,
            });
        },
        { "./lineEndCapShapes": 12 },
      ],
      10: [
        function (a, b, c) {
          "use strict";
          b.exports = {
            imageURLPrefix: "lib/img",
            primaryColor: "hsla(0, 0%, 0%, 1)",
            secondaryColor: "hsla(0, 0%, 100%, 1)",
            backgroundColor: "transparent",
            strokeWidths: [1, 2, 5, 10, 20, 30],
            defaultStrokeWidth: 5,
            toolbarPosition: "top",
            keyboardShortcuts: !1,
            imageSize: { width: "infinite", height: "infinite" },
            backgroundShapes: [],
            watermarkImage: null,
            watermarkScale: 1,
            zoomMin: 0.2,
            zoomMax: 4,
            zoomStep: 0.2,
            snapshot: null,
            onInit: function () {},
            tools: [
              a("../tools/Pencil"),
              a("../tools/Eraser"),
              a("../tools/Line"),
              a("../tools/Rectangle"),
              a("../tools/Ellipse"),
              a("../tools/Text"),
              a("../tools/Polygon"),
              a("../tools/Pan"),
              a("../tools/Eyedropper"),
            ],
          };
        },
        {
          "../tools/Ellipse": 43,
          "../tools/Eraser": 44,
          "../tools/Eyedropper": 45,
          "../tools/Line": 46,
          "../tools/Pan": 47,
          "../tools/Pencil": 48,
          "../tools/Polygon": 49,
          "../tools/Rectangle": 50,
          "../tools/Text": 52,
        },
      ],
      11: [
        function (a, b, c) {
          "use strict";
          !(function () {
            if (!document.defaultView.getComputedStyle)
              throw "ERROR: 'document.defaultView.getComputedStyle' not found. This library only works in browsers that can report computed CSS values.";
            CanvasRenderingContext2D.prototype.measureTextWidth =
              CanvasRenderingContext2D.prototype.measureText;
            var a = function (a, b) {
              return document.defaultView
                .getComputedStyle(a, null)
                .getPropertyValue(b);
            };
            CanvasRenderingContext2D.prototype.measureText2 = function (
              b,
              c,
              d
            ) {
              var e = this.measureTextWidth(b),
                f = !/\S/.test(b);
              e.fontsize = c;
              var g = document.createElement("div");
              (g.style.position = "absolute"),
                (g.style.opacity = 0),
                (g.style.font = d),
                (g.innerHTML = b + "<br/>" + b),
                document.body.appendChild(g),
                (e.leading = 1.2 * c);
              var h = a(g, "height");
              if (
                ((h = h.replace("px", "")),
                h >= 2 * c && (e.leading = (h / 2) | 0),
                document.body.removeChild(g),
                f)
              )
                (e.ascent = 0),
                  (e.descent = 0),
                  (e.bounds = { minx: 0, maxx: e.width, miny: 0, maxy: 0 }),
                  (e.height = 0);
              else {
                var i = document.createElement("canvas"),
                  j = 100;
                (i.width = e.width + j),
                  (i.height = 3 * c),
                  (i.style.opacity = 1),
                  (i.style.font = d);
                var k = i.getContext("2d");
                k.font = d;
                var l = i.width,
                  m = i.height,
                  n = m / 2;
                (k.fillStyle = "white"),
                  k.fillRect(-1, -1, l + 2, m + 2),
                  (k.fillStyle = "black"),
                  k.fillText(b, j / 2, n);
                for (
                  var o = k.getImageData(0, 0, l, m).data,
                    p = 0,
                    q = 4 * l,
                    r = o.length;
                  ++p < r && 255 === o[p];

                );
                var s = (p / q) | 0;
                for (p = r - 1; --p > 0 && 255 === o[p]; );
                var t = (p / q) | 0;
                for (p = 0; r > p && 255 === o[p]; )
                  (p += q), p >= r && (p = p - r + 4);
                var u = ((p % q) / 4) | 0,
                  v = 1;
                for (p = r - 3; p >= 0 && 255 === o[p]; )
                  (p -= q), 0 > p && (p = r - 3 - 4 * v++);
                var w = ((p % q) / 4 + 1) | 0;
                (e.ascent = n - s),
                  (e.descent = t - n),
                  (e.bounds = {
                    minx: u - j / 2,
                    maxx: w - j / 2,
                    miny: 0,
                    maxy: t - s,
                  }),
                  (e.height = 1 + (t - s));
              }
              return e;
            };
          })();
        },
        {},
      ],
      12: [
        function (a, b, c) {
          b.exports = {
            arrow: (function () {
              var a;
              return (
                (a = function (a, b, c, d, e) {
                  return [
                    {
                      x: a + (Math.cos(c + Math.PI / 2) * d) / 2,
                      y: b + (Math.sin(c + Math.PI / 2) * d) / 2,
                    },
                    { x: a + Math.cos(c) * e, y: b + Math.sin(c) * e },
                    {
                      x: a + (Math.cos(c - Math.PI / 2) * d) / 2,
                      y: b + (Math.sin(c - Math.PI / 2) * d) / 2,
                    },
                  ];
                }),
                {
                  drawToCanvas: function (b, c, d, e, f, g, h) {
                    var i;
                    return (
                      null == h && (h = 0),
                      (h = h || f),
                      (b.fillStyle = g),
                      (b.lineWidth = 0),
                      (b.strokeStyle = "transparent"),
                      b.beginPath(),
                      (i = a(c, d, e, f, h)),
                      b.moveTo(i[0].x, i[0].y),
                      b.lineTo(i[1].x, i[1].y),
                      b.lineTo(i[2].x, i[2].y),
                      b.fill()
                    );
                  },
                  svg: function (b, c, d, e, f, g) {
                    var h;
                    return (
                      null == g && (g = 0),
                      (g = g || e),
                      (h = a(b, c, d, e, g)),
                      "<polygon fill='" +
                        f +
                        "' stroke='none' points='" +
                        h.map(function (a) {
                          return a.x + "," + a.y;
                        }) +
                        "' />"
                    );
                  },
                }
              );
            })(),
          };
        },
        {},
      ],
      13: [
        function (a, b, c) {
          var d, e, f;
          (f = {}),
            (e = function (a) {
              return (f = a);
            }),
            (d = function (a) {
              var b;
              return (b = f[a]), b || a;
            }),
            (b.exports = { localize: e, _: d });
        },
        {},
      ],
      14: [
        function (a, b, c) {
          var d, e, f, g, h, i;
          (d = a("./shapes").Point),
            (i = a("./util")),
            (f = {}),
            (f.toPoly = function (a) {
              var b, c, d, f, h, i, j;
              for (i = [], j = [], c = 0, b = 0, d = a.length; d > b; b++)
                (h = a[b]),
                  (f = g(h, e(a, c))),
                  (i = i.concat([f[0]])),
                  (j = [f[1]].concat(j)),
                  (c += 1);
              return i.concat(j);
            }),
            (e = function (a, b) {
              var c;
              return (
                a.length < 3 && (c = { x: 0, y: 0 }),
                (c =
                  0 === b
                    ? e(a, b + 1)
                    : b === a.length - 1
                    ? e(a, b - 1)
                    : f.diff(a[b - 1], a[b + 1]))
              );
            }),
            (f.diff = function (a, b) {
              return { x: b.x - a.x, y: b.y - a.y };
            }),
            (h = function (a) {
              var b;
              return (b = f.len(a)), { x: a.x / b, y: a.y / b };
            }),
            (g = function (a, b) {
              return (
                (b = h(b)),
                (b.x = (b.x * a.size) / 2),
                (b.y = (b.y * a.size) / 2),
                [
                  { x: a.x - b.y, y: a.y + b.x, color: a.color },
                  { x: a.x + b.y, y: a.y - b.x, color: a.color },
                ]
              );
            }),
            (f.len = function (a) {
              return Math.sqrt(Math.pow(a.x, 2) + Math.pow(a.y, 2));
            }),
            (f.scalePositionScalar = function (a, b, c, d) {
              var e, f;
              return (f = b * c), (e = b * d), a + (f - e) / 2;
            }),
            (b.exports = f);
        },
        { "./shapes": 17, "./util": 19 },
      ],
      15: [
        function (a, b, c) {
          var d, e, f, g;
          (g = a("./util")),
            (e = a("./shapes").JSONToShape),
            (d = "infinite"),
            (f = function (a, b, c) {
              return b.width
                ? (a.save(),
                  a.translate(a.canvas.width / 2, a.canvas.height / 2),
                  a.scale(c, c),
                  a.drawImage(b, -b.width / 2, -b.height / 2),
                  a.restore())
                : void 0;
            }),
            (b.exports = function (a, b) {
              var c, h, i, j, k, l, m, n;
              return (
                null == b && (b = {}),
                null == b.scale && (b.scale = 1),
                (l = (function () {
                  var b, c, d, f;
                  for (d = a.shapes, f = [], b = 0, c = d.length; c > b; b++)
                    (k = d[b]), f.push(e(k));
                  return f;
                })()),
                (h = []),
                a.backgroundShapes &&
                  (h = (function () {
                    var b, c, d, f;
                    for (
                      d = a.backgroundShapes, f = [], b = 0, c = d.length;
                      c > b;
                      b++
                    )
                      (k = d[b]), f.push(e(k));
                    return f;
                  })()),
                null == b.margin &&
                  (b.margin = { top: 0, right: 0, bottom: 0, left: 0 }),
                (j = a.imageSize || { width: d, height: d }),
                (i = a.colors || { background: "transparent" }),
                (c = l.concat(h)),
                (m = document.createElement("canvas")),
                (n = m.getContext("2d")),
                b.rect
                  ? ((b.rect.x -= b.margin.left),
                    (b.rect.y -= b.margin.top),
                    (b.rect.width += b.margin.left + b.margin.right),
                    (b.rect.height += b.margin.top + b.margin.bottom))
                  : (b.rect = g.getDefaultImageRect(
                      (function () {
                        var a, b, d;
                        for (d = [], a = 0, b = c.length; b > a; a++)
                          (k = c[a]), d.push(k.getBoundingRect(n));
                        return d;
                      })(),
                      j,
                      b.margin
                    )),
                (m.width = b.rect.width * b.scale),
                (m.height = b.rect.height * b.scale),
                (n.fillStyle = i.background),
                n.fillRect(0, 0, m.width, m.height),
                b.rect.width && b.rect.height
                  ? (b.watermarkImage &&
                      f(n, b.watermarkImage, b.watermarkScale),
                    g.combineCanvases(
                      m,
                      g.renderShapes(h, b.rect, b.scale),
                      g.renderShapes(l, b.rect, b.scale)
                    ))
                  : null
              );
            });
        },
        { "./shapes": 17, "./util": 19 },
      ],
      16: [
        function (a, b, c) {
          var d, e, f;
          (f = a("./util")),
            (e = a("./shapes").JSONToShape),
            (d = "infinite"),
            (b.exports = function (a, b) {
              var c, g, h, i, j, k, l, m;
              return (
                null == b && (b = {}),
                (m = (function () {
                  var b, c, d, f;
                  for (d = a.shapes, f = [], b = 0, c = d.length; c > b; b++)
                    (l = d[b]), f.push(e(l));
                  return f;
                })()),
                (g = []),
                a.backgroundShapes &&
                  (g = (function () {
                    var b, c, d, f;
                    for (
                      d = a.backgroundShapes, f = [], b = 0, c = d.length;
                      c > b;
                      b++
                    )
                      (l = d[b]), f.push(e(l));
                    return f;
                  })()),
                null == b.margin &&
                  (b.margin = { top: 0, right: 0, bottom: 0, left: 0 }),
                (k = a.imageSize || { width: d, height: d }),
                (h = a.colors || { background: "transparent" }),
                (c = m.concat(g)),
                (j = document.createElement("canvas")),
                (i = j.getContext("2d")),
                b.rect
                  ? ((b.rect.x -= b.margin.left),
                    (b.rect.y -= b.margin.top),
                    (b.rect.width += b.margin.left + b.margin.right),
                    (b.rect.height += b.margin.top + b.margin.bottom))
                  : (b.rect = f.getDefaultImageRect(
                      (function () {
                        var a, b, d;
                        for (d = [], a = 0, b = c.length; b > a; a++)
                          (l = c[a]), d.push(l.getBoundingRect(i));
                        return d;
                      })(),
                      k,
                      b.margin
                    )),
                LC.renderShapesToSVG(g.concat(m), b.rect, h.background)
              );
            });
        },
        { "./shapes": 17, "./util": 19 },
      ],
      17: [
        function (a, b, c) {
          var d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y;
          (y = a("./util")),
            (f = a("./TextRenderer")),
            (q = a("./lineEndCapShapes")),
            (s = a("./canvasRenderer")),
            (n = s.defineCanvasRenderer),
            (u = s.renderShapeToContext),
            (t = a("./svgRenderer")),
            (o = t.defineSVGRenderer),
            (v = t.renderShapeToSVG),
            (x = {}),
            (p = function (a, b) {
              var c, d, e, f, g, h, i, j;
              (c = function (a, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) {
                return (
                  b.constructor.call(
                    this,
                    a,
                    c,
                    d,
                    e,
                    f,
                    g,
                    h,
                    i,
                    j,
                    k,
                    l,
                    m,
                    n,
                    o,
                    p,
                    q
                  ),
                  this
                );
              }),
                (c.prototype.className = a),
                (c.fromJSON = b.fromJSON),
                b.draw &&
                  ((g = b.draw),
                  (h =
                    b.draw ||
                    function (a, b, c) {
                      return this.draw(a, b, c);
                    }),
                  (d = function (a, b, c) {
                    return g.call(b, a, c);
                  }),
                  (e = function (a, b, c, d) {
                    return h.call(c, a, b, d);
                  }),
                  delete b.draw,
                  b.drawLatest && delete b.drawLatest,
                  n(a, d, e)),
                b.toSVG &&
                  ((i = b.toSVG),
                  (j = function (a) {
                    return i.call(a);
                  }),
                  delete b.toSVG,
                  o(a, j)),
                (c.prototype.draw = function (a, b) {
                  return u(a, this, { retryCallback: b });
                }),
                (c.prototype.drawLatest = function (a, b, c) {
                  return u(a, this, {
                    retryCallback: c,
                    bufferCtx: b,
                    shouldOnlyDrawLatest: !0,
                  });
                }),
                (c.prototype.toSVG = function () {
                  return v(this);
                });
              for (f in b) "fromJSON" !== f && (c.prototype[f] = b[f]);
              return (x[a] = c), c;
            }),
            (m = function (a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) {
              var r;
              return (
                (r = new x[a](b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q)),
                (r.id = y.getGUID()),
                r
              );
            }),
            (d = function (a) {
              var b, c, d, e;
              return (
                (b = a.className),
                (c = a.data),
                (d = a.id),
                b in x
                  ? ((e = x[b].fromJSON(c)),
                    e
                      ? (d && (e.id = d), e)
                      : (console.log("Unreadable shape:", b, c), null))
                  : (console.log("Unknown shape:", b, c), null)
              );
            }),
            (w = function (a) {
              return { className: a.className, data: a.toJSON(), id: a.id };
            }),
            (l = function (a, b) {
              return b ? l(i(i(k(a))), b - 1) : a;
            }),
            (k = function (a) {
              var b, c, d, e, f;
              for (
                a = [a[0]].concat(a).concat(y.last(a)),
                  f = [],
                  b = 0,
                  e = 0,
                  c = a.length;
                c > e;
                e++
              )
                (d = a[e]),
                  (f[2 * b] = d),
                  a[b + 1] && (f[2 * b + 1] = j(d, a[b + 1])),
                  (b += 1);
              return f;
            }),
            (i = function (a) {
              var b, c, d, e, f;
              for (b = [], c = 0, f = 0, d = a.length; d > f; f++)
                (e = a[f]), a[c + 1] && (b[c] = j(e, a[c + 1])), (c += 1);
              return b;
            }),
            (j = function (a, b) {
              return m("Point", {
                x: a.x + (b.x - a.x) / 2,
                y: a.y + (b.y - a.y) / 2,
                size: a.size + (b.size - a.size) / 2,
                color: a.color,
              });
            }),
            p("Image", {
              constructor: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x = a.x || 0),
                  (this.y = a.y || 0),
                  (this.scale = a.scale || 1),
                  (this.image = a.image || null)
                );
              },
              getBoundingRect: function () {
                return {
                  x: this.x,
                  y: this.y,
                  width: this.image.width * this.scale,
                  height: this.image.height * this.scale,
                };
              },
              toJSON: function () {
                return {
                  x: this.x,
                  y: this.y,
                  imageSrc: this.image.src,
                  imageObject: this.image,
                  scale: this.scale,
                };
              },
              fromJSON: function (a) {
                var b, c;
                return (
                  (b = null),
                  (null != (c = a.imageObject) ? c.width : void 0)
                    ? (b = a.imageObject)
                    : ((b = new Image()), (b.src = a.imageSrc)),
                  m("Image", { x: a.x, y: a.y, image: b, scale: a.scale })
                );
              },
              move: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x = this.x - a.xDiff),
                  (this.y = this.y - a.yDiff)
                );
              },
              setUpperLeft: function (a) {
                return null == a && (a = {}), (this.x = a.x), (this.y = a.y);
              },
            }),
            p("Rectangle", {
              constructor: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x = a.x || 0),
                  (this.y = a.y || 0),
                  (this.width = a.width || 0),
                  (this.height = a.height || 0),
                  (this.strokeWidth = a.strokeWidth || 1),
                  (this.strokeColor = a.strokeColor || "black"),
                  (this.fillColor = a.fillColor || "transparent")
                );
              },
              getBoundingRect: function () {
                return {
                  x: this.x - this.strokeWidth / 2,
                  y: this.y - this.strokeWidth / 2,
                  width: this.width + this.strokeWidth,
                  height: this.height + this.strokeWidth,
                };
              },
              toJSON: function () {
                return {
                  x: this.x,
                  y: this.y,
                  width: this.width,
                  height: this.height,
                  strokeWidth: this.strokeWidth,
                  strokeColor: this.strokeColor,
                  fillColor: this.fillColor,
                };
              },
              fromJSON: function (a) {
                return m("Rectangle", a);
              },
              move: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x = this.x - a.xDiff),
                  (this.y = this.y - a.yDiff)
                );
              },
              setUpperLeft: function (a) {
                return null == a && (a = {}), (this.x = a.x), (this.y = a.y);
              },
            }),
            p("Ellipse", {
              constructor: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x = a.x || 0),
                  (this.y = a.y || 0),
                  (this.width = a.width || 0),
                  (this.height = a.height || 0),
                  (this.strokeWidth = a.strokeWidth || 1),
                  (this.strokeColor = a.strokeColor || "black"),
                  (this.fillColor = a.fillColor || "transparent")
                );
              },
              getBoundingRect: function () {
                return {
                  x: this.x - this.strokeWidth / 2,
                  y: this.y - this.strokeWidth / 2,
                  width: this.width + this.strokeWidth,
                  height: this.height + this.strokeWidth,
                };
              },
              toJSON: function () {
                return {
                  x: this.x,
                  y: this.y,
                  width: this.width,
                  height: this.height,
                  strokeWidth: this.strokeWidth,
                  strokeColor: this.strokeColor,
                  fillColor: this.fillColor,
                };
              },
              fromJSON: function (a) {
                return m("Ellipse", a);
              },
              move: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x = this.x - a.xDiff),
                  (this.y = this.y - a.yDiff)
                );
              },
              setUpperLeft: function (a) {
                return null == a && (a = {}), (this.x = a.x), (this.y = a.y);
              },
            }),
            p("Line", {
              constructor: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x1 = a.x1 || 0),
                  (this.y1 = a.y1 || 0),
                  (this.x2 = a.x2 || 0),
                  (this.y2 = a.y2 || 0),
                  (this.strokeWidth = a.strokeWidth || 1),
                  (this.color = a.color || "black"),
                  (this.capStyle = a.capStyle || "round"),
                  (this.endCapShapes = a.endCapShapes || [null, null]),
                  (this.dash = a.dash || null)
                );
              },
              getBoundingRect: function () {
                return {
                  x: Math.min(this.x1, this.x2) - this.strokeWidth / 2,
                  y: Math.min(this.y1, this.y2) - this.strokeWidth / 2,
                  width: Math.abs(this.x2 - this.x1) + this.strokeWidth / 2,
                  height: Math.abs(this.y2 - this.y1) + this.strokeWidth / 2,
                };
              },
              toJSON: function () {
                return {
                  x1: this.x1,
                  y1: this.y1,
                  x2: this.x2,
                  y2: this.y2,
                  strokeWidth: this.strokeWidth,
                  color: this.color,
                  capStyle: this.capStyle,
                  dash: this.dash,
                  endCapShapes: this.endCapShapes,
                };
              },
              fromJSON: function (a) {
                return m("Line", a);
              },
              move: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x1 = this.x1 - a.xDiff),
                  (this.y1 = this.y1 - a.yDiff),
                  (this.x2 = this.x2 - a.xDiff),
                  (this.y2 = this.y2 - a.yDiff)
                );
              },
              setUpperLeft: function (a) {
                var b, c, d;
                return (
                  null == a && (a = {}),
                  (b = this.getBoundingRect()),
                  (c = b.x - a.x),
                  (d = b.y - a.y),
                  this.move({ xDiff: c, yDiff: d })
                );
              },
            }),
            (h = function (a) {
              var b, c, d, e, f;
              if (!a.length) return !1;
              for (
                f = a[0].size, b = a[0].color, e = 0, c = a.length;
                c > e;
                e++
              )
                if (
                  ((d = a[e]),
                  (d.size === f && d.color === b) ||
                    console.log(f, b, d.size, d.color),
                  d.size !== f || d.color !== b)
                )
                  return !1;
              return !0;
            }),
            (g = function (a, b) {
              var c, e, f, g, h;
              return (
                (e = null),
                b.points
                  ? (e = (function () {
                      var a, e, f, g;
                      for (
                        f = b.points, g = [], e = 0, a = f.length;
                        a > e;
                        e++
                      )
                        (c = f[e]), g.push(d(c));
                      return g;
                    })())
                  : b.pointCoordinatePairs &&
                    (e = (function () {
                      var a, c, e, f, i;
                      for (
                        e = b.pointCoordinatePairs, i = [], c = 0, a = e.length;
                        a > c;
                        c++
                      )
                        (f = e[c]),
                          (g = f[0]),
                          (h = f[1]),
                          i.push(
                            d({
                              className: "Point",
                              data: {
                                x: g,
                                y: h,
                                size: b.pointSize,
                                color: b.pointColor,
                                smooth: b.smooth,
                              },
                            })
                          );
                      return i;
                    })()),
                (f = null),
                b.smoothedPointCoordinatePairs &&
                  (f = (function () {
                    var a, c, e, f, i;
                    for (
                      e = b.smoothedPointCoordinatePairs,
                        i = [],
                        c = 0,
                        a = e.length;
                      a > c;
                      c++
                    )
                      (f = e[c]),
                        (g = f[0]),
                        (h = f[1]),
                        i.push(
                          d({
                            className: "Point",
                            data: {
                              x: g,
                              y: h,
                              size: b.pointSize,
                              color: b.pointColor,
                              smooth: b.smooth,
                            },
                          })
                        );
                    return i;
                  })()),
                e[0]
                  ? m(a, {
                      points: e,
                      smoothedPoints: f,
                      order: b.order,
                      tailSize: b.tailSize,
                      smooth: b.smooth,
                    })
                  : null
              );
            }),
            (r = {
              constructor: function (a) {
                var b, c, d, e, f;
                if (
                  (null == a && (a = {}),
                  (d = a.points || []),
                  (this.order = a.order || 3),
                  (this.tailSize = a.tailSize || 3),
                  (this.smooth = !("smooth" in a) || a.smooth),
                  (this.segmentSize = Math.pow(2, this.order)),
                  (this.sampleSize = this.tailSize + 1),
                  a.smoothedPoints)
                )
                  return (
                    (this.points = a.points),
                    (this.smoothedPoints = a.smoothedPoints)
                  );
                for (this.points = [], f = [], e = 0, b = d.length; b > e; e++)
                  (c = d[e]), f.push(this.addPoint(c));
                return f;
              },
              getBoundingRect: function () {
                return y.getBoundingRect(
                  this.points.map(function (a) {
                    return {
                      x: a.x - a.size / 2,
                      y: a.y - a.size / 2,
                      width: a.size,
                      height: a.size,
                    };
                  })
                );
              },
              toJSON: function () {
                var a, b;
                return h(this.points)
                  ? {
                      order: this.order,
                      tailSize: this.tailSize,
                      smooth: this.smooth,
                      pointCoordinatePairs: function () {
                        var a, c, d, e;
                        for (
                          d = this.points, e = [], c = 0, a = d.length;
                          a > c;
                          c++
                        )
                          (b = d[c]), e.push([b.x, b.y]);
                        return e;
                      }.call(this),
                      smoothedPointCoordinatePairs: function () {
                        var a, c, d, e;
                        for (
                          d = this.smoothedPoints, e = [], c = 0, a = d.length;
                          a > c;
                          c++
                        )
                          (b = d[c]), e.push([b.x, b.y]);
                        return e;
                      }.call(this),
                      pointSize: this.points[0].size,
                      pointColor: this.points[0].color,
                    }
                  : {
                      order: this.order,
                      tailSize: this.tailSize,
                      smooth: this.smooth,
                      points: function () {
                        var b, c, d, e;
                        for (
                          d = this.points, e = [], c = 0, b = d.length;
                          b > c;
                          c++
                        )
                          (a = d[c]), e.push(w(a));
                        return e;
                      }.call(this),
                    };
              },
              fromJSON: function (a) {
                return g("LinePath", a);
              },
              addPoint: function (a) {
                return (
                  this.points.push(a),
                  this.smooth
                    ? !this.smoothedPoints ||
                      this.points.length < this.sampleSize
                      ? (this.smoothedPoints = l(this.points, this.order))
                      : ((this.tail = y.last(
                          l(y.last(this.points, this.sampleSize), this.order),
                          this.segmentSize * this.tailSize
                        )),
                        (this.smoothedPoints = this.smoothedPoints
                          .slice(
                            0,
                            this.smoothedPoints.length -
                              this.segmentSize * (this.tailSize - 1)
                          )
                          .concat(this.tail)))
                    : void (this.smoothedPoints = this.points)
                );
              },
              move: function (a) {
                var b, c, d, e;
                for (
                  null == a && (a = {}),
                    d = this.smooth ? this.smoothedPoints : this.points,
                    e = 0,
                    b = d.length;
                  b > e;
                  e++
                )
                  (c = d[e]), c.move(a);
                return (this.points = this.smoothedPoints);
              },
              setUpperLeft: function (a) {
                var b, c, d;
                return (
                  null == a && (a = {}),
                  (b = this.getBoundingRect()),
                  (c = b.x - a.x),
                  (d = b.y - a.y),
                  this.move({ xDiff: c, yDiff: d })
                );
              },
            }),
            (e = p("LinePath", r)),
            p("ErasedLinePath", {
              constructor: r.constructor,
              toJSON: r.toJSON,
              addPoint: r.addPoint,
              getBoundingRect: r.getBoundingRect,
              fromJSON: function (a) {
                return g("ErasedLinePath", a);
              },
            }),
            p("Point", {
              constructor: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x = a.x || 0),
                  (this.y = a.y || 0),
                  (this.size = a.size || 0),
                  (this.color = a.color || "")
                );
              },
              getBoundingRect: function () {
                return {
                  x: this.x - this.size / 2,
                  y: this.y - this.size / 2,
                  width: this.size,
                  height: this.size,
                };
              },
              toJSON: function () {
                return {
                  x: this.x,
                  y: this.y,
                  size: this.size,
                  color: this.color,
                };
              },
              fromJSON: function (a) {
                return m("Point", a);
              },
              move: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x = this.x - a.xDiff),
                  (this.y = this.y - a.yDiff)
                );
              },
              setUpperLeft: function (a) {
                return null == a && (a = {}), (this.x = a.x), (this.y = a.y);
              },
            }),
            p("Polygon", {
              constructor: function (a) {
                var b, c, d, e, f;
                for (
                  null == a && (a = {}),
                    this.points = a.points,
                    this.fillColor = a.fillColor || "white",
                    this.strokeColor = a.strokeColor || "black",
                    this.strokeWidth = a.strokeWidth,
                    this.dash = a.dash || null,
                    null == a.isClosed && (a.isClosed = !0),
                    this.isClosed = a.isClosed,
                    e = this.points,
                    f = [],
                    d = 0,
                    b = e.length;
                  b > d;
                  d++
                )
                  (c = e[d]),
                    (c.color = this.strokeColor),
                    f.push((c.size = this.strokeWidth));
                return f;
              },
              addPoint: function (a, b) {
                return this.points.push(
                  LC.createShape("Point", { x: a, y: b })
                );
              },
              getBoundingRect: function () {
                return y.getBoundingRect(
                  this.points.map(function (a) {
                    return a.getBoundingRect();
                  })
                );
              },
              toJSON: function () {
                return {
                  strokeWidth: this.strokeWidth,
                  fillColor: this.fillColor,
                  strokeColor: this.strokeColor,
                  dash: this.dash,
                  isClosed: this.isClosed,
                  pointCoordinatePairs: this.points.map(function (a) {
                    return [a.x, a.y];
                  }),
                };
              },
              fromJSON: function (a) {
                return (
                  (a.points = a.pointCoordinatePairs.map(function (b) {
                    var c, d;
                    return (
                      (c = b[0]),
                      (d = b[1]),
                      m("Point", {
                        x: c,
                        y: d,
                        size: a.strokeWidth,
                        color: a.strokeColor,
                      })
                    );
                  })),
                  m("Polygon", a)
                );
              },
              move: function (a) {
                var b, c, d, e, f;
                for (
                  null == a && (a = {}),
                    e = this.points,
                    f = [],
                    d = 0,
                    b = e.length;
                  b > d;
                  d++
                )
                  (c = e[d]), f.push(c.move(a));
                return f;
              },
              setUpperLeft: function (a) {
                var b, c, d;
                return (
                  null == a && (a = {}),
                  (b = this.getBoundingRect()),
                  (c = b.x - a.x),
                  (d = b.y - a.y),
                  this.move({ xDiff: c, yDiff: d })
                );
              },
            }),
            p("Text", {
              constructor: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x = a.x || 0),
                  (this.y = a.y || 0),
                  (this.v = a.v || 0),
                  (this.text = a.text || ""),
                  (this.color = a.color || "black"),
                  (this.font = a.font || "18px sans-serif"),
                  (this.forcedWidth = a.forcedWidth || null),
                  (this.forcedHeight = a.forcedHeight || null)
                );
              },
              _makeRenderer: function (a) {
                return (
                  (a.lineHeight = 1.2),
                  (this.renderer = new f(
                    a,
                    this.text,
                    this.font,
                    this.forcedWidth,
                    this.forcedHeight
                  )),
                  this.v < 1
                    ? (console.log("repairing baseline"),
                      (this.v = 1),
                      (this.x -= this.renderer.metrics.bounds.minx),
                      (this.y -=
                        this.renderer.metrics.leading -
                        this.renderer.metrics.descent))
                    : void 0
                );
              },
              setText: function (a) {
                return (this.text = a), (this.renderer = null);
              },
              setFont: function (a) {
                return (this.font = a), (this.renderer = null);
              },
              setPosition: function (a, b) {
                return (this.x = a), (this.y = b);
              },
              setSize: function (a, b) {
                return (
                  (this.forcedWidth = Math.max(a, 0)),
                  (this.forcedHeight = Math.max(b, 0)),
                  (this.renderer = null)
                );
              },
              enforceMaxBoundingRect: function (a) {
                var b, c, d;
                return (
                  (b = this.getBoundingRect(a.ctx)),
                  (d = {
                    x: -a.position.x / a.scale,
                    y: -a.position.y / a.scale,
                    width: a.canvas.width / a.scale,
                    height: a.canvas.height / a.scale,
                  }),
                  b.x + b.width > d.x + d.width
                    ? ((c = b.x - d.x),
                      (this.forcedWidth = d.width - c - 10),
                      (this.renderer = null))
                    : void 0
                );
              },
              getBoundingRect: function (a, b) {
                if ((null == b && (b = !1), !this.renderer)) {
                  if (!a)
                    throw "Must pass ctx if text hasn't been rendered yet";
                  this._makeRenderer(a);
                }
                return {
                  x: Math.floor(this.x),
                  y: Math.floor(this.y),
                  width: Math.ceil(this.renderer.getWidth(!0)),
                  height: Math.ceil(this.renderer.getHeight()),
                };
              },
              toJSON: function () {
                return {
                  x: this.x,
                  y: this.y,
                  text: this.text,
                  color: this.color,
                  font: this.font,
                  forcedWidth: this.forcedWidth,
                  forcedHeight: this.forcedHeight,
                  v: this.v,
                };
              },
              fromJSON: function (a) {
                return m("Text", a);
              },
              move: function (a) {
                return (
                  null == a && (a = {}),
                  (this.x = this.x - a.xDiff),
                  (this.y = this.y - a.yDiff)
                );
              },
              setUpperLeft: function (a) {
                return null == a && (a = {}), (this.x = a.x), (this.y = a.y);
              },
            }),
            p("SelectionBox", {
              constructor: function (a) {
                return (
                  null == a && (a = {}),
                  (this.shape = a.shape),
                  null != a.handleSize
                    ? (this.handleSize = a.handleSize)
                    : (this.handleSize = 10),
                  (this.margin = 4),
                  (this.backgroundColor = a.backgroundColor || null),
                  (this._br = this.shape.getBoundingRect(a.ctx))
                );
              },
              toJSON: function () {
                return {
                  shape: w(this.shape),
                  backgroundColor: this.backgroundColor,
                };
              },
              fromJSON: function (a) {
                var b, c, e, f;
                return (
                  (f = a.shape),
                  (c = a.handleSize),
                  (e = a.margin),
                  (b = a.backgroundColor),
                  m("SelectionBox", { shape: d(f), backgroundColor: b })
                );
              },
              getTopLeftHandleRect: function () {
                return {
                  x: this._br.x - this.handleSize - this.margin,
                  y: this._br.y - this.handleSize - this.margin,
                  width: this.handleSize,
                  height: this.handleSize,
                };
              },
              getBottomLeftHandleRect: function () {
                return {
                  x: this._br.x - this.handleSize - this.margin,
                  y: this._br.y + this._br.height + this.margin,
                  width: this.handleSize,
                  height: this.handleSize,
                };
              },
              getTopRightHandleRect: function () {
                return {
                  x: this._br.x + this._br.width + this.margin,
                  y: this._br.y - this.handleSize - this.margin,
                  width: this.handleSize,
                  height: this.handleSize,
                };
              },
              getBottomRightHandleRect: function () {
                return {
                  x: this._br.x + this._br.width + this.margin,
                  y: this._br.y + this._br.height + this.margin,
                  width: this.handleSize,
                  height: this.handleSize,
                };
              },
              getBoundingRect: function () {
                return {
                  x: this._br.x - this.margin,
                  y: this._br.y - this.margin,
                  width: this._br.width + 2 * this.margin,
                  height: this._br.height + 2 * this.margin,
                };
              },
            }),
            (b.exports = {
              defineShape: p,
              createShape: m,
              JSONToShape: d,
              shapeToJSON: w,
            });
        },
        {
          "./TextRenderer": 6,
          "./canvasRenderer": 9,
          "./lineEndCapShapes": 12,
          "./svgRenderer": 18,
          "./util": 19,
        },
      ],
      18: [
        function (a, b, c) {
          var d, e, f, g;
          (e = a("./lineEndCapShapes")),
            (g = {}),
            (d = function (a, b) {
              return (g[a] = b);
            }),
            (f = function (a, b) {
              if (
                (null == b && (b = {}),
                null == b.shouldIgnoreUnsupportedShapes &&
                  (b.shouldIgnoreUnsupportedShapes = !1),
                g[a.className])
              )
                return g[a.className](a);
              if (b.shouldIgnoreUnsupportedShapes)
                return (
                  console.warn(
                    "Can't render shape of type " + a.className + " to SVG"
                  ),
                  ""
                );
              throw "Can't render shape of type " + a.className + " to SVG";
            }),
            d("Rectangle", function (a) {
              var b, c, d, e, f, g, h, i;
              return (
                (e = a.x),
                (h = a.y),
                (f = a.x + a.width),
                (i = a.y + a.height),
                (d = Math.min(e, f)),
                (g = Math.min(h, i)),
                (c = Math.max(e, f) - d),
                (b = Math.max(h, i) - g),
                a.strokeWidth % 2 !== 0 && ((d += 0.5), (g += 0.5)),
                "<rect x='" +
                  d +
                  "' y='" +
                  g +
                  "' width='" +
                  c +
                  "' height='" +
                  b +
                  "' stroke='" +
                  a.strokeColor +
                  "' fill='" +
                  a.fillColor +
                  "' stroke-width='" +
                  a.strokeWidth +
                  "' />"
              );
            }),
            d("SelectionBox", function (a) {
              return "";
            }),
            d("Ellipse", function (a) {
              var b, c, d, e;
              return (
                (e = Math.floor(a.width / 2)),
                (d = Math.floor(a.height / 2)),
                (b = a.x + e),
                (c = a.y + d),
                "<ellipse cx='" +
                  b +
                  "' cy='" +
                  c +
                  "' rx='" +
                  Math.abs(e) +
                  "' ry='" +
                  Math.abs(d) +
                  "' stroke='" +
                  a.strokeColor +
                  "' fill='" +
                  a.fillColor +
                  "' stroke-width='" +
                  a.strokeWidth +
                  "' />"
              );
            }),
            d("Image", function (a) {
              return (
                "<image x='" +
                a.x +
                "' y='" +
                a.y +
                "' width='" +
                a.image.naturalWidth * a.scale +
                "' height='" +
                a.image.naturalHeight * a.scale +
                "' xlink:href='" +
                a.image.src +
                "' />"
              );
            }),
            d("Line", function (a) {
              var b, c, d, f, g, h, i;
              return (
                (d = a.dash
                  ? "stroke-dasharray='" + a.dash.join(", ") + "'"
                  : ""),
                (c = ""),
                (b = Math.max(2.2 * a.strokeWidth, 5)),
                (f = a.x1),
                (g = a.x2),
                (h = a.y1),
                (i = a.y2),
                a.strokeWidth % 2 !== 0 &&
                  ((f += 0.5), (g += 0.5), (h += 0.5), (i += 0.5)),
                a.endCapShapes[0] &&
                  (c += e[a.endCapShapes[0]].svg(
                    f,
                    h,
                    Math.atan2(h - i, f - g),
                    b,
                    a.color
                  )),
                a.endCapShapes[1] &&
                  (c += e[a.endCapShapes[1]].svg(
                    g,
                    i,
                    Math.atan2(i - h, g - f),
                    b,
                    a.color
                  )),
                "<g> <line x1='" +
                  f +
                  "' y1='" +
                  h +
                  "' x2='" +
                  g +
                  "' y2='" +
                  i +
                  "' " +
                  d +
                  " stroke-linecap='" +
                  a.capStyle +
                  "' stroke='" +
                  a.color +
                  " 'stroke-width='" +
                  a.strokeWidth +
                  "' /> " +
                  c +
                  " </g>"
              );
            }),
            d("LinePath", function (a) {
              return (
                "<polyline fill='none' points='" +
                a.smoothedPoints
                  .map(function (a) {
                    var b;
                    return (
                      (b = a.strokeWidth % 2 === 0 ? 0 : 0.5),
                      a.x + b + "," + (a.y + b)
                    );
                  })
                  .join(" ") +
                "' stroke='" +
                a.points[0].color +
                "' stroke-linecap='round' stroke-width='" +
                a.points[0].size +
                "' />"
              );
            }),
            d("ErasedLinePath", function (a) {
              return "";
            }),
            d("Polygon", function (a) {
              return a.isClosed
                ? "<polygon fill='" +
                    a.fillColor +
                    "' points='" +
                    a.points
                      .map(function (a) {
                        var b;
                        return (
                          (b = a.strokeWidth % 2 === 0 ? 0 : 0.5),
                          a.x + b + "," + (a.y + b)
                        );
                      })
                      .join(" ") +
                    "' stroke='" +
                    a.strokeColor +
                    "' stroke-width='" +
                    a.strokeWidth +
                    "' />"
                : "<polyline fill='" +
                    a.fillColor +
                    "' points='" +
                    a.points
                      .map(function (a) {
                        var b;
                        return (
                          (b = a.strokeWidth % 2 === 0 ? 0 : 0.5),
                          a.x + b + "," + (a.y + b)
                        );
                      })
                      .join(" ") +
                    "' stroke='none' /> <polyline fill='none' points='" +
                    a.points
                      .map(function (a) {
                        var b;
                        return (
                          (b = a.strokeWidth % 2 === 0 ? 0 : 0.5),
                          a.x + b + "," + (a.y + b)
                        );
                      })
                      .join(" ") +
                    "' stroke='" +
                    a.strokeColor +
                    "' stroke-width='" +
                    a.strokeWidth +
                    "' />";
            }),
            d("Text", function (a) {
              var b, c, d;
              return (
                (d = a.forcedWidth ? "width='" + a.forcedWidth + "px'" : ""),
                (b = a.forcedHeight ? "height='" + a.forcedHeight + "px'" : ""),
                (c = a.text.split(/\r\n|\r|\n/g)),
                a.renderer && (c = a.renderer.lines),
                "<text x='" +
                  a.x +
                  "' y='" +
                  a.y +
                  "' " +
                  d +
                  " " +
                  b +
                  " fill='" +
                  a.color +
                  "' style='font: " +
                  a.font +
                  ";'> " +
                  c
                    .map(
                      (function (b) {
                        return function (b, c) {
                          var d;
                          return (
                            (d = 0 === c ? 0 : "1.2em"),
                            "<tspan x='" +
                              a.x +
                              "' dy='" +
                              d +
                              "' alignment-baseline='text-before-edge'> " +
                              b +
                              " </tspan>"
                          );
                        };
                      })(this)
                    )
                    .join("") +
                  " </text>"
              );
            }),
            (b.exports = { defineSVGRenderer: d, renderShapeToSVG: f });
        },
        { "./lineEndCapShapes": 12 },
      ],
      19: [
        function (a, b, c) {
          var d,
            e,
            f,
            g,
            h = [].slice;
          (f = Array.prototype.slice),
            (d = a("./canvasRenderer").renderShapeToContext),
            (e = a("./svgRenderer").renderShapeToSVG),
            (g = {
              addImageOnload: function (a, b) {
                var c;
                return (
                  (c = a.onload),
                  (a.onload = function () {
                    return "function" == typeof c && c(), b();
                  }),
                  a
                );
              },
              last: function (a, b) {
                return (
                  null == b && (b = null),
                  b ? f.call(a, Math.max(a.length - b, 0)) : a[a.length - 1]
                );
              },
              classSet: function (a) {
                var b, c;
                b = [];
                for (c in a) a[c] && b.push(c);
                return b.join(" ");
              },
              matchElementSize: function (a, b, c, d) {
                var e;
                return (
                  null == d && (d = function () {}),
                  (e = (function (e) {
                    return function () {
                      var e, f, g;
                      for (f = 0, g = b.length; g > f; f++)
                        (e = b[f]),
                          (e.style.width = a.offsetWidth + "px"),
                          (e.style.height = a.offsetHeight + "px"),
                          null != e.width &&
                            (e.setAttribute("width", e.offsetWidth * c),
                            e.setAttribute("height", e.offsetHeight * c));
                      return d();
                    };
                  })(this)),
                  a.addEventListener("resize", e),
                  window.addEventListener("resize", e),
                  window.addEventListener("orientationchange", e),
                  e(),
                  e
                );
              },
              combineCanvases: function () {
                var a, b, c, d, e, f, g, i;
                for (
                  c = 1 <= arguments.length ? h.call(arguments, 0) : [],
                    a = document.createElement("canvas"),
                    a.width = c[0].width,
                    a.height = c[0].height,
                    e = 0,
                    g = c.length;
                  g > e;
                  e++
                )
                  (b = c[e]),
                    (a.width = Math.max(b.width, a.width)),
                    (a.height = Math.max(b.height, a.height));
                for (d = a.getContext("2d"), f = 0, i = c.length; i > f; f++)
                  (b = c[f]), d.drawImage(b, 0, 0);
                return a;
              },
              renderShapes: function (a, b, c, e) {
                var f, g, h, i;
                for (
                  null == c && (c = 1),
                    null == e && (e = null),
                    e = e || document.createElement("canvas"),
                    e.width = b.width * c,
                    e.height = b.height * c,
                    f = e.getContext("2d"),
                    f.translate(-b.x * c, -b.y * c),
                    f.scale(c, c),
                    g = 0,
                    h = a.length;
                  h > g;
                  g++
                )
                  (i = a[g]), d(f, i);
                return e;
              },
              renderShapesToSVG: function (a, b, c) {
                var d, f, g, h;
                return (
                  (g = b.x),
                  (h = b.y),
                  (f = b.width),
                  (d = b.height),
                  (
                    "<svg xmlns='http://www.w3.org/2000/svg' width='" +
                    f +
                    "' height='" +
                    d +
                    "' viewBox='0 0 " +
                    f +
                    " " +
                    d +
                    "'> <rect width='" +
                    f +
                    "' height='" +
                    d +
                    "' x='0' y='0' fill='" +
                    c +
                    "' /> <g transform='translate(" +
                    -g +
                    ", " +
                    -h +
                    ")'> " +
                    a.map(e).join("") +
                    " </g> </svg>"
                  ).replace(/(\r\n|\n|\r)/gm, "")
                );
              },
              getBoundingRect: function (a, b, c) {
                var d, e, f, g, h, i, j;
                if (!a.length) return { x: 0, y: 0, width: b, height: c };
                for (
                  h = a[0].x,
                    i = a[0].y,
                    f = a[0].x + a[0].width,
                    g = a[0].y + a[0].height,
                    d = 0,
                    e = a.length;
                  e > d;
                  d++
                )
                  (j = a[d]),
                    (h = Math.floor(Math.min(j.x, h))),
                    (i = Math.floor(Math.min(j.y, i))),
                    (f = Math.ceil(Math.max(f, j.x + j.width))),
                    (g = Math.ceil(Math.max(g, j.y + j.height)));
                return (
                  (h = b ? 0 : h),
                  (i = c ? 0 : i),
                  (f = b || f),
                  (g = c || g),
                  { x: h, y: i, width: f - h, height: g - i }
                );
              },
              getDefaultImageRect: function (a, b, c) {
                var d, e, f;
                return (
                  null == b && (b = { width: 0, height: 0 }),
                  null == c && (c = { top: 0, right: 0, bottom: 0, left: 0 }),
                  (f = b.width),
                  (d = b.height),
                  (e = g.getBoundingRect(
                    a,
                    "infinite" === f ? 0 : f,
                    "infinite" === d ? 0 : d
                  )),
                  (e.x -= c.left),
                  (e.y -= c.top),
                  (e.width += c.left + c.right),
                  (e.height += c.top + c.bottom),
                  e
                );
              },
              getBackingScale: function (a) {
                return null == window.devicePixelRatio
                  ? 1
                  : window.devicePixelRatio > 1
                  ? window.devicePixelRatio
                  : 1;
              },
              requestAnimationFrame: (
                window.requestAnimationFrame || window.setTimeout
              ).bind(window),
              getGUID: (function () {
                var a;
                return (
                  (a = function () {
                    return Math.floor(65536 * (1 + Math.random()))
                      .toString(16)
                      .substring(1);
                  }),
                  function () {
                    return (
                      a() +
                      a() +
                      "-" +
                      a() +
                      "-" +
                      a() +
                      "-" +
                      a() +
                      "-" +
                      a() +
                      a() +
                      a()
                    );
                  }
                );
              })(),
              requestAnimationFrame: function (a) {
                return window.requestAnimationFrame
                  ? window.requestAnimationFrame(a)
                  : window.webkitRequestAnimationFrame
                  ? window.webkitRequestAnimationFrame(a)
                  : window.mozRequestAnimationFrame
                  ? window.mozRequestAnimationFrame(a)
                  : setTimeout(a, 0);
              },
              cancelAnimationFrame: function (a) {
                return window.cancelAnimationFrame
                  ? window.cancelAnimationFrame(a)
                  : window.webkitCancelRequestAnimationFrame
                  ? window.webkitCancelRequestAnimationFrame(a)
                  : window.webkitCancelAnimationFrame
                  ? window.webkitCancelAnimationFrame(a)
                  : window.mozCancelAnimationFrame
                  ? window.mozCancelAnimationFrame(a)
                  : clearTimeout(a);
              },
            }),
            (b.exports = g);
        },
        { "./canvasRenderer": 9, "./svgRenderer": 18 },
      ],
      20: [
        function (a, b, c) {
          "use strict";
          !(function () {
            function a(a, b) {
              b = b || { bubbles: !1, cancelable: !1, detail: void 0 };
              var c = document.createEvent("CustomEvent");
              return c.initCustomEvent(a, b.bubbles, b.cancelable, b.detail), c;
            }
            (a.prototype = window.CustomEvent.prototype),
              (window.CustomEvent = a);
          })();
        },
        {},
      ],
      21: [
        function (a, b, c) {
          "use strict";
          var d = !1;
          CanvasRenderingContext2D.prototype.setLineDash ||
            (CanvasRenderingContext2D.prototype.setLineDash = function () {
              d ||
                (console.warn(
                  "context2D.setLineDash is a no-op in this browser."
                ),
                (d = !0));
            }),
            (b.exports = null);
        },
        {},
      ],
      22: [
        function (a, b, c) {
          var d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x;
          a("./ie_customevent"),
            a("./ie_setLineDash"),
            (d = a("./core/LiterallyCanvas")),
            (j = a("./core/defaultOptions")),
            (g = a("./core/canvasRenderer")),
            (v = a("./core/svgRenderer")),
            (u = a("./core/shapes")),
            (x = a("./core/util")),
            (r = a("./core/renderSnapshotToImage")),
            (s = a("./core/renderSnapshotToSVG")),
            (p = a("./core/localization").localize),
            (e = a("./reactGUI/LiterallyCanvas")),
            (n = a("./reactGUI/initDOM")),
            a("./optionsStyles/font"),
            a("./optionsStyles/stroke-width"),
            a("./optionsStyles/line-options-and-stroke-width"),
            a("./optionsStyles/polygon-and-stroke-width"),
            a("./optionsStyles/stroke-or-fill"),
            a("./optionsStyles/null"),
            (l = a("./optionsStyles/optionsStyles").defineOptionsStyle),
            (h = {
              snapshotToShapes: function (a) {
                var b, c, d, e, f;
                for (d = a.shapes, e = [], b = 0, c = d.length; c > b; b++)
                  (f = d[b]), e.push(u.JSONToShape(f));
                return e;
              },
              snapshotJSONToShapes: function (a) {
                return h.snapshotToShapes(JSON.parse(a));
              },
            }),
            (f = a("./tools/base")),
            (w = {
              Pencil: a("./tools/Pencil"),
              Eraser: a("./tools/Eraser"),
              Line: a("./tools/Line"),
              Rectangle: a("./tools/Rectangle"),
              Ellipse: a("./tools/Ellipse"),
              Text: a("./tools/Text"),
              Polygon: a("./tools/Polygon"),
              Pan: a("./tools/Pan"),
              Eyedropper: a("./tools/Eyedropper"),
              SelectShape: a("./tools/SelectShape"),
              Tool: f.Tool,
              ToolWithStroke: f.ToolWithStroke,
            }),
            (k = j.tools),
            (i = j.imageURLPrefix),
            (t = function (a) {
              return (i = a), (j.imageURLPrefix = a);
            }),
            (m = function (b, c) {
              var d, e, f, g, h;
              null == c && (c = {});
              for (g in j) g in c || (c[g] = j[g]);
              for (h = b.children, e = 0, f = h.length; f > e; e++)
                (d = h[e]), b.removeChild(d);
              return a("./reactGUI/initDOM")(b, c);
            }),
            (o = function (a, b) {
              var c, e, f;
              return (
                (f = a.className),
                -1 === [" ", " "].join(a.className).indexOf(" literally ") &&
                  (a.className = a.className + " literally"),
                (a.className = a.className + " toolbar-hidden"),
                (c = document.createElement("div")),
                (c.className = "lc-drawing"),
                a.appendChild(c),
                (e = new d(c, b)),
                (e.teardown = function () {
                  var b, c, d, g;
                  for (
                    e._teardown(), g = a.children, c = 0, d = g.length;
                    d > c;
                    c++
                  )
                    (b = g[c]), a.removeChild(b);
                  return (a.className = f);
                }),
                "onInit" in b && b.onInit(e),
                e
              );
            }),
            (q = function (a) {
              return (a.fn.literallycanvas = function (a) {
                return (
                  null == a && (a = {}),
                  this.each(
                    (function (b) {
                      return function (b, c) {
                        return (c.literallycanvas = m(c, a));
                      };
                    })(this)
                  ),
                  this
                );
              });
            }),
            "undefined" != typeof window &&
              ((window.LC = { init: m }), window.$ && q(window.$)),
            (b.exports = {
              init: m,
              registerJQueryPlugin: q,
              util: x,
              tools: w,
              setDefaultImageURLPrefix: t,
              defaultTools: k,
              defineOptionsStyle: l,
              LiterallyCanvasReactComponent: e,
              defineShape: u.defineShape,
              createShape: u.createShape,
              JSONToShape: u.JSONToShape,
              shapeToJSON: u.shapeToJSON,
              defineCanvasRenderer: g.defineCanvasRenderer,
              renderShapeToContext: g.renderShapeToContext,
              renderShapeToCanvas: g.renderShapeToCanvas,
              renderShapesToCanvas: x.renderShapes,
              defineSVGRenderer: v.defineSVGRenderer,
              renderShapeToSVG: v.renderShapeToSVG,
              renderShapesToSVG: x.renderShapesToSVG,
              snapshotToShapes: h.snapshotToShapes,
              snapshotJSONToShapes: h.snapshotJSONToShapes,
              renderSnapshotToImage: r,
              renderSnapshotToSVG: s,
              localize: p,
            });
        },
        {
          "./core/LiterallyCanvas": 5,
          "./core/canvasRenderer": 9,
          "./core/defaultOptions": 10,
          "./core/localization": 13,
          "./core/renderSnapshotToImage": 15,
          "./core/renderSnapshotToSVG": 16,
          "./core/shapes": 17,
          "./core/svgRenderer": 18,
          "./core/util": 19,
          "./ie_customevent": 20,
          "./ie_setLineDash": 21,
          "./optionsStyles/font": 23,
          "./optionsStyles/line-options-and-stroke-width": 24,
          "./optionsStyles/null": 25,
          "./optionsStyles/optionsStyles": 26,
          "./optionsStyles/polygon-and-stroke-width": 27,
          "./optionsStyles/stroke-or-fill": 28,
          "./optionsStyles/stroke-width": 29,
          "./reactGUI/LiterallyCanvas": 32,
          "./reactGUI/initDOM": 42,
          "./tools/Ellipse": 43,
          "./tools/Eraser": 44,
          "./tools/Eyedropper": 45,
          "./tools/Line": 46,
          "./tools/Pan": 47,
          "./tools/Pencil": 48,
          "./tools/Polygon": 49,
          "./tools/Rectangle": 50,
          "./tools/SelectShape": 51,
          "./tools/Text": 52,
          "./tools/base": 53,
        },
      ],
      23: [
        function (a, b, c) {
          var d,
            e,
            f,
            g,
            h,
            i,
            j,
            k,
            l,
            m,
            n,
            o,
            p,
            q,
            r,
            s,
            t,
            u,
            v,
            w,
            x,
            y,
            z;
          for (
            h = a("../reactGUI/React-shim"),
              l = a("./optionsStyles").defineOptionsStyle,
              k = a("../core/localization")._,
              i = [
                ["Arial", 'Arial,"Helvetica Neue",Helvetica,sans-serif'],
                ["Arial Black", '"Arial Black","Arial Bold",Gadget,sans-serif'],
                ["Arial Narrow", '"Arial Narrow",Arial,sans-serif'],
                ["Gill Sans", '"Gill Sans","Gill Sans MT",Calibri,sans-serif'],
                ["Helvetica", '"Helvetica Neue",Helvetica,Arial,sans-serif'],
                [
                  "Impact",
                  'Impact,Haettenschweiler,"Franklin Gothic Bold",Charcoal,"Helvetica Inserat","Bitstream Vera Sans Bold","Arial Black",sans-serif',
                ],
                ["Tahoma", "Tahoma,Verdana,Segoe,sans-serif"],
                [
                  "Trebuchet MS",
                  '"Trebuchet MS","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Tahoma,sans-serif',
                ],
                ["Verdana", "Verdana,Geneva,sans-serif"],
              ].map(function (a) {
                var b, c;
                return (b = a[0]), (c = a[1]), { name: k(b), value: c };
              }),
              j = [
                [
                  "Baskerville",
                  'Baskerville,"Baskerville Old Face","Hoefler Text",Garamond,"Times New Roman",serif',
                ],
                [
                  "Garamond",
                  'Garamond,Baskerville,"Baskerville Old Face","Hoefler Text","Times New Roman",serif',
                ],
                ["Georgia", 'Georgia,Times,"Times New Roman",serif'],
                [
                  "Hoefler Text",
                  '"Hoefler Text","Baskerville Old Face",Garamond,"Times New Roman",serif',
                ],
                ["Lucida Bright", '"Lucida Bright",Georgia,serif'],
                [
                  "Palatino",
                  'Palatino,"Palatino Linotype","Palatino LT STD","Book Antiqua",Georgia,serif',
                ],
                [
                  "Times New Roman",
                  'TimesNewRoman,"Times New Roman",Times,Baskerville,Georgia,serif',
                ],
              ].map(function (a) {
                var b, c;
                return (b = a[0]), (c = a[1]), { name: k(b), value: c };
              }),
              f = [
                [
                  "Consolas/Monaco",
                  'Consolas,monaco,"Lucida Console",monospace',
                ],
                [
                  "Courier New",
                  '"Courier New",Courier,"Lucida Sans Typewriter","Lucida Typewriter",monospace',
                ],
                [
                  "Lucida Sans Typewriter",
                  '"Lucida Sans Typewriter","Lucida Console",monaco,"Bitstream Vera Sans Mono",monospace',
                ],
              ].map(function (a) {
                var b, c;
                return (b = a[0]), (c = a[1]), { name: k(b), value: c };
              }),
              g = [
                [
                  "Copperplate",
                  'Copperplate,"Copperplate Gothic Light",fantasy',
                ],
                ["Papyrus", "Papyrus,fantasy"],
                ["Script", '"Brush Script MT",cursive'],
              ].map(function (a) {
                var b, c;
                return (b = a[0]), (c = a[1]), { name: k(b), value: c };
              }),
              d = [
                [k("Sans Serif"), i],
                [k("Serif"), j],
                [k("Monospace"), f],
                [k("Other"), g],
              ],
              e = {},
              m = 0,
              p = i.length;
            p > m;
            m++
          )
            (v = i[m]), (u = v.name), (z = v.value), (e[u] = z);
          for (n = 0, q = j.length; q > n; n++)
            (w = j[n]), (u = w.name), (z = w.value), (e[u] = z);
          for (o = 0, r = f.length; r > o; o++)
            (x = f[o]), (u = x.name), (z = x.value), (e[u] = z);
          for (t = 0, s = g.length; s > t; t++)
            (y = g[t]), (u = y.name), (z = y.value), (e[u] = z);
          l(
            "font",
            h.createClass({
              displayName: "FontOptions",
              getInitialState: function () {
                return {
                  isItalic: !1,
                  isBold: !1,
                  fontName: "Helvetica",
                  fontSizeIndex: 4,
                };
              },
              getFontSizes: function () {
                return [9, 10, 12, 14, 18, 24, 36, 48, 64, 72, 96, 144, 288];
              },
              updateTool: function (a) {
                var b, c, d;
                null == a && (a = {});
                for (d in this.state) d in a || (a[d] = this.state[d]);
                return (
                  (b = this.getFontSizes()[a.fontSizeIndex]),
                  (c = []),
                  a.isItalic && c.push("italic"),
                  a.isBold && c.push("bold"),
                  c.push(b + "px"),
                  c.push(e[a.fontName]),
                  (this.props.lc.tool.font = c.join(" ")),
                  this.props.lc.trigger("setFont", c.join(" "))
                );
              },
              handleFontSize: function (a) {
                var b;
                return (
                  (b = { fontSizeIndex: a.target.value }),
                  this.setState(b),
                  this.updateTool(b)
                );
              },
              handleFontFamily: function (a) {
                var b;
                return (
                  (b = { fontName: a.target.selectedOptions[0].innerHTML }),
                  this.setState(b),
                  this.updateTool(b)
                );
              },
              handleItalic: function (a) {
                var b;
                return (
                  (b = { isItalic: !this.state.isItalic }),
                  this.setState(b),
                  this.updateTool(b)
                );
              },
              handleBold: function (a) {
                var b;
                return (
                  (b = { isBold: !this.state.isBold }),
                  this.setState(b),
                  this.updateTool(b)
                );
              },
              componentDidMount: function () {
                return this.updateTool();
              },
              render: function () {
                var a, b, c, e, f, g, i, j, l, m;
                return (
                  (f = this.props.lc),
                  (j = h.DOM),
                  (b = j.div),
                  (c = j.input),
                  (l = j.select),
                  (i = j.option),
                  (a = j.br),
                  (e = j.label),
                  (m = j.span),
                  (g = j.optgroup),
                  b(
                    { className: "lc-font-settings" },
                    l(
                      {
                        value: this.state.fontSizeIndex,
                        onChange: this.handleFontSize,
                      },
                      this.getFontSizes().map(
                        (function (a) {
                          return function (a, b) {
                            return i({ value: b, key: b }, a + "px");
                          };
                        })(this)
                      )
                    ),
                    l(
                      {
                        value: this.state.fontName,
                        onChange: this.handleFontFamily,
                      },
                      d.map(
                        (function (a) {
                          return function (a) {
                            var b, c;
                            return (
                              (c = a[0]),
                              (b = a[1]),
                              g(
                                { key: c, label: c },
                                b.map(function (a, b) {
                                  return i({ value: a.name, key: b }, a.name);
                                })
                              )
                            );
                          };
                        })(this)
                      )
                    ),
                    m(
                      {},
                      e({ htmlFor: "italic" }, k("italic")),
                      c({
                        type: "checkbox",
                        id: "italic",
                        checked: this.state.isItalic,
                        onChange: this.handleItalic,
                      })
                    ),
                    m(
                      {},
                      e({ htmlFor: "bold" }, k("bold")),
                      c({
                        type: "checkbox",
                        id: "bold",
                        checked: this.state.isBold,
                        onChange: this.handleBold,
                      })
                    )
                  )
                );
              },
            })
          ),
            (b.exports = {});
        },
        {
          "../core/localization": 13,
          "../reactGUI/React-shim": 35,
          "./optionsStyles": 26,
        },
      ],
      24: [
        function (a, b, c) {
          var d, e, f, g, h;
          (d = a("../reactGUI/React-shim")),
            (h = a("./optionsStyles").defineOptionsStyle),
            (e = d.createFactory(a("../reactGUI/StrokeWidthPicker"))),
            (g = a("../reactGUI/createSetStateOnEventMixin")),
            (f = a("../core/util").classSet),
            h(
              "line-options-and-stroke-width",
              d.createClass({
                displayName: "LineOptionsAndStrokeWidth",
                getState: function () {
                  return {
                    strokeWidth: this.props.tool.strokeWidth,
                    isDashed: this.props.tool.isDashed,
                    hasEndArrow: this.props.tool.hasEndArrow,
                  };
                },
                getInitialState: function () {
                  return this.getState();
                },
                mixins: [g("toolChange")],
                render: function () {
                  var a, b, c, g, h, i, j, k, l, m;
                  return (
                    (i = d.DOM),
                    (c = i.div),
                    (m = i.ul),
                    (h = i.li),
                    (g = i.img),
                    (k = (function (a) {
                      return function () {
                        return (
                          (a.props.tool.isDashed = !a.props.tool.isDashed),
                          a.setState(a.getState())
                        );
                      };
                    })(this)),
                    (l = (function (a) {
                      return function () {
                        return (
                          (a.props.tool.hasEndArrow =
                            !a.props.tool.hasEndArrow),
                          a.setState(a.getState())
                        );
                      };
                    })(this)),
                    (b = f({
                      "square-toolbar-button": !0,
                      selected: this.state.isDashed,
                    })),
                    (a = f({
                      "square-toolbar-button": !0,
                      selected: this.state.hasEndArrow,
                    })),
                    (j = { float: "left", margin: 1 }),
                    c(
                      {},
                      c(
                        { className: b, onClick: k, style: j },
                        g({
                          src: this.props.imageURLPrefix + "/dashed-line.png",
                        })
                      ),
                      c(
                        { className: a, onClick: l, style: j },
                        g({
                          src:
                            this.props.imageURLPrefix + "/line-with-arrow.png",
                        })
                      ),
                      e({ tool: this.props.tool, lc: this.props.lc })
                    )
                  );
                },
              })
            ),
            (b.exports = {});
        },
        {
          "../core/util": 19,
          "../reactGUI/React-shim": 35,
          "../reactGUI/StrokeWidthPicker": 37,
          "../reactGUI/createSetStateOnEventMixin": 40,
          "./optionsStyles": 26,
        },
      ],
      25: [
        function (a, b, c) {
          var d, e;
          (d = a("../reactGUI/React-shim")),
            (e = a("./optionsStyles").defineOptionsStyle),
            e(
              "null",
              d.createClass({
                displayName: "NoOptions",
                render: function () {
                  return d.DOM.div();
                },
              })
            ),
            (b.exports = {});
        },
        { "../reactGUI/React-shim": 35, "./optionsStyles": 26 },
      ],
      26: [
        function (a, b, c) {
          var d, e, f;
          (d = a("../reactGUI/React-shim")),
            (f = {}),
            (e = function (a, b) {
              return (f[a] = d.createFactory(b));
            }),
            (b.exports = { optionsStyles: f, defineOptionsStyle: e });
        },
        { "../reactGUI/React-shim": 35 },
      ],
      27: [
        function (a, b, c) {
          var d, e, f, g;
          (d = a("../reactGUI/React-shim")),
            (g = a("./optionsStyles").defineOptionsStyle),
            (e = d.createFactory(a("../reactGUI/StrokeWidthPicker"))),
            (f = a("../reactGUI/createSetStateOnEventMixin")),
            g(
              "polygon-and-stroke-width",
              d.createClass({
                displayName: "PolygonAndStrokeWidth",
                getState: function () {
                  return {
                    strokeWidth: this.props.tool.strokeWidth,
                    inProgress: !1,
                  };
                },
                getInitialState: function () {
                  return this.getState();
                },
                mixins: [f("toolChange")],
                componentDidMount: function () {
                  var a, b, c;
                  return (
                    (c = []),
                    (this.unsubscribe = (function (a) {
                      return function () {
                        var a, b, d, e;
                        for (e = [], b = 0, d = c.length; d > b; b++)
                          (a = c[b]), e.push(a());
                        return e;
                      };
                    })(this)),
                    (b = (function (a) {
                      return function () {
                        return a.state.inProgress
                          ? void 0
                          : a.setState({ inProgress: !0 });
                      };
                    })(this)),
                    (a = (function (a) {
                      return function () {
                        return a.setState({ inProgress: !1 });
                      };
                    })(this)),
                    c.push(this.props.lc.on("lc-polygon-started", b)),
                    c.push(this.props.lc.on("lc-polygon-stopped", a))
                  );
                },
                componentWillUnmount: function () {
                  return this.unsubscribe();
                },
                render: function () {
                  var a, b, c, f, g, h, i, j;
                  return (
                    (c = this.props.lc),
                    (j = d.DOM),
                    (a = j.div),
                    (b = j.img),
                    (h = (function (a) {
                      return function () {
                        return c.trigger("lc-polygon-finishopen");
                      };
                    })(this)),
                    (g = (function (a) {
                      return function () {
                        return c.trigger("lc-polygon-finishclosed");
                      };
                    })(this)),
                    (f = (function (a) {
                      return function () {
                        return c.trigger("lc-polygon-cancel");
                      };
                    })(this)),
                    (i = {}),
                    this.state.inProgress || (i = { display: "none" }),
                    a(
                      {},
                      a(
                        { className: "polygon-toolbar horz-toolbar", style: i },
                        a(
                          { className: "square-toolbar-button", onClick: h },
                          b({
                            src:
                              this.props.imageURLPrefix + "/polygon-open.png",
                          })
                        ),
                        a(
                          { className: "square-toolbar-button", onClick: g },
                          b({
                            src:
                              this.props.imageURLPrefix + "/polygon-closed.png",
                          })
                        ),
                        a(
                          { className: "square-toolbar-button", onClick: f },
                          b({
                            src:
                              this.props.imageURLPrefix + "/polygon-cancel.png",
                          })
                        )
                      ),
                      a({}, e({ tool: this.props.tool, lc: this.props.lc }))
                    )
                  );
                },
              })
            ),
            (b.exports = {});
        },
        {
          "../reactGUI/React-shim": 35,
          "../reactGUI/StrokeWidthPicker": 37,
          "../reactGUI/createSetStateOnEventMixin": 40,
          "./optionsStyles": 26,
        },
      ],
      28: [
        function (a, b, c) {
          "use strict";
          var d = a("../reactGUI/React-shim"),
            e = a("./optionsStyles"),
            f = e.defineOptionsStyle,
            g = a("../reactGUI/createSetStateOnEventMixin"),
            h = a("../core/localization")._;
          f(
            "stroke-or-fill",
            d.createClass({
              displayName: "StrokeOrFillPicker",
              getState: function () {
                return { strokeOrFill: "stroke" };
              },
              getInitialState: function () {
                return this.getState();
              },
              mixins: [g("toolChange")],
              onChange: function (a) {
                "stroke-or-fill-stroke" == a.target.id
                  ? (this.props.lc.tool.strokeOrFill = "stroke")
                  : (this.props.lc.tool.strokeOrFill = "fill"),
                  this.setState(this.getState());
              },
              render: function () {
                var a = this.props.lc;
                return d.createElement(
                  "form",
                  null,
                  d.createElement(
                    "span",
                    null,
                    " ",
                    h("Color to change:"),
                    " "
                  ),
                  d.createElement(
                    "span",
                    null,
                    d.createElement("input", {
                      type: "radio",
                      name: "stroke-or-fill",
                      value: "stroke",
                      id: "stroke-or-fill-stroke",
                      onChange: this.onChange,
                      checked: "stroke" == a.tool.strokeOrFill,
                    }),
                    d.createElement(
                      "label",
                      { htmlFor: "stroke-or-fill-stroke", className: "label" },
                      " ",
                      h("stroke")
                    )
                  ),
                  d.createElement(
                    "span",
                    null,
                    d.createElement("input", {
                      type: "radio",
                      name: "stroke-or-fill",
                      value: "fill",
                      id: "stroke-or-fill-fill",
                      onChange: this.onChange,
                      checked: "fill" == a.tool.strokeOrFill,
                    }),
                    d.createElement(
                      "label",
                      { htmlFor: "stroke-or-fill-fill", className: "label" },
                      " ",
                      h("fill")
                    )
                  )
                );
              },
            })
          ),
            (b.exports = {});
        },
        {
          "../core/localization": 13,
          "../reactGUI/React-shim": 35,
          "../reactGUI/createSetStateOnEventMixin": 40,
          "./optionsStyles": 26,
        },
      ],
      29: [
        function (a, b, c) {
          var d, e;
          (e = a("./optionsStyles").defineOptionsStyle),
            (d = a("../reactGUI/StrokeWidthPicker")),
            e("stroke-width", d),
            (b.exports = {});
        },
        { "../reactGUI/StrokeWidthPicker": 37, "./optionsStyles": 26 },
      ],
      30: [
        function (a, b, c) {
          var d, e, f, g, h;
          (e = a("./React-shim")),
            (h = a("./createSetStateOnEventMixin")),
            (f = a("../core/localization")._),
            (g = a("../core/util").classSet),
            (d = e.createClass({
              displayName: "ClearButton",
              getState: function () {
                return { isEnabled: this.props.lc.canUndo() };
              },
              getInitialState: function () {
                return this.getState();
              },
              mixins: [h("drawingChange")],
              render: function () {
                var a, b, c, d;
                return (
                  (b = e.DOM.div),
                  (c = this.props.lc),
                  (a = g({
                    "lc-clear": !0,
                    "toolbar-button": !0,
                    "fat-button": !0,
                    disabled: !this.state.isEnabled,
                  })),
                  (d = c.canUndo()
                    ? (function (a) {
                        return function () {
                          return c.clear();
                        };
                      })(this)
                    : function () {}),
                  b({ className: a, onClick: d }, f("Clear"))
                );
              },
            })),
            (b.exports = d);
        },
        {
          "../core/localization": 13,
          "../core/util": 19,
          "./React-shim": 35,
          "./createSetStateOnEventMixin": 40,
        },
      ],
      31: [
        function (a, b, c) {
          var d, e, f, g, h, i, j, k, l, m, n, o;
          (g = a("./React-shim")),
            (f = a("react-addons-pure-render-mixin")),
            (n = a("../core/util")),
            (j = n.classSet),
            (o = n.requestAnimationFrame),
            (i = n.cancelAnimationFrame),
            (h = a("../core/localization")._),
            (m = function (a) {
              var b, c, d, e;
              return "transparent" === a
                ? { hue: 0, sat: 0, light: 0, alpha: 0 }
                : "hsla" !== (null != a ? a.substring(0, 4) : void 0)
                ? null
                : ((c = a.indexOf("(")),
                  (e = a.indexOf(")")),
                  (d = a.substring(c + 1, e - c + 4)),
                  (b = (function () {
                    var b, c, e, f;
                    for (
                      e = d.split(","), f = [], b = 0, c = e.length;
                      c > b;
                      b++
                    )
                      (a = e[b]), f.push(a.trim());
                    return f;
                  })()),
                  {
                    hue: parseInt(b[0], 10),
                    sat: parseInt(b[1].substring(0, b[1].length - 1), 10),
                    light: parseInt(b[2].substring(0, b[2].length - 1), 10),
                    alpha: parseFloat(b[3]),
                  });
            }),
            (k = function (a) {
              var b, c, d, e;
              return (
                (c = a.hue),
                (e = a.sat),
                (d = a.light),
                (b = a.alpha),
                "hsla(" + c + ", " + e + "%, " + d + "%, " + b + ")"
              );
            }),
            (l = function (a) {
              var b, c, d;
              return (
                (b = a.hue),
                (d = a.sat),
                (c = a.light),
                "hsl(" + b + ", " + d + "%, " + c + "%)"
              );
            }),
            (d = g.createFactory(
              g.createClass({
                displayName: "ColorGrid",
                mixins: [f],
                render: function () {
                  var a;
                  return (a = g.DOM.div)(
                    {},
                    this.props.rows.map(
                      (function (b) {
                        return function (c, d) {
                          return a(
                            {
                              className: "color-row",
                              key: d,
                              style: { width: 20 * c.length },
                            },
                            c.map(function (c, d) {
                              var e, f, g, h, i, l, m, n;
                              return (
                                (i = c.hue),
                                (m = c.sat),
                                (l = c.light),
                                (e = c.alpha),
                                (g = k(c)),
                                (h = "hsl(" + i + ", " + m + "%, " + l + "%)"),
                                (f = j({
                                  "color-cell": !0,
                                  selected: b.props.selectedColor === g,
                                })),
                                (n = function (a) {
                                  return (
                                    b.props.onChange(c, g),
                                    a.stopPropagation(),
                                    a.preventDefault()
                                  );
                                }),
                                a({
                                  className: f,
                                  onTouchStart: n,
                                  onTouchMove: n,
                                  onClick: n,
                                  style: { backgroundColor: h },
                                  key: d,
                                })
                              );
                            })
                          );
                        };
                      })(this)
                    )
                  );
                },
              })
            )),
            (e = g.createClass({
              displayName: "ColorWell",
              mixins: [f],
              getInitialState: function () {
                var a, b;
                return (
                  (a = this.props.lc.colors[this.props.colorName]),
                  (b = m(a)),
                  null == b && (b = {}),
                  null == b.alpha && (b.alpha = 1),
                  null == b.sat && (b.sat = 100),
                  null == b.hue && (b.hue = 0),
                  null == b.light && (b.light = 50),
                  {
                    colorString: a,
                    alpha: b.alpha,
                    sat: 0 === b.sat ? 100 : b.sat,
                    isPickerVisible: !1,
                    hsla: b,
                  }
                );
              },
              componentDidMount: function () {
                return (this.unsubscribe = this.props.lc.on(
                  this.props.colorName + "ColorChange",
                  (function (a) {
                    return function () {
                      var b;
                      return (
                        (b = a.props.lc.colors[a.props.colorName]),
                        a.setState({ colorString: b }),
                        a.setHSLAFromColorString(b)
                      );
                    };
                  })(this)
                ));
              },
              componentWillUnmount: function () {
                return this.unsubscribe();
              },
              setHSLAFromColorString: function (a) {
                var b;
                return (
                  (b = m(a)),
                  b
                    ? this.setState({ hsla: b, alpha: b.alpha, sat: b.sat })
                    : this.setState({ hsla: null, alpha: 1, sat: 100 })
                );
              },
              closePicker: function () {
                return this.setState({ isPickerVisible: !1 });
              },
              togglePicker: function () {
                var a, b;
                return (
                  (a = !this.state.isPickerVisible),
                  (b = a && 0 === this.state.sat),
                  this.setHSLAFromColorString(this.state.colorString),
                  this.setState({
                    isPickerVisible: a,
                    sat: b ? 100 : this.state.sat,
                  })
                );
              },
              setColor: function (a) {
                return (
                  this.setState({ colorString: a }),
                  this.setHSLAFromColorString(a),
                  this.props.lc.setColor(this.props.colorName, a)
                );
              },
              setAlpha: function (a) {
                var b;
                return (
                  this.setState({ alpha: a }),
                  this.state.hsla
                    ? ((b = this.state.hsla),
                      (b.alpha = a),
                      this.setState({ hsla: b }),
                      this.setColor(k(b)))
                    : void 0
                );
              },
              setSat: function (a) {
                var b;
                if ((this.setState({ sat: a }), isNaN(a))) throw "SAT";
                return this.state.hsla
                  ? ((b = this.state.hsla),
                    (b.sat = a),
                    this.setState({ hsla: b }),
                    this.setColor(k(b)))
                  : void 0;
              },
              render: function () {
                var a, b, c, d;
                return (
                  (d = g.DOM),
                  (b = d.div),
                  (c = d.label),
                  (a = d.br),
                  b(
                    {
                      className: j({
                        "color-well": !0,
                        open: this.state.isPickerVisible,
                      }),
                      onMouseLeave: this.closePicker,
                      style: { float: "left", textAlign: "center" },
                    },
                    c({ float: "left" }, this.props.label),
                    a({}),
                    b(
                      {
                        className: j({
                          "color-well-color-container": !0,
                          selected: this.state.isPickerVisible,
                        }),
                        style: { backgroundColor: "white" },
                        onClick: this.togglePicker,
                      },
                      b({
                        className:
                          "color-well-checker color-well-checker-top-left",
                      }),
                      b({
                        className:
                          "color-well-checker color-well-checker-bottom-right",
                        style: { left: "50%", top: "50%" },
                      }),
                      b(
                        {
                          className: "color-well-color",
                          style: { backgroundColor: this.state.colorString },
                        },
                        " "
                      )
                    ),
                    this.renderPicker()
                  )
                );
              },
              renderPicker: function () {
                var a, b, c, e, f, i, j, k, l, m, n, o, p;
                if (
                  ((l = g.DOM),
                  (a = l.div),
                  (i = l.label),
                  (e = l.input),
                  !this.state.isPickerVisible)
                )
                  return null;
                for (
                  o = (function (b) {
                    return function (b) {
                      return a(
                        {
                          className: "color-row label",
                          key: b,
                          style: { lineHeight: "20px", height: 16 },
                        },
                        b
                      );
                    };
                  })(this),
                    n = (function (b) {
                      return function () {
                        var c;
                        return (
                          (c =
                            b.props.lc.opts.imageURLPrefix +
                            "/checkerboard-8x8.png"),
                          a(
                            {
                              className: "color-row",
                              key: "color",
                              style: {
                                position: "relative",
                                backgroundImage: "url(" + c + ")",
                                backgroundRepeat: "repeat",
                                height: 24,
                              },
                            },
                            a({
                              style: {
                                position: "absolute",
                                top: 0,
                                right: 0,
                                bottom: 0,
                                left: 0,
                                backgroundColor: b.state.colorString,
                              },
                            })
                          )
                        );
                      };
                    })(this),
                    p = [],
                    p.push(
                      function () {
                        var a, b;
                        for (b = [], c = a = 0; 100 >= a; c = a += 10)
                          b.push({
                            hue: 0,
                            sat: 0,
                            light: c,
                            alpha: this.state.alpha,
                          });
                        return b;
                      }.call(this)
                    ),
                    m = [0, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330],
                    f = 0,
                    j = m.length;
                  j > f;
                  f++
                )
                  (b = m[f]),
                    p.push(
                      function () {
                        var a, d;
                        for (d = [], c = a = 10; 90 >= a; c = a += 8)
                          d.push({
                            hue: b,
                            sat: this.state.sat,
                            light: c,
                            alpha: this.state.alpha,
                          });
                        return d;
                      }.call(this)
                    );
                return (
                  (k = (function (a) {
                    return function (b, c) {
                      return a.setColor(c);
                    };
                  })(this)),
                  a(
                    { className: "color-picker-popup" },
                    n(),
                    o(h("alpha")),
                    e({
                      type: "range",
                      min: 0,
                      max: 1,
                      step: 0.01,
                      value: this.state.alpha,
                      onChange: (function (a) {
                        return function (b) {
                          return a.setAlpha(parseFloat(b.target.value));
                        };
                      })(this),
                    }),
                    o(h("saturation")),
                    e({
                      type: "range",
                      min: 0,
                      max: 100,
                      value: this.state.sat,
                      max: 100,
                      onChange: (function (a) {
                        return function (b) {
                          return a.setSat(parseInt(b.target.value, 10));
                        };
                      })(this),
                    }),
                    d({
                      rows: p,
                      selectedColor: this.state.colorString,
                      onChange: k,
                    })
                  )
                );
              },
            })),
            (b.exports = e);
        },
        {
          "../core/localization": 13,
          "../core/util": 19,
          "./React-shim": 35,
          "react-addons-pure-render-mixin": 2,
        },
      ],
      32: [
        function (a, b, c) {
          "use strict";
          var d = a("../reactGUI/React-shim"),
            e = a("../reactGUI/ReactDOM-shim"),
            f = e.findDOMNode,
            g = a("../core/util"),
            h = g.classSet,
            i = a("./Picker"),
            j = a("./Options"),
            k = a("./createToolButton"),
            l = a("../core/LiterallyCanvas"),
            m = a("../core/defaultOptions");
          a("../optionsStyles/font"),
            a("../optionsStyles/stroke-width"),
            a("../optionsStyles/line-options-and-stroke-width"),
            a("../optionsStyles/polygon-and-stroke-width"),
            a("../optionsStyles/null");
          var n = d.createClass({
              displayName: "CanvasContainer",
              shouldComponentUpdate: function () {
                return !1;
              },
              render: function () {
                return d.createElement("div", {
                  key: "literallycanvas",
                  className: "lc-drawing with-gui",
                });
              },
            }),
            o = d.createClass({
              displayName: "LiterallyCanvas",
              getDefaultProps: function () {
                return m;
              },
              bindToModel: function () {
                var a = f(this.canvas);
                this.props,
                  this.lc.bindToElement(a),
                  "function" == typeof this.lc.opts.onInit &&
                    this.lc.opts.onInit(this.lc);
              },
              componentWillMount: function () {
                var a = this;
                this.lc ||
                  (this.props.lc
                    ? (this.lc = this.props.lc)
                    : (this.lc = new l(this.props)),
                  (this.toolButtonComponents = this.lc.opts.tools.map(function (
                    b
                  ) {
                    return k(new b(a.lc));
                  })));
              },
              componentDidMount: function () {
                this.lc.isBound || this.bindToModel();
              },
              componentWillUnmount: function () {
                this.lc && this.lc._teardown();
              },
              render: function () {
                var a = this,
                  b = this.lc,
                  c = this.toolButtonComponents,
                  e = (this.props, this.lc.opts),
                  f = e.imageURLPrefix,
                  g = e.toolbarPosition,
                  k = { lc: b, toolButtonComponents: c, imageURLPrefix: f },
                  l = h({
                    "toolbar-at-top": "top" === g,
                    "toolbar-at-bottom": "bottom" === g,
                    "toolbar-hidden": "hidden" === g,
                  });
                return d.createElement(
                  "div",
                  { className: "literally " + l },
                  d.createElement(n, {
                    ref: function (b) {
                      return (a.canvas = b);
                    },
                  }),
                  d.createElement(i, k),
                  d.createElement(j, { lc: b, imageURLPrefix: f })
                );
              },
            });
          b.exports = o;
        },
        {
          "../core/LiterallyCanvas": 5,
          "../core/defaultOptions": 10,
          "../core/util": 19,
          "../optionsStyles/font": 23,
          "../optionsStyles/line-options-and-stroke-width": 24,
          "../optionsStyles/null": 25,
          "../optionsStyles/polygon-and-stroke-width": 27,
          "../optionsStyles/stroke-width": 29,
          "../reactGUI/React-shim": 35,
          "../reactGUI/ReactDOM-shim": 36,
          "./Options": 33,
          "./Picker": 34,
          "./createToolButton": 41,
        },
      ],
      33: [
        function (a, b, c) {
          var d, e, f, g;
          (e = a("./React-shim")),
            (f = a("./createSetStateOnEventMixin")),
            (g = a("../optionsStyles/optionsStyles").optionsStyles),
            (d = e.createClass({
              displayName: "Options",
              getState: function () {
                var a;
                return {
                  style:
                    null != (a = this.props.lc.tool) ? a.optionsStyle : void 0,
                  tool: this.props.lc.tool,
                };
              },
              getInitialState: function () {
                return this.getState();
              },
              mixins: [f("toolChange")],
              renderBody: function () {
                var a;
                return (
                  (a = "" + this.state.style),
                  g[a] &&
                    g[a]({
                      lc: this.props.lc,
                      tool: this.state.tool,
                      imageURLPrefix: this.props.imageURLPrefix,
                    })
                );
              },
              render: function () {
                var a;
                return (a = e.DOM.div)(
                  { className: "lc-options horz-toolbar" },
                  this.renderBody()
                );
              },
            })),
            (b.exports = d);
        },
        {
          "../optionsStyles/optionsStyles": 26,
          "./React-shim": 35,
          "./createSetStateOnEventMixin": 40,
        },
      ],
      34: [
        function (a, b, c) {
          var d, e, f, g, h, i, j, k;
          (h = a("./React-shim")),
            (d = h.createFactory(a("./ClearButton"))),
            (i = h.createFactory(a("./UndoRedoButtons"))),
            (j = h.createFactory(a("./ZoomButtons"))),
            (k = a("../core/localization")._),
            (f = h.createFactory(a("./ColorWell"))),
            (e = h.createFactory(
              h.createClass({
                displayName: "ColorPickers",
                render: function () {
                  var a, b;
                  return (
                    (b = this.props.lc),
                    (a = h.DOM.div)(
                      { className: "lc-color-pickers" },
                      f({ lc: b, colorName: "primary", label: k("stroke") }),
                      f({ lc: b, colorName: "secondary", label: k("fill") }),
                      f({ lc: b, colorName: "background", label: k("bg") })
                    )
                  );
                },
              })
            )),
            (g = h.createClass({
              displayName: "Picker",
              getInitialState: function () {
                return { selectedToolIndex: 0 };
              },
              renderBody: function () {
                var a, b, c, f, g;
                return (
                  (a = h.DOM.div),
                  (f = this.props),
                  (g = f.toolButtonComponents),
                  (c = f.lc),
                  (b = f.imageURLPrefix),
                  a(
                    { className: "lc-picker-contents" },
                    g.map(
                      (function (a) {
                        return function (d, e) {
                          return d({
                            lc: c,
                            imageURLPrefix: b,
                            key: e,
                            isSelected: e === a.state.selectedToolIndex,
                            onSelect: function (b) {
                              return (
                                c.setTool(b),
                                a.setState({ selectedToolIndex: e })
                              );
                            },
                          });
                        };
                      })(this)
                    ),
                    g.length % 2 !== 0
                      ? a({ className: "toolbar-button thin-button disabled" })
                      : void 0,
                    a(
                      {
                        style: {
                          position: "absolute",
                          bottom: 0,
                          left: 0,
                          right: 0,
                        },
                      },
                      e({ lc: this.props.lc }),
                      i({ lc: c, imageURLPrefix: b }),
                      j({ lc: c, imageURLPrefix: b }),
                      d({ lc: c })
                    )
                  )
                );
              },
              render: function () {
                var a;
                return (a = h.DOM.div)(
                  { className: "lc-picker" },
                  this.renderBody()
                );
              },
            })),
            (b.exports = g);
        },
        {
          "../core/localization": 13,
          "./ClearButton": 30,
          "./ColorWell": 31,
          "./React-shim": 35,
          "./UndoRedoButtons": 38,
          "./ZoomButtons": 39,
        },
      ],
      35: [
        function (a, b, c) {
          var d;
          try {
            d = a("react");
          } catch (e) {
            d = window.React;
          }
          if (null == d) throw "Can't find React";
          b.exports = d;
        },
        { react: "react" },
      ],
      36: [
        function (a, b, c) {
          var d;
          try {
            d = a("react-dom");
          } catch (e) {
            d = window.ReactDOM;
          }
          if (null == d)
            try {
              d = a("react");
            } catch (f) {
              d = window.React;
            }
          if (null == d) throw "Can't find ReactDOM";
          b.exports = d;
        },
        { react: "react", "react-dom": "react-dom" },
      ],
      37: [
        function (a, b, c) {
          var d, e, f;
          (d = a("./React-shim")),
            (f = a("../reactGUI/createSetStateOnEventMixin")),
            (e = a("../core/util").classSet),
            (b.exports = d.createClass({
              displayName: "StrokeWidthPicker",
              getState: function (a) {
                return (
                  null == a && (a = this.props.tool),
                  { strokeWidth: a.strokeWidth }
                );
              },
              getInitialState: function () {
                return this.getState();
              },
              mixins: [f("toolDidUpdateOptions")],
              componentWillReceiveProps: function (a) {
                return this.setState(this.getState(a.tool));
              },
              render: function () {
                var a, b, c, f, g, h, i;
                return (
                  (f = d.DOM),
                  (i = f.ul),
                  (c = f.li),
                  (h = f.svg),
                  (a = f.circle),
                  (b = f.div),
                  (g = this.props.lc.opts.strokeWidths),
                  b(
                    {},
                    g.map(
                      (function (c) {
                        return function (d, f) {
                          var g, i;
                          return (
                            (g = e({
                              "square-toolbar-button": !0,
                              selected: d === c.state.strokeWidth,
                            })),
                            (i = 28),
                            b(
                              { key: d },
                              b(
                                {
                                  className: g,
                                  onClick: function () {
                                    return c.props.lc.trigger(
                                      "setStrokeWidth",
                                      d
                                    );
                                  },
                                },
                                h(
                                  {
                                    width: i - 2,
                                    height: i - 2,
                                    viewPort: "0 0 " + d + " " + d,
                                    version: "1.1",
                                    xmlns: "http://www.w3.org/2000/svg",
                                  },
                                  a({
                                    cx: Math.ceil(i / 2 - 1),
                                    cy: Math.ceil(i / 2 - 1),
                                    r: d / 2,
                                  })
                                )
                              )
                            )
                          );
                        };
                      })(this)
                    )
                  )
                );
              },
            }));
        },
        {
          "../core/util": 19,
          "../reactGUI/createSetStateOnEventMixin": 40,
          "./React-shim": 35,
        },
      ],
      38: [
        function (a, b, c) {
          var d, e, f, g, h, i, j;
          (d = a("./React-shim")),
            (i = a("./createSetStateOnEventMixin")),
            (h = a("../core/util").classSet),
            (j = function (a) {
              return d.createClass({
                displayName: "undo" === a ? "UndoButton" : "RedoButton",
                getState: function () {
                  return {
                    isEnabled: function () {
                      switch (!1) {
                        case "undo" !== a:
                          return this.props.lc.canUndo();
                        case "redo" !== a:
                          return this.props.lc.canRedo();
                      }
                    }.call(this),
                  };
                },
                getInitialState: function () {
                  return this.getState();
                },
                mixins: [i("drawingChange")],
                render: function () {
                  var b, c, e, f, g, i, j, k, l, m, n;
                  return (
                    (j = d.DOM),
                    (c = j.div),
                    (f = j.img),
                    (k = this.props),
                    (g = k.lc),
                    (e = k.imageURLPrefix),
                    (n = "undo" === a ? "Undo" : "Redo"),
                    (b =
                      "lc-" +
                      a +
                      " " +
                      h({
                        "toolbar-button": !0,
                        "thin-button": !0,
                        disabled: !this.state.isEnabled,
                      })),
                    (i = function () {
                      switch (!1) {
                        case !!this.state.isEnabled:
                          return function () {};
                        case "undo" !== a:
                          return function () {
                            return g.undo();
                          };
                        case "redo" !== a:
                          return function () {
                            return g.redo();
                          };
                      }
                    }.call(this)),
                    (l = e + "/" + a + ".png"),
                    (m = { backgroundImage: "url(" + l + ")" }),
                    c({ className: b, onClick: i, title: n, style: m })
                  );
                },
              });
            }),
            (f = d.createFactory(j("undo"))),
            (e = d.createFactory(j("redo"))),
            (g = d.createClass({
              displayName: "UndoRedoButtons",
              render: function () {
                var a;
                return (a = d.DOM.div)(
                  { className: "lc-undo-redo" },
                  f(this.props),
                  e(this.props)
                );
              },
            })),
            (b.exports = g);
        },
        {
          "../core/util": 19,
          "./React-shim": 35,
          "./createSetStateOnEventMixin": 40,
        },
      ],
      39: [
        function (a, b, c) {
          var d, e, f, g, h, i, j;
          (d = a("./React-shim")),
            (i = a("./createSetStateOnEventMixin")),
            (h = a("../core/util").classSet),
            (j = function (a) {
              return d.createClass({
                displayName: "in" === a ? "ZoomInButton" : "ZoomOutButton",
                getState: function () {
                  return {
                    isEnabled: function () {
                      switch (!1) {
                        case "in" !== a:
                          return (
                            this.props.lc.scale < this.props.lc.config.zoomMax
                          );
                        case "out" !== a:
                          return (
                            this.props.lc.scale > this.props.lc.config.zoomMin
                          );
                      }
                    }.call(this),
                  };
                },
                getInitialState: function () {
                  return this.getState();
                },
                mixins: [i("zoom")],
                render: function () {
                  var b, c, e, f, g, i, j, k, l, m, n;
                  return (
                    (j = d.DOM),
                    (c = j.div),
                    (f = j.img),
                    (k = this.props),
                    (g = k.lc),
                    (e = k.imageURLPrefix),
                    (n = "in" === a ? "Zoom in" : "Zoom out"),
                    (b =
                      "lc-zoom-" +
                      a +
                      " " +
                      h({
                        "toolbar-button": !0,
                        "thin-button": !0,
                        disabled: !this.state.isEnabled,
                      })),
                    (i = function () {
                      switch (!1) {
                        case !!this.state.isEnabled:
                          return function () {};
                        case "in" !== a:
                          return function () {
                            return g.zoom(g.config.zoomStep);
                          };
                        case "out" !== a:
                          return function () {
                            return g.zoom(-g.config.zoomStep);
                          };
                      }
                    }.call(this)),
                    (l = e + "/zoom-" + a + ".png"),
                    (m = { backgroundImage: "url(" + l + ")" }),
                    c({ className: b, onClick: i, title: n, style: m })
                  );
                },
              });
            }),
            (g = d.createFactory(j("out"))),
            (f = d.createFactory(j("in"))),
            (e = d.createClass({
              displayName: "ZoomButtons",
              render: function () {
                var a;
                return (a = d.DOM.div)(
                  { className: "lc-zoom" },
                  g(this.props),
                  f(this.props)
                );
              },
            })),
            (b.exports = e);
        },
        {
          "../core/util": 19,
          "./React-shim": 35,
          "./createSetStateOnEventMixin": 40,
        },
      ],
      40: [
        function (a, b, c) {
          var d, e;
          (d = a("./React-shim")),
            (b.exports = e =
              function (a) {
                return {
                  componentDidMount: function () {
                    return (this.unsubscribe = this.props.lc.on(
                      a,
                      (function (a) {
                        return function () {
                          return a.setState(a.getState());
                        };
                      })(this)
                    ));
                  },
                  componentWillUnmount: function () {
                    return this.unsubscribe();
                  },
                };
              });
        },
        { "./React-shim": 35 },
      ],
      41: [
        function (a, b, c) {
          var d, e, f, g;
          (d = a("./React-shim")),
            (f = a("../core/util").classSet),
            (e = a("../core/localization")._),
            (g = function (a) {
              var b, c;
              return (
                (b = a.name),
                (c = a.iconName),
                d.createFactory(
                  d.createClass({
                    displayName: b,
                    getDefaultProps: function () {
                      return { isSelected: !1, lc: null };
                    },
                    componentWillMount: function () {
                      return this.props.isSelected
                        ? this.props.lc.setTool(a)
                        : void 0;
                    },
                    render: function () {
                      var g, h, i, j, k, l, m, n, o;
                      return (
                        (m = d.DOM),
                        (h = m.div),
                        (j = m.img),
                        (n = this.props),
                        (i = n.imageURLPrefix),
                        (k = n.isSelected),
                        (l = n.onSelect),
                        (g = f({
                          "lc-pick-tool": !0,
                          "toolbar-button": !0,
                          "thin-button": !0,
                          selected: k,
                        })),
                        (o = i + "/" + c + ".png"),
                        h({
                          className: g,
                          style: { backgroundImage: "url(" + o + ")" },
                          onClick: function () {
                            return l(a);
                          },
                          title: e(b),
                        })
                      );
                    },
                  })
                )
              );
            }),
            (b.exports = g);
        },
        { "../core/localization": 13, "../core/util": 19, "./React-shim": 35 },
      ],
      42: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            var c = a.className,
              d = new g(b);
            return (
              f.render(e.createElement(h, { lc: d }), a),
              (d.teardown = function () {
                d._teardown();
                for (var b = 0; b < a.children.length; b++)
                  a.removeChild(a.children[b]);
                a.className = c;
              }),
              d
            );
          }
          var e = a("./React-shim"),
            f = a("./ReactDOM-shim"),
            g = a("../core/LiterallyCanvas"),
            h = a("./LiterallyCanvas");
          b.exports = d;
        },
        {
          "../core/LiterallyCanvas": 5,
          "./LiterallyCanvas": 32,
          "./React-shim": 35,
          "./ReactDOM-shim": 36,
        },
      ],
      43: [
        function (a, b, c) {
          var d,
            e,
            f,
            g = function (a, b) {
              function c() {
                this.constructor = a;
              }
              for (var d in b) h.call(b, d) && (a[d] = b[d]);
              return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
              );
            },
            h = {}.hasOwnProperty;
          (e = a("./base").ToolWithStroke),
            (f = a("../core/shapes").createShape),
            (b.exports = d =
              (function (a) {
                function b() {
                  return b.__super__.constructor.apply(this, arguments);
                }
                return (
                  g(b, a),
                  (b.prototype.name = "Ellipse"),
                  (b.prototype.iconName = "ellipse"),
                  (b.prototype.begin = function (a, b, c) {
                    return (this.currentShape = f("Ellipse", {
                      x: a,
                      y: b,
                      strokeWidth: this.strokeWidth,
                      strokeColor: c.getColor("primary"),
                      fillColor: c.getColor("secondary"),
                    }));
                  }),
                  (b.prototype["continue"] = function (a, b, c) {
                    return (
                      (this.currentShape.width = a - this.currentShape.x),
                      (this.currentShape.height = b - this.currentShape.y),
                      c.drawShapeInProgress(this.currentShape)
                    );
                  }),
                  (b.prototype.end = function (a, b, c) {
                    return c.saveShape(this.currentShape);
                  }),
                  b
                );
              })(e));
        },
        { "../core/shapes": 17, "./base": 53 },
      ],
      44: [
        function (a, b, c) {
          var d,
            e,
            f,
            g = function (a, b) {
              function c() {
                this.constructor = a;
              }
              for (var d in b) h.call(b, d) && (a[d] = b[d]);
              return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
              );
            },
            h = {}.hasOwnProperty;
          (e = a("./Pencil")),
            (f = a("../core/shapes").createShape),
            (b.exports = d =
              (function (a) {
                function b() {
                  return b.__super__.constructor.apply(this, arguments);
                }
                return (
                  g(b, a),
                  (b.prototype.name = "Eraser"),
                  (b.prototype.iconName = "eraser"),
                  (b.prototype.makePoint = function (a, b, c) {
                    return f("Point", {
                      x: a,
                      y: b,
                      size: this.strokeWidth,
                      color: "#000",
                    });
                  }),
                  (b.prototype.makeShape = function () {
                    return f("ErasedLinePath");
                  }),
                  b
                );
              })(e));
        },
        { "../core/shapes": 17, "./Pencil": 48 },
      ],
      45: [
        function (a, b, c) {
          var d,
            e,
            f,
            g = function (a, b) {
              function c() {
                this.constructor = a;
              }
              for (var d in b) h.call(b, d) && (a[d] = b[d]);
              return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
              );
            },
            h = {}.hasOwnProperty;
          (e = a("./base").Tool),
            (f = function (a, b) {
              var c, d, e;
              return (
                (d = b.x),
                (e = b.y),
                (c = a.getImageData(d, e, 1, 1).data),
                c[3] ? "rgb(" + c[0] + ", " + c[1] + ", " + c[2] + ")" : null
              );
            }),
            (b.exports = d =
              (function (a) {
                function b(a) {
                  b.__super__.constructor.call(this, a),
                    (this.strokeOrFill = "stroke");
                }
                return (
                  g(b, a),
                  (b.prototype.name = "Eyedropper"),
                  (b.prototype.iconName = "eyedropper"),
                  (b.prototype.optionsStyle = "stroke-or-fill"),
                  (b.prototype.readColor = function (a, b, c) {
                    var d, e, g, h;
                    return (
                      (h = c.getDefaultImageRect()),
                      (d = c.getImage()),
                      (g = f(d.getContext("2d"), { x: a - h.x, y: b - h.y })),
                      (e = g || c.getColor("background")),
                      "stroke" === this.strokeOrFill
                        ? c.setColor("primary", g)
                        : c.setColor("secondary", g)
                    );
                  }),
                  (b.prototype.begin = function (a, b, c) {
                    return this.readColor(a, b, c);
                  }),
                  (b.prototype["continue"] = function (a, b, c) {
                    return this.readColor(a, b, c);
                  }),
                  b
                );
              })(e));
        },
        { "./base": 53 },
      ],
      46: [
        function (a, b, c) {
          var d,
            e,
            f,
            g = function (a, b) {
              function c() {
                this.constructor = a;
              }
              for (var d in b) h.call(b, d) && (a[d] = b[d]);
              return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
              );
            },
            h = {}.hasOwnProperty;
          (e = a("./base").ToolWithStroke),
            (f = a("../core/shapes").createShape),
            (b.exports = d =
              (function (a) {
                function b() {
                  return b.__super__.constructor.apply(this, arguments);
                }
                return (
                  g(b, a),
                  (b.prototype.name = "Line"),
                  (b.prototype.iconName = "line"),
                  (b.prototype.optionsStyle = "line-options-and-stroke-width"),
                  (b.prototype.begin = function (a, b, c) {
                    return (this.currentShape = f("Line", {
                      x1: a,
                      y1: b,
                      x2: a,
                      y2: b,
                      strokeWidth: this.strokeWidth,
                      dash: function () {
                        switch (!1) {
                          case !this.isDashed:
                            return [2 * this.strokeWidth, 4 * this.strokeWidth];
                          default:
                            return null;
                        }
                      }.call(this),
                      endCapShapes: this.hasEndArrow ? [null, "arrow"] : null,
                      color: c.getColor("primary"),
                    }));
                  }),
                  (b.prototype["continue"] = function (a, b, c) {
                    return (
                      (this.currentShape.x2 = a),
                      (this.currentShape.y2 = b),
                      c.drawShapeInProgress(this.currentShape)
                    );
                  }),
                  (b.prototype.end = function (a, b, c) {
                    return c.saveShape(this.currentShape);
                  }),
                  b
                );
              })(e));
        },
        { "../core/shapes": 17, "./base": 53 },
      ],
      47: [
        function (a, b, c) {
          var d,
            e,
            f,
            g = function (a, b) {
              function c() {
                this.constructor = a;
              }
              for (var d in b) h.call(b, d) && (a[d] = b[d]);
              return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
              );
            },
            h = {}.hasOwnProperty;
          (e = a("./base").Tool),
            (f = a("../core/shapes").createShape),
            (b.exports = d =
              (function (a) {
                function b() {
                  return b.__super__.constructor.apply(this, arguments);
                }
                return (
                  g(b, a),
                  (b.prototype.name = "Pan"),
                  (b.prototype.iconName = "pan"),
                  (b.prototype.usesSimpleAPI = !1),
                  (b.prototype.didBecomeActive = function (a) {
                    var b;
                    return (
                      (b = []),
                      (this.unsubscribe = (function (a) {
                        return function () {
                          var a, c, d, e;
                          for (e = [], c = 0, d = b.length; d > c; c++)
                            (a = b[c]), e.push(a());
                          return e;
                        };
                      })(this)),
                      b.push(
                        a.on(
                          "lc-pointerdown",
                          (function (b) {
                            return function (c) {
                              var d, e;
                              return (
                                (d = c.rawX),
                                (e = c.rawY),
                                (b.oldPosition = a.position),
                                (b.pointerStart = { x: d, y: e })
                              );
                            };
                          })(this)
                        )
                      ),
                      b.push(
                        a.on(
                          "lc-pointerdrag",
                          (function (b) {
                            return function (c) {
                              var d, e, f;
                              return (
                                (e = c.rawX),
                                (f = c.rawY),
                                (d = {
                                  x: (e - b.pointerStart.x) * a.backingScale,
                                  y: (f - b.pointerStart.y) * a.backingScale,
                                }),
                                a.setPan(
                                  b.oldPosition.x + d.x,
                                  b.oldPosition.y + d.y
                                )
                              );
                            };
                          })(this)
                        )
                      )
                    );
                  }),
                  (b.prototype.willBecomeInactive = function (a) {
                    return this.unsubscribe();
                  }),
                  b
                );
              })(e));
        },
        { "../core/shapes": 17, "./base": 53 },
      ],
      48: [
        function (a, b, c) {
          var d,
            e,
            f,
            g = function (a, b) {
              function c() {
                this.constructor = a;
              }
              for (var d in b) h.call(b, d) && (a[d] = b[d]);
              return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
              );
            },
            h = {}.hasOwnProperty;
          (e = a("./base").ToolWithStroke),
            (f = a("../core/shapes").createShape),
            (b.exports = d =
              (function (a) {
                function b() {
                  return b.__super__.constructor.apply(this, arguments);
                }
                return (
                  g(b, a),
                  (b.prototype.name = "Pencil"),
                  (b.prototype.iconName = "pencil"),
                  (b.prototype.eventTimeThreshold = 10),
                  (b.prototype.begin = function (a, b, c) {
                    return (
                      (this.color = c.getColor("primary")),
                      (this.currentShape = this.makeShape()),
                      this.currentShape.addPoint(this.makePoint(a, b, c)),
                      (this.lastEventTime = Date.now())
                    );
                  }),
                  (b.prototype["continue"] = function (a, b, c) {
                    var d;
                    return (
                      (d = Date.now() - this.lastEventTime),
                      d > this.eventTimeThreshold
                        ? ((this.lastEventTime += d),
                          this.currentShape.addPoint(this.makePoint(a, b, c)),
                          c.drawShapeInProgress(this.currentShape))
                        : void 0
                    );
                  }),
                  (b.prototype.end = function (a, b, c) {
                    return (
                      c.saveShape(this.currentShape),
                      (this.currentShape = void 0)
                    );
                  }),
                  (b.prototype.makePoint = function (a, b, c) {
                    return f("Point", {
                      x: a,
                      y: b,
                      size: this.strokeWidth,
                      color: this.color,
                    });
                  }),
                  (b.prototype.makeShape = function () {
                    return f("LinePath");
                  }),
                  b
                );
              })(e));
        },
        { "../core/shapes": 17, "./base": 53 },
      ],
      49: [
        function (a, b, c) {
          var d,
            e,
            f,
            g = function (a, b) {
              function c() {
                this.constructor = a;
              }
              for (var d in b) h.call(b, d) && (a[d] = b[d]);
              return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
              );
            },
            h = {}.hasOwnProperty;
          (e = a("./base").ToolWithStroke),
            (f = a("../core/shapes").createShape),
            (b.exports = d =
              (function (a) {
                function b() {
                  return b.__super__.constructor.apply(this, arguments);
                }
                return (
                  g(b, a),
                  (b.prototype.name = "Polygon"),
                  (b.prototype.iconName = "polygon"),
                  (b.prototype.usesSimpleAPI = !1),
                  (b.prototype.didBecomeActive = function (a) {
                    var c, d, e, f, g, h, i;
                    return (
                      b.__super__.didBecomeActive.call(this, a),
                      (i = []),
                      (this.polygonUnsubscribe = (function (a) {
                        return function () {
                          var a, b, c, d;
                          for (d = [], b = 0, c = i.length; c > b; b++)
                            (a = i[b]), d.push(a());
                          return d;
                        };
                      })(this)),
                      (this.points = null),
                      (this.maybePoint = null),
                      (e = (function (b) {
                        return function () {
                          return b._getWillFinish()
                            ? b._close(a)
                            : (a.trigger("lc-polygon-started"),
                              b.points
                                ? b.points.push(b.maybePoint)
                                : (b.points = [b.maybePoint]),
                              (b.maybePoint = {
                                x: b.maybePoint.x,
                                y: b.maybePoint.y,
                              }),
                              a.setShapesInProgress(b._getShapes(a)),
                              a.repaintLayer("main"));
                        };
                      })(this)),
                      (d = (function (b) {
                        return function (c) {
                          var d, e;
                          return (
                            (d = c.x),
                            (e = c.y),
                            b.maybePoint
                              ? ((b.maybePoint.x = d),
                                (b.maybePoint.y = e),
                                a.setShapesInProgress(b._getShapes(a)),
                                a.repaintLayer("main"))
                              : void 0
                          );
                        };
                      })(this)),
                      (c = (function (b) {
                        return function (c) {
                          var d, e;
                          return (
                            (d = c.x),
                            (e = c.y),
                            (b.maybePoint = { x: d, y: e }),
                            a.setShapesInProgress(b._getShapes(a)),
                            a.repaintLayer("main")
                          );
                        };
                      })(this)),
                      (h = (function (b) {
                        return function () {
                          return (
                            (b.maybePoint = { x: 1 / 0, y: 1 / 0 }), b._close(a)
                          );
                        };
                      })(this)),
                      (g = (function (b) {
                        return function () {
                          return (b.maybePoint = b.points[0]), b._close(a);
                        };
                      })(this)),
                      (f = (function (b) {
                        return function () {
                          return b._cancel(a);
                        };
                      })(this)),
                      i.push(
                        a.on(
                          "drawingChange",
                          (function (b) {
                            return function () {
                              return b._cancel(a);
                            };
                          })(this)
                        )
                      ),
                      i.push(a.on("lc-pointerdown", c)),
                      i.push(a.on("lc-pointerdrag", d)),
                      i.push(a.on("lc-pointermove", d)),
                      i.push(a.on("lc-pointerup", e)),
                      i.push(a.on("lc-polygon-finishopen", h)),
                      i.push(a.on("lc-polygon-finishclosed", g)),
                      i.push(a.on("lc-polygon-cancel", f))
                    );
                  }),
                  (b.prototype.willBecomeInactive = function (a) {
                    return (
                      b.__super__.willBecomeInactive.call(this, a),
                      (this.points || this.maybePoint) && this._cancel(a),
                      this.polygonUnsubscribe()
                    );
                  }),
                  (b.prototype._getArePointsClose = function (a, b) {
                    return Math.abs(a.x - b.x) + Math.abs(a.y - b.y) < 10;
                  }),
                  (b.prototype._getWillClose = function () {
                    return (
                      !!(
                        this.points &&
                        this.points.length > 1 &&
                        this.maybePoint
                      ) &&
                      this._getArePointsClose(this.points[0], this.maybePoint)
                    );
                  }),
                  (b.prototype._getWillFinish = function () {
                    return (
                      !!(
                        this.points &&
                        this.points.length > 1 &&
                        this.maybePoint
                      ) &&
                      (this._getArePointsClose(
                        this.points[0],
                        this.maybePoint
                      ) ||
                        this._getArePointsClose(
                          this.points[this.points.length - 1],
                          this.maybePoint
                        ))
                    );
                  }),
                  (b.prototype._cancel = function (a) {
                    return (
                      a.trigger("lc-polygon-stopped"),
                      (this.maybePoint = null),
                      (this.points = null),
                      a.setShapesInProgress([]),
                      a.repaintLayer("main")
                    );
                  }),
                  (b.prototype._close = function (a) {
                    return (
                      a.trigger("lc-polygon-stopped"),
                      a.setShapesInProgress([]),
                      this.points.length > 2 &&
                        a.saveShape(this._getShape(a, !1)),
                      (this.maybePoint = null),
                      (this.points = null)
                    );
                  }),
                  (b.prototype._getShapes = function (a, b) {
                    var c;
                    return (
                      null == b && (b = !0),
                      (c = this._getShape(a, b)),
                      c ? [c] : []
                    );
                  }),
                  (b.prototype._getShape = function (a, b) {
                    var c;
                    return (
                      null == b && (b = !0),
                      (c = []),
                      this.points && (c = c.concat(this.points)),
                      !b && c.length < 3
                        ? null
                        : (b && this.maybePoint && c.push(this.maybePoint),
                          c.length > 1
                            ? f("Polygon", {
                                isClosed: this._getWillClose(),
                                strokeColor: a.getColor("primary"),
                                fillColor: a.getColor("secondary"),
                                strokeWidth: this.strokeWidth,
                                points: c.map(function (a) {
                                  return f("Point", a);
                                }),
                              })
                            : null)
                    );
                  }),
                  (b.prototype.optionsStyle = "polygon-and-stroke-width"),
                  b
                );
              })(e));
        },
        { "../core/shapes": 17, "./base": 53 },
      ],
      50: [
        function (a, b, c) {
          var d,
            e,
            f,
            g = function (a, b) {
              function c() {
                this.constructor = a;
              }
              for (var d in b) h.call(b, d) && (a[d] = b[d]);
              return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
              );
            },
            h = {}.hasOwnProperty;
          (e = a("./base").ToolWithStroke),
            (f = a("../core/shapes").createShape),
            (b.exports = d =
              (function (a) {
                function b() {
                  return b.__super__.constructor.apply(this, arguments);
                }
                return (
                  g(b, a),
                  (b.prototype.name = "Rectangle"),
                  (b.prototype.iconName = "rectangle"),
                  (b.prototype.begin = function (a, b, c) {
                    return (this.currentShape = f("Rectangle", {
                      x: a,
                      y: b,
                      strokeWidth: this.strokeWidth,
                      strokeColor: c.getColor("primary"),
                      fillColor: c.getColor("secondary"),
                    }));
                  }),
                  (b.prototype["continue"] = function (a, b, c) {
                    return (
                      (this.currentShape.width = a - this.currentShape.x),
                      (this.currentShape.height = b - this.currentShape.y),
                      c.drawShapeInProgress(this.currentShape)
                    );
                  }),
                  (b.prototype.end = function (a, b, c) {
                    return c.saveShape(this.currentShape);
                  }),
                  b
                );
              })(e));
        },
        { "../core/shapes": 17, "./base": 53 },
      ],
      51: [
        function (a, b, c) {
          var d,
            e,
            f,
            g = function (a, b) {
              function c() {
                this.constructor = a;
              }
              for (var d in b) h.call(b, d) && (a[d] = b[d]);
              return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
              );
            },
            h = {}.hasOwnProperty;
          (e = a("./base").Tool),
            (f = a("../core/shapes").createShape),
            (b.exports = d =
              (function (a) {
                function b(a) {
                  (this.selectCanvas = document.createElement("canvas")),
                    (this.selectCanvas.style["background-color"] =
                      "transparent"),
                    (this.selectCtx = this.selectCanvas.getContext("2d"));
                }
                return (
                  g(b, a),
                  (b.prototype.name = "SelectShape"),
                  (b.prototype.usesSimpleAPI = !1),
                  (b.prototype.didBecomeActive = function (a) {
                    var b, c, d, e;
                    return (
                      (e = []),
                      (this._selectShapeUnsubscribe = (function (a) {
                        return function () {
                          var a, b, c, d;
                          for (d = [], b = 0, c = e.length; c > b; b++)
                            (a = e[b]), d.push(a());
                          return d;
                        };
                      })(this)),
                      (b = (function (b) {
                        return function (c) {
                          var d, e, g, h;
                          return (
                            (g = c.x),
                            (h = c.y),
                            (b.didDrag = !1),
                            (e = b._getPixel(g, h, a, b.selectCtx)),
                            (b.selectedShape = a.shapes[e]),
                            null != b.selectedShape
                              ? (a.trigger("shapeSelected", {
                                  selectedShape: b.selectedShape,
                                }),
                                a.setShapesInProgress([
                                  b.selectedShape,
                                  f("SelectionBox", {
                                    shape: b.selectedShape,
                                    handleSize: 0,
                                  }),
                                ]),
                                a.repaintLayer("main"),
                                (d = b.selectedShape.getBoundingRect()),
                                (b.dragOffset = { x: g - d.x, y: h - d.y }))
                              : void 0
                          );
                        };
                      })(this)),
                      (c = (function (b) {
                        return function (c) {
                          var d, e;
                          return (
                            (d = c.x),
                            (e = c.y),
                            null != b.selectedShape
                              ? ((b.didDrag = !0),
                                b.selectedShape.setUpperLeft({
                                  x: d - b.dragOffset.x,
                                  y: e - b.dragOffset.y,
                                }),
                                a.setShapesInProgress([
                                  b.selectedShape,
                                  f("SelectionBox", {
                                    shape: b.selectedShape,
                                    handleSize: 0,
                                  }),
                                ]),
                                a.repaintLayer("main"))
                              : void 0
                          );
                        };
                      })(this)),
                      (d = (function (b) {
                        return function (c) {
                          var d, e;
                          return (
                            (d = c.x),
                            (e = c.y),
                            b.didDrag
                              ? ((b.didDrag = !1),
                                a.trigger("shapeMoved", {
                                  shape: b.selectedShape,
                                }),
                                a.trigger("drawingChange", {}),
                                a.repaintLayer("main"),
                                b._drawSelectCanvas(a))
                              : void 0
                          );
                        };
                      })(this)),
                      e.push(a.on("lc-pointerdown", b)),
                      e.push(a.on("lc-pointerdrag", c)),
                      e.push(a.on("lc-pointerup", d)),
                      this._drawSelectCanvas(a)
                    );
                  }),
                  (b.prototype.willBecomeInactive = function (a) {
                    return (
                      this._selectShapeUnsubscribe(), a.setShapesInProgress([])
                    );
                  }),
                  (b.prototype._drawSelectCanvas = function (a) {
                    var b;
                    return (
                      (this.selectCanvas.width = a.canvas.width),
                      (this.selectCanvas.height = a.canvas.height),
                      this.selectCtx.clearRect(
                        0,
                        0,
                        this.selectCanvas.width,
                        this.selectCanvas.height
                      ),
                      (b = a.shapes.map(
                        (function (a) {
                          return function (b, c) {
                            return f("SelectionBox", {
                              shape: b,
                              handleSize: 0,
                              backgroundColor: "#" + a._intToHex(c),
                            });
                          };
                        })(this)
                      )),
                      a.draw(b, this.selectCtx)
                    );
                  }),
                  (b.prototype._intToHex = function (a) {
                    return ("000000" + a.toString(16)).slice(-6);
                  }),
                  (b.prototype._getPixel = function (a, b, c, d) {
                    var e, f;
                    return (
                      (e = c.drawingCoordsToClientCoords(a, b)),
                      (f = d.getImageData(e.x, e.y, 1, 1).data),
                      f[3]
                        ? parseInt(this._rgbToHex(f[0], f[1], f[2]), 16)
                        : null
                    );
                  }),
                  (b.prototype._componentToHex = function (a) {
                    var b;
                    return (b = a.toString(16)), ("0" + b).slice(-2);
                  }),
                  (b.prototype._rgbToHex = function (a, b, c) {
                    return (
                      "" +
                      this._componentToHex(a) +
                      this._componentToHex(b) +
                      this._componentToHex(c)
                    );
                  }),
                  b
                );
              })(e));
        },
        { "../core/shapes": 17, "./base": 53 },
      ],
      52: [
        function (a, b, c) {
          var d,
            e,
            f,
            g,
            h = function (a, b) {
              function c() {
                this.constructor = a;
              }
              for (var d in b) i.call(b, d) && (a[d] = b[d]);
              return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
              );
            },
            i = {}.hasOwnProperty;
          (e = a("./base").Tool),
            (f = a("../core/shapes").createShape),
            (g = function (a, b) {
              return (
                !(a.x < b.x) &&
                !(a.y < b.y) &&
                !(a.x > b.x + b.width) &&
                !(a.y > b.y + b.height)
              );
            }),
            (b.exports = d =
              (function (a) {
                function b() {
                  (this.text = ""),
                    (this.font = "bold 18px sans-serif"),
                    (this.currentShape = null),
                    (this.currentShapeState = null),
                    (this.initialShapeBoundingRect = null),
                    (this.dragAction = null),
                    (this.didDrag = !1);
                }
                return (
                  h(b, a),
                  (b.prototype.name = "Text"),
                  (b.prototype.iconName = "text"),
                  (b.prototype.didBecomeActive = function (a) {
                    var b, c, d;
                    return (
                      (c = []),
                      (this.unsubscribe = (function (a) {
                        return function () {
                          var a, b, d, e;
                          for (e = [], b = 0, d = c.length; d > b; b++)
                            (a = c[b]), e.push(a());
                          return e;
                        };
                      })(this)),
                      (b = (function (b) {
                        return function () {
                          return (
                            b._ensureNotEditing(a),
                            b._clearCurrentShape(a),
                            a.repaintLayer("main")
                          );
                        };
                      })(this)),
                      (d = (function (b) {
                        return function () {
                          return b._updateInputEl(a);
                        };
                      })(this)),
                      c.push(a.on("drawingChange", b)),
                      c.push(a.on("zoom", d)),
                      c.push(a.on("imageSizeChange", d)),
                      c.push(
                        a.on(
                          "snapshotLoad",
                          (function (b) {
                            return function () {
                              return (
                                b._clearCurrentShape(a), a.repaintLayer("main")
                              );
                            };
                          })(this)
                        )
                      ),
                      c.push(
                        a.on(
                          "primaryColorChange",
                          (function (b) {
                            return function (c) {
                              return b.currentShape
                                ? ((b.currentShape.color = c),
                                  b._updateInputEl(a),
                                  a.repaintLayer("main"))
                                : void 0;
                            };
                          })(this)
                        )
                      ),
                      c.push(
                        a.on(
                          "setFont",
                          (function (b) {
                            return function (c) {
                              return b.currentShape
                                ? ((b.font = c),
                                  b.currentShape.setFont(c),
                                  b._setShapesInProgress(a),
                                  b._updateInputEl(a),
                                  a.repaintLayer("main"))
                                : void 0;
                            };
                          })(this)
                        )
                      )
                    );
                  }),
                  (b.prototype.willBecomeInactive = function (a) {
                    return (
                      this.currentShape &&
                        (this._ensureNotEditing(a), this.commit(a)),
                      this.unsubscribe()
                    );
                  }),
                  (b.prototype.setText = function (a) {
                    return (this.text = a);
                  }),
                  (b.prototype._ensureNotEditing = function (a) {
                    return "editing" === this.currentShapeState
                      ? this._exitEditingState(a)
                      : void 0;
                  }),
                  (b.prototype._clearCurrentShape = function (a) {
                    return (
                      (this.currentShape = null),
                      (this.initialShapeBoundingRect = null),
                      (this.currentShapeState = null),
                      a.setShapesInProgress([])
                    );
                  }),
                  (b.prototype.commit = function (a) {
                    return (
                      this.currentShape.text && a.saveShape(this.currentShape),
                      this._clearCurrentShape(a),
                      a.repaintLayer("main")
                    );
                  }),
                  (b.prototype._getSelectionShape = function (a, b) {
                    return (
                      null == b && (b = null),
                      f("SelectionBox", {
                        shape: this.currentShape,
                        ctx: a,
                        backgroundColor: b,
                      })
                    );
                  }),
                  (b.prototype._setShapesInProgress = function (a) {
                    switch (this.currentShapeState) {
                      case "selected":
                        return a.setShapesInProgress([
                          this._getSelectionShape(a.ctx),
                          this.currentShape,
                        ]);
                      case "editing":
                        return a.setShapesInProgress([
                          this._getSelectionShape(a.ctx, "#fff"),
                        ]);
                      default:
                        return a.setShapesInProgress([this.currentShape]);
                    }
                  }),
                  (b.prototype.begin = function (a, b, c) {
                    var d, e, h, i;
                    return (
                      (this.dragAction = "none"),
                      (this.didDrag = !1),
                      "selected" === this.currentShapeState ||
                      "editing" === this.currentShapeState
                        ? ((d = this.currentShape.getBoundingRect(c.ctx)),
                          (i = this._getSelectionShape(c.ctx)),
                          (h = i.getBoundingRect()),
                          (e = { x: a, y: b }),
                          g(e, d) && (this.dragAction = "move"),
                          g(e, i.getBottomRightHandleRect()) &&
                            (this.dragAction = "resizeBottomRight"),
                          g(e, i.getTopLeftHandleRect()) &&
                            (this.dragAction = "resizeTopLeft"),
                          g(e, i.getBottomLeftHandleRect()) &&
                            (this.dragAction = "resizeBottomLeft"),
                          g(e, i.getTopRightHandleRect()) &&
                            (this.dragAction = "resizeTopRight"),
                          "none" === this.dragAction &&
                            "editing" === this.currentShapeState &&
                            ((this.dragAction = "stop-editing"),
                            this._exitEditingState(c)))
                        : ((this.color = c.getColor("primary")),
                          (this.currentShape = f("Text", {
                            x: a,
                            y: b,
                            text: this.text,
                            color: this.color,
                            font: this.font,
                            v: 1,
                          })),
                          (this.dragAction = "place"),
                          (this.currentShapeState = "selected")),
                      "none" === this.dragAction
                        ? void this.commit(c)
                        : ((this.initialShapeBoundingRect =
                            this.currentShape.getBoundingRect(c.ctx)),
                          (this.dragOffset = {
                            x: a - this.initialShapeBoundingRect.x,
                            y: b - this.initialShapeBoundingRect.y,
                          }),
                          this._setShapesInProgress(c),
                          c.repaintLayer("main"))
                    );
                  }),
                  (b.prototype["continue"] = function (a, b, c) {
                    var d, e, f;
                    if ("none" !== this.dragAction) {
                      switch (
                        ((d = this.initialShapeBoundingRect),
                        (f = d.x + d.width),
                        (e = d.y + d.height),
                        this.dragAction)
                      ) {
                        case "place":
                          (this.currentShape.x = a),
                            (this.currentShape.y = b),
                            (this.didDrag = !0);
                          break;
                        case "move":
                          (this.currentShape.x = a - this.dragOffset.x),
                            (this.currentShape.y = b - this.dragOffset.y),
                            (this.didDrag = !0);
                          break;
                        case "resizeBottomRight":
                          this.currentShape.setSize(
                            a -
                              (this.dragOffset.x -
                                this.initialShapeBoundingRect.width) -
                              d.x,
                            b -
                              (this.dragOffset.y -
                                this.initialShapeBoundingRect.height) -
                              d.y
                          );
                          break;
                        case "resizeTopLeft":
                          this.currentShape.setSize(
                            f - a + this.dragOffset.x,
                            e - b + this.dragOffset.y
                          ),
                            this.currentShape.setPosition(
                              a - this.dragOffset.x,
                              b - this.dragOffset.y
                            );
                          break;
                        case "resizeBottomLeft":
                          this.currentShape.setSize(
                            f - a + this.dragOffset.x,
                            b -
                              (this.dragOffset.y -
                                this.initialShapeBoundingRect.height) -
                              d.y
                          ),
                            this.currentShape.setPosition(
                              a - this.dragOffset.x,
                              this.currentShape.y
                            );
                          break;
                        case "resizeTopRight":
                          this.currentShape.setSize(
                            a -
                              (this.dragOffset.x -
                                this.initialShapeBoundingRect.width) -
                              d.x,
                            e - b + this.dragOffset.y
                          ),
                            this.currentShape.setPosition(
                              this.currentShape.x,
                              b - this.dragOffset.y
                            );
                      }
                      return (
                        this._setShapesInProgress(c),
                        c.repaintLayer("main"),
                        this._updateInputEl(c)
                      );
                    }
                  }),
                  (b.prototype.end = function (a, b, c) {
                    return this.currentShape
                      ? (this.currentShape.setSize(
                          this.currentShape.forcedWidth,
                          0
                        ),
                        "selected" === this.currentShapeState &&
                          ("place" === this.dragAction ||
                            ("move" === this.dragAction && !this.didDrag)) &&
                          this._enterEditingState(c),
                        this._setShapesInProgress(c),
                        c.repaintLayer("main"),
                        this._updateInputEl(c))
                      : void 0;
                  }),
                  (b.prototype._enterEditingState = function (a) {
                    var b;
                    if (((this.currentShapeState = "editing"), this.inputEl))
                      throw "State error";
                    return (
                      (this.inputEl = document.createElement("textarea")),
                      (this.inputEl.className = "text-tool-input"),
                      (this.inputEl.style.position = "absolute"),
                      (this.inputEl.style.transformOrigin = "0px 0px"),
                      (this.inputEl.style.backgroundColor = "transparent"),
                      (this.inputEl.style.border = "none"),
                      (this.inputEl.style.outline = "none"),
                      (this.inputEl.style.margin = "0"),
                      (this.inputEl.style.padding = "4px"),
                      (this.inputEl.style.zIndex = "1000"),
                      (this.inputEl.style.overflow = "hidden"),
                      (this.inputEl.style.resize = "none"),
                      (this.inputEl.value = this.currentShape.text),
                      this.inputEl.addEventListener("mousedown", function (a) {
                        return a.stopPropagation();
                      }),
                      this.inputEl.addEventListener("touchstart", function (a) {
                        return a.stopPropagation();
                      }),
                      (b = (function (b) {
                        return function (c) {
                          return (
                            b.currentShape.setText(c.target.value),
                            b.currentShape.enforceMaxBoundingRect(a),
                            b._setShapesInProgress(a),
                            a.repaintLayer("main"),
                            b._updateInputEl(a),
                            c.stopPropagation()
                          );
                        };
                      })(this)),
                      this.inputEl.addEventListener(
                        "keydown",
                        (function (b) {
                          return function () {
                            return b._updateInputEl(a, !0);
                          };
                        })(this)
                      ),
                      this.inputEl.addEventListener("keyup", b),
                      this.inputEl.addEventListener("change", b),
                      this._updateInputEl(a),
                      a.containerEl.appendChild(this.inputEl),
                      this.inputEl.focus(),
                      this._setShapesInProgress(a)
                    );
                  }),
                  (b.prototype._exitEditingState = function (a) {
                    return (
                      (this.currentShapeState = "selected"),
                      a.containerEl.removeChild(this.inputEl),
                      (this.inputEl = null),
                      this._setShapesInProgress(a),
                      a.repaintLayer("main")
                    );
                  }),
                  (b.prototype._updateInputEl = function (a, b) {
                    var c, d;
                    return (
                      null == b && (b = !1),
                      this.inputEl
                        ? ((c = this.currentShape.getBoundingRect(a.ctx, !0)),
                          (this.inputEl.style.font = this.currentShape.font),
                          (this.inputEl.style.color = this.currentShape.color),
                          (this.inputEl.style.left =
                            a.position.x / a.backingScale +
                            c.x * a.scale -
                            4 +
                            "px"),
                          (this.inputEl.style.top =
                            a.position.y / a.backingScale +
                            c.y * a.scale -
                            4 +
                            "px"),
                          b && !this.currentShape.forcedWidth
                            ? (this.inputEl.style.width =
                                c.width +
                                10 +
                                this.currentShape.renderer.emDashWidth +
                                "px")
                            : (this.inputEl.style.width = c.width + 12 + "px"),
                          b
                            ? (this.inputEl.style.height =
                                c.height +
                                10 +
                                this.currentShape.renderer.metrics.leading +
                                "px")
                            : (this.inputEl.style.height =
                                c.height + 10 + "px"),
                          (d = "scale(" + a.scale + ")"),
                          (this.inputEl.style.transform = d),
                          (this.inputEl.style.webkitTransform = d),
                          (this.inputEl.style.MozTransform = d),
                          (this.inputEl.style.msTransform = d),
                          (this.inputEl.style.OTransform = d))
                        : void 0
                    );
                  }),
                  (b.prototype.optionsStyle = "font"),
                  b
                );
              })(e));
        },
        { "../core/shapes": 17, "./base": 53 },
      ],
      53: [
        function (a, b, c) {
          var d,
            e,
            f,
            g = function (a, b) {
              function c() {
                this.constructor = a;
              }
              for (var d in b) h.call(b, d) && (a[d] = b[d]);
              return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
              );
            },
            h = {}.hasOwnProperty;
          (f = {}),
            (f.Tool = d =
              (function () {
                function a() {}
                return (
                  (a.prototype.name = null),
                  (a.prototype.iconName = null),
                  (a.prototype.usesSimpleAPI = !0),
                  (a.prototype.begin = function (a, b, c) {}),
                  (a.prototype["continue"] = function (a, b, c) {}),
                  (a.prototype.end = function (a, b, c) {}),
                  (a.prototype.optionsStyle = null),
                  (a.prototype.didBecomeActive = function (a) {}),
                  (a.prototype.willBecomeInactive = function (a) {}),
                  a
                );
              })()),
            (f.ToolWithStroke = e =
              (function (a) {
                function b(a) {
                  this.strokeWidth = a.opts.defaultStrokeWidth;
                }
                return (
                  g(b, a),
                  (b.prototype.optionsStyle = "stroke-width"),
                  (b.prototype.didBecomeActive = function (a) {
                    var b;
                    return (
                      (b = []),
                      (this.unsubscribe = (function (a) {
                        return function () {
                          var a, c, d, e;
                          for (e = [], c = 0, d = b.length; d > c; c++)
                            (a = b[c]), e.push(a());
                          return e;
                        };
                      })(this)),
                      b.push(
                        a.on(
                          "setStrokeWidth",
                          (function (b) {
                            return function (c) {
                              return (
                                (b.strokeWidth = c),
                                a.trigger("toolDidUpdateOptions")
                              );
                            };
                          })(this)
                        )
                      )
                    );
                  }),
                  (b.prototype.willBecomeInactive = function (a) {
                    return this.unsubscribe();
                  }),
                  b
                );
              })(d)),
            (b.exports = f);
        },
        {},
      ],
    },
    {},
    [22]
  )(22);
});
define("filter_poodll/literallycanvas_amd", [
  "jquery",
  "core/log",
  "filter_poodll/utils_amd",
  "filter_poodll/uploader",
  "filter_poodll/react_amd",
  "filter_poodll/literallycanvas",
], function (a, b, c, d, e, f) {
  "use strict";
  return (
    b.debug("Filter PoodLL: literallycanvas.js initialising"),
    {
      loadliterallycanvas: function (b) {
        var c = "#amdopts_" + b.recorderid,
          e = a(c).get(0);
        e && ((b = JSON.parse(e.value)), (this.config = b), a(c).remove());
        var g = "#" + b.recorderid + "_literally",
          h = a(g)[0],
          i = 4,
          j = 0.2;
        if ((b.whiteboardnozoom > 0 && ((i = 1), (j = 1)), b.backgroundimage)) {
          var k = a("#" + b.recorderid + "_separate-background-image")[0],
            l = new Image();
          (l.src = k.src), (l.crossOrigin = "Anonymous");
          var m = f.createShape("Image", { x: 0, y: 0, image: l, scale: 1 }),
            n = f.init(h, {
              imageURLPrefix: b.imageurlprefix,
              backgroundColor: b.backgroundcolor,
              backgroundShapes: [m],
              recorderid: b.recorderid,
              zoomMax: i,
              zoomMin: j,
            });
        } else
          var n = f.init(h, {
            imageURLPrefix: b.imageurlprefix,
            backgroundColor: b.backgroundcolor,
            recorderid: b.recorderid,
            zoomMax: i,
            zoomMin: j,
          });
        (this.lc = n), d.init(g, b);
        var o = b.vectordata;
        o &&
          ((0 != o.indexOf('{"shapes"') && 0 != o.indexOf('{"colors"')) ||
            n.loadSnapshot(JSON.parse(o))),
          this.registerEvents();
      },
      registerEvents: function () {
        var b = this,
          e = this.config,
          f = e.recorderid;
        e.autosave
          ? this.lc.on("drawingChange", function () {
              var d = a("#" + f + "_messages")[0],
                g = a("#" + f + "_btn_upload_whiteboard")[0];
              if (d) {
                g && (g.disabled = !1), (d.innerHTML = "");
                var h = c.timeouthandles[f];
                h && clearTimeout(h),
                  (c.timeouthandles[f] = setTimeout(function () {
                    c.WhiteboardUploadHandler(f, b.lc, e);
                  }, e.autosave));
              }
            })
          : this.lc.on("drawingChange", function () {
              var b = a("#" + f + "_messages");
              b && (b.innerHTML = "File has not been saved.");
            });
        var g = "#" + f + "_btn_upload_whiteboard",
          h = a(g);
        h &&
          (e.autosave
            ? h.click(function () {
                c.WhiteboardUploadHandler(f, b.lc, e);
              })
            : h.click(function () {
                var a = c.getCvs(f, b.lc, e);
                c.pokeVectorData(f, b.lc, e),
                  d.uploadFile(a.toDataURL(), "image");
              }));
      },
    }
  );
});
define("filter_poodll/lzflash", [
  "filter_poodll/poodll_shims",
  "lzflash",
], function (a, b) {
  return b;
});
define("filter_poodll/media_refresher", ["jquery", "core/log"], function (
  a,
  b
) {
  "use strict";
  return (
    b.debug("Media refresher: initialising"),
    {
      placeholderduration: null,
      mediaduration: null,
      alertconverted: null,
      clone: function () {
        return a.extend(!0, {}, this);
      },
      init: function (a, b, c, d) {
        (this.placeholderduration = b),
          (this.mediaduration = c),
          (this.alertconverted = d),
          this.check_updates(a, "firstpass");
      },
      should_be_checked: function (a) {
        return this.mediaduration == this.placeholderduration && "" != a;
      },
      check_updates: function (a, c) {
        if ("firstpass" != c || this.should_be_checked(a)) {
          var d = new XMLHttpRequest(),
            e = this;
          d.onreadystatechange = function (f) {
            if (4 === this.readyState)
              if (200 == d.status) {
                b.debug("ok we got a mediarefresh response");
                var g = d.responseText,
                  h = JSON.parse(g);
                if (h)
                  switch (h.code) {
                    case "mediaready":
                      e.alertconverted();
                      break;
                    case "stillwaiting":
                      setTimeout(function () {
                        e.check_updates(a, "secondpass");
                      }, 15e3);
                      break;
                    case "notask":
                      "secondpass" == c && e.alertconverted();
                      break;
                    case "notloggedin":
                  }
              } else b.debug("Not 200 response:" + d.status);
          };
          var f = "filename=" + a;
          d.open(
            "POST",
            M.cfg.wwwroot + "/filter/poodll/ajaxmediaquery.php",
            !0
          ),
            d.setRequestHeader(
              "Content-Type",
              "application/x-www-form-urlencoded"
            ),
            d.setRequestHeader("Cache-Control", "no-cache"),
            d.send(f);
        }
      },
    }
  );
});
define("filter_poodll/poodll_basemediaskin", [
  "jquery",
  "core/log",
  "filter_poodll/utils_amd",
], function (a, b, c) {
  "use strict";
  return (
    b.debug("PoodLL Base Skin: initialising"),
    {
      instanceprops: null,
      pmr: null,
      clone: function () {
        return a.extend(!0, {}, this);
      },
      init: function (a, b) {
        (this.instanceprops = a), (this.pmr = b);
      },
      fetch_instanceprops: function () {
        return this.instanceprops;
      },
      onUploadSuccess: function (b) {
        a("#" + b + " > .poodll_save-recording").hide(),
          a("#" + b + " > .poodll_savedsuccessfully").show();
      },
      onUploadFailure: function (a) {},
      fetch_status_bar: function (a) {
        var b =
          '<div class="poodll_status_' +
          a +
          '" width="320" height="50">00:00:00</div>';
        return b;
      },
      fetch_preview_audio: function (a) {
        var b =
          '<audio class="poodll_preview_' + a + ' hide" controls></audio>';
        return b;
      },
      fetch_preview_video: function (a) {
        var b =
          '<video class="poodll_preview_' +
          a +
          '" width="320" height="240"></video>';
        return b;
      },
      onMediaError: function (a) {
        console.error("media error", a);
      },
      onMediaSuccess_video: function (a) {
        var b = this.fetch_instanceprops(a);
        b.controlbar.stopbutton.attr("disabled", !1),
          b.controlbar.pausebutton.attr("disabled", !1),
          b.controlbar.savebutton.attr("disabled", !1);
      },
      onMediaSuccess_audio: function (a) {
        var b = this.fetch_instanceprops(a);
        b.controlbar.preview.attr("src", null),
          b.controlbar.stopbutton.attr("disabled", !1),
          b.controlbar.pausebutton.attr("disabled", !1),
          b.controlbar.savebutton.attr("disabled", !1);
      },
      update_status: function (a) {
        var b = this.fetch_instanceprops(a);
        b.controlbar.status.html(b.timer.fetch_display_time());
      },
      set_visual_mode: function (a, b) {
        var c = this.fetch_instanceprops(b);
        switch (a) {
          case "recordmode":
            c.controlbar.preview.addClass("poodll_recording"),
              c.controlbar.status.addClass("poodll_recording"),
              "audio" == c.config.mediatype &&
                c.controlbar.preview.addClass("hide"),
              c.controlbar.status.removeClass("hide");
            break;
          case "previewmode":
            c.controlbar.preview.removeClass("poodll_recording"),
              c.controlbar.status.removeClass("poodll_recording"),
              "audio" == c.config.mediatype &&
                c.controlbar.preview.removeClass("hide"),
              c.controlbar.status.addClass("hide");
            break;
          case "pausedmode":
            c.controlbar.preview.removeClass("poodll_recording"),
              c.controlbar.status.removeClass("poodll_recording");
        }
      },
      insert_controlbar_video: function (a, b, c) {
        return this.insert_controlbar_audio(a, b, c);
      },
      insert_controlbar_audio: function (b, c, d) {
        var e = '<div class="poodll_mediarecorderbox_standard" id="' + c + '">',
          f = this.fetch_status_bar("standard");
        (e += f),
          (e += d),
          (e +=
            '<button type="button" class="poodll_mediarecorder_button_standard poodll_start-recording_standard">' +
            M.util.get_string("recui_record", "filter_poodll") +
            "</button>"),
          (e +=
            '<button type="button" class="poodll_mediarecorder_button_standard poodll_stop-recording_standard" disabled>' +
            M.util.get_string("recui_stop", "filter_poodll") +
            "</button>"),
          (e +=
            '<button type="button" class="poodll_mediarecorder_button_standard poodll_pause-recording_standard" disabled>' +
            M.util.get_string("recui_pause", "filter_poodll") +
            "</button>"),
          (e +=
            ' <button type="button" class="poodll_mediarecorder_button_standard poodll_resume-recording_standard hide" disabled>' +
            M.util.get_string("recui_continue", "filter_poodll") +
            "</button>"),
          (e +=
            ' <button type="button" class="poodll_mediarecorder_button_standard poodll_play-recording_standard" disabled>' +
            M.util.get_string("recui_play", "filter_poodll") +
            "</button>"),
          (e +=
            '<button type="button" class="poodll_save-recording_standard" disabled>' +
            M.util.get_string("recui_save", "filter_poodll") +
            "</button>"),
          (e += "</div>"),
          a(b).prepend(e);
        var g = {
          status: a("#" + c + " > .poodll_status_standard"),
          preview: a("#" + c + " > .poodll_preview_standard"),
          startbutton: a("#" + c + " > .poodll_start-recording_standard"),
          stopbutton: a("#" + c + " > .poodll_stop-recording_standard"),
          pausebutton: a("#" + c + " > .poodll_pause-recording_standard"),
          resumebutton: a("#" + c + " > .poodll_resume-recording_standard"),
          playbutton: a("#" + c + " > .poodll_play-recording_standard"),
          savebutton: a("#" + c + " > .poodll_save-recording_standard"),
        };
        return g;
      },
      register_controlbar_events_video: function (a, b, c) {
        return this.register_controlbar_events_audio(a, b, c);
      },
      register_controlbar_events_audio: function (b, c, d) {
        var e = this,
          f = this.pmr,
          g = this.fetch_instanceprops(d);
        g.controlbar.startbutton.click(function () {
          f.do_start_audio(g, c, b),
            a("#" + g.config.widgetid + "_messages").text(""),
            (this.disabled = !0),
            g.controlbar.playbutton.attr("disabled", !0),
            g.controlbar.resumebutton.hide(),
            g.controlbar.stopbutton.attr("disabled", !1),
            g.controlbar.pausebutton.show(),
            g.controlbar.pausebutton.attr("disabled", !1),
            e.set_visual_mode("recordmode", d),
            g.timer.reset(),
            g.timer.start(),
            e.update_status(d);
        }),
          g.controlbar.stopbutton.click(function () {
            f.do_stop_audio(g), (this.disabled = !0);
            var a = g.controlbar.preview;
            a && a.get(0) && a.get(0).pause(),
              e.set_visual_mode("previewmode", d),
              g.timer.stop(),
              e.update_status(d),
              g.controlbar.playbutton.attr("disabled", !1),
              g.controlbar.pausebutton.attr("disabled", !0),
              g.uploaded || g.controlbar.startbutton.attr("disabled", !1),
              g.controlbar.resumebutton.hide(),
              g.controlbar.pausebutton.show();
          }),
          g.controlbar.pausebutton.click(function () {
            (this.disabled = !0),
              a(this).hide(),
              g.controlbar.resumebutton.show(),
              f.do_pause_audio(g),
              g.controlbar.resumebutton.attr("disabled", !1),
              e.set_visual_mode("pausedmode", d),
              g.timer.pause(),
              e.update_status(d);
          }),
          g.controlbar.resumebutton.click(function () {
            (this.disabled = !0),
              a(this).hide(),
              g.controlbar.pausebutton.show(),
              f.do_resume_audio(g),
              g.controlbar.pausebutton.attr("disabled", !1),
              e.set_visual_mode("recordmode", d),
              g.timer.resume(),
              e.update_status(d);
          }),
          g.controlbar.playbutton.click(function () {
            this.disabled = !0;
            var a = g.controlbar.preview.get(0);
            f.do_play_audio(g, a),
              g.controlbar.stopbutton.attr("disabled", !1),
              g.controlbar.startbutton.attr("disabled", !0);
          }),
          g.controlbar.savebutton.click(function () {
            return (
              (this.disabled = !0),
              g.blobs && g.blobs.length > 0
                ? (f.do_save_audio(g),
                  (g.uploaded = !0),
                  g.controlbar.startbutton.attr("disabled", !0))
                : g.uploader.Output(
                    M.util.get_string(
                      "recui_nothingtosaveerror",
                      "filter_poodll"
                    )
                  ),
              !1
            );
          }),
          (window.onbeforeunload = function () {
            g.controlbar.startbutton.attr("disabled", !1);
            var a = g.controlbar.preview;
            a && a.get(0) && a.get(0).pause();
          });
      },
    }
  );
});
define("filter_poodll/poodll_burntrosemediaskin", [
  "jquery",
  "core/log",
  "filter_poodll/utils_amd",
], function (a, b, c) {
  "use strict";
  return (
    b.debug("PoodLL Burnt Rose Skin: initialising"),
    {
      instanceprops: null,
      pmr: null,
      clone: function () {
        return a.extend(!0, {}, this);
      },
      init: function (a, b, c) {
        (this.instanceprops = a), (this.pmr = b);
      },
      fetch_instanceprops: function () {
        return this.instanceprops;
      },
      onUploadSuccess: function (c) {
        b.debug("from poodllmediarecorder: uploadsuccess");
        var d = "filter_poodll_controlbar_" + c;
        a("#" + d + " > .poodll_save-recording").hide(),
          a("#" + d + " > .poodll_savedsuccessfully").show();
      },
      onUploadFailure: function (a) {
        b.debug("from poodllmediarecorder: uploadfailure");
      },
      fetch_status_bar: function (a) {
        var b =
          '<div class="poodll_status_' +
          a +
          '" width="320" height="50">00:00:00</div>';
        return b;
      },
      fetch_preview_audio: function (a) {
        var b =
          '<audio class="poodll_preview_' + a + ' hide" controls></audio>';
        return b;
      },
      fetch_preview_video: function (a) {
        var b =
          '<video class="poodll_preview_' +
          a +
          '" width="320" height="240"></video>';
        return b;
      },
      onMediaError: function (a) {
        console.error("media error", a);
      },
      onMediaSuccess_video: function (a) {
        var b = this.fetch_instanceprops(a);
        b.controlbar.stopbutton.attr("disabled", !1),
          b.controlbar.pausebutton.attr("disabled", !1),
          b.controlbar.savebutton.attr("disabled", !1);
      },
      onMediaSuccess_audio: function (a) {
        var b = this.fetch_instanceprops(a);
        b.controlbar.preview.attr("src", null),
          b.controlbar.stopbutton.attr("disabled", !1),
          b.controlbar.pausebutton.attr("disabled", !1),
          b.controlbar.savebutton.attr("disabled", !1);
      },
      update_status: function (a) {
        var b = this.fetch_instanceprops(a);
        b.controlbar.status.html(b.timer.fetch_display_time());
      },
      set_visual_mode: function (a, b) {
        var c = this.fetch_instanceprops(b);
        switch (a) {
          case "recordmode":
            c.controlbar.preview.addClass("poodll_recording"),
              c.controlbar.status.addClass("poodll_recording"),
              "audio" == c.config.mediatype &&
                c.controlbar.preview.addClass("hide"),
              c.controlbar.status.removeClass("hide");
            break;
          case "previewmode":
            c.controlbar.preview.removeClass("poodll_recording"),
              c.controlbar.status.removeClass("poodll_recording");
            break;
          case "pausedmode":
            c.controlbar.preview.removeClass("poodll_recording"),
              c.controlbar.status.removeClass("poodll_recording");
        }
      },
      insert_controlbar_audio: function (b, c, d) {
        var e = '<div class="poodll_mediarecorderbox" id="' + c + '">',
          f = this.fetch_status_bar("burntrose");
        (e += f),
          (e += d),
          (e +=
            '<span class="poodll_start-recording" title="' +
            M.util.get_string("recui_record", "filter_poodll") +
            '"></span>'),
          (e +=
            '<span class="poodll_stop-recording hide" title="' +
            M.util.get_string("recui_stop", "filter_poodll") +
            '"></span>'),
          (e +=
            '<span class="poodll_pause-recording hide" title="' +
            M.util.get_string("recui_pause", "filter_poodll") +
            '"></span>'),
          (e +=
            ' <span class="poodll_resume-recording hide"title="' +
            M.util.get_string("recui_continue", "filter_poodll") +
            '" ></span>'),
          (e += ' <span class="poodll_play-recording" ></span>'),
          (e +=
            ' <span class="poodll_playsave hide" title="' +
            M.util.get_string("recui_play", "filter_poodll") +
            '" ></span>'),
          (e += ' <span class="poodll_mic" ></span>'),
          (e += ' <span class="poodll_recmic hide" ></span>'),
          (e += ' <span class="poodll_resume_mic hide" ></span>'),
          (e += '<span class="poodll_savebtn" ></span>'),
          (e +=
            '<span class="poodll_save-recording_burntrose hide" title="' +
            M.util.get_string("recui_save", "filter_poodll") +
            '" ></span>'),
          (e += '<span class="poodll_savedsuccessfully hide"></span>'),
          (e += "</div>"),
          a(b).prepend(e);
        var g = {
          status: a("#" + c + " > .poodll_status_burntrose"),
          preview: a("#" + c + " > .poodll_preview_burntrose"),
          startbutton: a("#" + c + " > .poodll_start-recording"),
          stopbutton: a("#" + c + " > .poodll_stop-recording"),
          pausebutton: a("#" + c + " > .poodll_pause-recording"),
          resumebutton: a("#" + c + " > .poodll_resume-recording"),
          play1: a("#" + c + " > .poodll_play-recording"),
          playbutton: a("#" + c + " > .poodll_playsave"),
          save1: a("#" + c + " > .poodll_savebtn"),
          savebutton: a("#" + c + " > .poodll_save-recording_burntrose"),
          savesuccess: a("#" + c + " > .poodll_savedsuccessfully"),
          playermic: a("#" + c + "> .poodll_mic"),
          recordmic: a("#" + c + "> .poodll_recmic"),
          resumemic: a("#" + c + "> .poodll_resume_mic"),
        };
        return g;
      },
      insert_controlbar_video: function (b, c, d) {
        var e = '<div class="poodll_mediavideobox" id="' + c + '">',
          f = this.fetch_status_bar("burntrose");
        (e += f),
          (e += d),
          (e += '<div class="poodll_mediavideobox2" id="' + c + '">'),
          (e +=
            '<span class="poodll_start-recording" title="' +
            M.util.get_string("recui_record", "filter_poodll") +
            '"></span>'),
          (e +=
            '<span class="poodll_stop-recording hide" title="' +
            M.util.get_string("recui_stop", "filter_poodll") +
            '"></span>'),
          (e +=
            '<span class="poodll_pause-recording hide" title="' +
            M.util.get_string("recui_pause", "filter_poodll") +
            '" ></span>'),
          (e +=
            ' <span class="poodll_resume-recording hide" title="' +
            M.util.get_string("recui_continue", "filter_poodll") +
            '"></span>'),
          (e += ' <span class="poodll_play-recording" ></span>'),
          (e +=
            ' <span class="poodll_playsave hide" title="' +
            M.util.get_string("recui_play", "filter_poodll") +
            '"></span>'),
          (e += ' <span class="poodll_mic hide" ></span>'),
          (e += ' <span class="poodll_recmic hide" ></span>'),
          (e += ' <span class="poodll_resume_mic hide" ></span>'),
          (e +=
            '<span class="poodll_savebtn "title="' +
            M.util.get_string("recui_save", "filter_poodll") +
            '" ></span>'),
          (e +=
            '<span class="poodll_save-recording_burntrose hide "title="' +
            M.util.get_string("recui_save", "filter_poodll") +
            '" ></span>'),
          (e += '<span class="poodll_savedsuccessfully hide" ></span>'),
          (e += "</div>"),
          (e += "</div>"),
          a(b).prepend(e);
        var g = {
          status: a("#" + c + " > .poodll_status_burntrose"),
          preview: a("#" + c + " > .poodll_preview_burntrose"),
          startbutton: a("#" + c + " > .poodll_start-recording"),
          stopbutton: a("#" + c + " > .poodll_stop-recording"),
          pausebutton: a("#" + c + " > .poodll_pause-recording"),
          resumebutton: a("#" + c + " > .poodll_resume-recording"),
          play1: a("#" + c + " > .poodll_play-recording"),
          playbutton: a("#" + c + " > .poodll_playsave"),
          save1: a("#" + c + " > .poodll_savebtn"),
          savebutton: a("#" + c + " > .poodll_save-recording_burntrose"),
          savesuccess: a("#" + c + " > .poodll_savedsuccessfully"),
          playermic: a("#" + c + "> .poodll_mic"),
          recordmic: a("#" + c + "> .poodll_recmic"),
          resumemic: a("#" + c + "> .poodll_resume_mic"),
        };
        return g;
      },
      register_controlbar_events_video: function (a, b, c) {
        return this.register_controlbar_events_audio(a, b, c);
      },
      register_controlbar_events_audio: function (b, c, d) {
        var e = this,
          f = this.pmr,
          g = this.fetch_instanceprops(d);
        g.controlbar.startbutton.click(function () {
          (this.disabled = !1),
            a("#" + g.config.widgetid + "_messages").text(""),
            f.do_start_audio(g, c, b),
            g.controlbar.playermic.hide(),
            g.controlbar.recordmic.show(),
            g.controlbar.playbutton.hide(),
            g.controlbar.play1.hide(),
            g.controlbar.pausebutton.show(),
            g.controlbar.pausebutton.attr("disabled", !1),
            g.controlbar.startbutton.hide(),
            g.controlbar.stopbutton.show(),
            g.controlbar.stopbutton.attr("disabled", !1),
            g.controlbar.savebutton.hide(),
            g.controlbar.savesuccess.hide(),
            g.controlbar.save1.show(),
            e.set_visual_mode("recordmode", d),
            g.timer.reset(),
            g.timer.start(),
            e.update_status(d);
        }),
          g.controlbar.stopbutton.click(function () {
            (this.disabled = !1),
              g.controlbar.stopbutton.hide(),
              g.controlbar.startbutton.show(),
              g.controlbar.startbutton.attr("disabled", !1),
              g.controlbar.resumebutton.hide(),
              g.controlbar.pausebutton.hide(),
              g.controlbar.play1.hide(),
              g.controlbar.playbutton.show(),
              g.controlbar.save1.hide(),
              g.controlbar.savesuccess.hide(),
              g.controlbar.savebutton.show(),
              g.controlbar.resumemic.hide(),
              g.controlbar.recordmic.hide(),
              g.controlbar.playermic.show(),
              f.do_stop_audio(g);
            var a = g.controlbar.preview;
            a && a.get(0) && a.get(0).pause(),
              e.set_visual_mode("previewmode", d),
              g.timer.stop(),
              e.update_status(d),
              g.uploaded || g.controlbar.startbutton.attr("disabled", !1);
          }),
          g.controlbar.pausebutton.click(function () {
            (this.disabled = !0),
              a(this).hide(),
              g.controlbar.resumebutton.show(),
              f.do_pause_audio(g),
              g.controlbar.resumebutton.attr("disabled", !1),
              e.set_visual_mode("pausedmode", d),
              g.timer.pause(),
              e.update_status(d),
              g.controlbar.recordmic.hide(),
              g.controlbar.resumemic.show();
          }),
          g.controlbar.resumebutton.click(function () {
            (this.disabled = !0),
              a(this).hide(),
              g.controlbar.pausebutton.show(),
              f.do_resume_audio(g),
              g.controlbar.pausebutton.attr("disabled", !1),
              e.set_visual_mode("recordmode", d),
              g.timer.resume(),
              e.update_status(d),
              g.controlbar.resumemic.hide(),
              g.controlbar.recordmic.show();
          }),
          g.controlbar.playbutton.click(function () {
            this.disabled = !1;
            var a = g.controlbar.preview.get(0);
            return a.currentTime > 0 && !a.paused
              ? (a.pause(), void (a.currentTime = 0))
              : (f.do_play_audio(g, a), void g.controlbar.startbutton.show());
          }),
          g.controlbar.savebutton.click(function () {
            return (
              (this.disabled = !1),
              g.blobs && g.blobs.length > 0
                ? (f.do_save_audio(g),
                  (g.uploaded = !0),
                  g.controlbar.startbutton.attr("disabled", !0))
                : g.uploader.Output(
                    M.util.get_string(
                      "recui_nothingtosaveerror",
                      "filter_poodll"
                    )
                  ),
              !1
            );
          }),
          (window.onbeforeunload = function () {
            g.controlbar.startbutton.attr("disabled", !1);
            var a = g.controlbar.preview;
            a && a.get(0) && a.get(0).pause();
          });
      },
    }
  );
});
define(
  "filter_poodll/poodll_flashrecorder",
  [
    "jquery",
    "core/log",
    "filter_poodll/utils_amd",
    "filter_poodll/uploader",
    "filter_poodll/lzflash",
  ],
  function (a, b, c, d, e) {
    "use strict";
    return (
      b.debug("PoodLL Flash Recorder: initialising"),
      {
        instanceprops: [],
        fetch_instance_props: function (a) {
          return this.instanceprops[a];
        },
        init_instance_props: function (a) {
          var b = {};
          (b.savebutton = null),
            (b.audiodatacontrol = null),
            (b.config = null),
            (b.uploader = null),
            (this.instanceprops[a] = b);
        },
        supports_current_browser: function (a) {
          var d = c.is_ios(),
            e = c.is_android();
          return (
            !(d || (!a.flashonandroid && e)) &&
            "audio" == a.mediatype &&
            (b.debug("PoodLL Flash Recorder: supports this browser"), !0)
          );
        },
        embed: function (b, c) {
          1 == c.flashmp3_cloudbypass &&
            ((c.posturl = c.cloudbypassurl),
            (c.filename = !1),
            (c.s3filename = !1),
            (c.using_s3 = !1)),
            this.init_instance_props(c.widgetid);
          var f = this.fetch_instance_props(c.widgetid);
          (f.ie = this.is_ie()),
            f.ie &&
              (c.flashmp3audio_widgetjson = c.flashmp3audio_widgetjson.replace(
                "sendmethod=post",
                "sendmethod=ajax"
              )),
            (f.config = c);
          var g = a.parseJSON(c.flashmp3audio_widgetjson);
          e.embed.swf(g);
          var h = "";
          f.ie && (h = ' style="display: none" ');
          var i = c.widgetid + "_savebutton",
            j =
              '<button id="' +
              i +
              '" type="button" class="poodll_save-recording"' +
              h +
              ">" +
              M.util.get_string("recui_save", "filter_poodll") +
              "</button>";
          a(b).append(j);
          var k = c.widgetid + "_adc",
            l =
              '<input type="hidden" name="audiodatacontrol" id="' +
              k +
              '" value="" />';
          a(b).prepend(l),
            (f.uploader = d.clone()),
            f.uploader.init(b, c),
            e.embed[c.widgetid].setCanvasAttribute("audiodatacontrol", k),
            (f.savebutton = a("#" + i)),
            (f.audiodatacontrol = a("#" + k)),
            this.registerevents(c.widgetid);
        },
        registerevents: function (a) {
          var b = this.fetch_instance_props(a);
          (b.audioblob = !1),
            b.savebutton.click(function () {
              var a = atob(b.audiodatacontrol.val()),
                c = a && a.length > 0;
              if (!c && !b.audioblob)
                return (
                  b.uploader.Output(
                    M.util.get_string(
                      "recui_nothingtosaveerror",
                      "filter_poodll"
                    )
                  ),
                  !1
                );
              if (!b.audioblob && c) {
                for (var d = [], f = 0; f < a.length; f++)
                  d.push(a.charCodeAt(f));
                b.audioblob = new Blob([new Uint8Array(d)], {
                  type: "audio/mpeg3",
                });
              }
              b.uploader.uploadBlob(b.audioblob, "audio/mpeg3");
              var g = "poodllapi.mp3_disable()";
              return (
                e.embed[b.config.widgetid].callMethod(g),
                b.audiodatacontrol.val(""),
                !1
              );
            });
        },
      }
    );
  }
),
  define(
    [
      "jquery",
      "core/log",
      "filter_poodll/utils_amd",
      "filter_poodll/uploader",
      "filter_poodll/lzflash",
    ],
    function (a, b, c, d, e) {
      "use strict";
      return (
        b.debug("PoodLL Flash Recorder: initialising"),
        {
          instanceprops: [],
          fetch_instance_props: function (a) {
            return this.instanceprops[a];
          },
          init_instance_props: function (a) {
            var b = {};
            (b.savebutton = null),
              (b.audiodatacontrol = null),
              (b.config = null),
              (b.uploader = null),
              (this.instanceprops[a] = b);
          },
          supports_current_browser: function (a) {
            var d = c.is_ios(),
              e = c.is_android();
            return (
              !(d || (!a.flashonandroid && e)) &&
              "audio" == a.mediatype &&
              (b.debug("PoodLL Flash Recorder: supports this browser"), !0)
            );
          },
          embed: function (b, c) {
            1 == c.flashmp3_cloudbypass &&
              ((c.posturl = c.cloudbypassurl),
              (c.filename = !1),
              (c.s3filename = !1),
              (c.using_s3 = !1)),
              this.init_instance_props(c.widgetid);
            var f = this.fetch_instance_props(c.widgetid);
            (f.ie = this.is_ie()),
              f.ie &&
                (c.flashmp3audio_widgetjson =
                  c.flashmp3audio_widgetjson.replace(
                    "sendmethod=post",
                    "sendmethod=ajax"
                  )),
              (f.config = c);
            var g = a.parseJSON(c.flashmp3audio_widgetjson);
            e.embed.swf(g);
            var h = "";
            f.ie && (h = ' style="display: none" ');
            var i = c.widgetid + "_savebutton",
              j =
                '<button id="' +
                i +
                '" type="button" class="poodll_save-recording"' +
                h +
                ">" +
                M.util.get_string("recui_save", "filter_poodll") +
                "</button>";
            a(b).append(j);
            var k = c.widgetid + "_adc",
              l =
                '<input type="hidden" name="audiodatacontrol" id="' +
                k +
                '" value="" />';
            a(b).prepend(l),
              (f.uploader = d.clone()),
              f.uploader.init(b, c),
              e.embed[c.widgetid].setCanvasAttribute("audiodatacontrol", k),
              (f.savebutton = a("#" + i)),
              (f.audiodatacontrol = a("#" + k)),
              this.registerevents(c.widgetid);
          },
          registerevents: function (a) {
            var b = this.fetch_instance_props(a);
            (b.audioblob = !1),
              b.savebutton.click(function () {
                var a = atob(b.audiodatacontrol.val()),
                  c = a && a.length > 0;
                if (!c && !b.audioblob)
                  return (
                    b.uploader.Output(
                      M.util.get_string(
                        "recui_nothingtosaveerror",
                        "filter_poodll"
                      )
                    ),
                    !1
                  );
                if (!b.audioblob && c) {
                  for (var d = [], f = 0; f < a.length; f++)
                    d.push(a.charCodeAt(f));
                  b.audioblob = new Blob([new Uint8Array(d)], {
                    type: "audio/mpeg3",
                  });
                }
                b.uploader.uploadBlob(b.audioblob, "audio/mpeg3");
                var g = "poodllapi.mp3_disable()";
                return (
                  e.embed[b.config.widgetid].callMethod(g),
                  b.audiodatacontrol.val(""),
                  !1
                );
              });
          },
        }
      );
    }
  );
define("filter_poodll/poodll_flashsnapshotrecorder", [
  "jquery",
  "core/log",
  "filter_poodll/utils_amd",
  "filter_poodll/uploader",
  "filter_poodll/lzflash",
], function (a, b, c, d, e) {
  "use strict";
  return (
    b.debug("PoodLL Flash Snapshot Recorder: initialising"),
    {
      savebutton: null,
      snapshotdatacontrol: null,
      supports_current_browser: function (a) {
        var d = c.is_ios(),
          e = c.is_android();
        return (
          !(d || (!a.flashonandroid && e)) &&
          "snapshot" == a.mediatype &&
          (b.debug("PoodLL Flash Snapshot Recorder: supports this browser"), !0)
        );
      },
      embed: function (b, c) {
        var d = a.parseJSON(c.flashsnapshot_widgetjson);
        e.embed.swf(d);
      },
    }
  );
});
define("filter_poodll/poodll_mediarecorder", [
  "jquery",
  "core/log",
  "filter_poodll/utils_amd",
  "filter_poodll/MediaStreamRecorder",
  "filter_poodll/adapter",
  "filter_poodll/uploader",
  "filter_poodll/timer",
  "filter_poodll/poodll_basemediaskin",
  "filter_poodll/poodll_burntrosemediaskin",
], function (a, b, c, d, e, f, g, h, i) {
  "use strict";
  return (
    b.debug("PoodLL Media Recorder: initialising"),
    {
      instanceprops: [],
      skins: [],
      fetch_instanceprops: function (a) {
        return this.instanceprops[a];
      },
      fetch_skin: function (a) {
        return this.skins[a];
      },
      supports_current_browser: function (a) {
        if ("audio" != a.mediatype && "video" != a.mediatype) return !1;
        var d =
          0 == M.cfg.wwwroot.indexOf("https:") ||
          0 == M.cfg.wwwroot.indexOf("http://localhost");
        if (
          d &&
          navigator &&
          navigator.mediaDevices &&
          navigator.mediaDevices.getUserMedia
        ) {
          var e = !1;
          switch (a.mediatype) {
            case "audio":
              e = !0;
              break;
            case "video":
              var f = !(
                c.is_edge() === -1 ||
                (!navigator.msSaveBlob && !navigator.msSaveOrOpenBlob)
              );
              f || (e = !0);
          }
          return (
            e && b.debug("PoodLL Media Recorder: supports this browser"), e
          );
        }
        return !1;
      },
      embed: function (a, b) {
        var c = this,
          d = "filter_poodll_controlbar_" + b.widgetid;
        this.init_instance_props(d);
        var e = this.fetch_instanceprops(d);
        (e.config = b),
          (e.timeinterval = b.media_timeinterval),
          (e.audiomimetype = b.media_audiomimetype),
          (e.videorecordertype = b.media_videorecordertype),
          (e.videocaptureheight = b.media_videocaptureheight);
        var h = this.init_skin(d, e.config.media_skin, e);
        switch (
          ((e.config.onuploadsuccess = function (a) {
            c.onUploadSuccess(a, h);
          }),
          (e.config.onuploadfailure = function (a) {
            c.onUploadFailure(a, h);
          }),
          b.mediatype)
        ) {
          case "audio":
            var i = h.fetch_preview_audio(b.media_skin);
            (e.controlbar = this.fetch_controlbar_audio(a, d, i)),
              (e.uploader = f.clone()),
              e.uploader.init(a, b),
              this.register_events_audio(d);
            break;
          case "video":
            var i = h.fetch_preview_video(b.media_skin);
            (e.controlbar = this.fetch_controlbar_video(a, d, i)),
              (e.uploader = f.clone()),
              e.uploader.init(a, b),
              this.register_events_video(d);
        }
        (e.timer = g.clone()),
          e.timer.init(0, function () {
            e.controlbar.status.html(e.timer.fetch_display_time());
          });
      },
      init_instance_props: function (a) {
        (this.instanceprops[a] = {}),
          (this.instanceprops[a].recorded_index = 0),
          (this.instanceprops[a].mediaRecorder = null),
          (this.instanceprops[a].blobs = []),
          (this.instanceprops[a].timeinterval = 5e3),
          (this.instanceprops[a].audiomimetype = "audio/webm"),
          (this.instanceprops[a].videorecordertype = "auto"),
          (this.instanceprops[a].videocapturewidth = 320),
          (this.instanceprops[a].videocaptureheight = 240),
          (this.instanceprops[a].controlbar = ""),
          (this.instanceprops[a].previewvolume = 1),
          (this.instanceprops[a].timer = {}),
          (this.instanceprops[a].uploader = {}),
          (this.instanceprops[a].uploaded = !1);
      },
      init_skin: function (a, b, c) {
        switch (b) {
          case "burntrose":
            this.skins[a] = i.clone();
            break;
          case "plain":
          case "standard":
          default:
            this.skins[a] = h.clone();
        }
        return this.skins[a].init(c, this), this.skins[a];
      },
      onUploadSuccess: function (a, c) {
        b.debug("from poodllmediarecorder: uploadsuccess");
        var d = "filter_poodll_controlbar_" + a;
        c.onUploadSuccess(d);
      },
      onUploadFailure: function (a, c) {
        b.debug("from poodllmediarecorder: uploadfailure");
        var d = "filter_poodll_controlbar_" + a;
        c.onUploadFailure(d);
      },
      onMediaError: function (a) {
        console.error("media error", a);
      },
      captureUserMedia: function (a, b, c) {
        navigator.mediaDevices.getUserMedia(a).then(b)["catch"](c);
      },
      do_start_audio: function (a, b, c) {
        (a.blobs = []), this.captureUserMedia(b, c, this.onMediaError);
      },
      do_start_video: function (a, b) {},
      do_play_audio: function (a, d) {
        if (a.blobs && a.blobs.length > 0)
          switch (
            (b.debug("playing type:" + a.blobs[0].type), a.blobs[0].type)
          ) {
            case "audio/wav":
              c.concatenateWavBlobs(a.blobs, function (b) {
                var c = URL.createObjectURL(b);
                (d.src = c),
                  (d.controls = !0),
                  (d.volume = a.previewvolume),
                  d.play();
              });
              break;
            case "video/webm":
            case "audio/ogg":
            case "audio/webm":
            default:
              var e = c.simpleConcatenateBlobs(a.blobs, a.blobs[0].type),
                f = URL.createObjectURL(e);
              (d.src = f),
                (d.controls = !0),
                (d.volume = a.previewvolume),
                d.play();
              break;
            case "olddefault":
              c.concatenateBlobs(a.blobs, a.blobs[0].type, function (b) {
                var c = URL.createObjectURL(b);
                (d.src = c),
                  (d.controls = !0),
                  (d.volume = a.previewvolume),
                  d.play();
              });
          }
      },
      do_play_video: function (a) {},
      do_save_audio: function (a) {
        if (a.blobs && a.blobs.length > 0) {
          switch (a.blobs[0].type) {
            case "audio/wav":
              c.concatenateWavBlobs(a.blobs, function (b) {
                a.uploader.uploadBlob(b, a.blobs[0].type);
              });
              break;
            case "audio/ogg":
            case "audio/webm":
            case "video/webm":
            default:
              var b = c.simpleConcatenateBlobs(a.blobs, a.blobs[0].type);
              a.uploader.uploadBlob(b, a.blobs[0].type);
              break;
            case "old default":
              c.concatenateBlobs(a.blobs, a.blobs[0].type, function (b) {
                a.uploader.uploadBlob(b, a.blobs[0].type);
              });
          }
          (a.uploaded = !0), a.controlbar.startbutton.attr("disabled", !0);
        }
      },
      do_save_video: function (a) {},
      do_stop_audio: function (a) {
        a.mediaRecorder.stop();
      },
      do_stop_video: function (a) {},
      do_pause_audio: function (a) {
        a.mediaRecorder.resume(), a.mediaRecorder.pause();
      },
      do_pause_video: function (a) {},
      do_resume_audio: function (a) {
        a.mediaRecorder.resume();
      },
      do_resume_video: function (a) {},
      register_events_audio: function (a) {
        var c = this.fetch_instanceprops(a),
          d = this.skins[a],
          e = { audio: !0 },
          f = function (e) {
            b.debug("onmediasuccess"),
              (c.mediaRecorder = new MediaStreamRecorder(e)),
              (c.mediaRecorder.mimeType = c.audiomimetype),
              (c.mediaRecorder.audioChannels = 1),
              c.mediaRecorder.start(c.timeinterval),
              b.debug(c.timeinterval),
              (c.mediaRecorder.ondataavailable = function (a) {
                b.debug("we got blob"), c.blobs.push(a);
              }),
              d.onMediaSuccess_audio(a);
          };
        d.register_controlbar_events_audio(f, e, a);
      },
      register_events_video: function (a) {
        var c = this.fetch_instanceprops(a),
          d = this.skins[a],
          e = { audio: !IsOpera && !IsEdge, video: !0 },
          f = function (e) {
            c.mediaRecorder = new MediaStreamRecorder(e);
            var f = c.controlbar.preview[0];
            (f.srcObject = e),
              (f.controls = !1),
              (f.volume = 0),
              f.play(),
              "mediarec" === c.videorecordertype &&
                (c.mediaRecorder.recorderType = MediaRecorderWrapper),
              "webp" === c.videorecordertype &&
                (c.mediaRecorder.recorderType = WhammyRecorder),
              (c.mediaRecorder.videoWidth = c.videocapturewidth),
              (c.mediaRecorder.videoHeight = c.videocaptureheight),
              c.mediaRecorder.start(c.timeinterval),
              (c.mediaRecorder.ondataavailable = function (a) {
                c.blobs.push(a), b.debug("We got a blobby");
              }),
              d.onMediaSuccess_video(a);
          };
        d.register_controlbar_events_video(f, e, a);
      },
      update_status: function (a) {
        var b = this.fetch_instanceprops(a);
        b.controlbar.status.html(b.timer.fetch_display_time());
      },
      fetch_controlbar_audio: function (a, b, c) {
        var d = (this.fetch_instanceprops(b), this.fetch_skin(b)),
          e = d.insert_controlbar_audio(a, b, c);
        return e;
      },
      fetch_controlbar_video: function (a, b, c) {
        var d = (this.fetch_instanceprops(b), this.fetch_skin(b)),
          e = d.insert_controlbar_video(a, b, c);
        return e;
      },
    }
  );
});
define("filter_poodll/poodll_mobilerecorder", [
  "jquery",
  "core/log",
  "filter_poodll/utils_amd",
  "filter_poodll/uploader",
  "filter_poodll/poodll_uploadrecorder",
], function (a, b, c, d, e) {
  "use strict";
  return (
    b.debug("PoodLL Mobile Recorder: initialising"),
    {
      instanceprops: [],
      fetch_instance_props: function (a) {
        return this.instanceprops[a];
      },
      init_instance_props: function (a) {
        var b = {};
        (b.config = null),
          (b.uploader = null),
          (b.linkid = null),
          (this.instanceprops[a] = b);
      },
      supports_current_browser: function (a) {
        if ("audio" != a.mediatype && "video" != a.mediatype) return !1;
        var b = c.is_ios();
        return b;
      },
      embed: function (a, b) {
        this.init_instance_props(b.widgetid);
        var c = this.fetch_instance_props(b.widgetid);
        switch (
          ((c.config = b),
          (c.uploader = d.clone()),
          c.uploader.init(a, b),
          (c.linkid = "filter_poodll_mobilerecorder_link_" + b.widgetid),
          b.mediatype)
        ) {
          case "audio":
            this.insert_upload_button(a, b.widgetid),
              1 == b.showmobile && this.insert_audio_button(a, b.widgetid);
            break;
          case "video":
            this.insert_upload_button(a, b.widgetid),
              1 == b.showmobile && this.insert_video_button(a, b.widgetid);
        }
        return this.register_events(a, b.widgetid), !0;
      },
      register_events: function (b, c) {
        var d = this.fetch_instance_props(c),
          f = d.config,
          g = this;
        a("#" + d.linkid).on("mousedown touchstart", function (a) {
          g.confirm_s3_arrival(c),
            d.uploader.Output(
              M.util.get_string("recui_awaitingconfirmation", "filter_poodll")
            );
        }),
          a("#" + d.linkid + "_uploadafile").on(
            "mousedown touchstart",
            function (c) {
              a(b).empty(), e.embed(b, f);
            }
          );
      },
      insert_video_button: function (b, c) {
        var d = this.fetch_instance_props(c),
          e =
            '<a class ="filter_poodll_mobilerecorderlink" id="' +
            d.linkid +
            '" href="poodllrecorder://?presignedurl=' +
            encodeURIComponent(d.config.quicktimesignedurl) +
            "&type=" +
            d.config.mediatype +
            "&quality=" +
            d.config.mobilequality +
            "&camera=" +
            d.config.mobilecamera +
            "&timelimit=" +
            d.config.timelimit +
            '">' +
            M.util.get_string("recui_openrecorderapp", "filter_poodll") +
            "</a>";
        a(b).prepend(e);
      },
      insert_audio_button: function (b, c) {
        var d = this.fetch_instance_props(c),
          e =
            '<a class ="filter_poodll_mobilerecorderlink"  id="' +
            d.linkid +
            '" href="poodllrecorder://?presignedurl=' +
            encodeURIComponent(d.config.posturl) +
            "&type=" +
            d.config.mediatype +
            "&quality=" +
            d.config.mobilequality +
            "&camera=" +
            d.config.mobilecamera +
            "&timelimit=" +
            d.config.timelimit +
            '">' +
            M.util.get_string("recui_openrecorderapp", "filter_poodll") +
            "</a>";
        a(b).prepend(e);
      },
      insert_upload_button: function (b, c) {
        var d = this.fetch_instance_props(c),
          e =
            '<a class ="filter_poodll_uploadafilelink" id="' +
            d.linkid +
            '_uploadafile" href="#">' +
            M.util.get_string("recui_uploadafile", "filter_poodll") +
            "</a>";
        a(b).prepend(e);
      },
      confirm_s3_arrival: function (a) {
        var b = this.fetch_instance_props(a),
          c = new XMLHttpRequest(),
          d = b.config,
          e = d.wwwroot + "/filter/poodll/poodllfilelib.php",
          f = "datatype=confirmarrival";
        (f += "&mediatype=" + d.mediatype),
          (f += "&filename=" + d.filename),
          c.open("POST", e, !0),
          c.setRequestHeader(
            "Content-Type",
            "application/x-www-form-urlencoded"
          ),
          c.setRequestHeader("Cache-Control", "no-cache"),
          c.setRequestHeader("Content-length", f.length),
          c.setRequestHeader("Connection", "close"),
          c.addEventListener("load", function () {
            c.response && c.response.indexOf(d.filename) > 0
              ? (b.uploader.pokeFilename(d.filename, b.uploader),
                b.uploader.postprocess_s3_upload(b.uploader),
                b.uploader.Output(
                  M.util.get_string("recui_uploadsuccess", "filter_poodll")
                ),
                b.uploader.doCallback(b.uploader, d.filename))
              : setTimeout(function () {
                  c.open("POST", e, !0),
                    c.setRequestHeader(
                      "Content-Type",
                      "application/x-www-form-urlencoded"
                    ),
                    c.setRequestHeader("Cache-Control", "no-cache"),
                    c.setRequestHeader("Content-length", f.length),
                    c.setRequestHeader("Connection", "close"),
                    c.send(f);
                }, 2e3);
          }),
          c.send(f);
      },
    }
  );
});
define("filter_poodll/poodll_red5recorder", [
  "jquery",
  "core/log",
  "filter_poodll/utils_amd",
  "filter_poodll/uploader",
  "filter_poodll/lzflash",
], function (a, b, c, d, e) {
  "use strict";
  return (
    b.debug("PoodLL Red5 Recorder: initialising"),
    {
      supports_current_browser: function (a) {
        var d = c.is_ios(),
          e = c.is_android();
        return (
          !(d || (a.flashonandroid < 1 && e)) &&
          ("audio" == a.mediatype || "video" == a.mediatype) &&
          (b.debug("PoodLL Red5 Recorder: supports this browser"), !0)
        );
      },
      embed: function (b, c) {
        switch (c.mediatype) {
          case "video":
            var d = a.parseJSON(c.red5video_widgetjson);
            break;
          case "audio":
          default:
            var d = a.parseJSON(c.red5audio_widgetjson);
        }
        e.embed.swf(d);
      },
    }
  );
});
define("filter_poodll/poodll_shims", [], function () {
  window.requirejs.config({
    paths: {
      "db-jquery":
        M.cfg.wwwroot + "/filter/poodll/3rdparty/jquery/jquery-1.12.4.min",
      lzflash: M.cfg.wwwroot + "/filter/poodll/flash/embed-compressed",
      drawingboard:
        M.cfg.wwwroot +
        "/filter/poodll/js/drawingboard.js/dist/drawingboard.min",
    },
    shim: {
      "db-jquery": { exports: "$" },
      lzflash: { exports: "lz" },
      drawingboard: { exports: "DrawingBoard", deps: ["db-jquery"] },
    },
  });
});
define("filter_poodll/poodll_snapshotrecorder", [
  "jquery",
  "core/log",
  "filter_poodll/utils_amd",
  "filter_poodll/uploader",
  "filter_poodll/webcam",
], function (a, b, c, d, e) {
  "use strict";
  return (
    b.debug("PoodLL Snapshot Recorder: initialising"),
    {
      instanceprops: [],
      fetch_instance_props: function (a) {
        return this.instanceprops[a];
      },
      init_instance_props: function (a) {
        var b = {};
        (b.imagefile = !1),
          (b.htmlthings = ""),
          (b.config = null),
          (b.uploader = null),
          (this.instanceprops[a] = b);
      },
      supports_current_browser: function (a) {
        var d = c.is_ios();
        return (
          !d &&
          "snapshot" == a.mediatype &&
          (b.debug("PoodLL Snapshot Recorder: supports this browser"), !0)
        );
      },
      embed: function (a, b) {
        this.init_instance_props(b.widgetid);
        var c = this.fetch_instance_props(b.widgetid);
        (c.config = b),
          (c.uploader = d.clone()),
          c.uploader.init(a, b),
          this.insert_controls(a, b.widgetid),
          this.register_events(b.widgetid);
      },
      insert_controls: function (b, c) {
        var d = this.fetch_instance_props(c),
          e = d.config,
          f = {
            camera: e.widgetid + "_poodll_snapshot_camera",
            preview: e.widgetid + "_poodll_snapshot_preview",
            snapbutton: e.widgetid + "_poodll_take-snapshot",
            savebutton: e.widgetid + "_poodll_save-snapshot",
            cancelbutton: e.widgetid + "_poodll_cancel-snapshot",
          };
        d.htmlthings = f;
        var g =
          '<div id="' +
          f.camera +
          '" style="width:320px; height:240px;"></div>';
        (g +=
          '<div id="' +
          f.preview +
          '" class="hide" style="width:320px; height:240px;"></div>'),
          (g +=
            '<button type="button" class="poodll_take-snapshot" id="' +
            f.snapbutton +
            '">' +
            M.util.get_string("recui_takesnapshot", "filter_poodll") +
            "</button>"),
          (g +=
            '<button type="button" class="poodll_cancel-snapshot" id="' +
            f.cancelbutton +
            '">' +
            M.util.get_string("recui_cancelsnapshot", "filter_poodll") +
            "</button>"),
          (g +=
            '<button type="button" class="poodll_save-recording" id="' +
            f.savebutton +
            '">' +
            M.util.get_string("recui_save", "filter_poodll") +
            "</button>"),
          a(b).prepend(g);
      },
      register_events: function (b) {
        var c = this.fetch_instance_props(b);
        c.config;
        e.set(
          "swfURL",
          M.cfg.wwwroot + "/filter/poodll/3rdparty/webcam/webcam.swf"
        ),
          e.attach("#" + c.htmlthings.camera),
          a("#" + c.htmlthings.savebutton).on("click", function (a) {
            if (c.imagefile) {
              var b = "image/jpeg",
                d = c.uploader.dataURItoBlob(c.imagefile, b);
              c.uploader.uploadFile(d, b);
            } else c.uploader.Output(M.util.get_string("recui_nothingtosaveerror", "filter_poodll"));
          }),
          a("#" + c.htmlthings.cancelbutton).on("click", function (b) {
            (c.imagefile = !1),
              a("#" + c.htmlthings.preview)
                .addClass("hide")
                .html(""),
              a("#" + c.htmlthings.camera).removeClass("hide");
          }),
          a("#" + c.htmlthings.snapbutton).on("click", function (b) {
            e.snap(function (b) {
              (c.imagefile = b),
                a("#" + c.htmlthings.preview)
                  .html('<img src="' + b + '"/>')
                  .removeClass("hide"),
                a("#" + c.htmlthings.camera).addClass("hide");
            });
          });
      },
    }
  );
});
define("filter_poodll/poodll_uploadrecorder", [
  "jquery",
  "core/log",
  "filter_poodll/uploader",
], function (a, b, c) {
  "use strict";
  return (
    b.debug("PoodLL upload Recorder: initialising"),
    {
      config: null,
      instanceprops: [],
      fetch_instance_props: function (a) {
        return this.instanceprops[a];
      },
      init_instance_props: function (a) {
        var b = {};
        (b.config = null), (b.uploader = null), (this.instanceprops[a] = b);
      },
      supports_current_browser: function (a) {
        return !0;
      },
      embed: function (a, b) {
        this.init_instance_props(b.widgetid);
        var d = this.fetch_instance_props(b.widgetid);
        (d.config = b),
          (d.uploader = c.clone()),
          d.uploader.init(a, b),
          this.insert_controls(a, b.widgetid),
          this.register_events(b.widgetid);
      },
      insert_controls: function (b, c) {
        var d = this.fetch_instance_props(c),
          e = "",
          f = d.config;
        switch (f.mediatype) {
          case "video":
            e = "video/*";
            break;
          case "snapshot":
          case "image":
            e = "image/*";
          case "audio":
            var g =
              /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            e = g ? "video/*" : "audio/*";
          default:
            e = "";
        }
        var h = '<div class="p_btn_wrapper">';
        (h +=
          '<input type="file" id="' +
          f.widgetid +
          '_poodllfileselect" name="poodllfileselect[]" accept="' +
          e +
          '"/>'),
          (h +=
            '<button type="button" class="p_btn">' +
            M.util.get_string("recui_recordorchoose", "filter_poodll") +
            "</button>"),
          (h += "</div>"),
          a(b).prepend(h);
      },
      register_events: function (b) {
        var c = this;
        a("#" + b + "_poodllfileselect").on("change", function (a) {
          c.FileSelectHandler(a, b);
        });
      },
      FileSelectHandler: function (a, b) {
        for (
          var c,
            d = this.fetch_instance_props(b),
            e = a.target.files || a.dataTransfer.files,
            f = 0;
          (c = e[f]);
          f++
        )
          d.uploader.uploadBlob(c, c.type);
      },
      ParseFile: function (a, b) {
        var c = this.fetch_instance_props(b),
          d = "",
          e = new FileReader();
        (e.onloadend = function (b) {
          (d = b.target.result), c.uploader.uploadFile(d, a.type);
        }),
          e.readAsDataURL(a);
      },
    }
  );
});
define("filter_poodll/poodllrecorder", [
  "jquery",
  "core/log",
  "filter_poodll/poodll_flashrecorder",
  "filter_poodll/poodll_mediarecorder",
  "filter_poodll/poodll_uploadrecorder",
  "filter_poodll/poodll_mobilerecorder",
  "filter_poodll/poodll_flashsnapshotrecorder",
  "filter_poodll/poodll_snapshotrecorder",
  "filter_poodll/poodll_red5recorder",
], function (a, b, c, d, e, f, g, h, i) {
  "use strict";
  return (
    b.debug("PoodLL Recorder: initialising"),
    {
      init: function (j) {
        var k = "#amdopts_" + j.widgetid,
          l = a(k).get(0);
        if (!l)
          return void b.debug(
            "PoodLL Recorder: No config found on page. Giving up."
          );
        (this.config = JSON.parse(l.value)),
          a(k).remove(),
          (this.config.wwwroot = M.cfg.wwwroot),
          (this.config.sesskey = M.cfg.sesskey);
        var m = this.config.selector;
        if (!m)
          return void b.debug(
            "unable to fetch element with selector:" + this.config.selector
          );
        for (var n = !1, o = 0; o < this.config.rec_order.length; o++) {
          switch (this.config.rec_order[o]) {
            case "red5":
              n = i;
              break;
            case "flashaudio":
              n = c;
              break;
            case "media":
              n = d;
              break;
            case "upload":
              n = e;
              break;
            case "mobile":
              n = f;
              break;
            case "flashsnapshot":
              n = g;
              break;
            case "snapshot":
              n = h;
          }
          if (n.supports_current_browser(this.config))
            return void n.embed(m, this.config);
        }
        b.debug("none of available recorders works on this browser");
      },
    }
  );
});
!(function (a) {
  if ("object" == typeof exports && "undefined" != typeof module)
    module.exports = a();
  else if ("function" == typeof define && define.amd)
    define("filter_poodll/react-with-addons", [], a);
  else {
    var b;
    (b =
      "undefined" != typeof window
        ? window
        : "undefined" != typeof global
        ? global
        : "undefined" != typeof self
        ? self
        : this),
      (b.React = a());
  }
})(function () {
  return (function a(b, c, d) {
    function e(g, h) {
      if (!c[g]) {
        if (!b[g]) {
          var i = "function" == typeof require && require;
          if (!h && i) return i(g, !0);
          if (f) return f(g, !0);
          var j = new Error("Cannot find module '" + g + "'");
          throw ((j.code = "MODULE_NOT_FOUND"), j);
        }
        var k = (c[g] = { exports: {} });
        b[g][0].call(
          k.exports,
          function (a) {
            var c = b[g][1][a];
            return e(c ? c : a);
          },
          k,
          k.exports,
          a,
          b,
          c,
          d
        );
      }
      return c[g].exports;
    }
    for (
      var f = "function" == typeof require && require, g = 0;
      g < d.length;
      g++
    )
      e(d[g]);
    return e;
  })(
    {
      1: [
        function (a, b, c) {
          "use strict";
          var d = a(22),
            e = a(26),
            f = a(37),
            g = a(29),
            h = a(62),
            i = a(91),
            j = a(93),
            k = a(115),
            l = a(137),
            m = a(140);
          a(168),
            (e.addons = {
              CSSTransitionGroup: g,
              LinkedStateMixin: d,
              PureRenderMixin: f,
              TransitionGroup: i,
              batchedUpdates: function () {
                return j.batchedUpdates.apply(this, arguments);
              },
              cloneWithProps: k,
              createFragment: h.create,
              shallowCompare: l,
              update: m,
            }),
            (b.exports = e);
        },
        {
          115: 115,
          137: 137,
          140: 140,
          168: 168,
          22: 22,
          26: 26,
          29: 29,
          37: 37,
          62: 62,
          91: 91,
          93: 93,
        },
      ],
      2: [
        function (a, b, c) {
          "use strict";
          var d = a(70),
            e = a(119),
            f = a(152),
            g = {
              componentDidMount: function () {
                this.props.autoFocus && f(e(this));
              },
            },
            h = {
              Mixin: g,
              focusDOMComponent: function () {
                f(d.getNode(this._rootNodeID));
              },
            };
          b.exports = h;
        },
        { 119: 119, 152: 152, 70: 70 },
      ],
      3: [
        function (a, b, c) {
          "use strict";
          function d() {
            var a = window.opera;
            return (
              "object" == typeof a &&
              "function" == typeof a.version &&
              parseInt(a.version(), 10) <= 12
            );
          }
          function e(a) {
            return (
              (a.ctrlKey || a.altKey || a.metaKey) && !(a.ctrlKey && a.altKey)
            );
          }
          function f(a) {
            switch (a) {
              case C.topCompositionStart:
                return D.compositionStart;
              case C.topCompositionEnd:
                return D.compositionEnd;
              case C.topCompositionUpdate:
                return D.compositionUpdate;
            }
          }
          function g(a, b) {
            return a === C.topKeyDown && b.keyCode === v;
          }
          function h(a, b) {
            switch (a) {
              case C.topKeyUp:
                return -1 !== u.indexOf(b.keyCode);
              case C.topKeyDown:
                return b.keyCode !== v;
              case C.topKeyPress:
              case C.topMouseDown:
              case C.topBlur:
                return !0;
              default:
                return !1;
            }
          }
          function i(a) {
            var b = a.detail;
            return "object" == typeof b && "data" in b ? b.data : null;
          }
          function j(a, b, c, d, e) {
            var j, k;
            if (
              (w
                ? (j = f(a))
                : F
                ? h(a, d) && (j = D.compositionEnd)
                : g(a, d) && (j = D.compositionStart),
              !j)
            )
              return null;
            z &&
              (F || j !== D.compositionStart
                ? j === D.compositionEnd && F && (k = F.getData())
                : (F = q.getPooled(b)));
            var l = r.getPooled(j, c, d, e);
            if (k) l.data = k;
            else {
              var m = i(d);
              null !== m && (l.data = m);
            }
            return o.accumulateTwoPhaseDispatches(l), l;
          }
          function k(a, b) {
            switch (a) {
              case C.topCompositionEnd:
                return i(b);
              case C.topKeyPress:
                var c = b.which;
                return c !== A ? null : ((E = !0), B);
              case C.topTextInput:
                var d = b.data;
                return d === B && E ? null : d;
              default:
                return null;
            }
          }
          function l(a, b) {
            if (F) {
              if (a === C.topCompositionEnd || h(a, b)) {
                var c = F.getData();
                return q.release(F), (F = null), c;
              }
              return null;
            }
            switch (a) {
              case C.topPaste:
                return null;
              case C.topKeyPress:
                return b.which && !e(b) ? String.fromCharCode(b.which) : null;
              case C.topCompositionEnd:
                return z ? null : b.data;
              default:
                return null;
            }
          }
          function m(a, b, c, d, e) {
            var f;
            if (((f = y ? k(a, d) : l(a, d)), !f)) return null;
            var g = s.getPooled(D.beforeInput, c, d, e);
            return (g.data = f), o.accumulateTwoPhaseDispatches(g), g;
          }
          var n = a(15),
            o = a(19),
            p = a(144),
            q = a(20),
            r = a(100),
            s = a(104),
            t = a(163),
            u = [9, 13, 27, 32],
            v = 229,
            w = p.canUseDOM && "CompositionEvent" in window,
            x = null;
          p.canUseDOM &&
            "documentMode" in document &&
            (x = document.documentMode);
          var y = p.canUseDOM && "TextEvent" in window && !x && !d(),
            z = p.canUseDOM && (!w || (x && x > 8 && 11 >= x)),
            A = 32,
            B = String.fromCharCode(A),
            C = n.topLevelTypes,
            D = {
              beforeInput: {
                phasedRegistrationNames: {
                  bubbled: t({ onBeforeInput: null }),
                  captured: t({ onBeforeInputCapture: null }),
                },
                dependencies: [
                  C.topCompositionEnd,
                  C.topKeyPress,
                  C.topTextInput,
                  C.topPaste,
                ],
              },
              compositionEnd: {
                phasedRegistrationNames: {
                  bubbled: t({ onCompositionEnd: null }),
                  captured: t({ onCompositionEndCapture: null }),
                },
                dependencies: [
                  C.topBlur,
                  C.topCompositionEnd,
                  C.topKeyDown,
                  C.topKeyPress,
                  C.topKeyUp,
                  C.topMouseDown,
                ],
              },
              compositionStart: {
                phasedRegistrationNames: {
                  bubbled: t({ onCompositionStart: null }),
                  captured: t({ onCompositionStartCapture: null }),
                },
                dependencies: [
                  C.topBlur,
                  C.topCompositionStart,
                  C.topKeyDown,
                  C.topKeyPress,
                  C.topKeyUp,
                  C.topMouseDown,
                ],
              },
              compositionUpdate: {
                phasedRegistrationNames: {
                  bubbled: t({ onCompositionUpdate: null }),
                  captured: t({ onCompositionUpdateCapture: null }),
                },
                dependencies: [
                  C.topBlur,
                  C.topCompositionUpdate,
                  C.topKeyDown,
                  C.topKeyPress,
                  C.topKeyUp,
                  C.topMouseDown,
                ],
              },
            },
            E = !1,
            F = null,
            G = {
              eventTypes: D,
              extractEvents: function (a, b, c, d, e) {
                return [j(a, b, c, d, e), m(a, b, c, d, e)];
              },
            };
          b.exports = G;
        },
        { 100: 100, 104: 104, 144: 144, 15: 15, 163: 163, 19: 19, 20: 20 },
      ],
      4: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            return a + b.charAt(0).toUpperCase() + b.substring(1);
          }
          var e = {
              animationIterationCount: !0,
              boxFlex: !0,
              boxFlexGroup: !0,
              boxOrdinalGroup: !0,
              columnCount: !0,
              flex: !0,
              flexGrow: !0,
              flexPositive: !0,
              flexShrink: !0,
              flexNegative: !0,
              flexOrder: !0,
              fontWeight: !0,
              lineClamp: !0,
              lineHeight: !0,
              opacity: !0,
              order: !0,
              orphans: !0,
              tabSize: !0,
              widows: !0,
              zIndex: !0,
              zoom: !0,
              fillOpacity: !0,
              stopOpacity: !0,
              strokeDashoffset: !0,
              strokeOpacity: !0,
              strokeWidth: !0,
            },
            f = ["Webkit", "ms", "Moz", "O"];
          Object.keys(e).forEach(function (a) {
            f.forEach(function (b) {
              e[d(b, a)] = e[a];
            });
          });
          var g = {
              background: {
                backgroundAttachment: !0,
                backgroundColor: !0,
                backgroundImage: !0,
                backgroundPositionX: !0,
                backgroundPositionY: !0,
                backgroundRepeat: !0,
              },
              backgroundPosition: {
                backgroundPositionX: !0,
                backgroundPositionY: !0,
              },
              border: { borderWidth: !0, borderStyle: !0, borderColor: !0 },
              borderBottom: {
                borderBottomWidth: !0,
                borderBottomStyle: !0,
                borderBottomColor: !0,
              },
              borderLeft: {
                borderLeftWidth: !0,
                borderLeftStyle: !0,
                borderLeftColor: !0,
              },
              borderRight: {
                borderRightWidth: !0,
                borderRightStyle: !0,
                borderRightColor: !0,
              },
              borderTop: {
                borderTopWidth: !0,
                borderTopStyle: !0,
                borderTopColor: !0,
              },
              font: {
                fontStyle: !0,
                fontVariant: !0,
                fontWeight: !0,
                fontSize: !0,
                lineHeight: !0,
                fontFamily: !0,
              },
              outline: { outlineWidth: !0, outlineStyle: !0, outlineColor: !0 },
            },
            h = { isUnitlessNumber: e, shorthandPropertyExpansions: g };
          b.exports = h;
        },
        {},
      ],
      5: [
        function (a, b, c) {
          "use strict";
          var d = a(4),
            e = a(144),
            f = a(76),
            g = (a(146), a(116)),
            h = a(157),
            i = a(165),
            j =
              (a(168),
              i(function (a) {
                return h(a);
              })),
            k = !1,
            l = "cssFloat";
          if (e.canUseDOM) {
            var m = document.createElement("div").style;
            try {
              m.font = "";
            } catch (n) {
              k = !0;
            }
            void 0 === document.documentElement.style.cssFloat &&
              (l = "styleFloat");
          }
          var o = {
            createMarkupForStyles: function (a) {
              var b = "";
              for (var c in a)
                if (a.hasOwnProperty(c)) {
                  var d = a[c];
                  null != d && ((b += j(c) + ":"), (b += g(c, d) + ";"));
                }
              return b || null;
            },
            setValueForStyles: function (a, b) {
              var c = a.style;
              for (var e in b)
                if (b.hasOwnProperty(e)) {
                  var f = g(e, b[e]);
                  if (("float" === e && (e = l), f)) c[e] = f;
                  else {
                    var h = k && d.shorthandPropertyExpansions[e];
                    if (h) for (var i in h) c[i] = "";
                    else c[e] = "";
                  }
                }
            },
          };
          f.measureMethods(o, "CSSPropertyOperations", {
            setValueForStyles: "setValueForStyles",
          }),
            (b.exports = o);
        },
        {
          116: 116,
          144: 144,
          146: 146,
          157: 157,
          165: 165,
          168: 168,
          4: 4,
          76: 76,
        },
      ],
      6: [
        function (a, b, c) {
          "use strict";
          function d() {
            (this._callbacks = null), (this._contexts = null);
          }
          var e = a(25),
            f = a(24),
            g = a(158);
          f(d.prototype, {
            enqueue: function (a, b) {
              (this._callbacks = this._callbacks || []),
                (this._contexts = this._contexts || []),
                this._callbacks.push(a),
                this._contexts.push(b);
            },
            notifyAll: function () {
              var a = this._callbacks,
                b = this._contexts;
              if (a) {
                a.length !== b.length ? g(!1) : void 0,
                  (this._callbacks = null),
                  (this._contexts = null);
                for (var c = 0; c < a.length; c++) a[c].call(b[c]);
                (a.length = 0), (b.length = 0);
              }
            },
            reset: function () {
              (this._callbacks = null), (this._contexts = null);
            },
            destructor: function () {
              this.reset();
            },
          }),
            e.addPoolingTo(d),
            (b.exports = d);
        },
        { 158: 158, 24: 24, 25: 25 },
      ],
      7: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = a.nodeName && a.nodeName.toLowerCase();
            return "select" === b || ("input" === b && "file" === a.type);
          }
          function e(a) {
            var b = x.getPooled(D.change, F, a, y(a));
            u.accumulateTwoPhaseDispatches(b), w.batchedUpdates(f, b);
          }
          function f(a) {
            t.enqueueEvents(a), t.processEventQueue(!1);
          }
          function g(a, b) {
            (E = a), (F = b), E.attachEvent("onchange", e);
          }
          function h() {
            E && (E.detachEvent("onchange", e), (E = null), (F = null));
          }
          function i(a, b, c) {
            return a === C.topChange ? c : void 0;
          }
          function j(a, b, c) {
            a === C.topFocus ? (h(), g(b, c)) : a === C.topBlur && h();
          }
          function k(a, b) {
            (E = a),
              (F = b),
              (G = a.value),
              (H = Object.getOwnPropertyDescriptor(
                a.constructor.prototype,
                "value"
              )),
              Object.defineProperty(E, "value", K),
              E.attachEvent("onpropertychange", m);
          }
          function l() {
            E &&
              (delete E.value,
              E.detachEvent("onpropertychange", m),
              (E = null),
              (F = null),
              (G = null),
              (H = null));
          }
          function m(a) {
            if ("value" === a.propertyName) {
              var b = a.srcElement.value;
              b !== G && ((G = b), e(a));
            }
          }
          function n(a, b, c) {
            return a === C.topInput ? c : void 0;
          }
          function o(a, b, c) {
            a === C.topFocus ? (l(), k(b, c)) : a === C.topBlur && l();
          }
          function p(a, b, c) {
            return (a !== C.topSelectionChange &&
              a !== C.topKeyUp &&
              a !== C.topKeyDown) ||
              !E ||
              E.value === G
              ? void 0
              : ((G = E.value), F);
          }
          function q(a) {
            return (
              a.nodeName &&
              "input" === a.nodeName.toLowerCase() &&
              ("checkbox" === a.type || "radio" === a.type)
            );
          }
          function r(a, b, c) {
            return a === C.topClick ? c : void 0;
          }
          var s = a(15),
            t = a(16),
            u = a(19),
            v = a(144),
            w = a(93),
            x = a(102),
            y = a(125),
            z = a(130),
            A = a(131),
            B = a(163),
            C = s.topLevelTypes,
            D = {
              change: {
                phasedRegistrationNames: {
                  bubbled: B({ onChange: null }),
                  captured: B({ onChangeCapture: null }),
                },
                dependencies: [
                  C.topBlur,
                  C.topChange,
                  C.topClick,
                  C.topFocus,
                  C.topInput,
                  C.topKeyDown,
                  C.topKeyUp,
                  C.topSelectionChange,
                ],
              },
            },
            E = null,
            F = null,
            G = null,
            H = null,
            I = !1;
          v.canUseDOM &&
            (I =
              z("change") &&
              (!("documentMode" in document) || document.documentMode > 8));
          var J = !1;
          v.canUseDOM &&
            (J =
              z("input") &&
              (!("documentMode" in document) || document.documentMode > 9));
          var K = {
              get: function () {
                return H.get.call(this);
              },
              set: function (a) {
                (G = "" + a), H.set.call(this, a);
              },
            },
            L = {
              eventTypes: D,
              extractEvents: function (a, b, c, e, f) {
                var g, h;
                if (
                  (d(b)
                    ? I
                      ? (g = i)
                      : (h = j)
                    : A(b)
                    ? J
                      ? (g = n)
                      : ((g = p), (h = o))
                    : q(b) && (g = r),
                  g)
                ) {
                  var k = g(a, b, c);
                  if (k) {
                    var l = x.getPooled(D.change, k, e, f);
                    return (
                      (l.type = "change"), u.accumulateTwoPhaseDispatches(l), l
                    );
                  }
                }
                h && h(a, b, c);
              },
            };
          b.exports = L;
        },
        {
          102: 102,
          125: 125,
          130: 130,
          131: 131,
          144: 144,
          15: 15,
          16: 16,
          163: 163,
          19: 19,
          93: 93,
        },
      ],
      8: [
        function (a, b, c) {
          "use strict";
          var d = 0,
            e = {
              createReactRootIndex: function () {
                return d++;
              },
            };
          b.exports = e;
        },
        {},
      ],
      9: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c) {
            var d = c >= a.childNodes.length ? null : a.childNodes.item(c);
            a.insertBefore(b, d);
          }
          var e = a(12),
            f = a(72),
            g = a(76),
            h = a(135),
            i = a(136),
            j = a(158),
            k = {
              dangerouslyReplaceNodeWithMarkup:
                e.dangerouslyReplaceNodeWithMarkup,
              updateTextContent: i,
              processUpdates: function (a, b) {
                for (var c, g = null, k = null, l = 0; l < a.length; l++)
                  if (
                    ((c = a[l]),
                    c.type === f.MOVE_EXISTING || c.type === f.REMOVE_NODE)
                  ) {
                    var m = c.fromIndex,
                      n = c.parentNode.childNodes[m],
                      o = c.parentID;
                    n ? void 0 : j(!1),
                      (g = g || {}),
                      (g[o] = g[o] || []),
                      (g[o][m] = n),
                      (k = k || []),
                      k.push(n);
                  }
                var p;
                if (
                  ((p =
                    b.length && "string" == typeof b[0]
                      ? e.dangerouslyRenderMarkup(b)
                      : b),
                  k)
                )
                  for (var q = 0; q < k.length; q++)
                    k[q].parentNode.removeChild(k[q]);
                for (var r = 0; r < a.length; r++)
                  switch (((c = a[r]), c.type)) {
                    case f.INSERT_MARKUP:
                      d(c.parentNode, p[c.markupIndex], c.toIndex);
                      break;
                    case f.MOVE_EXISTING:
                      d(c.parentNode, g[c.parentID][c.fromIndex], c.toIndex);
                      break;
                    case f.SET_MARKUP:
                      h(c.parentNode, c.content);
                      break;
                    case f.TEXT_CONTENT:
                      i(c.parentNode, c.content);
                      break;
                    case f.REMOVE_NODE:
                  }
              },
            };
          g.measureMethods(k, "DOMChildrenOperations", {
            updateTextContent: "updateTextContent",
          }),
            (b.exports = k);
        },
        { 12: 12, 135: 135, 136: 136, 158: 158, 72: 72, 76: 76 },
      ],
      10: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            return (a & b) === b;
          }
          var e = a(158),
            f = {
              MUST_USE_ATTRIBUTE: 1,
              MUST_USE_PROPERTY: 2,
              HAS_SIDE_EFFECTS: 4,
              HAS_BOOLEAN_VALUE: 8,
              HAS_NUMERIC_VALUE: 16,
              HAS_POSITIVE_NUMERIC_VALUE: 48,
              HAS_OVERLOADED_BOOLEAN_VALUE: 64,
              injectDOMPropertyConfig: function (a) {
                var b = f,
                  c = a.Properties || {},
                  g = a.DOMAttributeNamespaces || {},
                  i = a.DOMAttributeNames || {},
                  j = a.DOMPropertyNames || {},
                  k = a.DOMMutationMethods || {};
                a.isCustomAttribute &&
                  h._isCustomAttributeFunctions.push(a.isCustomAttribute);
                for (var l in c) {
                  h.properties.hasOwnProperty(l) ? e(!1) : void 0;
                  var m = l.toLowerCase(),
                    n = c[l],
                    o = {
                      attributeName: m,
                      attributeNamespace: null,
                      propertyName: l,
                      mutationMethod: null,
                      mustUseAttribute: d(n, b.MUST_USE_ATTRIBUTE),
                      mustUseProperty: d(n, b.MUST_USE_PROPERTY),
                      hasSideEffects: d(n, b.HAS_SIDE_EFFECTS),
                      hasBooleanValue: d(n, b.HAS_BOOLEAN_VALUE),
                      hasNumericValue: d(n, b.HAS_NUMERIC_VALUE),
                      hasPositiveNumericValue: d(
                        n,
                        b.HAS_POSITIVE_NUMERIC_VALUE
                      ),
                      hasOverloadedBooleanValue: d(
                        n,
                        b.HAS_OVERLOADED_BOOLEAN_VALUE
                      ),
                    };
                  if (
                    (o.mustUseAttribute && o.mustUseProperty ? e(!1) : void 0,
                    !o.mustUseProperty && o.hasSideEffects ? e(!1) : void 0,
                    o.hasBooleanValue +
                      o.hasNumericValue +
                      o.hasOverloadedBooleanValue <=
                    1
                      ? void 0
                      : e(!1),
                    i.hasOwnProperty(l))
                  ) {
                    var p = i[l];
                    o.attributeName = p;
                  }
                  g.hasOwnProperty(l) && (o.attributeNamespace = g[l]),
                    j.hasOwnProperty(l) && (o.propertyName = j[l]),
                    k.hasOwnProperty(l) && (o.mutationMethod = k[l]),
                    (h.properties[l] = o);
                }
              },
            },
            g = {},
            h = {
              ID_ATTRIBUTE_NAME: "data-reactid",
              properties: {},
              getPossibleStandardName: null,
              _isCustomAttributeFunctions: [],
              isCustomAttribute: function (a) {
                for (var b = 0; b < h._isCustomAttributeFunctions.length; b++) {
                  var c = h._isCustomAttributeFunctions[b];
                  if (c(a)) return !0;
                }
                return !1;
              },
              getDefaultValueForProperty: function (a, b) {
                var c,
                  d = g[a];
                return (
                  d || (g[a] = d = {}),
                  b in d || ((c = document.createElement(a)), (d[b] = c[b])),
                  d[b]
                );
              },
              injection: f,
            };
          b.exports = h;
        },
        { 158: 158 },
      ],
      11: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return (
              !!k.hasOwnProperty(a) ||
              (!j.hasOwnProperty(a) &&
                (i.test(a) ? ((k[a] = !0), !0) : ((j[a] = !0), !1)))
            );
          }
          function e(a, b) {
            return (
              null == b ||
              (a.hasBooleanValue && !b) ||
              (a.hasNumericValue && isNaN(b)) ||
              (a.hasPositiveNumericValue && 1 > b) ||
              (a.hasOverloadedBooleanValue && b === !1)
            );
          }
          var f = a(10),
            g = a(76),
            h = a(133),
            i = (a(168), /^[a-zA-Z_][\w\.\-]*$/),
            j = {},
            k = {},
            l = {
              createMarkupForID: function (a) {
                return f.ID_ATTRIBUTE_NAME + "=" + h(a);
              },
              setAttributeForID: function (a, b) {
                a.setAttribute(f.ID_ATTRIBUTE_NAME, b);
              },
              createMarkupForProperty: function (a, b) {
                var c = f.properties.hasOwnProperty(a) ? f.properties[a] : null;
                if (c) {
                  if (e(c, b)) return "";
                  var d = c.attributeName;
                  return c.hasBooleanValue ||
                    (c.hasOverloadedBooleanValue && b === !0)
                    ? d + '=""'
                    : d + "=" + h(b);
                }
                return f.isCustomAttribute(a)
                  ? null == b
                    ? ""
                    : a + "=" + h(b)
                  : null;
              },
              createMarkupForCustomAttribute: function (a, b) {
                return d(a) && null != b ? a + "=" + h(b) : "";
              },
              setValueForProperty: function (a, b, c) {
                var d = f.properties.hasOwnProperty(b) ? f.properties[b] : null;
                if (d) {
                  var g = d.mutationMethod;
                  if (g) g(a, c);
                  else if (e(d, c)) this.deleteValueForProperty(a, b);
                  else if (d.mustUseAttribute) {
                    var h = d.attributeName,
                      i = d.attributeNamespace;
                    i
                      ? a.setAttributeNS(i, h, "" + c)
                      : d.hasBooleanValue ||
                        (d.hasOverloadedBooleanValue && c === !0)
                      ? a.setAttribute(h, "")
                      : a.setAttribute(h, "" + c);
                  } else {
                    var j = d.propertyName;
                    (d.hasSideEffects && "" + a[j] == "" + c) || (a[j] = c);
                  }
                } else
                  f.isCustomAttribute(b) && l.setValueForAttribute(a, b, c);
              },
              setValueForAttribute: function (a, b, c) {
                d(b) &&
                  (null == c
                    ? a.removeAttribute(b)
                    : a.setAttribute(b, "" + c));
              },
              deleteValueForProperty: function (a, b) {
                var c = f.properties.hasOwnProperty(b) ? f.properties[b] : null;
                if (c) {
                  var d = c.mutationMethod;
                  if (d) d(a, void 0);
                  else if (c.mustUseAttribute)
                    a.removeAttribute(c.attributeName);
                  else {
                    var e = c.propertyName,
                      g = f.getDefaultValueForProperty(a.nodeName, e);
                    (c.hasSideEffects && "" + a[e] === g) || (a[e] = g);
                  }
                } else f.isCustomAttribute(b) && a.removeAttribute(b);
              },
            };
          g.measureMethods(l, "DOMPropertyOperations", {
            setValueForProperty: "setValueForProperty",
            setValueForAttribute: "setValueForAttribute",
            deleteValueForProperty: "deleteValueForProperty",
          }),
            (b.exports = l);
        },
        { 10: 10, 133: 133, 168: 168, 76: 76 },
      ],
      12: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a.substring(1, a.indexOf(" "));
          }
          var e = a(144),
            f = a(149),
            g = a(150),
            h = a(154),
            i = a(158),
            j = /^(<[^ \/>]+)/,
            k = "data-danger-index",
            l = {
              dangerouslyRenderMarkup: function (a) {
                e.canUseDOM ? void 0 : i(!1);
                for (var b, c = {}, l = 0; l < a.length; l++)
                  a[l] ? void 0 : i(!1),
                    (b = d(a[l])),
                    (b = h(b) ? b : "*"),
                    (c[b] = c[b] || []),
                    (c[b][l] = a[l]);
                var m = [],
                  n = 0;
                for (b in c)
                  if (c.hasOwnProperty(b)) {
                    var o,
                      p = c[b];
                    for (o in p)
                      if (p.hasOwnProperty(o)) {
                        var q = p[o];
                        p[o] = q.replace(j, "$1 " + k + '="' + o + '" ');
                      }
                    for (var r = f(p.join(""), g), s = 0; s < r.length; ++s) {
                      var t = r[s];
                      t.hasAttribute &&
                        t.hasAttribute(k) &&
                        ((o = +t.getAttribute(k)),
                        t.removeAttribute(k),
                        m.hasOwnProperty(o) ? i(!1) : void 0,
                        (m[o] = t),
                        (n += 1));
                    }
                  }
                return (
                  n !== m.length ? i(!1) : void 0,
                  m.length !== a.length ? i(!1) : void 0,
                  m
                );
              },
              dangerouslyReplaceNodeWithMarkup: function (a, b) {
                e.canUseDOM ? void 0 : i(!1),
                  b ? void 0 : i(!1),
                  "html" === a.tagName.toLowerCase() ? i(!1) : void 0;
                var c;
                (c = "string" == typeof b ? f(b, g)[0] : b),
                  a.parentNode.replaceChild(c, a);
              },
            };
          b.exports = l;
        },
        { 144: 144, 149: 149, 150: 150, 154: 154, 158: 158 },
      ],
      13: [
        function (a, b, c) {
          "use strict";
          var d = a(163),
            e = [
              d({ ResponderEventPlugin: null }),
              d({ SimpleEventPlugin: null }),
              d({ TapEventPlugin: null }),
              d({ EnterLeaveEventPlugin: null }),
              d({ ChangeEventPlugin: null }),
              d({ SelectEventPlugin: null }),
              d({ BeforeInputEventPlugin: null }),
            ];
          b.exports = e;
        },
        { 163: 163 },
      ],
      14: [
        function (a, b, c) {
          "use strict";
          var d = a(15),
            e = a(19),
            f = a(106),
            g = a(70),
            h = a(163),
            i = d.topLevelTypes,
            j = g.getFirstReactDOM,
            k = {
              mouseEnter: {
                registrationName: h({ onMouseEnter: null }),
                dependencies: [i.topMouseOut, i.topMouseOver],
              },
              mouseLeave: {
                registrationName: h({ onMouseLeave: null }),
                dependencies: [i.topMouseOut, i.topMouseOver],
              },
            },
            l = [null, null],
            m = {
              eventTypes: k,
              extractEvents: function (a, b, c, d, h) {
                if (a === i.topMouseOver && (d.relatedTarget || d.fromElement))
                  return null;
                if (a !== i.topMouseOut && a !== i.topMouseOver) return null;
                var m;
                if (b.window === b) m = b;
                else {
                  var n = b.ownerDocument;
                  m = n ? n.defaultView || n.parentWindow : window;
                }
                var o,
                  p,
                  q = "",
                  r = "";
                if (
                  (a === i.topMouseOut
                    ? ((o = b),
                      (q = c),
                      (p = j(d.relatedTarget || d.toElement)),
                      p ? (r = g.getID(p)) : (p = m),
                      (p = p || m))
                    : ((o = m), (p = b), (r = c)),
                  o === p)
                )
                  return null;
                var s = f.getPooled(k.mouseLeave, q, d, h);
                (s.type = "mouseleave"), (s.target = o), (s.relatedTarget = p);
                var t = f.getPooled(k.mouseEnter, r, d, h);
                return (
                  (t.type = "mouseenter"),
                  (t.target = p),
                  (t.relatedTarget = o),
                  e.accumulateEnterLeaveDispatches(s, t, q, r),
                  (l[0] = s),
                  (l[1] = t),
                  l
                );
              },
            };
          b.exports = m;
        },
        { 106: 106, 15: 15, 163: 163, 19: 19, 70: 70 },
      ],
      15: [
        function (a, b, c) {
          "use strict";
          var d = a(162),
            e = d({ bubbled: null, captured: null }),
            f = d({
              topAbort: null,
              topBlur: null,
              topCanPlay: null,
              topCanPlayThrough: null,
              topChange: null,
              topClick: null,
              topCompositionEnd: null,
              topCompositionStart: null,
              topCompositionUpdate: null,
              topContextMenu: null,
              topCopy: null,
              topCut: null,
              topDoubleClick: null,
              topDrag: null,
              topDragEnd: null,
              topDragEnter: null,
              topDragExit: null,
              topDragLeave: null,
              topDragOver: null,
              topDragStart: null,
              topDrop: null,
              topDurationChange: null,
              topEmptied: null,
              topEncrypted: null,
              topEnded: null,
              topError: null,
              topFocus: null,
              topInput: null,
              topKeyDown: null,
              topKeyPress: null,
              topKeyUp: null,
              topLoad: null,
              topLoadedData: null,
              topLoadedMetadata: null,
              topLoadStart: null,
              topMouseDown: null,
              topMouseMove: null,
              topMouseOut: null,
              topMouseOver: null,
              topMouseUp: null,
              topPaste: null,
              topPause: null,
              topPlay: null,
              topPlaying: null,
              topProgress: null,
              topRateChange: null,
              topReset: null,
              topScroll: null,
              topSeeked: null,
              topSeeking: null,
              topSelectionChange: null,
              topStalled: null,
              topSubmit: null,
              topSuspend: null,
              topTextInput: null,
              topTimeUpdate: null,
              topTouchCancel: null,
              topTouchEnd: null,
              topTouchMove: null,
              topTouchStart: null,
              topVolumeChange: null,
              topWaiting: null,
              topWheel: null,
            }),
            g = { topLevelTypes: f, PropagationPhases: e };
          b.exports = g;
        },
        { 162: 162 },
      ],
      16: [
        function (a, b, c) {
          "use strict";
          var d = a(17),
            e = a(18),
            f = a(59),
            g = a(112),
            h = a(121),
            i = a(158),
            j = (a(168), {}),
            k = null,
            l = function (a, b) {
              a &&
                (e.executeDispatchesInOrder(a, b),
                a.isPersistent() || a.constructor.release(a));
            },
            m = function (a) {
              return l(a, !0);
            },
            n = function (a) {
              return l(a, !1);
            },
            o = null,
            p = {
              injection: {
                injectMount: e.injection.injectMount,
                injectInstanceHandle: function (a) {
                  o = a;
                },
                getInstanceHandle: function () {
                  return o;
                },
                injectEventPluginOrder: d.injectEventPluginOrder,
                injectEventPluginsByName: d.injectEventPluginsByName,
              },
              eventNameDispatchConfigs: d.eventNameDispatchConfigs,
              registrationNameModules: d.registrationNameModules,
              putListener: function (a, b, c) {
                "function" != typeof c ? i(!1) : void 0;
                var e = j[b] || (j[b] = {});
                e[a] = c;
                var f = d.registrationNameModules[b];
                f && f.didPutListener && f.didPutListener(a, b, c);
              },
              getListener: function (a, b) {
                var c = j[b];
                return c && c[a];
              },
              deleteListener: function (a, b) {
                var c = d.registrationNameModules[b];
                c && c.willDeleteListener && c.willDeleteListener(a, b);
                var e = j[b];
                e && delete e[a];
              },
              deleteAllListeners: function (a) {
                for (var b in j)
                  if (j[b][a]) {
                    var c = d.registrationNameModules[b];
                    c && c.willDeleteListener && c.willDeleteListener(a, b),
                      delete j[b][a];
                  }
              },
              extractEvents: function (a, b, c, e, f) {
                for (var h, i = d.plugins, j = 0; j < i.length; j++) {
                  var k = i[j];
                  if (k) {
                    var l = k.extractEvents(a, b, c, e, f);
                    l && (h = g(h, l));
                  }
                }
                return h;
              },
              enqueueEvents: function (a) {
                a && (k = g(k, a));
              },
              processEventQueue: function (a) {
                var b = k;
                (k = null),
                  a ? h(b, m) : h(b, n),
                  k ? i(!1) : void 0,
                  f.rethrowCaughtError();
              },
              __purge: function () {
                j = {};
              },
              __getListenerBank: function () {
                return j;
              },
            };
          b.exports = p;
        },
        { 112: 112, 121: 121, 158: 158, 168: 168, 17: 17, 18: 18, 59: 59 },
      ],
      17: [
        function (a, b, c) {
          "use strict";
          function d() {
            if (h)
              for (var a in i) {
                var b = i[a],
                  c = h.indexOf(a);
                if ((c > -1 ? void 0 : g(!1), !j.plugins[c])) {
                  b.extractEvents ? void 0 : g(!1), (j.plugins[c] = b);
                  var d = b.eventTypes;
                  for (var f in d) e(d[f], b, f) ? void 0 : g(!1);
                }
              }
          }
          function e(a, b, c) {
            j.eventNameDispatchConfigs.hasOwnProperty(c) ? g(!1) : void 0,
              (j.eventNameDispatchConfigs[c] = a);
            var d = a.phasedRegistrationNames;
            if (d) {
              for (var e in d)
                if (d.hasOwnProperty(e)) {
                  var h = d[e];
                  f(h, b, c);
                }
              return !0;
            }
            return !!a.registrationName && (f(a.registrationName, b, c), !0);
          }
          function f(a, b, c) {
            j.registrationNameModules[a] ? g(!1) : void 0,
              (j.registrationNameModules[a] = b),
              (j.registrationNameDependencies[a] =
                b.eventTypes[c].dependencies);
          }
          var g = a(158),
            h = null,
            i = {},
            j = {
              plugins: [],
              eventNameDispatchConfigs: {},
              registrationNameModules: {},
              registrationNameDependencies: {},
              injectEventPluginOrder: function (a) {
                h ? g(!1) : void 0, (h = Array.prototype.slice.call(a)), d();
              },
              injectEventPluginsByName: function (a) {
                var b = !1;
                for (var c in a)
                  if (a.hasOwnProperty(c)) {
                    var e = a[c];
                    (i.hasOwnProperty(c) && i[c] === e) ||
                      (i[c] ? g(!1) : void 0, (i[c] = e), (b = !0));
                  }
                b && d();
              },
              getPluginModuleForEvent: function (a) {
                var b = a.dispatchConfig;
                if (b.registrationName)
                  return j.registrationNameModules[b.registrationName] || null;
                for (var c in b.phasedRegistrationNames)
                  if (b.phasedRegistrationNames.hasOwnProperty(c)) {
                    var d =
                      j.registrationNameModules[b.phasedRegistrationNames[c]];
                    if (d) return d;
                  }
                return null;
              },
              _resetEventPlugins: function () {
                h = null;
                for (var a in i) i.hasOwnProperty(a) && delete i[a];
                j.plugins.length = 0;
                var b = j.eventNameDispatchConfigs;
                for (var c in b) b.hasOwnProperty(c) && delete b[c];
                var d = j.registrationNameModules;
                for (var e in d) d.hasOwnProperty(e) && delete d[e];
              },
            };
          b.exports = j;
        },
        { 158: 158 },
      ],
      18: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return (
              a === q.topMouseUp ||
              a === q.topTouchEnd ||
              a === q.topTouchCancel
            );
          }
          function e(a) {
            return a === q.topMouseMove || a === q.topTouchMove;
          }
          function f(a) {
            return a === q.topMouseDown || a === q.topTouchStart;
          }
          function g(a, b, c, d) {
            var e = a.type || "unknown-event";
            (a.currentTarget = p.Mount.getNode(d)),
              b
                ? n.invokeGuardedCallbackWithCatch(e, c, a, d)
                : n.invokeGuardedCallback(e, c, a, d),
              (a.currentTarget = null);
          }
          function h(a, b) {
            var c = a._dispatchListeners,
              d = a._dispatchIDs;
            if (Array.isArray(c))
              for (var e = 0; e < c.length && !a.isPropagationStopped(); e++)
                g(a, b, c[e], d[e]);
            else c && g(a, b, c, d);
            (a._dispatchListeners = null), (a._dispatchIDs = null);
          }
          function i(a) {
            var b = a._dispatchListeners,
              c = a._dispatchIDs;
            if (Array.isArray(b)) {
              for (var d = 0; d < b.length && !a.isPropagationStopped(); d++)
                if (b[d](a, c[d])) return c[d];
            } else if (b && b(a, c)) return c;
            return null;
          }
          function j(a) {
            var b = i(a);
            return (a._dispatchIDs = null), (a._dispatchListeners = null), b;
          }
          function k(a) {
            var b = a._dispatchListeners,
              c = a._dispatchIDs;
            Array.isArray(b) ? o(!1) : void 0;
            var d = b ? b(a, c) : null;
            return (a._dispatchListeners = null), (a._dispatchIDs = null), d;
          }
          function l(a) {
            return !!a._dispatchListeners;
          }
          var m = a(15),
            n = a(59),
            o = a(158),
            p =
              (a(168),
              {
                Mount: null,
                injectMount: function (a) {
                  p.Mount = a;
                },
              }),
            q = m.topLevelTypes,
            r = {
              isEndish: d,
              isMoveish: e,
              isStartish: f,
              executeDirectDispatch: k,
              executeDispatchesInOrder: h,
              executeDispatchesInOrderStopAtTrue: j,
              hasDispatches: l,
              getNode: function (a) {
                return p.Mount.getNode(a);
              },
              getID: function (a) {
                return p.Mount.getID(a);
              },
              injection: p,
            };
          b.exports = r;
        },
        { 15: 15, 158: 158, 168: 168, 59: 59 },
      ],
      19: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c) {
            var d = b.dispatchConfig.phasedRegistrationNames[c];
            return s(a, d);
          }
          function e(a, b, c) {
            var e = b ? r.bubbled : r.captured,
              f = d(a, c, e);
            f &&
              ((c._dispatchListeners = p(c._dispatchListeners, f)),
              (c._dispatchIDs = p(c._dispatchIDs, a)));
          }
          function f(a) {
            a &&
              a.dispatchConfig.phasedRegistrationNames &&
              o.injection
                .getInstanceHandle()
                .traverseTwoPhase(a.dispatchMarker, e, a);
          }
          function g(a) {
            a &&
              a.dispatchConfig.phasedRegistrationNames &&
              o.injection
                .getInstanceHandle()
                .traverseTwoPhaseSkipTarget(a.dispatchMarker, e, a);
          }
          function h(a, b, c) {
            if (c && c.dispatchConfig.registrationName) {
              var d = c.dispatchConfig.registrationName,
                e = s(a, d);
              e &&
                ((c._dispatchListeners = p(c._dispatchListeners, e)),
                (c._dispatchIDs = p(c._dispatchIDs, a)));
            }
          }
          function i(a) {
            a &&
              a.dispatchConfig.registrationName &&
              h(a.dispatchMarker, null, a);
          }
          function j(a) {
            q(a, f);
          }
          function k(a) {
            q(a, g);
          }
          function l(a, b, c, d) {
            o.injection.getInstanceHandle().traverseEnterLeave(c, d, h, a, b);
          }
          function m(a) {
            q(a, i);
          }
          var n = a(15),
            o = a(16),
            p = (a(168), a(112)),
            q = a(121),
            r = n.PropagationPhases,
            s = o.getListener,
            t = {
              accumulateTwoPhaseDispatches: j,
              accumulateTwoPhaseDispatchesSkipTarget: k,
              accumulateDirectDispatches: m,
              accumulateEnterLeaveDispatches: l,
            };
          b.exports = t;
        },
        { 112: 112, 121: 121, 15: 15, 16: 16, 168: 168 },
      ],
      20: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            (this._root = a),
              (this._startText = this.getText()),
              (this._fallbackText = null);
          }
          var e = a(25),
            f = a(24),
            g = a(128);
          f(d.prototype, {
            destructor: function () {
              (this._root = null),
                (this._startText = null),
                (this._fallbackText = null);
            },
            getText: function () {
              return "value" in this._root ? this._root.value : this._root[g()];
            },
            getData: function () {
              if (this._fallbackText) return this._fallbackText;
              var a,
                b,
                c = this._startText,
                d = c.length,
                e = this.getText(),
                f = e.length;
              for (a = 0; d > a && c[a] === e[a]; a++);
              var g = d - a;
              for (b = 1; g >= b && c[d - b] === e[f - b]; b++);
              var h = b > 1 ? 1 - b : void 0;
              return (this._fallbackText = e.slice(a, h)), this._fallbackText;
            },
          }),
            e.addPoolingTo(d),
            (b.exports = d);
        },
        { 128: 128, 24: 24, 25: 25 },
      ],
      21: [
        function (a, b, c) {
          "use strict";
          var d,
            e = a(10),
            f = a(144),
            g = e.injection.MUST_USE_ATTRIBUTE,
            h = e.injection.MUST_USE_PROPERTY,
            i = e.injection.HAS_BOOLEAN_VALUE,
            j = e.injection.HAS_SIDE_EFFECTS,
            k = e.injection.HAS_NUMERIC_VALUE,
            l = e.injection.HAS_POSITIVE_NUMERIC_VALUE,
            m = e.injection.HAS_OVERLOADED_BOOLEAN_VALUE;
          if (f.canUseDOM) {
            var n = document.implementation;
            d =
              n &&
              n.hasFeature &&
              n.hasFeature(
                "http://www.w3.org/TR/SVG11/feature#BasicStructure",
                "1.1"
              );
          }
          var o = {
            isCustomAttribute: RegExp.prototype.test.bind(
              /^(data|aria)-[a-z_][a-z\d_.\-]*$/
            ),
            Properties: {
              accept: null,
              acceptCharset: null,
              accessKey: null,
              action: null,
              allowFullScreen: g | i,
              allowTransparency: g,
              alt: null,
              async: i,
              autoComplete: null,
              autoPlay: i,
              capture: g | i,
              cellPadding: null,
              cellSpacing: null,
              charSet: g,
              challenge: g,
              checked: h | i,
              classID: g,
              className: d ? g : h,
              cols: g | l,
              colSpan: null,
              content: null,
              contentEditable: null,
              contextMenu: g,
              controls: h | i,
              coords: null,
              crossOrigin: null,
              data: null,
              dateTime: g,
              default: i,
              defer: i,
              dir: null,
              disabled: g | i,
              download: m,
              draggable: null,
              encType: null,
              form: g,
              formAction: g,
              formEncType: g,
              formMethod: g,
              formNoValidate: i,
              formTarget: g,
              frameBorder: g,
              headers: null,
              height: g,
              hidden: g | i,
              high: null,
              href: null,
              hrefLang: null,
              htmlFor: null,
              httpEquiv: null,
              icon: null,
              id: h,
              inputMode: g,
              integrity: null,
              is: g,
              keyParams: g,
              keyType: g,
              kind: null,
              label: null,
              lang: null,
              list: g,
              loop: h | i,
              low: null,
              manifest: g,
              marginHeight: null,
              marginWidth: null,
              max: null,
              maxLength: g,
              media: g,
              mediaGroup: null,
              method: null,
              min: null,
              minLength: g,
              multiple: h | i,
              muted: h | i,
              name: null,
              nonce: g,
              noValidate: i,
              open: i,
              optimum: null,
              pattern: null,
              placeholder: null,
              poster: null,
              preload: null,
              radioGroup: null,
              readOnly: h | i,
              rel: null,
              required: i,
              reversed: i,
              role: g,
              rows: g | l,
              rowSpan: null,
              sandbox: null,
              scope: null,
              scoped: i,
              scrolling: null,
              seamless: g | i,
              selected: h | i,
              shape: null,
              size: g | l,
              sizes: g,
              span: l,
              spellCheck: null,
              src: null,
              srcDoc: h,
              srcLang: null,
              srcSet: g,
              start: k,
              step: null,
              style: null,
              summary: null,
              tabIndex: null,
              target: null,
              title: null,
              type: null,
              useMap: null,
              value: h | j,
              width: g,
              wmode: g,
              wrap: null,
              about: g,
              datatype: g,
              inlist: g,
              prefix: g,
              property: g,
              resource: g,
              typeof: g,
              vocab: g,
              autoCapitalize: null,
              autoCorrect: null,
              autoSave: null,
              color: null,
              itemProp: g,
              itemScope: g | i,
              itemType: g,
              itemID: g,
              itemRef: g,
              results: null,
              security: g,
              unselectable: g,
            },
            DOMAttributeNames: {
              acceptCharset: "accept-charset",
              className: "class",
              htmlFor: "for",
              httpEquiv: "http-equiv",
            },
            DOMPropertyNames: {
              autoCapitalize: "autocapitalize",
              autoComplete: "autocomplete",
              autoCorrect: "autocorrect",
              autoFocus: "autofocus",
              autoPlay: "autoplay",
              autoSave: "autosave",
              encType: "encoding",
              hrefLang: "hreflang",
              radioGroup: "radiogroup",
              spellCheck: "spellcheck",
              srcDoc: "srcdoc",
              srcSet: "srcset",
            },
          };
          b.exports = o;
        },
        { 10: 10, 144: 144 },
      ],
      22: [
        function (a, b, c) {
          "use strict";
          var d = a(68),
            e = a(88),
            f = {
              linkState: function (a) {
                return new d(this.state[a], e.createStateKeySetter(this, a));
              },
            };
          b.exports = f;
        },
        { 68: 68, 88: 88 },
      ],
      23: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            null != a.checkedLink && null != a.valueLink ? j(!1) : void 0;
          }
          function e(a) {
            d(a), null != a.value || null != a.onChange ? j(!1) : void 0;
          }
          function f(a) {
            d(a), null != a.checked || null != a.onChange ? j(!1) : void 0;
          }
          function g(a) {
            if (a) {
              var b = a.getName();
              if (b) return " Check the render method of `" + b + "`.";
            }
            return "";
          }
          var h = a(80),
            i = a(79),
            j = a(158),
            k =
              (a(168),
              {
                button: !0,
                checkbox: !0,
                image: !0,
                hidden: !0,
                radio: !0,
                reset: !0,
                submit: !0,
              }),
            l = {
              value: function (a, b, c) {
                return !a[b] ||
                  k[a.type] ||
                  a.onChange ||
                  a.readOnly ||
                  a.disabled
                  ? null
                  : new Error(
                      "You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."
                    );
              },
              checked: function (a, b, c) {
                return !a[b] || a.onChange || a.readOnly || a.disabled
                  ? null
                  : new Error(
                      "You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`."
                    );
              },
              onChange: h.func,
            },
            m = {},
            n = {
              checkPropTypes: function (a, b, c) {
                for (var d in l) {
                  if (l.hasOwnProperty(d)) var e = l[d](b, d, a, i.prop);
                  e instanceof Error &&
                    !(e.message in m) &&
                    ((m[e.message] = !0), g(c));
                }
              },
              getValue: function (a) {
                return a.valueLink ? (e(a), a.valueLink.value) : a.value;
              },
              getChecked: function (a) {
                return a.checkedLink ? (f(a), a.checkedLink.value) : a.checked;
              },
              executeOnChange: function (a, b) {
                return a.valueLink
                  ? (e(a), a.valueLink.requestChange(b.target.value))
                  : a.checkedLink
                  ? (f(a), a.checkedLink.requestChange(b.target.checked))
                  : a.onChange
                  ? a.onChange.call(void 0, b)
                  : void 0;
              },
            };
          b.exports = n;
        },
        { 158: 158, 168: 168, 79: 79, 80: 80 },
      ],
      24: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            if (null == a)
              throw new TypeError(
                "Object.assign target cannot be null or undefined"
              );
            for (
              var c = Object(a), d = Object.prototype.hasOwnProperty, e = 1;
              e < arguments.length;
              e++
            ) {
              var f = arguments[e];
              if (null != f) {
                var g = Object(f);
                for (var h in g) d.call(g, h) && (c[h] = g[h]);
              }
            }
            return c;
          }
          b.exports = d;
        },
        {},
      ],
      25: [
        function (a, b, c) {
          "use strict";
          var d = a(158),
            e = function (a) {
              var b = this;
              if (b.instancePool.length) {
                var c = b.instancePool.pop();
                return b.call(c, a), c;
              }
              return new b(a);
            },
            f = function (a, b) {
              var c = this;
              if (c.instancePool.length) {
                var d = c.instancePool.pop();
                return c.call(d, a, b), d;
              }
              return new c(a, b);
            },
            g = function (a, b, c) {
              var d = this;
              if (d.instancePool.length) {
                var e = d.instancePool.pop();
                return d.call(e, a, b, c), e;
              }
              return new d(a, b, c);
            },
            h = function (a, b, c, d) {
              var e = this;
              if (e.instancePool.length) {
                var f = e.instancePool.pop();
                return e.call(f, a, b, c, d), f;
              }
              return new e(a, b, c, d);
            },
            i = function (a, b, c, d, e) {
              var f = this;
              if (f.instancePool.length) {
                var g = f.instancePool.pop();
                return f.call(g, a, b, c, d, e), g;
              }
              return new f(a, b, c, d, e);
            },
            j = function (a) {
              var b = this;
              a instanceof b ? void 0 : d(!1),
                a.destructor(),
                b.instancePool.length < b.poolSize && b.instancePool.push(a);
            },
            k = 10,
            l = e,
            m = function (a, b) {
              var c = a;
              return (
                (c.instancePool = []),
                (c.getPooled = b || l),
                c.poolSize || (c.poolSize = k),
                (c.release = j),
                c
              );
            },
            n = {
              addPoolingTo: m,
              oneArgumentPooler: e,
              twoArgumentPooler: f,
              threeArgumentPooler: g,
              fourArgumentPooler: h,
              fiveArgumentPooler: i,
            };
          b.exports = n;
        },
        { 158: 158 },
      ],
      26: [
        function (a, b, c) {
          "use strict";
          var d = a(40),
            e = a(50),
            f = a(67),
            g = a(24),
            h = a(117),
            i = {};
          g(i, f),
            g(i, {
              findDOMNode: h(
                "findDOMNode",
                "ReactDOM",
                "react-dom",
                d,
                d.findDOMNode
              ),
              render: h("render", "ReactDOM", "react-dom", d, d.render),
              unmountComponentAtNode: h(
                "unmountComponentAtNode",
                "ReactDOM",
                "react-dom",
                d,
                d.unmountComponentAtNode
              ),
              renderToString: h(
                "renderToString",
                "ReactDOMServer",
                "react-dom/server",
                e,
                e.renderToString
              ),
              renderToStaticMarkup: h(
                "renderToStaticMarkup",
                "ReactDOMServer",
                "react-dom/server",
                e,
                e.renderToStaticMarkup
              ),
            }),
            (i.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = d),
            (i.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = e),
            (b.exports = i);
        },
        { 117: 117, 24: 24, 40: 40, 50: 50, 67: 67 },
      ],
      27: [
        function (a, b, c) {
          "use strict";
          var d = (a(66), a(119)),
            e = (a(168), "_getDOMNodeDidWarn"),
            f = {
              getDOMNode: function () {
                return (this.constructor[e] = !0), d(this);
              },
            };
          b.exports = f;
        },
        { 119: 119, 168: 168, 66: 66 },
      ],
      28: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return (
              Object.prototype.hasOwnProperty.call(a, q) ||
                ((a[q] = o++), (m[a[q]] = {})),
              m[a[q]]
            );
          }
          var e = a(15),
            f = a(16),
            g = a(17),
            h = a(60),
            i = a(76),
            j = a(111),
            k = a(24),
            l = a(130),
            m = {},
            n = !1,
            o = 0,
            p = {
              topAbort: "abort",
              topBlur: "blur",
              topCanPlay: "canplay",
              topCanPlayThrough: "canplaythrough",
              topChange: "change",
              topClick: "click",
              topCompositionEnd: "compositionend",
              topCompositionStart: "compositionstart",
              topCompositionUpdate: "compositionupdate",
              topContextMenu: "contextmenu",
              topCopy: "copy",
              topCut: "cut",
              topDoubleClick: "dblclick",
              topDrag: "drag",
              topDragEnd: "dragend",
              topDragEnter: "dragenter",
              topDragExit: "dragexit",
              topDragLeave: "dragleave",
              topDragOver: "dragover",
              topDragStart: "dragstart",
              topDrop: "drop",
              topDurationChange: "durationchange",
              topEmptied: "emptied",
              topEncrypted: "encrypted",
              topEnded: "ended",
              topError: "error",
              topFocus: "focus",
              topInput: "input",
              topKeyDown: "keydown",
              topKeyPress: "keypress",
              topKeyUp: "keyup",
              topLoadedData: "loadeddata",
              topLoadedMetadata: "loadedmetadata",
              topLoadStart: "loadstart",
              topMouseDown: "mousedown",
              topMouseMove: "mousemove",
              topMouseOut: "mouseout",
              topMouseOver: "mouseover",
              topMouseUp: "mouseup",
              topPaste: "paste",
              topPause: "pause",
              topPlay: "play",
              topPlaying: "playing",
              topProgress: "progress",
              topRateChange: "ratechange",
              topScroll: "scroll",
              topSeeked: "seeked",
              topSeeking: "seeking",
              topSelectionChange: "selectionchange",
              topStalled: "stalled",
              topSuspend: "suspend",
              topTextInput: "textInput",
              topTimeUpdate: "timeupdate",
              topTouchCancel: "touchcancel",
              topTouchEnd: "touchend",
              topTouchMove: "touchmove",
              topTouchStart: "touchstart",
              topVolumeChange: "volumechange",
              topWaiting: "waiting",
              topWheel: "wheel",
            },
            q = "_reactListenersID" + String(Math.random()).slice(2),
            r = k({}, h, {
              ReactEventListener: null,
              injection: {
                injectReactEventListener: function (a) {
                  a.setHandleTopLevel(r.handleTopLevel),
                    (r.ReactEventListener = a);
                },
              },
              setEnabled: function (a) {
                r.ReactEventListener && r.ReactEventListener.setEnabled(a);
              },
              isEnabled: function () {
                return !(
                  !r.ReactEventListener || !r.ReactEventListener.isEnabled()
                );
              },
              listenTo: function (a, b) {
                for (
                  var c = b,
                    f = d(c),
                    h = g.registrationNameDependencies[a],
                    i = e.topLevelTypes,
                    j = 0;
                  j < h.length;
                  j++
                ) {
                  var k = h[j];
                  (f.hasOwnProperty(k) && f[k]) ||
                    (k === i.topWheel
                      ? l("wheel")
                        ? r.ReactEventListener.trapBubbledEvent(
                            i.topWheel,
                            "wheel",
                            c
                          )
                        : l("mousewheel")
                        ? r.ReactEventListener.trapBubbledEvent(
                            i.topWheel,
                            "mousewheel",
                            c
                          )
                        : r.ReactEventListener.trapBubbledEvent(
                            i.topWheel,
                            "DOMMouseScroll",
                            c
                          )
                      : k === i.topScroll
                      ? l("scroll", !0)
                        ? r.ReactEventListener.trapCapturedEvent(
                            i.topScroll,
                            "scroll",
                            c
                          )
                        : r.ReactEventListener.trapBubbledEvent(
                            i.topScroll,
                            "scroll",
                            r.ReactEventListener.WINDOW_HANDLE
                          )
                      : k === i.topFocus || k === i.topBlur
                      ? (l("focus", !0)
                          ? (r.ReactEventListener.trapCapturedEvent(
                              i.topFocus,
                              "focus",
                              c
                            ),
                            r.ReactEventListener.trapCapturedEvent(
                              i.topBlur,
                              "blur",
                              c
                            ))
                          : l("focusin") &&
                            (r.ReactEventListener.trapBubbledEvent(
                              i.topFocus,
                              "focusin",
                              c
                            ),
                            r.ReactEventListener.trapBubbledEvent(
                              i.topBlur,
                              "focusout",
                              c
                            )),
                        (f[i.topBlur] = !0),
                        (f[i.topFocus] = !0))
                      : p.hasOwnProperty(k) &&
                        r.ReactEventListener.trapBubbledEvent(k, p[k], c),
                    (f[k] = !0));
                }
              },
              trapBubbledEvent: function (a, b, c) {
                return r.ReactEventListener.trapBubbledEvent(a, b, c);
              },
              trapCapturedEvent: function (a, b, c) {
                return r.ReactEventListener.trapCapturedEvent(a, b, c);
              },
              ensureScrollValueMonitoring: function () {
                if (!n) {
                  var a = j.refreshScrollValues;
                  r.ReactEventListener.monitorScrollValue(a), (n = !0);
                }
              },
              eventNameDispatchConfigs: f.eventNameDispatchConfigs,
              registrationNameModules: f.registrationNameModules,
              putListener: f.putListener,
              getListener: f.getListener,
              deleteListener: f.deleteListener,
              deleteAllListeners: f.deleteAllListeners,
            });
          i.measureMethods(r, "ReactBrowserEventEmitter", {
            putListener: "putListener",
            deleteListener: "deleteListener",
          }),
            (b.exports = r);
        },
        { 111: 111, 130: 130, 15: 15, 16: 16, 17: 17, 24: 24, 60: 60, 76: 76 },
      ],
      29: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = "transition" + a + "Timeout",
              c = "transition" + a;
            return function (a) {
              if (a[c]) {
                if (null == a[b])
                  return new Error(
                    b +
                      " wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information."
                  );
                if ("number" != typeof a[b])
                  return new Error(b + " must be a number (in milliseconds)");
              }
            };
          }
          var e = a(26),
            f = a(24),
            g = a(91),
            h = a(30),
            i = e.createClass({
              displayName: "ReactCSSTransitionGroup",
              propTypes: {
                transitionName: h.propTypes.name,
                transitionAppear: e.PropTypes.bool,
                transitionEnter: e.PropTypes.bool,
                transitionLeave: e.PropTypes.bool,
                transitionAppearTimeout: d("Appear"),
                transitionEnterTimeout: d("Enter"),
                transitionLeaveTimeout: d("Leave"),
              },
              getDefaultProps: function () {
                return {
                  transitionAppear: !1,
                  transitionEnter: !0,
                  transitionLeave: !0,
                };
              },
              _wrapChild: function (a) {
                return e.createElement(
                  h,
                  {
                    name: this.props.transitionName,
                    appear: this.props.transitionAppear,
                    enter: this.props.transitionEnter,
                    leave: this.props.transitionLeave,
                    appearTimeout: this.props.transitionAppearTimeout,
                    enterTimeout: this.props.transitionEnterTimeout,
                    leaveTimeout: this.props.transitionLeaveTimeout,
                  },
                  a
                );
              },
              render: function () {
                return e.createElement(
                  g,
                  f({}, this.props, { childFactory: this._wrapChild })
                );
              },
            });
          b.exports = i;
        },
        { 24: 24, 26: 26, 30: 30, 91: 91 },
      ],
      30: [
        function (a, b, c) {
          "use strict";
          var d = a(26),
            e = a(40),
            f = a(142),
            g = a(90),
            h = a(132),
            i = 17,
            j = d.createClass({
              displayName: "ReactCSSTransitionGroupChild",
              propTypes: {
                name: d.PropTypes.oneOfType([
                  d.PropTypes.string,
                  d.PropTypes.shape({
                    enter: d.PropTypes.string,
                    leave: d.PropTypes.string,
                    active: d.PropTypes.string,
                  }),
                  d.PropTypes.shape({
                    enter: d.PropTypes.string,
                    enterActive: d.PropTypes.string,
                    leave: d.PropTypes.string,
                    leaveActive: d.PropTypes.string,
                    appear: d.PropTypes.string,
                    appearActive: d.PropTypes.string,
                  }),
                ]).isRequired,
                appear: d.PropTypes.bool,
                enter: d.PropTypes.bool,
                leave: d.PropTypes.bool,
                appearTimeout: d.PropTypes.number,
                enterTimeout: d.PropTypes.number,
                leaveTimeout: d.PropTypes.number,
              },
              transition: function (a, b, c) {
                var d = e.findDOMNode(this);
                if (!d) return void (b && b());
                var h = this.props.name[a] || this.props.name + "-" + a,
                  i = this.props.name[a + "Active"] || h + "-active",
                  j = null,
                  k = function (a) {
                    (a && a.target !== d) ||
                      (clearTimeout(j),
                      f.removeClass(d, h),
                      f.removeClass(d, i),
                      g.removeEndEventListener(d, k),
                      b && b());
                  };
                f.addClass(d, h),
                  this.queueClass(i),
                  c
                    ? ((j = setTimeout(k, c)), this.transitionTimeouts.push(j))
                    : g.addEndEventListener(d, k);
              },
              queueClass: function (a) {
                this.classNameQueue.push(a),
                  this.timeout ||
                    (this.timeout = setTimeout(this.flushClassNameQueue, i));
              },
              flushClassNameQueue: function () {
                this.isMounted() &&
                  this.classNameQueue.forEach(
                    f.addClass.bind(f, e.findDOMNode(this))
                  ),
                  (this.classNameQueue.length = 0),
                  (this.timeout = null);
              },
              componentWillMount: function () {
                (this.classNameQueue = []), (this.transitionTimeouts = []);
              },
              componentWillUnmount: function () {
                this.timeout && clearTimeout(this.timeout),
                  this.transitionTimeouts.forEach(function (a) {
                    clearTimeout(a);
                  });
              },
              componentWillAppear: function (a) {
                this.props.appear
                  ? this.transition("appear", a, this.props.appearTimeout)
                  : a();
              },
              componentWillEnter: function (a) {
                this.props.enter
                  ? this.transition("enter", a, this.props.enterTimeout)
                  : a();
              },
              componentWillLeave: function (a) {
                this.props.leave
                  ? this.transition("leave", a, this.props.leaveTimeout)
                  : a();
              },
              render: function () {
                return h(this.props.children);
              },
            });
          b.exports = j;
        },
        { 132: 132, 142: 142, 26: 26, 40: 40, 90: 90 },
      ],
      31: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c) {
            var d = void 0 === a[c];
            null != b && d && (a[c] = f(b, null));
          }
          var e = a(82),
            f = a(129),
            g = a(138),
            h = a(139),
            i =
              (a(168),
              {
                instantiateChildren: function (a, b, c) {
                  if (null == a) return null;
                  var e = {};
                  return h(a, d, e), e;
                },
                updateChildren: function (a, b, c, d) {
                  if (!b && !a) return null;
                  var h;
                  for (h in b)
                    if (b.hasOwnProperty(h)) {
                      var i = a && a[h],
                        j = i && i._currentElement,
                        k = b[h];
                      if (null != i && g(j, k))
                        e.receiveComponent(i, k, c, d), (b[h] = i);
                      else {
                        i && e.unmountComponent(i, h);
                        var l = f(k, null);
                        b[h] = l;
                      }
                    }
                  for (h in a)
                    !a.hasOwnProperty(h) ||
                      (b && b.hasOwnProperty(h)) ||
                      e.unmountComponent(a[h]);
                  return b;
                },
                unmountChildren: function (a) {
                  for (var b in a)
                    if (a.hasOwnProperty(b)) {
                      var c = a[b];
                      e.unmountComponent(c);
                    }
                },
              });
          b.exports = i;
        },
        { 129: 129, 138: 138, 139: 139, 168: 168, 82: 82 },
      ],
      32: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return ("" + a).replace(u, "//");
          }
          function e(a, b) {
            (this.func = a), (this.context = b), (this.count = 0);
          }
          function f(a, b, c) {
            var d = a.func,
              e = a.context;
            d.call(e, b, a.count++);
          }
          function g(a, b, c) {
            if (null == a) return a;
            var d = e.getPooled(b, c);
            r(a, f, d), e.release(d);
          }
          function h(a, b, c, d) {
            (this.result = a),
              (this.keyPrefix = b),
              (this.func = c),
              (this.context = d),
              (this.count = 0);
          }
          function i(a, b, c) {
            var e = a.result,
              f = a.keyPrefix,
              g = a.func,
              h = a.context,
              i = g.call(h, b, a.count++);
            Array.isArray(i)
              ? j(i, e, c, q.thatReturnsArgument)
              : null != i &&
                (p.isValidElement(i) &&
                  (i = p.cloneAndReplaceKey(
                    i,
                    f + (i !== b ? d(i.key || "") + "/" : "") + c
                  )),
                e.push(i));
          }
          function j(a, b, c, e, f) {
            var g = "";
            null != c && (g = d(c) + "/");
            var j = h.getPooled(b, g, e, f);
            r(a, i, j), h.release(j);
          }
          function k(a, b, c) {
            if (null == a) return a;
            var d = [];
            return j(a, d, null, b, c), d;
          }
          function l(a, b, c) {
            return null;
          }
          function m(a, b) {
            return r(a, l, null);
          }
          function n(a) {
            var b = [];
            return j(a, b, null, q.thatReturnsArgument), b;
          }
          var o = a(25),
            p = a(55),
            q = a(150),
            r = a(139),
            s = o.twoArgumentPooler,
            t = o.fourArgumentPooler,
            u = /\/(?!\/)/g;
          (e.prototype.destructor = function () {
            (this.func = null), (this.context = null), (this.count = 0);
          }),
            o.addPoolingTo(e, s),
            (h.prototype.destructor = function () {
              (this.result = null),
                (this.keyPrefix = null),
                (this.func = null),
                (this.context = null),
                (this.count = 0);
            }),
            o.addPoolingTo(h, t);
          var v = {
            forEach: g,
            map: k,
            mapIntoWithKeyPrefixInternal: j,
            count: m,
            toArray: n,
          };
          b.exports = v;
        },
        { 139: 139, 150: 150, 25: 25, 55: 55 },
      ],
      33: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            var c = w.hasOwnProperty(b) ? w[b] : null;
            y.hasOwnProperty(b) && (c !== u.OVERRIDE_BASE ? q(!1) : void 0),
              a.hasOwnProperty(b) &&
                (c !== u.DEFINE_MANY && c !== u.DEFINE_MANY_MERGED
                  ? q(!1)
                  : void 0);
          }
          function e(a, b) {
            if (b) {
              "function" == typeof b ? q(!1) : void 0,
                m.isValidElement(b) ? q(!1) : void 0;
              var c = a.prototype;
              b.hasOwnProperty(t) && x.mixins(a, b.mixins);
              for (var e in b)
                if (b.hasOwnProperty(e) && e !== t) {
                  var f = b[e];
                  if ((d(c, e), x.hasOwnProperty(e))) x[e](a, f);
                  else {
                    var g = w.hasOwnProperty(e),
                      j = c.hasOwnProperty(e),
                      k = "function" == typeof f,
                      l = k && !g && !j && b.autobind !== !1;
                    if (l)
                      c.__reactAutoBindMap || (c.__reactAutoBindMap = {}),
                        (c.__reactAutoBindMap[e] = f),
                        (c[e] = f);
                    else if (j) {
                      var n = w[e];
                      !g || (n !== u.DEFINE_MANY_MERGED && n !== u.DEFINE_MANY)
                        ? q(!1)
                        : void 0,
                        n === u.DEFINE_MANY_MERGED
                          ? (c[e] = h(c[e], f))
                          : n === u.DEFINE_MANY && (c[e] = i(c[e], f));
                    } else c[e] = f;
                  }
                }
            }
          }
          function f(a, b) {
            if (b)
              for (var c in b) {
                var d = b[c];
                if (b.hasOwnProperty(c)) {
                  var e = c in x;
                  e ? q(!1) : void 0;
                  var f = c in a;
                  f ? q(!1) : void 0, (a[c] = d);
                }
              }
          }
          function g(a, b) {
            a && b && "object" == typeof a && "object" == typeof b
              ? void 0
              : q(!1);
            for (var c in b)
              b.hasOwnProperty(c) &&
                (void 0 !== a[c] ? q(!1) : void 0, (a[c] = b[c]));
            return a;
          }
          function h(a, b) {
            return function () {
              var c = a.apply(this, arguments),
                d = b.apply(this, arguments);
              if (null == c) return d;
              if (null == d) return c;
              var e = {};
              return g(e, c), g(e, d), e;
            };
          }
          function i(a, b) {
            return function () {
              a.apply(this, arguments), b.apply(this, arguments);
            };
          }
          function j(a, b) {
            var c = b.bind(a);
            return c;
          }
          function k(a) {
            for (var b in a.__reactAutoBindMap)
              if (a.__reactAutoBindMap.hasOwnProperty(b)) {
                var c = a.__reactAutoBindMap[b];
                a[b] = j(a, c);
              }
          }
          var l = a(34),
            m = a(55),
            n = (a(79), a(78), a(74)),
            o = a(24),
            p = a(151),
            q = a(158),
            r = a(162),
            s = a(163),
            t = (a(168), s({ mixins: null })),
            u = r({
              DEFINE_ONCE: null,
              DEFINE_MANY: null,
              OVERRIDE_BASE: null,
              DEFINE_MANY_MERGED: null,
            }),
            v = [],
            w = {
              mixins: u.DEFINE_MANY,
              statics: u.DEFINE_MANY,
              propTypes: u.DEFINE_MANY,
              contextTypes: u.DEFINE_MANY,
              childContextTypes: u.DEFINE_MANY,
              getDefaultProps: u.DEFINE_MANY_MERGED,
              getInitialState: u.DEFINE_MANY_MERGED,
              getChildContext: u.DEFINE_MANY_MERGED,
              render: u.DEFINE_ONCE,
              componentWillMount: u.DEFINE_MANY,
              componentDidMount: u.DEFINE_MANY,
              componentWillReceiveProps: u.DEFINE_MANY,
              shouldComponentUpdate: u.DEFINE_ONCE,
              componentWillUpdate: u.DEFINE_MANY,
              componentDidUpdate: u.DEFINE_MANY,
              componentWillUnmount: u.DEFINE_MANY,
              updateComponent: u.OVERRIDE_BASE,
            },
            x = {
              displayName: function (a, b) {
                a.displayName = b;
              },
              mixins: function (a, b) {
                if (b) for (var c = 0; c < b.length; c++) e(a, b[c]);
              },
              childContextTypes: function (a, b) {
                a.childContextTypes = o({}, a.childContextTypes, b);
              },
              contextTypes: function (a, b) {
                a.contextTypes = o({}, a.contextTypes, b);
              },
              getDefaultProps: function (a, b) {
                a.getDefaultProps
                  ? (a.getDefaultProps = h(a.getDefaultProps, b))
                  : (a.getDefaultProps = b);
              },
              propTypes: function (a, b) {
                a.propTypes = o({}, a.propTypes, b);
              },
              statics: function (a, b) {
                f(a, b);
              },
              autobind: function () {},
            },
            y = {
              replaceState: function (a, b) {
                this.updater.enqueueReplaceState(this, a),
                  b && this.updater.enqueueCallback(this, b);
              },
              isMounted: function () {
                return this.updater.isMounted(this);
              },
              setProps: function (a, b) {
                this.updater.enqueueSetProps(this, a),
                  b && this.updater.enqueueCallback(this, b);
              },
              replaceProps: function (a, b) {
                this.updater.enqueueReplaceProps(this, a),
                  b && this.updater.enqueueCallback(this, b);
              },
            },
            z = function () {};
          o(z.prototype, l.prototype, y);
          var A = {
            createClass: function (a) {
              var b = function (a, b, c) {
                this.__reactAutoBindMap && k(this),
                  (this.props = a),
                  (this.context = b),
                  (this.refs = p),
                  (this.updater = c || n),
                  (this.state = null);
                var d = this.getInitialState ? this.getInitialState() : null;
                "object" != typeof d || Array.isArray(d) ? q(!1) : void 0,
                  (this.state = d);
              };
              (b.prototype = new z()),
                (b.prototype.constructor = b),
                v.forEach(e.bind(null, b)),
                e(b, a),
                b.getDefaultProps && (b.defaultProps = b.getDefaultProps()),
                b.prototype.render ? void 0 : q(!1);
              for (var c in w) b.prototype[c] || (b.prototype[c] = null);
              return b;
            },
            injection: {
              injectMixin: function (a) {
                v.push(a);
              },
            },
          };
          b.exports = A;
        },
        {
          151: 151,
          158: 158,
          162: 162,
          163: 163,
          168: 168,
          24: 24,
          34: 34,
          55: 55,
          74: 74,
          78: 78,
          79: 79,
        },
      ],
      34: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c) {
            (this.props = a),
              (this.context = b),
              (this.refs = f),
              (this.updater = c || e);
          }
          var e = a(74),
            f = (a(114), a(151)),
            g = a(158);
          a(168),
            (d.prototype.isReactComponent = {}),
            (d.prototype.setState = function (a, b) {
              "object" != typeof a && "function" != typeof a && null != a
                ? g(!1)
                : void 0,
                this.updater.enqueueSetState(this, a),
                b && this.updater.enqueueCallback(this, b);
            }),
            (d.prototype.forceUpdate = function (a) {
              this.updater.enqueueForceUpdate(this),
                a && this.updater.enqueueCallback(this, a);
            }),
            (b.exports = d);
        },
        { 114: 114, 151: 151, 158: 158, 168: 168, 74: 74 },
      ],
      35: [
        function (a, b, c) {
          "use strict";
          var d = a(45),
            e = a(70),
            f = {
              processChildrenUpdates: d.dangerouslyProcessChildrenUpdates,
              replaceNodeWithMarkupByID: d.dangerouslyReplaceNodeWithMarkupByID,
              unmountIDFromEnvironment: function (a) {
                e.purgeID(a);
              },
            };
          b.exports = f;
        },
        { 45: 45, 70: 70 },
      ],
      36: [
        function (a, b, c) {
          "use strict";
          var d = a(158),
            e = !1,
            f = {
              unmountIDFromEnvironment: null,
              replaceNodeWithMarkupByID: null,
              processChildrenUpdates: null,
              injection: {
                injectEnvironment: function (a) {
                  e ? d(!1) : void 0,
                    (f.unmountIDFromEnvironment = a.unmountIDFromEnvironment),
                    (f.replaceNodeWithMarkupByID = a.replaceNodeWithMarkupByID),
                    (f.processChildrenUpdates = a.processChildrenUpdates),
                    (e = !0);
                },
              },
            };
          b.exports = f;
        },
        { 158: 158 },
      ],
      37: [
        function (a, b, c) {
          "use strict";
          var d = a(137),
            e = {
              shouldComponentUpdate: function (a, b) {
                return d(this, a, b);
              },
            };
          b.exports = e;
        },
        { 137: 137 },
      ],
      38: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = a._currentElement._owner || null;
            if (b) {
              var c = b.getName();
              if (c) return " Check the render method of `" + c + "`.";
            }
            return "";
          }
          function e(a) {}
          var f = a(36),
            g = a(39),
            h = a(55),
            i = a(66),
            j = a(76),
            k = a(79),
            l = (a(78), a(82)),
            m = a(92),
            n = a(24),
            o = a(151),
            p = a(158),
            q = a(138);
          a(168),
            (e.prototype.render = function () {
              var a = i.get(this)._currentElement.type;
              return a(this.props, this.context, this.updater);
            });
          var r = 1,
            s = {
              construct: function (a) {
                (this._currentElement = a),
                  (this._rootNodeID = null),
                  (this._instance = null),
                  (this._pendingElement = null),
                  (this._pendingStateQueue = null),
                  (this._pendingReplaceState = !1),
                  (this._pendingForceUpdate = !1),
                  (this._renderedComponent = null),
                  (this._context = null),
                  (this._mountOrder = 0),
                  (this._topLevelWrapper = null),
                  (this._pendingCallbacks = null);
              },
              mountComponent: function (a, b, c) {
                (this._context = c),
                  (this._mountOrder = r++),
                  (this._rootNodeID = a);
                var d,
                  f,
                  g = this._processProps(this._currentElement.props),
                  j = this._processContext(c),
                  k = this._currentElement.type,
                  n = "prototype" in k;
                n && (d = new k(g, j, m)),
                  (!n || null === d || d === !1 || h.isValidElement(d)) &&
                    ((f = d), (d = new e(k))),
                  (d.props = g),
                  (d.context = j),
                  (d.refs = o),
                  (d.updater = m),
                  (this._instance = d),
                  i.set(d, this);
                var q = d.state;
                void 0 === q && (d.state = q = null),
                  "object" != typeof q || Array.isArray(q) ? p(!1) : void 0,
                  (this._pendingStateQueue = null),
                  (this._pendingReplaceState = !1),
                  (this._pendingForceUpdate = !1),
                  d.componentWillMount &&
                    (d.componentWillMount(),
                    this._pendingStateQueue &&
                      (d.state = this._processPendingState(
                        d.props,
                        d.context
                      ))),
                  void 0 === f && (f = this._renderValidatedComponent()),
                  (this._renderedComponent =
                    this._instantiateReactComponent(f));
                var s = l.mountComponent(
                  this._renderedComponent,
                  a,
                  b,
                  this._processChildContext(c)
                );
                return (
                  d.componentDidMount &&
                    b.getReactMountReady().enqueue(d.componentDidMount, d),
                  s
                );
              },
              unmountComponent: function () {
                var a = this._instance;
                a.componentWillUnmount && a.componentWillUnmount(),
                  l.unmountComponent(this._renderedComponent),
                  (this._renderedComponent = null),
                  (this._instance = null),
                  (this._pendingStateQueue = null),
                  (this._pendingReplaceState = !1),
                  (this._pendingForceUpdate = !1),
                  (this._pendingCallbacks = null),
                  (this._pendingElement = null),
                  (this._context = null),
                  (this._rootNodeID = null),
                  (this._topLevelWrapper = null),
                  i.remove(a);
              },
              _maskContext: function (a) {
                var b = null,
                  c = this._currentElement.type,
                  d = c.contextTypes;
                if (!d) return o;
                b = {};
                for (var e in d) b[e] = a[e];
                return b;
              },
              _processContext: function (a) {
                var b = this._maskContext(a);
                return b;
              },
              _processChildContext: function (a) {
                var b = this._currentElement.type,
                  c = this._instance,
                  d = c.getChildContext && c.getChildContext();
                if (d) {
                  "object" != typeof b.childContextTypes ? p(!1) : void 0;
                  for (var e in d) e in b.childContextTypes ? void 0 : p(!1);
                  return n({}, a, d);
                }
                return a;
              },
              _processProps: function (a) {
                return a;
              },
              _checkPropTypes: function (a, b, c) {
                var e = this.getName();
                for (var f in a)
                  if (a.hasOwnProperty(f)) {
                    var g;
                    try {
                      "function" != typeof a[f] ? p(!1) : void 0,
                        (g = a[f](b, f, e, c));
                    } catch (h) {
                      g = h;
                    }
                    g instanceof Error && (d(this), c === k.prop);
                  }
              },
              receiveComponent: function (a, b, c) {
                var d = this._currentElement,
                  e = this._context;
                (this._pendingElement = null),
                  this.updateComponent(b, d, a, e, c);
              },
              performUpdateIfNecessary: function (a) {
                null != this._pendingElement &&
                  l.receiveComponent(
                    this,
                    this._pendingElement || this._currentElement,
                    a,
                    this._context
                  ),
                  (null !== this._pendingStateQueue ||
                    this._pendingForceUpdate) &&
                    this.updateComponent(
                      a,
                      this._currentElement,
                      this._currentElement,
                      this._context,
                      this._context
                    );
              },
              updateComponent: function (a, b, c, d, e) {
                var f,
                  g = this._instance,
                  h = this._context === e ? g.context : this._processContext(e);
                b === c
                  ? (f = c.props)
                  : ((f = this._processProps(c.props)),
                    g.componentWillReceiveProps &&
                      g.componentWillReceiveProps(f, h));
                var i = this._processPendingState(f, h),
                  j =
                    this._pendingForceUpdate ||
                    !g.shouldComponentUpdate ||
                    g.shouldComponentUpdate(f, i, h);
                j
                  ? ((this._pendingForceUpdate = !1),
                    this._performComponentUpdate(c, f, i, h, a, e))
                  : ((this._currentElement = c),
                    (this._context = e),
                    (g.props = f),
                    (g.state = i),
                    (g.context = h));
              },
              _processPendingState: function (a, b) {
                var c = this._instance,
                  d = this._pendingStateQueue,
                  e = this._pendingReplaceState;
                if (
                  ((this._pendingReplaceState = !1),
                  (this._pendingStateQueue = null),
                  !d)
                )
                  return c.state;
                if (e && 1 === d.length) return d[0];
                for (
                  var f = n({}, e ? d[0] : c.state), g = e ? 1 : 0;
                  g < d.length;
                  g++
                ) {
                  var h = d[g];
                  n(f, "function" == typeof h ? h.call(c, f, a, b) : h);
                }
                return f;
              },
              _performComponentUpdate: function (a, b, c, d, e, f) {
                var g,
                  h,
                  i,
                  j = this._instance,
                  k = Boolean(j.componentDidUpdate);
                k && ((g = j.props), (h = j.state), (i = j.context)),
                  j.componentWillUpdate && j.componentWillUpdate(b, c, d),
                  (this._currentElement = a),
                  (this._context = f),
                  (j.props = b),
                  (j.state = c),
                  (j.context = d),
                  this._updateRenderedComponent(e, f),
                  k &&
                    e
                      .getReactMountReady()
                      .enqueue(j.componentDidUpdate.bind(j, g, h, i), j);
              },
              _updateRenderedComponent: function (a, b) {
                var c = this._renderedComponent,
                  d = c._currentElement,
                  e = this._renderValidatedComponent();
                if (q(d, e))
                  l.receiveComponent(c, e, a, this._processChildContext(b));
                else {
                  var f = this._rootNodeID,
                    g = c._rootNodeID;
                  l.unmountComponent(c),
                    (this._renderedComponent =
                      this._instantiateReactComponent(e));
                  var h = l.mountComponent(
                    this._renderedComponent,
                    f,
                    a,
                    this._processChildContext(b)
                  );
                  this._replaceNodeWithMarkupByID(g, h);
                }
              },
              _replaceNodeWithMarkupByID: function (a, b) {
                f.replaceNodeWithMarkupByID(a, b);
              },
              _renderValidatedComponentWithoutOwnerOrContext: function () {
                var a = this._instance,
                  b = a.render();
                return b;
              },
              _renderValidatedComponent: function () {
                var a;
                g.current = this;
                try {
                  a = this._renderValidatedComponentWithoutOwnerOrContext();
                } finally {
                  g.current = null;
                }
                return (
                  null === a || a === !1 || h.isValidElement(a)
                    ? void 0
                    : p(!1),
                  a
                );
              },
              attachRef: function (a, b) {
                var c = this.getPublicInstance();
                null == c ? p(!1) : void 0;
                var d = b.getPublicInstance(),
                  e = c.refs === o ? (c.refs = {}) : c.refs;
                e[a] = d;
              },
              detachRef: function (a) {
                var b = this.getPublicInstance().refs;
                delete b[a];
              },
              getName: function () {
                var a = this._currentElement.type,
                  b = this._instance && this._instance.constructor;
                return (
                  a.displayName ||
                  (b && b.displayName) ||
                  a.name ||
                  (b && b.name) ||
                  null
                );
              },
              getPublicInstance: function () {
                var a = this._instance;
                return a instanceof e ? null : a;
              },
              _instantiateReactComponent: null,
            };
          j.measureMethods(s, "ReactCompositeComponent", {
            mountComponent: "mountComponent",
            updateComponent: "updateComponent",
            _renderValidatedComponent: "_renderValidatedComponent",
          });
          var t = { Mixin: s };
          b.exports = t;
        },
        {
          138: 138,
          151: 151,
          158: 158,
          168: 168,
          24: 24,
          36: 36,
          39: 39,
          55: 55,
          66: 66,
          76: 76,
          78: 78,
          79: 79,
          82: 82,
          92: 92,
        },
      ],
      39: [
        function (a, b, c) {
          "use strict";
          var d = { current: null };
          b.exports = d;
        },
        {},
      ],
      40: [
        function (a, b, c) {
          "use strict";
          var d = a(39),
            e = a(51),
            f = a(54),
            g = a(65),
            h = a(70),
            i = a(76),
            j = a(82),
            k = a(93),
            l = a(94),
            m = a(119),
            n = a(134);
          a(168), f.inject();
          var o = i.measure("React", "render", h.render),
            p = {
              findDOMNode: m,
              render: o,
              unmountComponentAtNode: h.unmountComponentAtNode,
              version: l,
              unstable_batchedUpdates: k.batchedUpdates,
              unstable_renderSubtreeIntoContainer: n,
            };
          "undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
            "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject &&
            __REACT_DEVTOOLS_GLOBAL_HOOK__.inject({
              CurrentOwner: d,
              InstanceHandles: g,
              Mount: h,
              Reconciler: j,
              TextComponent: e,
            }),
            (b.exports = p);
        },
        {
          119: 119,
          134: 134,
          168: 168,
          39: 39,
          51: 51,
          54: 54,
          65: 65,
          70: 70,
          76: 76,
          82: 82,
          93: 93,
          94: 94,
        },
      ],
      41: [
        function (a, b, c) {
          "use strict";
          var d = {
              onClick: !0,
              onDoubleClick: !0,
              onMouseDown: !0,
              onMouseMove: !0,
              onMouseUp: !0,
              onClickCapture: !0,
              onDoubleClickCapture: !0,
              onMouseDownCapture: !0,
              onMouseMoveCapture: !0,
              onMouseUpCapture: !0,
            },
            e = {
              getNativeProps: function (a, b, c) {
                if (!b.disabled) return b;
                var e = {};
                for (var f in b) b.hasOwnProperty(f) && !d[f] && (e[f] = b[f]);
                return e;
              },
            };
          b.exports = e;
        },
        {},
      ],
      42: [
        function (a, b, c) {
          "use strict";
          function d() {
            return this;
          }
          function e() {
            var a = this._reactInternalComponent;
            return !!a;
          }
          function f() {}
          function g(a, b) {
            var c = this._reactInternalComponent;
            c &&
              (G.enqueueSetPropsInternal(c, a),
              b && G.enqueueCallbackInternal(c, b));
          }
          function h(a, b) {
            var c = this._reactInternalComponent;
            c &&
              (G.enqueueReplacePropsInternal(c, a),
              b && G.enqueueCallbackInternal(c, b));
          }
          function i(a, b) {
            b &&
              (null != b.dangerouslySetInnerHTML &&
                (null != b.children ? K(!1) : void 0,
                "object" == typeof b.dangerouslySetInnerHTML &&
                U in b.dangerouslySetInnerHTML
                  ? void 0
                  : K(!1)),
              null != b.style && "object" != typeof b.style ? K(!1) : void 0);
          }
          function j(a, b, c, d) {
            var e = D.findReactContainerForID(a);
            if (e) {
              var f = e.nodeType === V ? e.ownerDocument : e;
              P(b, f);
            }
            d.getReactMountReady().enqueue(k, {
              id: a,
              registrationName: b,
              listener: c,
            });
          }
          function k() {
            var a = this;
            w.putListener(a.id, a.registrationName, a.listener);
          }
          function l() {
            var a = this;
            a._rootNodeID ? void 0 : K(!1);
            var b = D.getNode(a._rootNodeID);
            switch ((b ? void 0 : K(!1), a._tag)) {
              case "iframe":
                a._wrapperState.listeners = [
                  w.trapBubbledEvent(v.topLevelTypes.topLoad, "load", b),
                ];
                break;
              case "video":
              case "audio":
                a._wrapperState.listeners = [];
                for (var c in W)
                  W.hasOwnProperty(c) &&
                    a._wrapperState.listeners.push(
                      w.trapBubbledEvent(v.topLevelTypes[c], W[c], b)
                    );
                break;
              case "img":
                a._wrapperState.listeners = [
                  w.trapBubbledEvent(v.topLevelTypes.topError, "error", b),
                  w.trapBubbledEvent(v.topLevelTypes.topLoad, "load", b),
                ];
                break;
              case "form":
                a._wrapperState.listeners = [
                  w.trapBubbledEvent(v.topLevelTypes.topReset, "reset", b),
                  w.trapBubbledEvent(v.topLevelTypes.topSubmit, "submit", b),
                ];
            }
          }
          function m() {
            z.mountReadyWrapper(this);
          }
          function n() {
            B.postUpdateWrapper(this);
          }
          function o(a) {
            _.call($, a) || (Z.test(a) ? void 0 : K(!1), ($[a] = !0));
          }
          function p(a, b) {
            return a.indexOf("-") >= 0 || null != b.is;
          }
          function q(a) {
            o(a),
              (this._tag = a.toLowerCase()),
              (this._renderedChildren = null),
              (this._previousStyle = null),
              (this._previousStyleCopy = null),
              (this._rootNodeID = null),
              (this._wrapperState = null),
              (this._topLevelWrapper = null),
              (this._nodeWithLegacyProperties = null);
          }
          var r = a(2),
            s = a(5),
            t = a(10),
            u = a(11),
            v = a(15),
            w = a(28),
            x = a(35),
            y = a(41),
            z = a(46),
            A = a(47),
            B = a(48),
            C = a(52),
            D = a(70),
            E = a(71),
            F = a(76),
            G = a(92),
            H = a(24),
            I = a(114),
            J = a(118),
            K = a(158),
            L = (a(130), a(163)),
            M = a(135),
            N = a(136),
            O = (a(166), a(141), a(168), w.deleteListener),
            P = w.listenTo,
            Q = w.registrationNameModules,
            R = { string: !0, number: !0 },
            S = L({ children: null }),
            T = L({ style: null }),
            U = L({ __html: null }),
            V = 1,
            W = {
              topAbort: "abort",
              topCanPlay: "canplay",
              topCanPlayThrough: "canplaythrough",
              topDurationChange: "durationchange",
              topEmptied: "emptied",
              topEncrypted: "encrypted",
              topEnded: "ended",
              topError: "error",
              topLoadedData: "loadeddata",
              topLoadedMetadata: "loadedmetadata",
              topLoadStart: "loadstart",
              topPause: "pause",
              topPlay: "play",
              topPlaying: "playing",
              topProgress: "progress",
              topRateChange: "ratechange",
              topSeeked: "seeked",
              topSeeking: "seeking",
              topStalled: "stalled",
              topSuspend: "suspend",
              topTimeUpdate: "timeupdate",
              topVolumeChange: "volumechange",
              topWaiting: "waiting",
            },
            X = {
              area: !0,
              base: !0,
              br: !0,
              col: !0,
              embed: !0,
              hr: !0,
              img: !0,
              input: !0,
              keygen: !0,
              link: !0,
              meta: !0,
              param: !0,
              source: !0,
              track: !0,
              wbr: !0,
            },
            Y = { listing: !0, pre: !0, textarea: !0 },
            Z = (H({ menuitem: !0 }, X), /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),
            $ = {},
            _ = {}.hasOwnProperty;
          (q.displayName = "ReactDOMComponent"),
            (q.Mixin = {
              construct: function (a) {
                this._currentElement = a;
              },
              mountComponent: function (a, b, c) {
                this._rootNodeID = a;
                var d = this._currentElement.props;
                switch (this._tag) {
                  case "iframe":
                  case "img":
                  case "form":
                  case "video":
                  case "audio":
                    (this._wrapperState = { listeners: null }),
                      b.getReactMountReady().enqueue(l, this);
                    break;
                  case "button":
                    d = y.getNativeProps(this, d, c);
                    break;
                  case "input":
                    z.mountWrapper(this, d, c),
                      (d = z.getNativeProps(this, d, c));
                    break;
                  case "option":
                    A.mountWrapper(this, d, c),
                      (d = A.getNativeProps(this, d, c));
                    break;
                  case "select":
                    B.mountWrapper(this, d, c),
                      (d = B.getNativeProps(this, d, c)),
                      (c = B.processChildContext(this, d, c));
                    break;
                  case "textarea":
                    C.mountWrapper(this, d, c),
                      (d = C.getNativeProps(this, d, c));
                }
                i(this, d);
                var e;
                if (b.useCreateElement) {
                  var f = c[D.ownerDocumentContextKey],
                    g = f.createElement(this._currentElement.type);
                  u.setAttributeForID(g, this._rootNodeID),
                    D.getID(g),
                    this._updateDOMProperties({}, d, b, g),
                    this._createInitialChildren(b, d, c, g),
                    (e = g);
                } else {
                  var h = this._createOpenTagMarkupAndPutListeners(b, d),
                    j = this._createContentMarkup(b, d, c);
                  e =
                    !j && X[this._tag]
                      ? h + "/>"
                      : h + ">" + j + "</" + this._currentElement.type + ">";
                }
                switch (this._tag) {
                  case "input":
                    b.getReactMountReady().enqueue(m, this);
                  case "button":
                  case "select":
                  case "textarea":
                    d.autoFocus &&
                      b.getReactMountReady().enqueue(r.focusDOMComponent, this);
                }
                return e;
              },
              _createOpenTagMarkupAndPutListeners: function (a, b) {
                var c = "<" + this._currentElement.type;
                for (var d in b)
                  if (b.hasOwnProperty(d)) {
                    var e = b[d];
                    if (null != e)
                      if (Q.hasOwnProperty(d))
                        e && j(this._rootNodeID, d, e, a);
                      else {
                        d === T &&
                          (e && (e = this._previousStyleCopy = H({}, b.style)),
                          (e = s.createMarkupForStyles(e)));
                        var f = null;
                        null != this._tag && p(this._tag, b)
                          ? d !== S &&
                            (f = u.createMarkupForCustomAttribute(d, e))
                          : (f = u.createMarkupForProperty(d, e)),
                          f && (c += " " + f);
                      }
                  }
                if (a.renderToStaticMarkup) return c;
                var g = u.createMarkupForID(this._rootNodeID);
                return c + " " + g;
              },
              _createContentMarkup: function (a, b, c) {
                var d = "",
                  e = b.dangerouslySetInnerHTML;
                if (null != e) null != e.__html && (d = e.__html);
                else {
                  var f = R[typeof b.children] ? b.children : null,
                    g = null != f ? null : b.children;
                  if (null != f) d = J(f);
                  else if (null != g) {
                    var h = this.mountChildren(g, a, c);
                    d = h.join("");
                  }
                }
                return Y[this._tag] && "\n" === d.charAt(0) ? "\n" + d : d;
              },
              _createInitialChildren: function (a, b, c, d) {
                var e = b.dangerouslySetInnerHTML;
                if (null != e) null != e.__html && M(d, e.__html);
                else {
                  var f = R[typeof b.children] ? b.children : null,
                    g = null != f ? null : b.children;
                  if (null != f) N(d, f);
                  else if (null != g)
                    for (
                      var h = this.mountChildren(g, a, c), i = 0;
                      i < h.length;
                      i++
                    )
                      d.appendChild(h[i]);
                }
              },
              receiveComponent: function (a, b, c) {
                var d = this._currentElement;
                (this._currentElement = a), this.updateComponent(b, d, a, c);
              },
              updateComponent: function (a, b, c, d) {
                var e = b.props,
                  f = this._currentElement.props;
                switch (this._tag) {
                  case "button":
                    (e = y.getNativeProps(this, e)),
                      (f = y.getNativeProps(this, f));
                    break;
                  case "input":
                    z.updateWrapper(this),
                      (e = z.getNativeProps(this, e)),
                      (f = z.getNativeProps(this, f));
                    break;
                  case "option":
                    (e = A.getNativeProps(this, e)),
                      (f = A.getNativeProps(this, f));
                    break;
                  case "select":
                    (e = B.getNativeProps(this, e)),
                      (f = B.getNativeProps(this, f));
                    break;
                  case "textarea":
                    C.updateWrapper(this),
                      (e = C.getNativeProps(this, e)),
                      (f = C.getNativeProps(this, f));
                }
                i(this, f),
                  this._updateDOMProperties(e, f, a, null),
                  this._updateDOMChildren(e, f, a, d),
                  !I &&
                    this._nodeWithLegacyProperties &&
                    (this._nodeWithLegacyProperties.props = f),
                  "select" === this._tag &&
                    a.getReactMountReady().enqueue(n, this);
              },
              _updateDOMProperties: function (a, b, c, d) {
                var e, f, g;
                for (e in a)
                  if (!b.hasOwnProperty(e) && a.hasOwnProperty(e))
                    if (e === T) {
                      var h = this._previousStyleCopy;
                      for (f in h)
                        h.hasOwnProperty(f) && ((g = g || {}), (g[f] = ""));
                      this._previousStyleCopy = null;
                    } else
                      Q.hasOwnProperty(e)
                        ? a[e] && O(this._rootNodeID, e)
                        : (t.properties[e] || t.isCustomAttribute(e)) &&
                          (d || (d = D.getNode(this._rootNodeID)),
                          u.deleteValueForProperty(d, e));
                for (e in b) {
                  var i = b[e],
                    k = e === T ? this._previousStyleCopy : a[e];
                  if (b.hasOwnProperty(e) && i !== k)
                    if (e === T)
                      if (
                        (i
                          ? (i = this._previousStyleCopy = H({}, i))
                          : (this._previousStyleCopy = null),
                        k)
                      ) {
                        for (f in k)
                          !k.hasOwnProperty(f) ||
                            (i && i.hasOwnProperty(f)) ||
                            ((g = g || {}), (g[f] = ""));
                        for (f in i)
                          i.hasOwnProperty(f) &&
                            k[f] !== i[f] &&
                            ((g = g || {}), (g[f] = i[f]));
                      } else g = i;
                    else
                      Q.hasOwnProperty(e)
                        ? i
                          ? j(this._rootNodeID, e, i, c)
                          : k && O(this._rootNodeID, e)
                        : p(this._tag, b)
                        ? (d || (d = D.getNode(this._rootNodeID)),
                          e === S && (i = null),
                          u.setValueForAttribute(d, e, i))
                        : (t.properties[e] || t.isCustomAttribute(e)) &&
                          (d || (d = D.getNode(this._rootNodeID)),
                          null != i
                            ? u.setValueForProperty(d, e, i)
                            : u.deleteValueForProperty(d, e));
                }
                g &&
                  (d || (d = D.getNode(this._rootNodeID)),
                  s.setValueForStyles(d, g));
              },
              _updateDOMChildren: function (a, b, c, d) {
                var e = R[typeof a.children] ? a.children : null,
                  f = R[typeof b.children] ? b.children : null,
                  g =
                    a.dangerouslySetInnerHTML &&
                    a.dangerouslySetInnerHTML.__html,
                  h =
                    b.dangerouslySetInnerHTML &&
                    b.dangerouslySetInnerHTML.__html,
                  i = null != e ? null : a.children,
                  j = null != f ? null : b.children,
                  k = null != e || null != g,
                  l = null != f || null != h;
                null != i && null == j
                  ? this.updateChildren(null, c, d)
                  : k && !l && this.updateTextContent(""),
                  null != f
                    ? e !== f && this.updateTextContent("" + f)
                    : null != h
                    ? g !== h && this.updateMarkup("" + h)
                    : null != j && this.updateChildren(j, c, d);
              },
              unmountComponent: function () {
                switch (this._tag) {
                  case "iframe":
                  case "img":
                  case "form":
                  case "video":
                  case "audio":
                    var a = this._wrapperState.listeners;
                    if (a) for (var b = 0; b < a.length; b++) a[b].remove();
                    break;
                  case "input":
                    z.unmountWrapper(this);
                    break;
                  case "html":
                  case "head":
                  case "body":
                    K(!1);
                }
                if (
                  (this.unmountChildren(),
                  w.deleteAllListeners(this._rootNodeID),
                  x.unmountIDFromEnvironment(this._rootNodeID),
                  (this._rootNodeID = null),
                  (this._wrapperState = null),
                  this._nodeWithLegacyProperties)
                ) {
                  var c = this._nodeWithLegacyProperties;
                  (c._reactInternalComponent = null),
                    (this._nodeWithLegacyProperties = null);
                }
              },
              getPublicInstance: function () {
                if (!this._nodeWithLegacyProperties) {
                  var a = D.getNode(this._rootNodeID);
                  (a._reactInternalComponent = this),
                    (a.getDOMNode = d),
                    (a.isMounted = e),
                    (a.setState = f),
                    (a.replaceState = f),
                    (a.forceUpdate = f),
                    (a.setProps = g),
                    (a.replaceProps = h),
                    (a.props = this._currentElement.props),
                    (this._nodeWithLegacyProperties = a);
                }
                return this._nodeWithLegacyProperties;
              },
            }),
            F.measureMethods(q, "ReactDOMComponent", {
              mountComponent: "mountComponent",
              updateComponent: "updateComponent",
            }),
            H(q.prototype, q.Mixin, E.Mixin),
            (b.exports = q);
        },
        {
          10: 10,
          11: 11,
          114: 114,
          118: 118,
          130: 130,
          135: 135,
          136: 136,
          141: 141,
          15: 15,
          158: 158,
          163: 163,
          166: 166,
          168: 168,
          2: 2,
          24: 24,
          28: 28,
          35: 35,
          41: 41,
          46: 46,
          47: 47,
          48: 48,
          5: 5,
          52: 52,
          70: 70,
          71: 71,
          76: 76,
          92: 92,
        },
      ],
      43: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return e.createFactory(a);
          }
          var e = a(55),
            f = (a(56), a(164)),
            g = f(
              {
                a: "a",
                abbr: "abbr",
                address: "address",
                area: "area",
                article: "article",
                aside: "aside",
                audio: "audio",
                b: "b",
                base: "base",
                bdi: "bdi",
                bdo: "bdo",
                big: "big",
                blockquote: "blockquote",
                body: "body",
                br: "br",
                button: "button",
                canvas: "canvas",
                caption: "caption",
                cite: "cite",
                code: "code",
                col: "col",
                colgroup: "colgroup",
                data: "data",
                datalist: "datalist",
                dd: "dd",
                del: "del",
                details: "details",
                dfn: "dfn",
                dialog: "dialog",
                div: "div",
                dl: "dl",
                dt: "dt",
                em: "em",
                embed: "embed",
                fieldset: "fieldset",
                figcaption: "figcaption",
                figure: "figure",
                footer: "footer",
                form: "form",
                h1: "h1",
                h2: "h2",
                h3: "h3",
                h4: "h4",
                h5: "h5",
                h6: "h6",
                head: "head",
                header: "header",
                hgroup: "hgroup",
                hr: "hr",
                html: "html",
                i: "i",
                iframe: "iframe",
                img: "img",
                input: "input",
                ins: "ins",
                kbd: "kbd",
                keygen: "keygen",
                label: "label",
                legend: "legend",
                li: "li",
                link: "link",
                main: "main",
                map: "map",
                mark: "mark",
                menu: "menu",
                menuitem: "menuitem",
                meta: "meta",
                meter: "meter",
                nav: "nav",
                noscript: "noscript",
                object: "object",
                ol: "ol",
                optgroup: "optgroup",
                option: "option",
                output: "output",
                p: "p",
                param: "param",
                picture: "picture",
                pre: "pre",
                progress: "progress",
                q: "q",
                rp: "rp",
                rt: "rt",
                ruby: "ruby",
                s: "s",
                samp: "samp",
                script: "script",
                section: "section",
                select: "select",
                small: "small",
                source: "source",
                span: "span",
                strong: "strong",
                style: "style",
                sub: "sub",
                summary: "summary",
                sup: "sup",
                table: "table",
                tbody: "tbody",
                td: "td",
                textarea: "textarea",
                tfoot: "tfoot",
                th: "th",
                thead: "thead",
                time: "time",
                title: "title",
                tr: "tr",
                track: "track",
                u: "u",
                ul: "ul",
                var: "var",
                video: "video",
                wbr: "wbr",
                circle: "circle",
                clipPath: "clipPath",
                defs: "defs",
                ellipse: "ellipse",
                g: "g",
                image: "image",
                line: "line",
                linearGradient: "linearGradient",
                mask: "mask",
                path: "path",
                pattern: "pattern",
                polygon: "polygon",
                polyline: "polyline",
                radialGradient: "radialGradient",
                rect: "rect",
                stop: "stop",
                svg: "svg",
                text: "text",
                tspan: "tspan",
              },
              d
            );
          b.exports = g;
        },
        { 164: 164, 55: 55, 56: 56 },
      ],
      44: [
        function (a, b, c) {
          "use strict";
          var d = { useCreateElement: !1 };
          b.exports = d;
        },
        {},
      ],
      45: [
        function (a, b, c) {
          "use strict";
          var d = a(9),
            e = a(11),
            f = a(70),
            g = a(76),
            h = a(158),
            i = {
              dangerouslySetInnerHTML:
                "`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",
              style: "`style` must be set using `updateStylesByID()`.",
            },
            j = {
              updatePropertyByID: function (a, b, c) {
                var d = f.getNode(a);
                i.hasOwnProperty(b) ? h(!1) : void 0,
                  null != c
                    ? e.setValueForProperty(d, b, c)
                    : e.deleteValueForProperty(d, b);
              },
              dangerouslyReplaceNodeWithMarkupByID: function (a, b) {
                var c = f.getNode(a);
                d.dangerouslyReplaceNodeWithMarkup(c, b);
              },
              dangerouslyProcessChildrenUpdates: function (a, b) {
                for (var c = 0; c < a.length; c++)
                  a[c].parentNode = f.getNode(a[c].parentID);
                d.processUpdates(a, b);
              },
            };
          g.measureMethods(j, "ReactDOMIDOperations", {
            dangerouslyReplaceNodeWithMarkupByID:
              "dangerouslyReplaceNodeWithMarkupByID",
            dangerouslyProcessChildrenUpdates:
              "dangerouslyProcessChildrenUpdates",
          }),
            (b.exports = j);
        },
        { 11: 11, 158: 158, 70: 70, 76: 76, 9: 9 },
      ],
      46: [
        function (a, b, c) {
          "use strict";
          function d() {
            this._rootNodeID && m.updateWrapper(this);
          }
          function e(a) {
            var b = this._currentElement.props,
              c = g.executeOnChange(b, a);
            i.asap(d, this);
            var e = b.name;
            if ("radio" === b.type && null != e) {
              for (var f = h.getNode(this._rootNodeID), j = f; j.parentNode; )
                j = j.parentNode;
              for (
                var m = j.querySelectorAll(
                    "input[name=" + JSON.stringify("" + e) + '][type="radio"]'
                  ),
                  n = 0;
                n < m.length;
                n++
              ) {
                var o = m[n];
                if (o !== f && o.form === f.form) {
                  var p = h.getID(o);
                  p ? void 0 : k(!1);
                  var q = l[p];
                  q ? void 0 : k(!1), i.asap(d, q);
                }
              }
            }
            return c;
          }
          var f = a(45),
            g = a(23),
            h = a(70),
            i = a(93),
            j = a(24),
            k = a(158),
            l = {},
            m = {
              getNativeProps: function (a, b, c) {
                var d = g.getValue(b),
                  e = g.getChecked(b),
                  f = j({}, b, {
                    defaultChecked: void 0,
                    defaultValue: void 0,
                    value: null != d ? d : a._wrapperState.initialValue,
                    checked: null != e ? e : a._wrapperState.initialChecked,
                    onChange: a._wrapperState.onChange,
                  });
                return f;
              },
              mountWrapper: function (a, b) {
                var c = b.defaultValue;
                a._wrapperState = {
                  initialChecked: b.defaultChecked || !1,
                  initialValue: null != c ? c : null,
                  onChange: e.bind(a),
                };
              },
              mountReadyWrapper: function (a) {
                l[a._rootNodeID] = a;
              },
              unmountWrapper: function (a) {
                delete l[a._rootNodeID];
              },
              updateWrapper: function (a) {
                var b = a._currentElement.props,
                  c = b.checked;
                null != c &&
                  f.updatePropertyByID(a._rootNodeID, "checked", c || !1);
                var d = g.getValue(b);
                null != d &&
                  f.updatePropertyByID(a._rootNodeID, "value", "" + d);
              },
            };
          b.exports = m;
        },
        { 158: 158, 23: 23, 24: 24, 45: 45, 70: 70, 93: 93 },
      ],
      47: [
        function (a, b, c) {
          "use strict";
          var d = a(32),
            e = a(48),
            f = a(24),
            g = (a(168), e.valueContextKey),
            h = {
              mountWrapper: function (a, b, c) {
                var d = c[g],
                  e = null;
                if (null != d)
                  if (((e = !1), Array.isArray(d))) {
                    for (var f = 0; f < d.length; f++)
                      if ("" + d[f] == "" + b.value) {
                        e = !0;
                        break;
                      }
                  } else e = "" + d == "" + b.value;
                a._wrapperState = { selected: e };
              },
              getNativeProps: function (a, b, c) {
                var e = f({ selected: void 0, children: void 0 }, b);
                null != a._wrapperState.selected &&
                  (e.selected = a._wrapperState.selected);
                var g = "";
                return (
                  d.forEach(b.children, function (a) {
                    null != a &&
                      ("string" == typeof a || "number" == typeof a) &&
                      (g += a);
                  }),
                  (e.children = g),
                  e
                );
              },
            };
          b.exports = h;
        },
        { 168: 168, 24: 24, 32: 32, 48: 48 },
      ],
      48: [
        function (a, b, c) {
          "use strict";
          function d() {
            if (this._rootNodeID && this._wrapperState.pendingUpdate) {
              this._wrapperState.pendingUpdate = !1;
              var a = this._currentElement.props,
                b = g.getValue(a);
              null != b && e(this, a, b);
            }
          }
          function e(a, b, c) {
            var d,
              e,
              f = h.getNode(a._rootNodeID).options;
            if (b) {
              for (d = {}, e = 0; e < c.length; e++) d["" + c[e]] = !0;
              for (e = 0; e < f.length; e++) {
                var g = d.hasOwnProperty(f[e].value);
                f[e].selected !== g && (f[e].selected = g);
              }
            } else {
              for (d = "" + c, e = 0; e < f.length; e++)
                if (f[e].value === d) return void (f[e].selected = !0);
              f.length && (f[0].selected = !0);
            }
          }
          function f(a) {
            var b = this._currentElement.props,
              c = g.executeOnChange(b, a);
            return (this._wrapperState.pendingUpdate = !0), i.asap(d, this), c;
          }
          var g = a(23),
            h = a(70),
            i = a(93),
            j = a(24),
            k =
              (a(168),
              "__ReactDOMSelect_value$" + Math.random().toString(36).slice(2)),
            l = {
              valueContextKey: k,
              getNativeProps: function (a, b, c) {
                return j({}, b, {
                  onChange: a._wrapperState.onChange,
                  value: void 0,
                });
              },
              mountWrapper: function (a, b) {
                var c = g.getValue(b);
                a._wrapperState = {
                  pendingUpdate: !1,
                  initialValue: null != c ? c : b.defaultValue,
                  onChange: f.bind(a),
                  wasMultiple: Boolean(b.multiple),
                };
              },
              processChildContext: function (a, b, c) {
                var d = j({}, c);
                return (d[k] = a._wrapperState.initialValue), d;
              },
              postUpdateWrapper: function (a) {
                var b = a._currentElement.props;
                a._wrapperState.initialValue = void 0;
                var c = a._wrapperState.wasMultiple;
                a._wrapperState.wasMultiple = Boolean(b.multiple);
                var d = g.getValue(b);
                null != d
                  ? ((a._wrapperState.pendingUpdate = !1),
                    e(a, Boolean(b.multiple), d))
                  : c !== Boolean(b.multiple) &&
                    (null != b.defaultValue
                      ? e(a, Boolean(b.multiple), b.defaultValue)
                      : e(a, Boolean(b.multiple), b.multiple ? [] : ""));
              },
            };
          b.exports = l;
        },
        { 168: 168, 23: 23, 24: 24, 70: 70, 93: 93 },
      ],
      49: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            return a === c && b === d;
          }
          function e(a) {
            var b = document.selection,
              c = b.createRange(),
              d = c.text.length,
              e = c.duplicate();
            e.moveToElementText(a), e.setEndPoint("EndToStart", c);
            var f = e.text.length,
              g = f + d;
            return { start: f, end: g };
          }
          function f(a) {
            var b = window.getSelection && window.getSelection();
            if (!b || 0 === b.rangeCount) return null;
            var c = b.anchorNode,
              e = b.anchorOffset,
              f = b.focusNode,
              g = b.focusOffset,
              h = b.getRangeAt(0);
            try {
              h.startContainer.nodeType, h.endContainer.nodeType;
            } catch (i) {
              return null;
            }
            var j = d(b.anchorNode, b.anchorOffset, b.focusNode, b.focusOffset),
              k = j ? 0 : h.toString().length,
              l = h.cloneRange();
            l.selectNodeContents(a), l.setEnd(h.startContainer, h.startOffset);
            var m = d(
                l.startContainer,
                l.startOffset,
                l.endContainer,
                l.endOffset
              ),
              n = m ? 0 : l.toString().length,
              o = n + k,
              p = document.createRange();
            p.setStart(c, e), p.setEnd(f, g);
            var q = p.collapsed;
            return { start: q ? o : n, end: q ? n : o };
          }
          function g(a, b) {
            var c,
              d,
              e = document.selection.createRange().duplicate();
            "undefined" == typeof b.end
              ? ((c = b.start), (d = c))
              : b.start > b.end
              ? ((c = b.end), (d = b.start))
              : ((c = b.start), (d = b.end)),
              e.moveToElementText(a),
              e.moveStart("character", c),
              e.setEndPoint("EndToStart", e),
              e.moveEnd("character", d - c),
              e.select();
          }
          function h(a, b) {
            if (window.getSelection) {
              var c = window.getSelection(),
                d = a[k()].length,
                e = Math.min(b.start, d),
                f = "undefined" == typeof b.end ? e : Math.min(b.end, d);
              if (!c.extend && e > f) {
                var g = f;
                (f = e), (e = g);
              }
              var h = j(a, e),
                i = j(a, f);
              if (h && i) {
                var l = document.createRange();
                l.setStart(h.node, h.offset),
                  c.removeAllRanges(),
                  e > f
                    ? (c.addRange(l), c.extend(i.node, i.offset))
                    : (l.setEnd(i.node, i.offset), c.addRange(l));
              }
            }
          }
          var i = a(144),
            j = a(127),
            k = a(128),
            l =
              i.canUseDOM &&
              "selection" in document &&
              !("getSelection" in window),
            m = { getOffsets: l ? e : f, setOffsets: l ? g : h };
          b.exports = m;
        },
        { 127: 127, 128: 128, 144: 144 },
      ],
      50: [
        function (a, b, c) {
          "use strict";
          var d = a(54),
            e = a(86),
            f = a(94);
          d.inject();
          var g = {
            renderToString: e.renderToString,
            renderToStaticMarkup: e.renderToStaticMarkup,
            version: f,
          };
          b.exports = g;
        },
        { 54: 54, 86: 86, 94: 94 },
      ],
      51: [
        function (a, b, c) {
          "use strict";
          var d = a(9),
            e = a(11),
            f = a(35),
            g = a(70),
            h = a(24),
            i = a(118),
            j = a(136),
            k = (a(141), function (a) {});
          h(k.prototype, {
            construct: function (a) {
              (this._currentElement = a),
                (this._stringText = "" + a),
                (this._rootNodeID = null),
                (this._mountIndex = 0);
            },
            mountComponent: function (a, b, c) {
              if (((this._rootNodeID = a), b.useCreateElement)) {
                var d = c[g.ownerDocumentContextKey],
                  f = d.createElement("span");
                return (
                  e.setAttributeForID(f, a),
                  g.getID(f),
                  j(f, this._stringText),
                  f
                );
              }
              var h = i(this._stringText);
              return b.renderToStaticMarkup
                ? h
                : "<span " + e.createMarkupForID(a) + ">" + h + "</span>";
            },
            receiveComponent: function (a, b) {
              if (a !== this._currentElement) {
                this._currentElement = a;
                var c = "" + a;
                if (c !== this._stringText) {
                  this._stringText = c;
                  var e = g.getNode(this._rootNodeID);
                  d.updateTextContent(e, c);
                }
              }
            },
            unmountComponent: function () {
              f.unmountIDFromEnvironment(this._rootNodeID);
            },
          }),
            (b.exports = k);
        },
        { 11: 11, 118: 118, 136: 136, 141: 141, 24: 24, 35: 35, 70: 70, 9: 9 },
      ],
      52: [
        function (a, b, c) {
          "use strict";
          function d() {
            this._rootNodeID && k.updateWrapper(this);
          }
          function e(a) {
            var b = this._currentElement.props,
              c = f.executeOnChange(b, a);
            return h.asap(d, this), c;
          }
          var f = a(23),
            g = a(45),
            h = a(93),
            i = a(24),
            j = a(158),
            k =
              (a(168),
              {
                getNativeProps: function (a, b, c) {
                  null != b.dangerouslySetInnerHTML ? j(!1) : void 0;
                  var d = i({}, b, {
                    defaultValue: void 0,
                    value: void 0,
                    children: a._wrapperState.initialValue,
                    onChange: a._wrapperState.onChange,
                  });
                  return d;
                },
                mountWrapper: function (a, b) {
                  var c = b.defaultValue,
                    d = b.children;
                  null != d &&
                    (null != c ? j(!1) : void 0,
                    Array.isArray(d) &&
                      (d.length <= 1 ? void 0 : j(!1), (d = d[0])),
                    (c = "" + d)),
                    null == c && (c = "");
                  var g = f.getValue(b);
                  a._wrapperState = {
                    initialValue: "" + (null != g ? g : c),
                    onChange: e.bind(a),
                  };
                },
                updateWrapper: function (a) {
                  var b = a._currentElement.props,
                    c = f.getValue(b);
                  null != c &&
                    g.updatePropertyByID(a._rootNodeID, "value", "" + c);
                },
              });
          b.exports = k;
        },
        { 158: 158, 168: 168, 23: 23, 24: 24, 45: 45, 93: 93 },
      ],
      53: [
        function (a, b, c) {
          "use strict";
          function d() {
            this.reinitializeTransaction();
          }
          var e = a(93),
            f = a(110),
            g = a(24),
            h = a(150),
            i = {
              initialize: h,
              close: function () {
                m.isBatchingUpdates = !1;
              },
            },
            j = { initialize: h, close: e.flushBatchedUpdates.bind(e) },
            k = [j, i];
          g(d.prototype, f.Mixin, {
            getTransactionWrappers: function () {
              return k;
            },
          });
          var l = new d(),
            m = {
              isBatchingUpdates: !1,
              batchedUpdates: function (a, b, c, d, e, f) {
                var g = m.isBatchingUpdates;
                (m.isBatchingUpdates = !0),
                  g ? a(b, c, d, e, f) : l.perform(a, null, b, c, d, e, f);
              },
            };
          b.exports = m;
        },
        { 110: 110, 150: 150, 24: 24, 93: 93 },
      ],
      54: [
        function (a, b, c) {
          "use strict";
          function d() {
            z ||
              ((z = !0),
              r.EventEmitter.injectReactEventListener(q),
              r.EventPluginHub.injectEventPluginOrder(h),
              r.EventPluginHub.injectInstanceHandle(s),
              r.EventPluginHub.injectMount(t),
              r.EventPluginHub.injectEventPluginsByName({
                SimpleEventPlugin: x,
                EnterLeaveEventPlugin: i,
                ChangeEventPlugin: f,
                SelectEventPlugin: v,
                BeforeInputEventPlugin: e,
              }),
              r.NativeComponent.injectGenericComponentClass(o),
              r.NativeComponent.injectTextComponentClass(p),
              r.Class.injectMixin(l),
              r.DOMProperty.injectDOMPropertyConfig(k),
              r.DOMProperty.injectDOMPropertyConfig(y),
              r.EmptyComponent.injectEmptyComponent("noscript"),
              r.Updates.injectReconcileTransaction(u),
              r.Updates.injectBatchingStrategy(n),
              r.RootIndex.injectCreateReactRootIndex(
                j.canUseDOM ? g.createReactRootIndex : w.createReactRootIndex
              ),
              r.Component.injectEnvironment(m));
          }
          var e = a(3),
            f = a(7),
            g = a(8),
            h = a(13),
            i = a(14),
            j = a(144),
            k = a(21),
            l = a(27),
            m = a(35),
            n = a(53),
            o = a(42),
            p = a(51),
            q = a(61),
            r = a(63),
            s = a(65),
            t = a(70),
            u = a(81),
            v = a(96),
            w = a(97),
            x = a(98),
            y = a(95),
            z = !1;
          b.exports = { inject: d };
        },
        {
          13: 13,
          14: 14,
          144: 144,
          21: 21,
          27: 27,
          3: 3,
          35: 35,
          42: 42,
          51: 51,
          53: 53,
          61: 61,
          63: 63,
          65: 65,
          7: 7,
          70: 70,
          8: 8,
          81: 81,
          95: 95,
          96: 96,
          97: 97,
          98: 98,
        },
      ],
      55: [
        function (a, b, c) {
          "use strict";
          var d = a(39),
            e = a(24),
            f =
              (a(114),
              ("function" == typeof Symbol &&
                Symbol["for"] &&
                Symbol["for"]("react.element")) ||
                60103),
            g = { key: !0, ref: !0, __self: !0, __source: !0 },
            h = function (a, b, c, d, e, g, h) {
              var i = {
                $$typeof: f,
                type: a,
                key: b,
                ref: c,
                props: h,
                _owner: g,
              };
              return i;
            };
          (h.createElement = function (a, b, c) {
            var e,
              f = {},
              i = null,
              j = null,
              k = null,
              l = null;
            if (null != b) {
              (j = void 0 === b.ref ? null : b.ref),
                (i = void 0 === b.key ? null : "" + b.key),
                (k = void 0 === b.__self ? null : b.__self),
                (l = void 0 === b.__source ? null : b.__source);
              for (e in b)
                b.hasOwnProperty(e) && !g.hasOwnProperty(e) && (f[e] = b[e]);
            }
            var m = arguments.length - 2;
            if (1 === m) f.children = c;
            else if (m > 1) {
              for (var n = Array(m), o = 0; m > o; o++) n[o] = arguments[o + 2];
              f.children = n;
            }
            if (a && a.defaultProps) {
              var p = a.defaultProps;
              for (e in p) "undefined" == typeof f[e] && (f[e] = p[e]);
            }
            return h(a, i, j, k, l, d.current, f);
          }),
            (h.createFactory = function (a) {
              var b = h.createElement.bind(null, a);
              return (b.type = a), b;
            }),
            (h.cloneAndReplaceKey = function (a, b) {
              var c = h(
                a.type,
                b,
                a.ref,
                a._self,
                a._source,
                a._owner,
                a.props
              );
              return c;
            }),
            (h.cloneAndReplaceProps = function (a, b) {
              var c = h(a.type, a.key, a.ref, a._self, a._source, a._owner, b);
              return c;
            }),
            (h.cloneElement = function (a, b, c) {
              var f,
                i = e({}, a.props),
                j = a.key,
                k = a.ref,
                l = a._self,
                m = a._source,
                n = a._owner;
              if (null != b) {
                void 0 !== b.ref && ((k = b.ref), (n = d.current)),
                  void 0 !== b.key && (j = "" + b.key);
                for (f in b)
                  b.hasOwnProperty(f) && !g.hasOwnProperty(f) && (i[f] = b[f]);
              }
              var o = arguments.length - 2;
              if (1 === o) i.children = c;
              else if (o > 1) {
                for (var p = Array(o), q = 0; o > q; q++)
                  p[q] = arguments[q + 2];
                i.children = p;
              }
              return h(a.type, j, k, l, m, n, i);
            }),
            (h.isValidElement = function (a) {
              return "object" == typeof a && null !== a && a.$$typeof === f;
            }),
            (b.exports = h);
        },
        { 114: 114, 24: 24, 39: 39 },
      ],
      56: [
        function (a, b, c) {
          "use strict";
          function d() {
            if (l.current) {
              var a = l.current.getName();
              if (a) return " Check the render method of `" + a + "`.";
            }
            return "";
          }
          function e(a, b) {
            a._store &&
              !a._store.validated &&
              null == a.key &&
              ((a._store.validated = !0), f("uniqueKey", a, b));
          }
          function f(a, b, c) {
            var e = d();
            if (!e) {
              var f = "string" == typeof c ? c : c.displayName || c.name;
              f && (e = " Check the top-level render call using <" + f + ">.");
            }
            var g = o[a] || (o[a] = {});
            if (g[e]) return null;
            g[e] = !0;
            var h = {
              parentOrOwner: e,
              url: " See https://fb.me/react-warning-keys for more information.",
              childOwner: null,
            };
            return (
              b &&
                b._owner &&
                b._owner !== l.current &&
                (h.childOwner =
                  " It was passed a child from " + b._owner.getName() + "."),
              h
            );
          }
          function g(a, b) {
            if ("object" == typeof a)
              if (Array.isArray(a))
                for (var c = 0; c < a.length; c++) {
                  var d = a[c];
                  j.isValidElement(d) && e(d, b);
                }
              else if (j.isValidElement(a))
                a._store && (a._store.validated = !0);
              else if (a) {
                var f = m(a);
                if (f && f !== a.entries)
                  for (var g, h = f.call(a); !(g = h.next()).done; )
                    j.isValidElement(g.value) && e(g.value, b);
              }
          }
          function h(a, b, c, e) {
            for (var f in b)
              if (b.hasOwnProperty(f)) {
                var g;
                try {
                  "function" != typeof b[f] ? n(!1) : void 0,
                    (g = b[f](c, f, a, e));
                } catch (h) {
                  g = h;
                }
                g instanceof Error &&
                  !(g.message in p) &&
                  ((p[g.message] = !0), d());
              }
          }
          function i(a) {
            var b = a.type;
            if ("function" == typeof b) {
              var c = b.displayName || b.name;
              b.propTypes && h(c, b.propTypes, a.props, k.prop),
                "function" == typeof b.getDefaultProps;
            }
          }
          var j = a(55),
            k = a(79),
            l = (a(78), a(39)),
            m = (a(114), a(126)),
            n = a(158),
            o = (a(168), {}),
            p = {},
            q = {
              createElement: function (a, b, c) {
                var d = "string" == typeof a || "function" == typeof a,
                  e = j.createElement.apply(this, arguments);
                if (null == e) return e;
                if (d)
                  for (var f = 2; f < arguments.length; f++) g(arguments[f], a);
                return i(e), e;
              },
              createFactory: function (a) {
                var b = q.createElement.bind(null, a);
                return (b.type = a), b;
              },
              cloneElement: function (a, b, c) {
                for (
                  var d = j.cloneElement.apply(this, arguments), e = 2;
                  e < arguments.length;
                  e++
                )
                  g(arguments[e], d.type);
                return i(d), d;
              },
            };
          b.exports = q;
        },
        {
          114: 114,
          126: 126,
          158: 158,
          168: 168,
          39: 39,
          55: 55,
          78: 78,
          79: 79,
        },
      ],
      57: [
        function (a, b, c) {
          "use strict";
          var d,
            e = a(55),
            f = a(58),
            g = a(82),
            h = a(24),
            i = {
              injectEmptyComponent: function (a) {
                d = e.createElement(a);
              },
            },
            j = function (a) {
              (this._currentElement = null),
                (this._rootNodeID = null),
                (this._renderedComponent = a(d));
            };
          h(j.prototype, {
            construct: function (a) {},
            mountComponent: function (a, b, c) {
              return (
                f.registerNullComponentID(a),
                (this._rootNodeID = a),
                g.mountComponent(this._renderedComponent, a, b, c)
              );
            },
            receiveComponent: function () {},
            unmountComponent: function (a, b, c) {
              g.unmountComponent(this._renderedComponent),
                f.deregisterNullComponentID(this._rootNodeID),
                (this._rootNodeID = null),
                (this._renderedComponent = null);
            },
          }),
            (j.injection = i),
            (b.exports = j);
        },
        { 24: 24, 55: 55, 58: 58, 82: 82 },
      ],
      58: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return !!g[a];
          }
          function e(a) {
            g[a] = !0;
          }
          function f(a) {
            delete g[a];
          }
          var g = {},
            h = {
              isNullComponentID: d,
              registerNullComponentID: e,
              deregisterNullComponentID: f,
            };
          b.exports = h;
        },
        {},
      ],
      59: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            try {
              return b(c, d);
            } catch (f) {
              return void (null === e && (e = f));
            }
          }
          var e = null,
            f = {
              invokeGuardedCallback: d,
              invokeGuardedCallbackWithCatch: d,
              rethrowCaughtError: function () {
                if (e) {
                  var a = e;
                  throw ((e = null), a);
                }
              },
            };
          b.exports = f;
        },
        {},
      ],
      60: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            e.enqueueEvents(a), e.processEventQueue(!1);
          }
          var e = a(16),
            f = {
              handleTopLevel: function (a, b, c, f, g) {
                var h = e.extractEvents(a, b, c, f, g);
                d(h);
              },
            };
          b.exports = f;
        },
        { 16: 16 },
      ],
      61: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = m.getID(a),
              c = l.getReactRootIDFromNodeID(b),
              d = m.findReactContainerForID(c),
              e = m.getFirstReactDOM(d);
            return e;
          }
          function e(a, b) {
            (this.topLevelType = a),
              (this.nativeEvent = b),
              (this.ancestors = []);
          }
          function f(a) {
            g(a);
          }
          function g(a) {
            for (
              var b = m.getFirstReactDOM(p(a.nativeEvent)) || window, c = b;
              c;

            )
              a.ancestors.push(c), (c = d(c));
            for (var e = 0; e < a.ancestors.length; e++) {
              b = a.ancestors[e];
              var f = m.getID(b) || "";
              r._handleTopLevel(
                a.topLevelType,
                b,
                f,
                a.nativeEvent,
                p(a.nativeEvent)
              );
            }
          }
          function h(a) {
            var b = q(window);
            a(b);
          }
          var i = a(143),
            j = a(144),
            k = a(25),
            l = a(65),
            m = a(70),
            n = a(93),
            o = a(24),
            p = a(125),
            q = a(155);
          o(e.prototype, {
            destructor: function () {
              (this.topLevelType = null),
                (this.nativeEvent = null),
                (this.ancestors.length = 0);
            },
          }),
            k.addPoolingTo(e, k.twoArgumentPooler);
          var r = {
            _enabled: !0,
            _handleTopLevel: null,
            WINDOW_HANDLE: j.canUseDOM ? window : null,
            setHandleTopLevel: function (a) {
              r._handleTopLevel = a;
            },
            setEnabled: function (a) {
              r._enabled = !!a;
            },
            isEnabled: function () {
              return r._enabled;
            },
            trapBubbledEvent: function (a, b, c) {
              var d = c;
              return d ? i.listen(d, b, r.dispatchEvent.bind(null, a)) : null;
            },
            trapCapturedEvent: function (a, b, c) {
              var d = c;
              return d ? i.capture(d, b, r.dispatchEvent.bind(null, a)) : null;
            },
            monitorScrollValue: function (a) {
              var b = h.bind(null, a);
              i.listen(window, "scroll", b);
            },
            dispatchEvent: function (a, b) {
              if (r._enabled) {
                var c = e.getPooled(a, b);
                try {
                  n.batchedUpdates(f, c);
                } finally {
                  e.release(c);
                }
              }
            },
          };
          b.exports = r;
        },
        {
          125: 125,
          143: 143,
          144: 144,
          155: 155,
          24: 24,
          25: 25,
          65: 65,
          70: 70,
          93: 93,
        },
      ],
      62: [
        function (a, b, c) {
          "use strict";
          var d = a(32),
            e = a(55),
            f = a(150),
            g = a(158),
            h =
              (a(168),
              {
                create: function (a) {
                  if ("object" != typeof a || !a || Array.isArray(a)) return a;
                  if (e.isValidElement(a)) return a;
                  1 === a.nodeType ? g(!1) : void 0;
                  var b = [];
                  for (var c in a)
                    d.mapIntoWithKeyPrefixInternal(
                      a[c],
                      b,
                      c,
                      f.thatReturnsArgument
                    );
                  return b;
                },
              });
          b.exports = h;
        },
        { 150: 150, 158: 158, 168: 168, 32: 32, 55: 55 },
      ],
      63: [
        function (a, b, c) {
          "use strict";
          var d = a(10),
            e = a(16),
            f = a(36),
            g = a(33),
            h = a(57),
            i = a(28),
            j = a(73),
            k = a(76),
            l = a(84),
            m = a(93),
            n = {
              Component: f.injection,
              Class: g.injection,
              DOMProperty: d.injection,
              EmptyComponent: h.injection,
              EventPluginHub: e.injection,
              EventEmitter: i.injection,
              NativeComponent: j.injection,
              Perf: k.injection,
              RootIndex: l.injection,
              Updates: m.injection,
            };
          b.exports = n;
        },
        {
          10: 10,
          16: 16,
          28: 28,
          33: 33,
          36: 36,
          57: 57,
          73: 73,
          76: 76,
          84: 84,
          93: 93,
        },
      ],
      64: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return f(document.documentElement, a);
          }
          var e = a(49),
            f = a(147),
            g = a(152),
            h = a(153),
            i = {
              hasSelectionCapabilities: function (a) {
                var b = a && a.nodeName && a.nodeName.toLowerCase();
                return (
                  b &&
                  (("input" === b && "text" === a.type) ||
                    "textarea" === b ||
                    "true" === a.contentEditable)
                );
              },
              getSelectionInformation: function () {
                var a = h();
                return {
                  focusedElem: a,
                  selectionRange: i.hasSelectionCapabilities(a)
                    ? i.getSelection(a)
                    : null,
                };
              },
              restoreSelection: function (a) {
                var b = h(),
                  c = a.focusedElem,
                  e = a.selectionRange;
                b !== c &&
                  d(c) &&
                  (i.hasSelectionCapabilities(c) && i.setSelection(c, e), g(c));
              },
              getSelection: function (a) {
                var b;
                if ("selectionStart" in a)
                  b = { start: a.selectionStart, end: a.selectionEnd };
                else if (
                  document.selection &&
                  a.nodeName &&
                  "input" === a.nodeName.toLowerCase()
                ) {
                  var c = document.selection.createRange();
                  c.parentElement() === a &&
                    (b = {
                      start: -c.moveStart("character", -a.value.length),
                      end: -c.moveEnd("character", -a.value.length),
                    });
                } else b = e.getOffsets(a);
                return b || { start: 0, end: 0 };
              },
              setSelection: function (a, b) {
                var c = b.start,
                  d = b.end;
                if (("undefined" == typeof d && (d = c), "selectionStart" in a))
                  (a.selectionStart = c),
                    (a.selectionEnd = Math.min(d, a.value.length));
                else if (
                  document.selection &&
                  a.nodeName &&
                  "input" === a.nodeName.toLowerCase()
                ) {
                  var f = a.createTextRange();
                  f.collapse(!0),
                    f.moveStart("character", c),
                    f.moveEnd("character", d - c),
                    f.select();
                } else e.setOffsets(a, b);
              },
            };
          b.exports = i;
        },
        { 147: 147, 152: 152, 153: 153, 49: 49 },
      ],
      65: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return n + a.toString(36);
          }
          function e(a, b) {
            return a.charAt(b) === n || b === a.length;
          }
          function f(a) {
            return (
              "" === a || (a.charAt(0) === n && a.charAt(a.length - 1) !== n)
            );
          }
          function g(a, b) {
            return 0 === b.indexOf(a) && e(b, a.length);
          }
          function h(a) {
            return a ? a.substr(0, a.lastIndexOf(n)) : "";
          }
          function i(a, b) {
            if (
              (f(a) && f(b) ? void 0 : m(!1), g(a, b) ? void 0 : m(!1), a === b)
            )
              return a;
            var c,
              d = a.length + o;
            for (c = d; c < b.length && !e(b, c); c++);
            return b.substr(0, c);
          }
          function j(a, b) {
            var c = Math.min(a.length, b.length);
            if (0 === c) return "";
            for (var d = 0, g = 0; c >= g; g++)
              if (e(a, g) && e(b, g)) d = g;
              else if (a.charAt(g) !== b.charAt(g)) break;
            var h = a.substr(0, d);
            return f(h) ? void 0 : m(!1), h;
          }
          function k(a, b, c, d, e, f) {
            (a = a || ""), (b = b || ""), a === b ? m(!1) : void 0;
            var j = g(b, a);
            j || g(a, b) ? void 0 : m(!1);
            for (var k = 0, l = j ? h : i, n = a; ; n = l(n, b)) {
              var o;
              if (
                ((e && n === a) || (f && n === b) || (o = c(n, j, d)),
                o === !1 || n === b)
              )
                break;
              k++ < p ? void 0 : m(!1);
            }
          }
          var l = a(84),
            m = a(158),
            n = ".",
            o = n.length,
            p = 1e4,
            q = {
              createReactRootID: function () {
                return d(l.createReactRootIndex());
              },
              createReactID: function (a, b) {
                return a + b;
              },
              getReactRootIDFromNodeID: function (a) {
                if (a && a.charAt(0) === n && a.length > 1) {
                  var b = a.indexOf(n, 1);
                  return b > -1 ? a.substr(0, b) : a;
                }
                return null;
              },
              traverseEnterLeave: function (a, b, c, d, e) {
                var f = j(a, b);
                f !== a && k(a, f, c, d, !1, !0),
                  f !== b && k(f, b, c, e, !0, !1);
              },
              traverseTwoPhase: function (a, b, c) {
                a && (k("", a, b, c, !0, !1), k(a, "", b, c, !1, !0));
              },
              traverseTwoPhaseSkipTarget: function (a, b, c) {
                a && (k("", a, b, c, !0, !0), k(a, "", b, c, !0, !0));
              },
              traverseAncestors: function (a, b, c) {
                k("", a, b, c, !0, !1);
              },
              getFirstCommonAncestorID: j,
              _getNextDescendantID: i,
              isAncestorIDOf: g,
              SEPARATOR: n,
            };
          b.exports = q;
        },
        { 158: 158, 84: 84 },
      ],
      66: [
        function (a, b, c) {
          "use strict";
          var d = {
            remove: function (a) {
              a._reactInternalInstance = void 0;
            },
            get: function (a) {
              return a._reactInternalInstance;
            },
            has: function (a) {
              return void 0 !== a._reactInternalInstance;
            },
            set: function (a, b) {
              a._reactInternalInstance = b;
            },
          };
          b.exports = d;
        },
        {},
      ],
      67: [
        function (a, b, c) {
          "use strict";
          var d = a(32),
            e = a(34),
            f = a(33),
            g = a(43),
            h = a(55),
            i = (a(56), a(80)),
            j = a(94),
            k = a(24),
            l = a(132),
            m = h.createElement,
            n = h.createFactory,
            o = h.cloneElement,
            p = {
              Children: {
                map: d.map,
                forEach: d.forEach,
                count: d.count,
                toArray: d.toArray,
                only: l,
              },
              Component: e,
              createElement: m,
              cloneElement: o,
              isValidElement: h.isValidElement,
              PropTypes: i,
              createClass: f.createClass,
              createFactory: n,
              createMixin: function (a) {
                return a;
              },
              DOM: g,
              version: j,
              __spread: k,
            };
          b.exports = p;
        },
        {
          132: 132,
          24: 24,
          32: 32,
          33: 33,
          34: 34,
          43: 43,
          55: 55,
          56: 56,
          80: 80,
          94: 94,
        },
      ],
      68: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            (this.value = a), (this.requestChange = b);
          }
          function e(a) {
            var b = {
              value:
                "undefined" == typeof a
                  ? f.PropTypes.any.isRequired
                  : a.isRequired,
              requestChange: f.PropTypes.func.isRequired,
            };
            return f.PropTypes.shape(b);
          }
          var f = a(26);
          (d.PropTypes = { link: e }), (b.exports = d);
        },
        { 26: 26 },
      ],
      69: [
        function (a, b, c) {
          "use strict";
          var d = a(113),
            e = /\/?>/,
            f = {
              CHECKSUM_ATTR_NAME: "data-react-checksum",
              addChecksumToMarkup: function (a) {
                var b = d(a);
                return a.replace(
                  e,
                  " " + f.CHECKSUM_ATTR_NAME + '="' + b + '"$&'
                );
              },
              canReuseMarkup: function (a, b) {
                var c = b.getAttribute(f.CHECKSUM_ATTR_NAME);
                c = c && parseInt(c, 10);
                var e = d(a);
                return e === c;
              },
            };
          b.exports = f;
        },
        { 113: 113 },
      ],
      70: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            for (var c = Math.min(a.length, b.length), d = 0; c > d; d++)
              if (a.charAt(d) !== b.charAt(d)) return d;
            return a.length === b.length ? -1 : c;
          }
          function e(a) {
            return a
              ? a.nodeType === Q
                ? a.documentElement
                : a.firstChild
              : null;
          }
          function f(a) {
            var b = e(a);
            return b && Y.getID(b);
          }
          function g(a) {
            var b = h(a);
            if (b)
              if (O.hasOwnProperty(b)) {
                var c = O[b];
                c !== a && (l(c, b) ? K(!1) : void 0, (O[b] = a));
              } else O[b] = a;
            return b;
          }
          function h(a) {
            return (a && a.getAttribute && a.getAttribute(N)) || "";
          }
          function i(a, b) {
            var c = h(a);
            c !== b && delete O[c], a.setAttribute(N, b), (O[b] = a);
          }
          function j(a) {
            return (
              (O.hasOwnProperty(a) && l(O[a], a)) ||
                (O[a] = Y.findReactNodeByID(a)),
              O[a]
            );
          }
          function k(a) {
            var b = A.get(a)._rootNodeID;
            return y.isNullComponentID(b)
              ? null
              : ((O.hasOwnProperty(b) && l(O[b], b)) ||
                  (O[b] = Y.findReactNodeByID(b)),
                O[b]);
          }
          function l(a, b) {
            if (a) {
              h(a) !== b ? K(!1) : void 0;
              var c = Y.findReactContainerForID(b);
              if (c && I(c, a)) return !0;
            }
            return !1;
          }
          function m(a) {
            delete O[a];
          }
          function n(a) {
            var b = O[a];
            return !(!b || !l(b, a)) && void (W = b);
          }
          function o(a) {
            (W = null), z.traverseAncestors(a, n);
            var b = W;
            return (W = null), b;
          }
          function p(a, b, c, d, e, f) {
            w.useCreateElement &&
              ((f = G({}, f)),
              c.nodeType === Q ? (f[S] = c) : (f[S] = c.ownerDocument));
            var g = D.mountComponent(a, b, d, f);
            (a._renderedComponent._topLevelWrapper = a),
              Y._mountImageIntoNode(g, c, e, d);
          }
          function q(a, b, c, d, e) {
            var f = F.ReactReconcileTransaction.getPooled(d);
            f.perform(p, null, a, b, c, f, d, e),
              F.ReactReconcileTransaction.release(f);
          }
          function r(a, b) {
            for (
              D.unmountComponent(a),
                b.nodeType === Q && (b = b.documentElement);
              b.lastChild;

            )
              b.removeChild(b.lastChild);
          }
          function s(a) {
            var b = f(a);
            return !!b && b !== z.getReactRootIDFromNodeID(b);
          }
          function t(a) {
            for (; a && a.parentNode !== a; a = a.parentNode)
              if (1 === a.nodeType) {
                var b = h(a);
                if (b) {
                  var c,
                    d = z.getReactRootIDFromNodeID(b),
                    e = a;
                  do
                    if (((c = h(e)), (e = e.parentNode), null == e))
                      return null;
                  while (c !== d);
                  if (e === U[d]) return a;
                }
              }
            return null;
          }
          var u = a(10),
            v = a(28),
            w = (a(39), a(44)),
            x = a(55),
            y = a(58),
            z = a(65),
            A = a(66),
            B = a(69),
            C = a(76),
            D = a(82),
            E = a(92),
            F = a(93),
            G = a(24),
            H = a(151),
            I = a(147),
            J = a(129),
            K = a(158),
            L = a(135),
            M = a(138),
            N = (a(141), a(168), u.ID_ATTRIBUTE_NAME),
            O = {},
            P = 1,
            Q = 9,
            R = 11,
            S =
              "__ReactMount_ownerDocument$" +
              Math.random().toString(36).slice(2),
            T = {},
            U = {},
            V = [],
            W = null,
            X = function () {};
          (X.prototype.isReactComponent = {}),
            (X.prototype.render = function () {
              return this.props;
            });
          var Y = {
            TopLevelWrapper: X,
            _instancesByReactRootID: T,
            scrollMonitor: function (a, b) {
              b();
            },
            _updateRootComponent: function (a, b, c, d) {
              return (
                Y.scrollMonitor(c, function () {
                  E.enqueueElementInternal(a, b),
                    d && E.enqueueCallbackInternal(a, d);
                }),
                a
              );
            },
            _registerComponent: function (a, b) {
              !b || (b.nodeType !== P && b.nodeType !== Q && b.nodeType !== R)
                ? K(!1)
                : void 0,
                v.ensureScrollValueMonitoring();
              var c = Y.registerContainer(b);
              return (T[c] = a), c;
            },
            _renderNewRootComponent: function (a, b, c, d) {
              var e = J(a, null),
                f = Y._registerComponent(e, b);
              return F.batchedUpdates(q, e, f, b, c, d), e;
            },
            renderSubtreeIntoContainer: function (a, b, c, d) {
              return (
                null == a || null == a._reactInternalInstance ? K(!1) : void 0,
                Y._renderSubtreeIntoContainer(a, b, c, d)
              );
            },
            _renderSubtreeIntoContainer: function (a, b, c, d) {
              x.isValidElement(b) ? void 0 : K(!1);
              var g = new x(X, null, null, null, null, null, b),
                i = T[f(c)];
              if (i) {
                var j = i._currentElement,
                  k = j.props;
                if (M(k, b)) {
                  var l = i._renderedComponent.getPublicInstance(),
                    m =
                      d &&
                      function () {
                        d.call(l);
                      };
                  return Y._updateRootComponent(i, g, c, m), l;
                }
                Y.unmountComponentAtNode(c);
              }
              var n = e(c),
                o = n && !!h(n),
                p = s(c),
                q = o && !i && !p,
                r = Y._renderNewRootComponent(
                  g,
                  c,
                  q,
                  null != a
                    ? a._reactInternalInstance._processChildContext(
                        a._reactInternalInstance._context
                      )
                    : H
                )._renderedComponent.getPublicInstance();
              return d && d.call(r), r;
            },
            render: function (a, b, c) {
              return Y._renderSubtreeIntoContainer(null, a, b, c);
            },
            registerContainer: function (a) {
              var b = f(a);
              return (
                b && (b = z.getReactRootIDFromNodeID(b)),
                b || (b = z.createReactRootID()),
                (U[b] = a),
                b
              );
            },
            unmountComponentAtNode: function (a) {
              !a || (a.nodeType !== P && a.nodeType !== Q && a.nodeType !== R)
                ? K(!1)
                : void 0;
              var b = f(a),
                c = T[b];
              if (!c) {
                var d = (s(a), h(a));
                return d && d === z.getReactRootIDFromNodeID(d), !1;
              }
              return F.batchedUpdates(r, c, a), delete T[b], delete U[b], !0;
            },
            findReactContainerForID: function (a) {
              var b = z.getReactRootIDFromNodeID(a),
                c = U[b];
              return c;
            },
            findReactNodeByID: function (a) {
              var b = Y.findReactContainerForID(a);
              return Y.findComponentRoot(b, a);
            },
            getFirstReactDOM: function (a) {
              return t(a);
            },
            findComponentRoot: function (a, b) {
              var c = V,
                d = 0,
                e = o(b) || a;
              for (c[0] = e.firstChild, c.length = 1; d < c.length; ) {
                for (var f, g = c[d++]; g; ) {
                  var h = Y.getID(g);
                  h
                    ? b === h
                      ? (f = g)
                      : z.isAncestorIDOf(h, b) &&
                        ((c.length = d = 0), c.push(g.firstChild))
                    : c.push(g.firstChild),
                    (g = g.nextSibling);
                }
                if (f) return (c.length = 0), f;
              }
              (c.length = 0), K(!1);
            },
            _mountImageIntoNode: function (a, b, c, f) {
              if (
                (!b ||
                (b.nodeType !== P && b.nodeType !== Q && b.nodeType !== R)
                  ? K(!1)
                  : void 0,
                c)
              ) {
                var g = e(b);
                if (B.canReuseMarkup(a, g)) return;
                var h = g.getAttribute(B.CHECKSUM_ATTR_NAME);
                g.removeAttribute(B.CHECKSUM_ATTR_NAME);
                var i = g.outerHTML;
                g.setAttribute(B.CHECKSUM_ATTR_NAME, h);
                var j = a,
                  k = d(j, i);
                " (client) " +
                  j.substring(k - 20, k + 20) +
                  "\n (server) " +
                  i.substring(k - 20, k + 20),
                  b.nodeType === Q ? K(!1) : void 0;
              }
              if ((b.nodeType === Q ? K(!1) : void 0, f.useCreateElement)) {
                for (; b.lastChild; ) b.removeChild(b.lastChild);
                b.appendChild(a);
              } else L(b, a);
            },
            ownerDocumentContextKey: S,
            getReactRootID: f,
            getID: g,
            setID: i,
            getNode: j,
            getNodeFromInstance: k,
            isValid: l,
            purgeID: m,
          };
          C.measureMethods(Y, "ReactMount", {
            _renderNewRootComponent: "_renderNewRootComponent",
            _mountImageIntoNode: "_mountImageIntoNode",
          }),
            (b.exports = Y);
        },
        {
          10: 10,
          129: 129,
          135: 135,
          138: 138,
          141: 141,
          147: 147,
          151: 151,
          158: 158,
          168: 168,
          24: 24,
          28: 28,
          39: 39,
          44: 44,
          55: 55,
          58: 58,
          65: 65,
          66: 66,
          69: 69,
          76: 76,
          82: 82,
          92: 92,
          93: 93,
        },
      ],
      71: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c) {
            q.push({
              parentID: a,
              parentNode: null,
              type: l.INSERT_MARKUP,
              markupIndex: r.push(b) - 1,
              content: null,
              fromIndex: null,
              toIndex: c,
            });
          }
          function e(a, b, c) {
            q.push({
              parentID: a,
              parentNode: null,
              type: l.MOVE_EXISTING,
              markupIndex: null,
              content: null,
              fromIndex: b,
              toIndex: c,
            });
          }
          function f(a, b) {
            q.push({
              parentID: a,
              parentNode: null,
              type: l.REMOVE_NODE,
              markupIndex: null,
              content: null,
              fromIndex: b,
              toIndex: null,
            });
          }
          function g(a, b) {
            q.push({
              parentID: a,
              parentNode: null,
              type: l.SET_MARKUP,
              markupIndex: null,
              content: b,
              fromIndex: null,
              toIndex: null,
            });
          }
          function h(a, b) {
            q.push({
              parentID: a,
              parentNode: null,
              type: l.TEXT_CONTENT,
              markupIndex: null,
              content: b,
              fromIndex: null,
              toIndex: null,
            });
          }
          function i() {
            q.length && (k.processChildrenUpdates(q, r), j());
          }
          function j() {
            (q.length = 0), (r.length = 0);
          }
          var k = a(36),
            l = a(72),
            m = (a(39), a(82)),
            n = a(31),
            o = a(120),
            p = 0,
            q = [],
            r = [],
            s = {
              Mixin: {
                _reconcilerInstantiateChildren: function (a, b, c) {
                  return n.instantiateChildren(a, b, c);
                },
                _reconcilerUpdateChildren: function (a, b, c, d) {
                  var e;
                  return (e = o(b)), n.updateChildren(a, e, c, d);
                },
                mountChildren: function (a, b, c) {
                  var d = this._reconcilerInstantiateChildren(a, b, c);
                  this._renderedChildren = d;
                  var e = [],
                    f = 0;
                  for (var g in d)
                    if (d.hasOwnProperty(g)) {
                      var h = d[g],
                        i = this._rootNodeID + g,
                        j = m.mountComponent(h, i, b, c);
                      (h._mountIndex = f++), e.push(j);
                    }
                  return e;
                },
                updateTextContent: function (a) {
                  p++;
                  var b = !0;
                  try {
                    var c = this._renderedChildren;
                    n.unmountChildren(c);
                    for (var d in c)
                      c.hasOwnProperty(d) && this._unmountChild(c[d]);
                    this.setTextContent(a), (b = !1);
                  } finally {
                    p--, p || (b ? j() : i());
                  }
                },
                updateMarkup: function (a) {
                  p++;
                  var b = !0;
                  try {
                    var c = this._renderedChildren;
                    n.unmountChildren(c);
                    for (var d in c)
                      c.hasOwnProperty(d) && this._unmountChildByName(c[d], d);
                    this.setMarkup(a), (b = !1);
                  } finally {
                    p--, p || (b ? j() : i());
                  }
                },
                updateChildren: function (a, b, c) {
                  p++;
                  var d = !0;
                  try {
                    this._updateChildren(a, b, c), (d = !1);
                  } finally {
                    p--, p || (d ? j() : i());
                  }
                },
                _updateChildren: function (a, b, c) {
                  var d = this._renderedChildren,
                    e = this._reconcilerUpdateChildren(d, a, b, c);
                  if (((this._renderedChildren = e), e || d)) {
                    var f,
                      g = 0,
                      h = 0;
                    for (f in e)
                      if (e.hasOwnProperty(f)) {
                        var i = d && d[f],
                          j = e[f];
                        i === j
                          ? (this.moveChild(i, h, g),
                            (g = Math.max(i._mountIndex, g)),
                            (i._mountIndex = h))
                          : (i &&
                              ((g = Math.max(i._mountIndex, g)),
                              this._unmountChild(i)),
                            this._mountChildByNameAtIndex(j, f, h, b, c)),
                          h++;
                      }
                    for (f in d)
                      !d.hasOwnProperty(f) ||
                        (e && e.hasOwnProperty(f)) ||
                        this._unmountChild(d[f]);
                  }
                },
                unmountChildren: function () {
                  var a = this._renderedChildren;
                  n.unmountChildren(a), (this._renderedChildren = null);
                },
                moveChild: function (a, b, c) {
                  a._mountIndex < c && e(this._rootNodeID, a._mountIndex, b);
                },
                createChild: function (a, b) {
                  d(this._rootNodeID, b, a._mountIndex);
                },
                removeChild: function (a) {
                  f(this._rootNodeID, a._mountIndex);
                },
                setTextContent: function (a) {
                  h(this._rootNodeID, a);
                },
                setMarkup: function (a) {
                  g(this._rootNodeID, a);
                },
                _mountChildByNameAtIndex: function (a, b, c, d, e) {
                  var f = this._rootNodeID + b,
                    g = m.mountComponent(a, f, d, e);
                  (a._mountIndex = c), this.createChild(a, g);
                },
                _unmountChild: function (a) {
                  this.removeChild(a), (a._mountIndex = null);
                },
              },
            };
          b.exports = s;
        },
        { 120: 120, 31: 31, 36: 36, 39: 39, 72: 72, 82: 82 },
      ],
      72: [
        function (a, b, c) {
          "use strict";
          var d = a(162),
            e = d({
              INSERT_MARKUP: null,
              MOVE_EXISTING: null,
              REMOVE_NODE: null,
              SET_MARKUP: null,
              TEXT_CONTENT: null,
            });
          b.exports = e;
        },
        { 162: 162 },
      ],
      73: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            if ("function" == typeof a.type) return a.type;
            var b = a.type,
              c = l[b];
            return null == c && (l[b] = c = j(b)), c;
          }
          function e(a) {
            return k ? void 0 : i(!1), new k(a.type, a.props);
          }
          function f(a) {
            return new m(a);
          }
          function g(a) {
            return a instanceof m;
          }
          var h = a(24),
            i = a(158),
            j = null,
            k = null,
            l = {},
            m = null,
            n = {
              injectGenericComponentClass: function (a) {
                k = a;
              },
              injectTextComponentClass: function (a) {
                m = a;
              },
              injectComponentClasses: function (a) {
                h(l, a);
              },
            },
            o = {
              getComponentClassForElement: d,
              createInternalComponent: e,
              createInstanceForText: f,
              isTextComponent: g,
              injection: n,
            };
          b.exports = o;
        },
        { 158: 158, 24: 24 },
      ],
      74: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {}
          var e =
            (a(168),
            {
              isMounted: function (a) {
                return !1;
              },
              enqueueCallback: function (a, b) {},
              enqueueForceUpdate: function (a) {
                d(a, "forceUpdate");
              },
              enqueueReplaceState: function (a, b) {
                d(a, "replaceState");
              },
              enqueueSetState: function (a, b) {
                d(a, "setState");
              },
              enqueueSetProps: function (a, b) {
                d(a, "setProps");
              },
              enqueueReplaceProps: function (a, b) {
                d(a, "replaceProps");
              },
            });
          b.exports = e;
        },
        { 168: 168 },
      ],
      75: [
        function (a, b, c) {
          "use strict";
          var d = a(158),
            e = {
              isValidOwner: function (a) {
                return !(
                  !a ||
                  "function" != typeof a.attachRef ||
                  "function" != typeof a.detachRef
                );
              },
              addComponentAsRefTo: function (a, b, c) {
                e.isValidOwner(c) ? void 0 : d(!1), c.attachRef(b, a);
              },
              removeComponentAsRefFrom: function (a, b, c) {
                e.isValidOwner(c) ? void 0 : d(!1),
                  c.getPublicInstance().refs[b] === a.getPublicInstance() &&
                    c.detachRef(b);
              },
            };
          b.exports = e;
        },
        { 158: 158 },
      ],
      76: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c) {
            return c;
          }
          var e = {
            enableMeasure: !1,
            storedMeasure: d,
            measureMethods: function (a, b, c) {},
            measure: function (a, b, c) {
              return c;
            },
            injection: {
              injectMeasure: function (a) {
                e.storedMeasure = a;
              },
            },
          };
          b.exports = e;
        },
        {},
      ],
      77: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return function (b, c, d) {
              b.hasOwnProperty(c) ? (b[c] = a(b[c], d)) : (b[c] = d);
            };
          }
          function e(a, b) {
            for (var c in b)
              if (b.hasOwnProperty(c)) {
                var d = j[c];
                d && j.hasOwnProperty(c)
                  ? d(a, c, b[c])
                  : a.hasOwnProperty(c) || (a[c] = b[c]);
              }
            return a;
          }
          var f = a(24),
            g = a(150),
            h = a(161),
            i = d(function (a, b) {
              return f({}, b, a);
            }),
            j = { children: g, className: d(h), style: i },
            k = {
              mergeProps: function (a, b) {
                return e(f({}, a), b);
              },
            };
          b.exports = k;
        },
        { 150: 150, 161: 161, 24: 24 },
      ],
      78: [
        function (a, b, c) {
          "use strict";
          var d = {};
          b.exports = d;
        },
        {},
      ],
      79: [
        function (a, b, c) {
          "use strict";
          var d = a(162),
            e = d({ prop: null, context: null, childContext: null });
          b.exports = e;
        },
        { 162: 162 },
      ],
      80: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            function b(b, c, d, e, f, g) {
              if (((e = e || w), (g = g || d), null == c[d])) {
                var h = t[f];
                return b
                  ? new Error(
                      "Required " +
                        h +
                        " `" +
                        g +
                        "` was not specified in " +
                        ("`" + e + "`.")
                    )
                  : null;
              }
              return a(c, d, e, f, g);
            }
            var c = b.bind(null, !1);
            return (c.isRequired = b.bind(null, !0)), c;
          }
          function e(a) {
            function b(b, c, d, e, f) {
              var g = b[c],
                h = p(g);
              if (h !== a) {
                var i = t[e],
                  j = q(g);
                return new Error(
                  "Invalid " +
                    i +
                    " `" +
                    f +
                    "` of type " +
                    ("`" + j + "` supplied to `" + d + "`, expected ") +
                    ("`" + a + "`.")
                );
              }
              return null;
            }
            return d(b);
          }
          function f() {
            return d(u.thatReturns(null));
          }
          function g(a) {
            function b(b, c, d, e, f) {
              var g = b[c];
              if (!Array.isArray(g)) {
                var h = t[e],
                  i = p(g);
                return new Error(
                  "Invalid " +
                    h +
                    " `" +
                    f +
                    "` of type " +
                    ("`" + i + "` supplied to `" + d + "`, expected an array.")
                );
              }
              for (var j = 0; j < g.length; j++) {
                var k = a(g, j, d, e, f + "[" + j + "]");
                if (k instanceof Error) return k;
              }
              return null;
            }
            return d(b);
          }
          function h() {
            function a(a, b, c, d, e) {
              if (!s.isValidElement(a[b])) {
                var f = t[d];
                return new Error(
                  "Invalid " +
                    f +
                    " `" +
                    e +
                    "` supplied to " +
                    ("`" + c + "`, expected a single ReactElement.")
                );
              }
              return null;
            }
            return d(a);
          }
          function i(a) {
            function b(b, c, d, e, f) {
              if (!(b[c] instanceof a)) {
                var g = t[e],
                  h = a.name || w,
                  i = r(b[c]);
                return new Error(
                  "Invalid " +
                    g +
                    " `" +
                    f +
                    "` of type " +
                    ("`" + i + "` supplied to `" + d + "`, expected ") +
                    ("instance of `" + h + "`.")
                );
              }
              return null;
            }
            return d(b);
          }
          function j(a) {
            function b(b, c, d, e, f) {
              for (var g = b[c], h = 0; h < a.length; h++)
                if (g === a[h]) return null;
              var i = t[e],
                j = JSON.stringify(a);
              return new Error(
                "Invalid " +
                  i +
                  " `" +
                  f +
                  "` of value `" +
                  g +
                  "` " +
                  ("supplied to `" + d + "`, expected one of " + j + ".")
              );
            }
            return d(
              Array.isArray(a)
                ? b
                : function () {
                    return new Error(
                      "Invalid argument supplied to oneOf, expected an instance of array."
                    );
                  }
            );
          }
          function k(a) {
            function b(b, c, d, e, f) {
              var g = b[c],
                h = p(g);
              if ("object" !== h) {
                var i = t[e];
                return new Error(
                  "Invalid " +
                    i +
                    " `" +
                    f +
                    "` of type " +
                    ("`" + h + "` supplied to `" + d + "`, expected an object.")
                );
              }
              for (var j in g)
                if (g.hasOwnProperty(j)) {
                  var k = a(g, j, d, e, f + "." + j);
                  if (k instanceof Error) return k;
                }
              return null;
            }
            return d(b);
          }
          function l(a) {
            function b(b, c, d, e, f) {
              for (var g = 0; g < a.length; g++) {
                var h = a[g];
                if (null == h(b, c, d, e, f)) return null;
              }
              var i = t[e];
              return new Error(
                "Invalid " + i + " `" + f + "` supplied to " + ("`" + d + "`.")
              );
            }
            return d(
              Array.isArray(a)
                ? b
                : function () {
                    return new Error(
                      "Invalid argument supplied to oneOfType, expected an instance of array."
                    );
                  }
            );
          }
          function m() {
            function a(a, b, c, d, e) {
              if (!o(a[b])) {
                var f = t[d];
                return new Error(
                  "Invalid " +
                    f +
                    " `" +
                    e +
                    "` supplied to " +
                    ("`" + c + "`, expected a ReactNode.")
                );
              }
              return null;
            }
            return d(a);
          }
          function n(a) {
            function b(b, c, d, e, f) {
              var g = b[c],
                h = p(g);
              if ("object" !== h) {
                var i = t[e];
                return new Error(
                  "Invalid " +
                    i +
                    " `" +
                    f +
                    "` of type `" +
                    h +
                    "` " +
                    ("supplied to `" + d + "`, expected `object`.")
                );
              }
              for (var j in a) {
                var k = a[j];
                if (k) {
                  var l = k(g, j, d, e, f + "." + j);
                  if (l) return l;
                }
              }
              return null;
            }
            return d(b);
          }
          function o(a) {
            switch (typeof a) {
              case "number":
              case "string":
              case "undefined":
                return !0;
              case "boolean":
                return !a;
              case "object":
                if (Array.isArray(a)) return a.every(o);
                if (null === a || s.isValidElement(a)) return !0;
                var b = v(a);
                if (!b) return !1;
                var c,
                  d = b.call(a);
                if (b !== a.entries) {
                  for (; !(c = d.next()).done; ) if (!o(c.value)) return !1;
                } else
                  for (; !(c = d.next()).done; ) {
                    var e = c.value;
                    if (e && !o(e[1])) return !1;
                  }
                return !0;
              default:
                return !1;
            }
          }
          function p(a) {
            var b = typeof a;
            return Array.isArray(a)
              ? "array"
              : a instanceof RegExp
              ? "object"
              : b;
          }
          function q(a) {
            var b = p(a);
            if ("object" === b) {
              if (a instanceof Date) return "date";
              if (a instanceof RegExp) return "regexp";
            }
            return b;
          }
          function r(a) {
            return a.constructor && a.constructor.name
              ? a.constructor.name
              : "<<anonymous>>";
          }
          var s = a(55),
            t = a(78),
            u = a(150),
            v = a(126),
            w = "<<anonymous>>",
            x = {
              array: e("array"),
              bool: e("boolean"),
              func: e("function"),
              number: e("number"),
              object: e("object"),
              string: e("string"),
              any: f(),
              arrayOf: g,
              element: h(),
              instanceOf: i,
              node: m(),
              objectOf: k,
              oneOf: j,
              oneOfType: l,
              shape: n,
            };
          b.exports = x;
        },
        { 126: 126, 150: 150, 55: 55, 78: 78 },
      ],
      81: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            this.reinitializeTransaction(),
              (this.renderToStaticMarkup = !1),
              (this.reactMountReady = e.getPooled(null)),
              (this.useCreateElement = !a && h.useCreateElement);
          }
          var e = a(6),
            f = a(25),
            g = a(28),
            h = a(44),
            i = a(64),
            j = a(110),
            k = a(24),
            l = {
              initialize: i.getSelectionInformation,
              close: i.restoreSelection,
            },
            m = {
              initialize: function () {
                var a = g.isEnabled();
                return g.setEnabled(!1), a;
              },
              close: function (a) {
                g.setEnabled(a);
              },
            },
            n = {
              initialize: function () {
                this.reactMountReady.reset();
              },
              close: function () {
                this.reactMountReady.notifyAll();
              },
            },
            o = [l, m, n],
            p = {
              getTransactionWrappers: function () {
                return o;
              },
              getReactMountReady: function () {
                return this.reactMountReady;
              },
              destructor: function () {
                e.release(this.reactMountReady), (this.reactMountReady = null);
              },
            };
          k(d.prototype, j.Mixin, p), f.addPoolingTo(d), (b.exports = d);
        },
        { 110: 110, 24: 24, 25: 25, 28: 28, 44: 44, 6: 6, 64: 64 },
      ],
      82: [
        function (a, b, c) {
          "use strict";
          function d() {
            e.attachRefs(this, this._currentElement);
          }
          var e = a(83),
            f = {
              mountComponent: function (a, b, c, e) {
                var f = a.mountComponent(b, c, e);
                return (
                  a._currentElement &&
                    null != a._currentElement.ref &&
                    c.getReactMountReady().enqueue(d, a),
                  f
                );
              },
              unmountComponent: function (a) {
                e.detachRefs(a, a._currentElement), a.unmountComponent();
              },
              receiveComponent: function (a, b, c, f) {
                var g = a._currentElement;
                if (b !== g || f !== a._context) {
                  var h = e.shouldUpdateRefs(g, b);
                  h && e.detachRefs(a, g),
                    a.receiveComponent(b, c, f),
                    h &&
                      a._currentElement &&
                      null != a._currentElement.ref &&
                      c.getReactMountReady().enqueue(d, a);
                }
              },
              performUpdateIfNecessary: function (a, b) {
                a.performUpdateIfNecessary(b);
              },
            };
          b.exports = f;
        },
        { 83: 83 },
      ],
      83: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c) {
            "function" == typeof a
              ? a(b.getPublicInstance())
              : f.addComponentAsRefTo(b, a, c);
          }
          function e(a, b, c) {
            "function" == typeof a
              ? a(null)
              : f.removeComponentAsRefFrom(b, a, c);
          }
          var f = a(75),
            g = {};
          (g.attachRefs = function (a, b) {
            if (null !== b && b !== !1) {
              var c = b.ref;
              null != c && d(c, a, b._owner);
            }
          }),
            (g.shouldUpdateRefs = function (a, b) {
              var c = null === a || a === !1,
                d = null === b || b === !1;
              return c || d || b._owner !== a._owner || b.ref !== a.ref;
            }),
            (g.detachRefs = function (a, b) {
              if (null !== b && b !== !1) {
                var c = b.ref;
                null != c && e(c, a, b._owner);
              }
            }),
            (b.exports = g);
        },
        { 75: 75 },
      ],
      84: [
        function (a, b, c) {
          "use strict";
          var d = {
              injectCreateReactRootIndex: function (a) {
                e.createReactRootIndex = a;
              },
            },
            e = { createReactRootIndex: null, injection: d };
          b.exports = e;
        },
        {},
      ],
      85: [
        function (a, b, c) {
          "use strict";
          var d = { isBatchingUpdates: !1, batchedUpdates: function (a) {} };
          b.exports = d;
        },
        {},
      ],
      86: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            g.isValidElement(a) ? void 0 : o(!1);
            var b;
            try {
              l.injection.injectBatchingStrategy(j);
              var c = h.createReactRootID();
              return (
                (b = k.getPooled(!1)),
                b.perform(function () {
                  var d = n(a, null),
                    e = d.mountComponent(c, b, m);
                  return i.addChecksumToMarkup(e);
                }, null)
              );
            } finally {
              k.release(b), l.injection.injectBatchingStrategy(f);
            }
          }
          function e(a) {
            g.isValidElement(a) ? void 0 : o(!1);
            var b;
            try {
              l.injection.injectBatchingStrategy(j);
              var c = h.createReactRootID();
              return (
                (b = k.getPooled(!0)),
                b.perform(function () {
                  var d = n(a, null);
                  return d.mountComponent(c, b, m);
                }, null)
              );
            } finally {
              k.release(b), l.injection.injectBatchingStrategy(f);
            }
          }
          var f = a(53),
            g = a(55),
            h = a(65),
            i = a(69),
            j = a(85),
            k = a(87),
            l = a(93),
            m = a(151),
            n = a(129),
            o = a(158);
          b.exports = { renderToString: d, renderToStaticMarkup: e };
        },
        {
          129: 129,
          151: 151,
          158: 158,
          53: 53,
          55: 55,
          65: 65,
          69: 69,
          85: 85,
          87: 87,
          93: 93,
        },
      ],
      87: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            this.reinitializeTransaction(),
              (this.renderToStaticMarkup = a),
              (this.reactMountReady = f.getPooled(null)),
              (this.useCreateElement = !1);
          }
          var e = a(25),
            f = a(6),
            g = a(110),
            h = a(24),
            i = a(150),
            j = {
              initialize: function () {
                this.reactMountReady.reset();
              },
              close: i,
            },
            k = [j],
            l = {
              getTransactionWrappers: function () {
                return k;
              },
              getReactMountReady: function () {
                return this.reactMountReady;
              },
              destructor: function () {
                f.release(this.reactMountReady), (this.reactMountReady = null);
              },
            };
          h(d.prototype, g.Mixin, l), e.addPoolingTo(d), (b.exports = d);
        },
        { 110: 110, 150: 150, 24: 24, 25: 25, 6: 6 },
      ],
      88: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            var c = {};
            return function (d) {
              (c[b] = d), a.setState(c);
            };
          }
          var e = {
            createStateSetter: function (a, b) {
              return function (c, d, e, f, g, h) {
                var i = b.call(a, c, d, e, f, g, h);
                i && a.setState(i);
              };
            },
            createStateKeySetter: function (a, b) {
              var c = a.__keySetters || (a.__keySetters = {});
              return c[b] || (c[b] = d(a, b));
            },
          };
          (e.Mixin = {
            createStateSetter: function (a) {
              return e.createStateSetter(this, a);
            },
            createStateKeySetter: function (a) {
              return e.createStateKeySetter(this, a);
            },
          }),
            (b.exports = e);
        },
        {},
      ],
      89: [
        function (a, b, c) {
          "use strict";
          var d = a(120),
            e = {
              getChildMapping: function (a) {
                return a ? d(a) : a;
              },
              mergeChildMappings: function (a, b) {
                function c(c) {
                  return b.hasOwnProperty(c) ? b[c] : a[c];
                }
                (a = a || {}), (b = b || {});
                var d = {},
                  e = [];
                for (var f in a)
                  b.hasOwnProperty(f)
                    ? e.length && ((d[f] = e), (e = []))
                    : e.push(f);
                var g,
                  h = {};
                for (var i in b) {
                  if (d.hasOwnProperty(i))
                    for (g = 0; g < d[i].length; g++) {
                      var j = d[i][g];
                      h[d[i][g]] = c(j);
                    }
                  h[i] = c(i);
                }
                for (g = 0; g < e.length; g++) h[e[g]] = c(e[g]);
                return h;
              },
            };
          b.exports = e;
        },
        { 120: 120 },
      ],
      90: [
        function (a, b, c) {
          "use strict";
          function d() {
            var a = document.createElement("div"),
              b = a.style;
            "AnimationEvent" in window || delete h.animationend.animation,
              "TransitionEvent" in window || delete h.transitionend.transition;
            for (var c in h) {
              var d = h[c];
              for (var e in d)
                if (e in b) {
                  i.push(d[e]);
                  break;
                }
            }
          }
          function e(a, b, c) {
            a.addEventListener(b, c, !1);
          }
          function f(a, b, c) {
            a.removeEventListener(b, c, !1);
          }
          var g = a(144),
            h = {
              transitionend: {
                transition: "transitionend",
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "mozTransitionEnd",
                OTransition: "oTransitionEnd",
                msTransition: "MSTransitionEnd",
              },
              animationend: {
                animation: "animationend",
                WebkitAnimation: "webkitAnimationEnd",
                MozAnimation: "mozAnimationEnd",
                OAnimation: "oAnimationEnd",
                msAnimation: "MSAnimationEnd",
              },
            },
            i = [];
          g.canUseDOM && d();
          var j = {
            addEndEventListener: function (a, b) {
              return 0 === i.length
                ? void window.setTimeout(b, 0)
                : void i.forEach(function (c) {
                    e(a, c, b);
                  });
            },
            removeEndEventListener: function (a, b) {
              0 !== i.length &&
                i.forEach(function (c) {
                  f(a, c, b);
                });
            },
          };
          b.exports = j;
        },
        { 144: 144 },
      ],
      91: [
        function (a, b, c) {
          "use strict";
          var d = a(26),
            e = a(89),
            f = a(24),
            g = a(150),
            h = d.createClass({
              displayName: "ReactTransitionGroup",
              propTypes: {
                component: d.PropTypes.any,
                childFactory: d.PropTypes.func,
              },
              getDefaultProps: function () {
                return {
                  component: "span",
                  childFactory: g.thatReturnsArgument,
                };
              },
              getInitialState: function () {
                return { children: e.getChildMapping(this.props.children) };
              },
              componentWillMount: function () {
                (this.currentlyTransitioningKeys = {}),
                  (this.keysToEnter = []),
                  (this.keysToLeave = []);
              },
              componentDidMount: function () {
                var a = this.state.children;
                for (var b in a) a[b] && this.performAppear(b);
              },
              componentWillReceiveProps: function (a) {
                var b = e.getChildMapping(a.children),
                  c = this.state.children;
                this.setState({ children: e.mergeChildMappings(c, b) });
                var d;
                for (d in b) {
                  var f = c && c.hasOwnProperty(d);
                  !b[d] ||
                    f ||
                    this.currentlyTransitioningKeys[d] ||
                    this.keysToEnter.push(d);
                }
                for (d in c) {
                  var g = b && b.hasOwnProperty(d);
                  !c[d] ||
                    g ||
                    this.currentlyTransitioningKeys[d] ||
                    this.keysToLeave.push(d);
                }
              },
              componentDidUpdate: function () {
                var a = this.keysToEnter;
                (this.keysToEnter = []), a.forEach(this.performEnter);
                var b = this.keysToLeave;
                (this.keysToLeave = []), b.forEach(this.performLeave);
              },
              performAppear: function (a) {
                this.currentlyTransitioningKeys[a] = !0;
                var b = this.refs[a];
                b.componentWillAppear
                  ? b.componentWillAppear(
                      this._handleDoneAppearing.bind(this, a)
                    )
                  : this._handleDoneAppearing(a);
              },
              _handleDoneAppearing: function (a) {
                var b = this.refs[a];
                b.componentDidAppear && b.componentDidAppear(),
                  delete this.currentlyTransitioningKeys[a];
                var c = e.getChildMapping(this.props.children);
                (c && c.hasOwnProperty(a)) || this.performLeave(a);
              },
              performEnter: function (a) {
                this.currentlyTransitioningKeys[a] = !0;
                var b = this.refs[a];
                b.componentWillEnter
                  ? b.componentWillEnter(this._handleDoneEntering.bind(this, a))
                  : this._handleDoneEntering(a);
              },
              _handleDoneEntering: function (a) {
                var b = this.refs[a];
                b.componentDidEnter && b.componentDidEnter(),
                  delete this.currentlyTransitioningKeys[a];
                var c = e.getChildMapping(this.props.children);
                (c && c.hasOwnProperty(a)) || this.performLeave(a);
              },
              performLeave: function (a) {
                this.currentlyTransitioningKeys[a] = !0;
                var b = this.refs[a];
                b.componentWillLeave
                  ? b.componentWillLeave(this._handleDoneLeaving.bind(this, a))
                  : this._handleDoneLeaving(a);
              },
              _handleDoneLeaving: function (a) {
                var b = this.refs[a];
                b.componentDidLeave && b.componentDidLeave(),
                  delete this.currentlyTransitioningKeys[a];
                var c = e.getChildMapping(this.props.children);
                c && c.hasOwnProperty(a)
                  ? this.performEnter(a)
                  : this.setState(function (b) {
                      var c = f({}, b.children);
                      return delete c[a], { children: c };
                    });
              },
              render: function () {
                var a = [];
                for (var b in this.state.children) {
                  var c = this.state.children[b];
                  c &&
                    a.push(
                      d.cloneElement(this.props.childFactory(c), {
                        ref: b,
                        key: b,
                      })
                    );
                }
                return d.createElement(this.props.component, this.props, a);
              },
            });
          b.exports = h;
        },
        { 150: 150, 24: 24, 26: 26, 89: 89 },
      ],
      92: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            h.enqueueUpdate(a);
          }
          function e(a, b) {
            var c = g.get(a);
            return c ? c : null;
          }
          var f = (a(39), a(55)),
            g = a(66),
            h = a(93),
            i = a(24),
            j = a(158),
            k =
              (a(168),
              {
                isMounted: function (a) {
                  var b = g.get(a);
                  return !!b && !!b._renderedComponent;
                },
                enqueueCallback: function (a, b) {
                  "function" != typeof b ? j(!1) : void 0;
                  var c = e(a);
                  return c
                    ? (c._pendingCallbacks
                        ? c._pendingCallbacks.push(b)
                        : (c._pendingCallbacks = [b]),
                      void d(c))
                    : null;
                },
                enqueueCallbackInternal: function (a, b) {
                  "function" != typeof b ? j(!1) : void 0,
                    a._pendingCallbacks
                      ? a._pendingCallbacks.push(b)
                      : (a._pendingCallbacks = [b]),
                    d(a);
                },
                enqueueForceUpdate: function (a) {
                  var b = e(a, "forceUpdate");
                  b && ((b._pendingForceUpdate = !0), d(b));
                },
                enqueueReplaceState: function (a, b) {
                  var c = e(a, "replaceState");
                  c &&
                    ((c._pendingStateQueue = [b]),
                    (c._pendingReplaceState = !0),
                    d(c));
                },
                enqueueSetState: function (a, b) {
                  var c = e(a, "setState");
                  if (c) {
                    var f = c._pendingStateQueue || (c._pendingStateQueue = []);
                    f.push(b), d(c);
                  }
                },
                enqueueSetProps: function (a, b) {
                  var c = e(a, "setProps");
                  c && k.enqueueSetPropsInternal(c, b);
                },
                enqueueSetPropsInternal: function (a, b) {
                  var c = a._topLevelWrapper;
                  c ? void 0 : j(!1);
                  var e = c._pendingElement || c._currentElement,
                    g = e.props,
                    h = i({}, g.props, b);
                  (c._pendingElement = f.cloneAndReplaceProps(
                    e,
                    f.cloneAndReplaceProps(g, h)
                  )),
                    d(c);
                },
                enqueueReplaceProps: function (a, b) {
                  var c = e(a, "replaceProps");
                  c && k.enqueueReplacePropsInternal(c, b);
                },
                enqueueReplacePropsInternal: function (a, b) {
                  var c = a._topLevelWrapper;
                  c ? void 0 : j(!1);
                  var e = c._pendingElement || c._currentElement,
                    g = e.props;
                  (c._pendingElement = f.cloneAndReplaceProps(
                    e,
                    f.cloneAndReplaceProps(g, b)
                  )),
                    d(c);
                },
                enqueueElementInternal: function (a, b) {
                  (a._pendingElement = b), d(a);
                },
              });
          b.exports = k;
        },
        { 158: 158, 168: 168, 24: 24, 39: 39, 55: 55, 66: 66, 93: 93 },
      ],
      93: [
        function (a, b, c) {
          "use strict";
          function d() {
            A.ReactReconcileTransaction && u ? void 0 : q(!1);
          }
          function e() {
            this.reinitializeTransaction(),
              (this.dirtyComponentsLength = null),
              (this.callbackQueue = k.getPooled()),
              (this.reconcileTransaction =
                A.ReactReconcileTransaction.getPooled(!1));
          }
          function f(a, b, c, e, f, g) {
            d(), u.batchedUpdates(a, b, c, e, f, g);
          }
          function g(a, b) {
            return a._mountOrder - b._mountOrder;
          }
          function h(a) {
            var b = a.dirtyComponentsLength;
            b !== r.length ? q(!1) : void 0, r.sort(g);
            for (var c = 0; b > c; c++) {
              var d = r[c],
                e = d._pendingCallbacks;
              if (
                ((d._pendingCallbacks = null),
                n.performUpdateIfNecessary(d, a.reconcileTransaction),
                e)
              )
                for (var f = 0; f < e.length; f++)
                  a.callbackQueue.enqueue(e[f], d.getPublicInstance());
            }
          }
          function i(a) {
            return (
              d(),
              u.isBatchingUpdates ? void r.push(a) : void u.batchedUpdates(i, a)
            );
          }
          function j(a, b) {
            u.isBatchingUpdates ? void 0 : q(!1), s.enqueue(a, b), (t = !0);
          }
          var k = a(6),
            l = a(25),
            m = a(76),
            n = a(82),
            o = a(110),
            p = a(24),
            q = a(158),
            r = [],
            s = k.getPooled(),
            t = !1,
            u = null,
            v = {
              initialize: function () {
                this.dirtyComponentsLength = r.length;
              },
              close: function () {
                this.dirtyComponentsLength !== r.length
                  ? (r.splice(0, this.dirtyComponentsLength), y())
                  : (r.length = 0);
              },
            },
            w = {
              initialize: function () {
                this.callbackQueue.reset();
              },
              close: function () {
                this.callbackQueue.notifyAll();
              },
            },
            x = [v, w];
          p(e.prototype, o.Mixin, {
            getTransactionWrappers: function () {
              return x;
            },
            destructor: function () {
              (this.dirtyComponentsLength = null),
                k.release(this.callbackQueue),
                (this.callbackQueue = null),
                A.ReactReconcileTransaction.release(this.reconcileTransaction),
                (this.reconcileTransaction = null);
            },
            perform: function (a, b, c) {
              return o.Mixin.perform.call(
                this,
                this.reconcileTransaction.perform,
                this.reconcileTransaction,
                a,
                b,
                c
              );
            },
          }),
            l.addPoolingTo(e);
          var y = function () {
            for (; r.length || t; ) {
              if (r.length) {
                var a = e.getPooled();
                a.perform(h, null, a), e.release(a);
              }
              if (t) {
                t = !1;
                var b = s;
                (s = k.getPooled()), b.notifyAll(), k.release(b);
              }
            }
          };
          y = m.measure("ReactUpdates", "flushBatchedUpdates", y);
          var z = {
              injectReconcileTransaction: function (a) {
                a ? void 0 : q(!1), (A.ReactReconcileTransaction = a);
              },
              injectBatchingStrategy: function (a) {
                a ? void 0 : q(!1),
                  "function" != typeof a.batchedUpdates ? q(!1) : void 0,
                  "boolean" != typeof a.isBatchingUpdates ? q(!1) : void 0,
                  (u = a);
              },
            },
            A = {
              ReactReconcileTransaction: null,
              batchedUpdates: f,
              enqueueUpdate: i,
              flushBatchedUpdates: y,
              injection: z,
              asap: j,
            };
          b.exports = A;
        },
        { 110: 110, 158: 158, 24: 24, 25: 25, 6: 6, 76: 76, 82: 82 },
      ],
      94: [
        function (a, b, c) {
          "use strict";
          b.exports = "0.14.3";
        },
        {},
      ],
      95: [
        function (a, b, c) {
          "use strict";
          var d = a(10),
            e = d.injection.MUST_USE_ATTRIBUTE,
            f = {
              xlink: "http://www.w3.org/1999/xlink",
              xml: "http://www.w3.org/XML/1998/namespace",
            },
            g = {
              Properties: {
                clipPath: e,
                cx: e,
                cy: e,
                d: e,
                dx: e,
                dy: e,
                fill: e,
                fillOpacity: e,
                fontFamily: e,
                fontSize: e,
                fx: e,
                fy: e,
                gradientTransform: e,
                gradientUnits: e,
                markerEnd: e,
                markerMid: e,
                markerStart: e,
                offset: e,
                opacity: e,
                patternContentUnits: e,
                patternUnits: e,
                points: e,
                preserveAspectRatio: e,
                r: e,
                rx: e,
                ry: e,
                spreadMethod: e,
                stopColor: e,
                stopOpacity: e,
                stroke: e,
                strokeDasharray: e,
                strokeLinecap: e,
                strokeOpacity: e,
                strokeWidth: e,
                textAnchor: e,
                transform: e,
                version: e,
                viewBox: e,
                x1: e,
                x2: e,
                x: e,
                xlinkActuate: e,
                xlinkArcrole: e,
                xlinkHref: e,
                xlinkRole: e,
                xlinkShow: e,
                xlinkTitle: e,
                xlinkType: e,
                xmlBase: e,
                xmlLang: e,
                xmlSpace: e,
                y1: e,
                y2: e,
                y: e,
              },
              DOMAttributeNamespaces: {
                xlinkActuate: f.xlink,
                xlinkArcrole: f.xlink,
                xlinkHref: f.xlink,
                xlinkRole: f.xlink,
                xlinkShow: f.xlink,
                xlinkTitle: f.xlink,
                xlinkType: f.xlink,
                xmlBase: f.xml,
                xmlLang: f.xml,
                xmlSpace: f.xml,
              },
              DOMAttributeNames: {
                clipPath: "clip-path",
                fillOpacity: "fill-opacity",
                fontFamily: "font-family",
                fontSize: "font-size",
                gradientTransform: "gradientTransform",
                gradientUnits: "gradientUnits",
                markerEnd: "marker-end",
                markerMid: "marker-mid",
                markerStart: "marker-start",
                patternContentUnits: "patternContentUnits",
                patternUnits: "patternUnits",
                preserveAspectRatio: "preserveAspectRatio",
                spreadMethod: "spreadMethod",
                stopColor: "stop-color",
                stopOpacity: "stop-opacity",
                strokeDasharray: "stroke-dasharray",
                strokeLinecap: "stroke-linecap",
                strokeOpacity: "stroke-opacity",
                strokeWidth: "stroke-width",
                textAnchor: "text-anchor",
                viewBox: "viewBox",
                xlinkActuate: "xlink:actuate",
                xlinkArcrole: "xlink:arcrole",
                xlinkHref: "xlink:href",
                xlinkRole: "xlink:role",
                xlinkShow: "xlink:show",
                xlinkTitle: "xlink:title",
                xlinkType: "xlink:type",
                xmlBase: "xml:base",
                xmlLang: "xml:lang",
                xmlSpace: "xml:space",
              },
            };
          b.exports = g;
        },
        { 10: 10 },
      ],
      96: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            if ("selectionStart" in a && i.hasSelectionCapabilities(a))
              return { start: a.selectionStart, end: a.selectionEnd };
            if (window.getSelection) {
              var b = window.getSelection();
              return {
                anchorNode: b.anchorNode,
                anchorOffset: b.anchorOffset,
                focusNode: b.focusNode,
                focusOffset: b.focusOffset,
              };
            }
            if (document.selection) {
              var c = document.selection.createRange();
              return {
                parentElement: c.parentElement(),
                text: c.text,
                top: c.boundingTop,
                left: c.boundingLeft,
              };
            }
          }
          function e(a, b) {
            if (u || null == r || r !== k()) return null;
            var c = d(r);
            if (!t || !n(t, c)) {
              t = c;
              var e = j.getPooled(q.select, s, a, b);
              return (
                (e.type = "select"),
                (e.target = r),
                g.accumulateTwoPhaseDispatches(e),
                e
              );
            }
            return null;
          }
          var f = a(15),
            g = a(19),
            h = a(144),
            i = a(64),
            j = a(102),
            k = a(153),
            l = a(131),
            m = a(163),
            n = a(166),
            o = f.topLevelTypes,
            p =
              h.canUseDOM &&
              "documentMode" in document &&
              document.documentMode <= 11,
            q = {
              select: {
                phasedRegistrationNames: {
                  bubbled: m({ onSelect: null }),
                  captured: m({ onSelectCapture: null }),
                },
                dependencies: [
                  o.topBlur,
                  o.topContextMenu,
                  o.topFocus,
                  o.topKeyDown,
                  o.topMouseDown,
                  o.topMouseUp,
                  o.topSelectionChange,
                ],
              },
            },
            r = null,
            s = null,
            t = null,
            u = !1,
            v = !1,
            w = m({ onSelect: null }),
            x = {
              eventTypes: q,
              extractEvents: function (a, b, c, d, f) {
                if (!v) return null;
                switch (a) {
                  case o.topFocus:
                    (l(b) || "true" === b.contentEditable) &&
                      ((r = b), (s = c), (t = null));
                    break;
                  case o.topBlur:
                    (r = null), (s = null), (t = null);
                    break;
                  case o.topMouseDown:
                    u = !0;
                    break;
                  case o.topContextMenu:
                  case o.topMouseUp:
                    return (u = !1), e(d, f);
                  case o.topSelectionChange:
                    if (p) break;
                  case o.topKeyDown:
                  case o.topKeyUp:
                    return e(d, f);
                }
                return null;
              },
              didPutListener: function (a, b, c) {
                b === w && (v = !0);
              },
            };
          b.exports = x;
        },
        {
          102: 102,
          131: 131,
          144: 144,
          15: 15,
          153: 153,
          163: 163,
          166: 166,
          19: 19,
          64: 64,
        },
      ],
      97: [
        function (a, b, c) {
          "use strict";
          var d = Math.pow(2, 53),
            e = {
              createReactRootIndex: function () {
                return Math.ceil(Math.random() * d);
              },
            };
          b.exports = e;
        },
        {},
      ],
      98: [
        function (a, b, c) {
          "use strict";
          var d = a(15),
            e = a(143),
            f = a(19),
            g = a(70),
            h = a(99),
            i = a(102),
            j = a(103),
            k = a(105),
            l = a(106),
            m = a(101),
            n = a(107),
            o = a(108),
            p = a(109),
            q = a(150),
            r = a(122),
            s = a(158),
            t = a(163),
            u = d.topLevelTypes,
            v = {
              abort: {
                phasedRegistrationNames: {
                  bubbled: t({ onAbort: !0 }),
                  captured: t({ onAbortCapture: !0 }),
                },
              },
              blur: {
                phasedRegistrationNames: {
                  bubbled: t({ onBlur: !0 }),
                  captured: t({ onBlurCapture: !0 }),
                },
              },
              canPlay: {
                phasedRegistrationNames: {
                  bubbled: t({ onCanPlay: !0 }),
                  captured: t({ onCanPlayCapture: !0 }),
                },
              },
              canPlayThrough: {
                phasedRegistrationNames: {
                  bubbled: t({ onCanPlayThrough: !0 }),
                  captured: t({ onCanPlayThroughCapture: !0 }),
                },
              },
              click: {
                phasedRegistrationNames: {
                  bubbled: t({ onClick: !0 }),
                  captured: t({ onClickCapture: !0 }),
                },
              },
              contextMenu: {
                phasedRegistrationNames: {
                  bubbled: t({ onContextMenu: !0 }),
                  captured: t({ onContextMenuCapture: !0 }),
                },
              },
              copy: {
                phasedRegistrationNames: {
                  bubbled: t({ onCopy: !0 }),
                  captured: t({ onCopyCapture: !0 }),
                },
              },
              cut: {
                phasedRegistrationNames: {
                  bubbled: t({ onCut: !0 }),
                  captured: t({ onCutCapture: !0 }),
                },
              },
              doubleClick: {
                phasedRegistrationNames: {
                  bubbled: t({ onDoubleClick: !0 }),
                  captured: t({ onDoubleClickCapture: !0 }),
                },
              },
              drag: {
                phasedRegistrationNames: {
                  bubbled: t({ onDrag: !0 }),
                  captured: t({ onDragCapture: !0 }),
                },
              },
              dragEnd: {
                phasedRegistrationNames: {
                  bubbled: t({ onDragEnd: !0 }),
                  captured: t({ onDragEndCapture: !0 }),
                },
              },
              dragEnter: {
                phasedRegistrationNames: {
                  bubbled: t({ onDragEnter: !0 }),
                  captured: t({ onDragEnterCapture: !0 }),
                },
              },
              dragExit: {
                phasedRegistrationNames: {
                  bubbled: t({ onDragExit: !0 }),
                  captured: t({ onDragExitCapture: !0 }),
                },
              },
              dragLeave: {
                phasedRegistrationNames: {
                  bubbled: t({ onDragLeave: !0 }),
                  captured: t({ onDragLeaveCapture: !0 }),
                },
              },
              dragOver: {
                phasedRegistrationNames: {
                  bubbled: t({ onDragOver: !0 }),
                  captured: t({ onDragOverCapture: !0 }),
                },
              },
              dragStart: {
                phasedRegistrationNames: {
                  bubbled: t({ onDragStart: !0 }),
                  captured: t({ onDragStartCapture: !0 }),
                },
              },
              drop: {
                phasedRegistrationNames: {
                  bubbled: t({ onDrop: !0 }),
                  captured: t({ onDropCapture: !0 }),
                },
              },
              durationChange: {
                phasedRegistrationNames: {
                  bubbled: t({ onDurationChange: !0 }),
                  captured: t({ onDurationChangeCapture: !0 }),
                },
              },
              emptied: {
                phasedRegistrationNames: {
                  bubbled: t({ onEmptied: !0 }),
                  captured: t({ onEmptiedCapture: !0 }),
                },
              },
              encrypted: {
                phasedRegistrationNames: {
                  bubbled: t({ onEncrypted: !0 }),
                  captured: t({ onEncryptedCapture: !0 }),
                },
              },
              ended: {
                phasedRegistrationNames: {
                  bubbled: t({ onEnded: !0 }),
                  captured: t({ onEndedCapture: !0 }),
                },
              },
              error: {
                phasedRegistrationNames: {
                  bubbled: t({ onError: !0 }),
                  captured: t({ onErrorCapture: !0 }),
                },
              },
              focus: {
                phasedRegistrationNames: {
                  bubbled: t({ onFocus: !0 }),
                  captured: t({ onFocusCapture: !0 }),
                },
              },
              input: {
                phasedRegistrationNames: {
                  bubbled: t({ onInput: !0 }),
                  captured: t({ onInputCapture: !0 }),
                },
              },
              keyDown: {
                phasedRegistrationNames: {
                  bubbled: t({ onKeyDown: !0 }),
                  captured: t({ onKeyDownCapture: !0 }),
                },
              },
              keyPress: {
                phasedRegistrationNames: {
                  bubbled: t({ onKeyPress: !0 }),
                  captured: t({ onKeyPressCapture: !0 }),
                },
              },
              keyUp: {
                phasedRegistrationNames: {
                  bubbled: t({ onKeyUp: !0 }),
                  captured: t({ onKeyUpCapture: !0 }),
                },
              },
              load: {
                phasedRegistrationNames: {
                  bubbled: t({ onLoad: !0 }),
                  captured: t({ onLoadCapture: !0 }),
                },
              },
              loadedData: {
                phasedRegistrationNames: {
                  bubbled: t({ onLoadedData: !0 }),
                  captured: t({ onLoadedDataCapture: !0 }),
                },
              },
              loadedMetadata: {
                phasedRegistrationNames: {
                  bubbled: t({ onLoadedMetadata: !0 }),
                  captured: t({ onLoadedMetadataCapture: !0 }),
                },
              },
              loadStart: {
                phasedRegistrationNames: {
                  bubbled: t({ onLoadStart: !0 }),
                  captured: t({ onLoadStartCapture: !0 }),
                },
              },
              mouseDown: {
                phasedRegistrationNames: {
                  bubbled: t({ onMouseDown: !0 }),
                  captured: t({ onMouseDownCapture: !0 }),
                },
              },
              mouseMove: {
                phasedRegistrationNames: {
                  bubbled: t({ onMouseMove: !0 }),
                  captured: t({ onMouseMoveCapture: !0 }),
                },
              },
              mouseOut: {
                phasedRegistrationNames: {
                  bubbled: t({ onMouseOut: !0 }),
                  captured: t({ onMouseOutCapture: !0 }),
                },
              },
              mouseOver: {
                phasedRegistrationNames: {
                  bubbled: t({ onMouseOver: !0 }),
                  captured: t({ onMouseOverCapture: !0 }),
                },
              },
              mouseUp: {
                phasedRegistrationNames: {
                  bubbled: t({ onMouseUp: !0 }),
                  captured: t({ onMouseUpCapture: !0 }),
                },
              },
              paste: {
                phasedRegistrationNames: {
                  bubbled: t({ onPaste: !0 }),
                  captured: t({ onPasteCapture: !0 }),
                },
              },
              pause: {
                phasedRegistrationNames: {
                  bubbled: t({ onPause: !0 }),
                  captured: t({ onPauseCapture: !0 }),
                },
              },
              play: {
                phasedRegistrationNames: {
                  bubbled: t({ onPlay: !0 }),
                  captured: t({ onPlayCapture: !0 }),
                },
              },
              playing: {
                phasedRegistrationNames: {
                  bubbled: t({ onPlaying: !0 }),
                  captured: t({ onPlayingCapture: !0 }),
                },
              },
              progress: {
                phasedRegistrationNames: {
                  bubbled: t({ onProgress: !0 }),
                  captured: t({ onProgressCapture: !0 }),
                },
              },
              rateChange: {
                phasedRegistrationNames: {
                  bubbled: t({ onRateChange: !0 }),
                  captured: t({ onRateChangeCapture: !0 }),
                },
              },
              reset: {
                phasedRegistrationNames: {
                  bubbled: t({ onReset: !0 }),
                  captured: t({ onResetCapture: !0 }),
                },
              },
              scroll: {
                phasedRegistrationNames: {
                  bubbled: t({ onScroll: !0 }),
                  captured: t({ onScrollCapture: !0 }),
                },
              },
              seeked: {
                phasedRegistrationNames: {
                  bubbled: t({ onSeeked: !0 }),
                  captured: t({ onSeekedCapture: !0 }),
                },
              },
              seeking: {
                phasedRegistrationNames: {
                  bubbled: t({ onSeeking: !0 }),
                  captured: t({ onSeekingCapture: !0 }),
                },
              },
              stalled: {
                phasedRegistrationNames: {
                  bubbled: t({ onStalled: !0 }),
                  captured: t({ onStalledCapture: !0 }),
                },
              },
              submit: {
                phasedRegistrationNames: {
                  bubbled: t({ onSubmit: !0 }),
                  captured: t({ onSubmitCapture: !0 }),
                },
              },
              suspend: {
                phasedRegistrationNames: {
                  bubbled: t({ onSuspend: !0 }),
                  captured: t({ onSuspendCapture: !0 }),
                },
              },
              timeUpdate: {
                phasedRegistrationNames: {
                  bubbled: t({ onTimeUpdate: !0 }),
                  captured: t({ onTimeUpdateCapture: !0 }),
                },
              },
              touchCancel: {
                phasedRegistrationNames: {
                  bubbled: t({ onTouchCancel: !0 }),
                  captured: t({ onTouchCancelCapture: !0 }),
                },
              },
              touchEnd: {
                phasedRegistrationNames: {
                  bubbled: t({ onTouchEnd: !0 }),
                  captured: t({ onTouchEndCapture: !0 }),
                },
              },
              touchMove: {
                phasedRegistrationNames: {
                  bubbled: t({ onTouchMove: !0 }),
                  captured: t({ onTouchMoveCapture: !0 }),
                },
              },
              touchStart: {
                phasedRegistrationNames: {
                  bubbled: t({ onTouchStart: !0 }),
                  captured: t({ onTouchStartCapture: !0 }),
                },
              },
              volumeChange: {
                phasedRegistrationNames: {
                  bubbled: t({ onVolumeChange: !0 }),
                  captured: t({ onVolumeChangeCapture: !0 }),
                },
              },
              waiting: {
                phasedRegistrationNames: {
                  bubbled: t({ onWaiting: !0 }),
                  captured: t({ onWaitingCapture: !0 }),
                },
              },
              wheel: {
                phasedRegistrationNames: {
                  bubbled: t({ onWheel: !0 }),
                  captured: t({ onWheelCapture: !0 }),
                },
              },
            },
            w = {
              topAbort: v.abort,
              topBlur: v.blur,
              topCanPlay: v.canPlay,
              topCanPlayThrough: v.canPlayThrough,
              topClick: v.click,
              topContextMenu: v.contextMenu,
              topCopy: v.copy,
              topCut: v.cut,
              topDoubleClick: v.doubleClick,
              topDrag: v.drag,
              topDragEnd: v.dragEnd,
              topDragEnter: v.dragEnter,
              topDragExit: v.dragExit,
              topDragLeave: v.dragLeave,
              topDragOver: v.dragOver,
              topDragStart: v.dragStart,
              topDrop: v.drop,
              topDurationChange: v.durationChange,
              topEmptied: v.emptied,
              topEncrypted: v.encrypted,
              topEnded: v.ended,
              topError: v.error,
              topFocus: v.focus,
              topInput: v.input,
              topKeyDown: v.keyDown,
              topKeyPress: v.keyPress,
              topKeyUp: v.keyUp,
              topLoad: v.load,
              topLoadedData: v.loadedData,
              topLoadedMetadata: v.loadedMetadata,
              topLoadStart: v.loadStart,
              topMouseDown: v.mouseDown,
              topMouseMove: v.mouseMove,
              topMouseOut: v.mouseOut,
              topMouseOver: v.mouseOver,
              topMouseUp: v.mouseUp,
              topPaste: v.paste,
              topPause: v.pause,
              topPlay: v.play,
              topPlaying: v.playing,
              topProgress: v.progress,
              topRateChange: v.rateChange,
              topReset: v.reset,
              topScroll: v.scroll,
              topSeeked: v.seeked,
              topSeeking: v.seeking,
              topStalled: v.stalled,
              topSubmit: v.submit,
              topSuspend: v.suspend,
              topTimeUpdate: v.timeUpdate,
              topTouchCancel: v.touchCancel,
              topTouchEnd: v.touchEnd,
              topTouchMove: v.touchMove,
              topTouchStart: v.touchStart,
              topVolumeChange: v.volumeChange,
              topWaiting: v.waiting,
              topWheel: v.wheel,
            };
          for (var x in w) w[x].dependencies = [x];
          var y = t({ onClick: null }),
            z = {},
            A = {
              eventTypes: v,
              extractEvents: function (a, b, c, d, e) {
                var g = w[a];
                if (!g) return null;
                var q;
                switch (a) {
                  case u.topAbort:
                  case u.topCanPlay:
                  case u.topCanPlayThrough:
                  case u.topDurationChange:
                  case u.topEmptied:
                  case u.topEncrypted:
                  case u.topEnded:
                  case u.topError:
                  case u.topInput:
                  case u.topLoad:
                  case u.topLoadedData:
                  case u.topLoadedMetadata:
                  case u.topLoadStart:
                  case u.topPause:
                  case u.topPlay:
                  case u.topPlaying:
                  case u.topProgress:
                  case u.topRateChange:
                  case u.topReset:
                  case u.topSeeked:
                  case u.topSeeking:
                  case u.topStalled:
                  case u.topSubmit:
                  case u.topSuspend:
                  case u.topTimeUpdate:
                  case u.topVolumeChange:
                  case u.topWaiting:
                    q = i;
                    break;
                  case u.topKeyPress:
                    if (0 === r(d)) return null;
                  case u.topKeyDown:
                  case u.topKeyUp:
                    q = k;
                    break;
                  case u.topBlur:
                  case u.topFocus:
                    q = j;
                    break;
                  case u.topClick:
                    if (2 === d.button) return null;
                  case u.topContextMenu:
                  case u.topDoubleClick:
                  case u.topMouseDown:
                  case u.topMouseMove:
                  case u.topMouseOut:
                  case u.topMouseOver:
                  case u.topMouseUp:
                    q = l;
                    break;
                  case u.topDrag:
                  case u.topDragEnd:
                  case u.topDragEnter:
                  case u.topDragExit:
                  case u.topDragLeave:
                  case u.topDragOver:
                  case u.topDragStart:
                  case u.topDrop:
                    q = m;
                    break;
                  case u.topTouchCancel:
                  case u.topTouchEnd:
                  case u.topTouchMove:
                  case u.topTouchStart:
                    q = n;
                    break;
                  case u.topScroll:
                    q = o;
                    break;
                  case u.topWheel:
                    q = p;
                    break;
                  case u.topCopy:
                  case u.topCut:
                  case u.topPaste:
                    q = h;
                }
                q ? void 0 : s(!1);
                var t = q.getPooled(g, c, d, e);
                return f.accumulateTwoPhaseDispatches(t), t;
              },
              didPutListener: function (a, b, c) {
                if (b === y) {
                  var d = g.getNode(a);
                  z[a] || (z[a] = e.listen(d, "click", q));
                }
              },
              willDeleteListener: function (a, b) {
                b === y && (z[a].remove(), delete z[a]);
              },
            };
          b.exports = A;
        },
        {
          101: 101,
          102: 102,
          103: 103,
          105: 105,
          106: 106,
          107: 107,
          108: 108,
          109: 109,
          122: 122,
          143: 143,
          15: 15,
          150: 150,
          158: 158,
          163: 163,
          19: 19,
          70: 70,
          99: 99,
        },
      ],
      99: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            e.call(this, a, b, c, d);
          }
          var e = a(102),
            f = {
              clipboardData: function (a) {
                return "clipboardData" in a
                  ? a.clipboardData
                  : window.clipboardData;
              },
            };
          e.augmentClass(d, f), (b.exports = d);
        },
        { 102: 102 },
      ],
      100: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            e.call(this, a, b, c, d);
          }
          var e = a(102),
            f = { data: null };
          e.augmentClass(d, f), (b.exports = d);
        },
        { 102: 102 },
      ],
      101: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            e.call(this, a, b, c, d);
          }
          var e = a(106),
            f = { dataTransfer: null };
          e.augmentClass(d, f), (b.exports = d);
        },
        { 106: 106 },
      ],
      102: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            (this.dispatchConfig = a),
              (this.dispatchMarker = b),
              (this.nativeEvent = c),
              (this.target = d),
              (this.currentTarget = d);
            var e = this.constructor.Interface;
            for (var f in e)
              if (e.hasOwnProperty(f)) {
                var h = e[f];
                h ? (this[f] = h(c)) : (this[f] = c[f]);
              }
            var i =
              null != c.defaultPrevented
                ? c.defaultPrevented
                : c.returnValue === !1;
            i
              ? (this.isDefaultPrevented = g.thatReturnsTrue)
              : (this.isDefaultPrevented = g.thatReturnsFalse),
              (this.isPropagationStopped = g.thatReturnsFalse);
          }
          var e = a(25),
            f = a(24),
            g = a(150),
            h =
              (a(168),
              {
                type: null,
                currentTarget: g.thatReturnsNull,
                eventPhase: null,
                bubbles: null,
                cancelable: null,
                timeStamp: function (a) {
                  return a.timeStamp || Date.now();
                },
                defaultPrevented: null,
                isTrusted: null,
              });
          f(d.prototype, {
            preventDefault: function () {
              this.defaultPrevented = !0;
              var a = this.nativeEvent;
              a &&
                (a.preventDefault ? a.preventDefault() : (a.returnValue = !1),
                (this.isDefaultPrevented = g.thatReturnsTrue));
            },
            stopPropagation: function () {
              var a = this.nativeEvent;
              a &&
                (a.stopPropagation
                  ? a.stopPropagation()
                  : (a.cancelBubble = !0),
                (this.isPropagationStopped = g.thatReturnsTrue));
            },
            persist: function () {
              this.isPersistent = g.thatReturnsTrue;
            },
            isPersistent: g.thatReturnsFalse,
            destructor: function () {
              var a = this.constructor.Interface;
              for (var b in a) this[b] = null;
              (this.dispatchConfig = null),
                (this.dispatchMarker = null),
                (this.nativeEvent = null);
            },
          }),
            (d.Interface = h),
            (d.augmentClass = function (a, b) {
              var c = this,
                d = Object.create(c.prototype);
              f(d, a.prototype),
                (a.prototype = d),
                (a.prototype.constructor = a),
                (a.Interface = f({}, c.Interface, b)),
                (a.augmentClass = c.augmentClass),
                e.addPoolingTo(a, e.fourArgumentPooler);
            }),
            e.addPoolingTo(d, e.fourArgumentPooler),
            (b.exports = d);
        },
        { 150: 150, 168: 168, 24: 24, 25: 25 },
      ],
      103: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            e.call(this, a, b, c, d);
          }
          var e = a(108),
            f = { relatedTarget: null };
          e.augmentClass(d, f), (b.exports = d);
        },
        { 108: 108 },
      ],
      104: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            e.call(this, a, b, c, d);
          }
          var e = a(102),
            f = { data: null };
          e.augmentClass(d, f), (b.exports = d);
        },
        { 102: 102 },
      ],
      105: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            e.call(this, a, b, c, d);
          }
          var e = a(108),
            f = a(122),
            g = a(123),
            h = a(124),
            i = {
              key: g,
              location: null,
              ctrlKey: null,
              shiftKey: null,
              altKey: null,
              metaKey: null,
              repeat: null,
              locale: null,
              getModifierState: h,
              charCode: function (a) {
                return "keypress" === a.type ? f(a) : 0;
              },
              keyCode: function (a) {
                return "keydown" === a.type || "keyup" === a.type
                  ? a.keyCode
                  : 0;
              },
              which: function (a) {
                return "keypress" === a.type
                  ? f(a)
                  : "keydown" === a.type || "keyup" === a.type
                  ? a.keyCode
                  : 0;
              },
            };
          e.augmentClass(d, i), (b.exports = d);
        },
        { 108: 108, 122: 122, 123: 123, 124: 124 },
      ],
      106: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            e.call(this, a, b, c, d);
          }
          var e = a(108),
            f = a(111),
            g = a(124),
            h = {
              screenX: null,
              screenY: null,
              clientX: null,
              clientY: null,
              ctrlKey: null,
              shiftKey: null,
              altKey: null,
              metaKey: null,
              getModifierState: g,
              button: function (a) {
                var b = a.button;
                return "which" in a ? b : 2 === b ? 2 : 4 === b ? 1 : 0;
              },
              buttons: null,
              relatedTarget: function (a) {
                return (
                  a.relatedTarget ||
                  (a.fromElement === a.srcElement ? a.toElement : a.fromElement)
                );
              },
              pageX: function (a) {
                return "pageX" in a ? a.pageX : a.clientX + f.currentScrollLeft;
              },
              pageY: function (a) {
                return "pageY" in a ? a.pageY : a.clientY + f.currentScrollTop;
              },
            };
          e.augmentClass(d, h), (b.exports = d);
        },
        { 108: 108, 111: 111, 124: 124 },
      ],
      107: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            e.call(this, a, b, c, d);
          }
          var e = a(108),
            f = a(124),
            g = {
              touches: null,
              targetTouches: null,
              changedTouches: null,
              altKey: null,
              metaKey: null,
              ctrlKey: null,
              shiftKey: null,
              getModifierState: f,
            };
          e.augmentClass(d, g), (b.exports = d);
        },
        { 108: 108, 124: 124 },
      ],
      108: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            e.call(this, a, b, c, d);
          }
          var e = a(102),
            f = a(125),
            g = {
              view: function (a) {
                if (a.view) return a.view;
                var b = f(a);
                if (null != b && b.window === b) return b;
                var c = b.ownerDocument;
                return c ? c.defaultView || c.parentWindow : window;
              },
              detail: function (a) {
                return a.detail || 0;
              },
            };
          e.augmentClass(d, g), (b.exports = d);
        },
        { 102: 102, 125: 125 },
      ],
      109: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d) {
            e.call(this, a, b, c, d);
          }
          var e = a(106),
            f = {
              deltaX: function (a) {
                return "deltaX" in a
                  ? a.deltaX
                  : "wheelDeltaX" in a
                  ? -a.wheelDeltaX
                  : 0;
              },
              deltaY: function (a) {
                return "deltaY" in a
                  ? a.deltaY
                  : "wheelDeltaY" in a
                  ? -a.wheelDeltaY
                  : "wheelDelta" in a
                  ? -a.wheelDelta
                  : 0;
              },
              deltaZ: null,
              deltaMode: null,
            };
          e.augmentClass(d, f), (b.exports = d);
        },
        { 106: 106 },
      ],
      110: [
        function (a, b, c) {
          "use strict";
          var d = a(158),
            e = {
              reinitializeTransaction: function () {
                (this.transactionWrappers = this.getTransactionWrappers()),
                  this.wrapperInitData
                    ? (this.wrapperInitData.length = 0)
                    : (this.wrapperInitData = []),
                  (this._isInTransaction = !1);
              },
              _isInTransaction: !1,
              getTransactionWrappers: null,
              isInTransaction: function () {
                return !!this._isInTransaction;
              },
              perform: function (a, b, c, e, f, g, h, i) {
                this.isInTransaction() ? d(!1) : void 0;
                var j, k;
                try {
                  (this._isInTransaction = !0),
                    (j = !0),
                    this.initializeAll(0),
                    (k = a.call(b, c, e, f, g, h, i)),
                    (j = !1);
                } finally {
                  try {
                    if (j)
                      try {
                        this.closeAll(0);
                      } catch (l) {}
                    else this.closeAll(0);
                  } finally {
                    this._isInTransaction = !1;
                  }
                }
                return k;
              },
              initializeAll: function (a) {
                for (
                  var b = this.transactionWrappers, c = a;
                  c < b.length;
                  c++
                ) {
                  var d = b[c];
                  try {
                    (this.wrapperInitData[c] = f.OBSERVED_ERROR),
                      (this.wrapperInitData[c] = d.initialize
                        ? d.initialize.call(this)
                        : null);
                  } finally {
                    if (this.wrapperInitData[c] === f.OBSERVED_ERROR)
                      try {
                        this.initializeAll(c + 1);
                      } catch (e) {}
                  }
                }
              },
              closeAll: function (a) {
                this.isInTransaction() ? void 0 : d(!1);
                for (
                  var b = this.transactionWrappers, c = a;
                  c < b.length;
                  c++
                ) {
                  var e,
                    g = b[c],
                    h = this.wrapperInitData[c];
                  try {
                    (e = !0),
                      h !== f.OBSERVED_ERROR &&
                        g.close &&
                        g.close.call(this, h),
                      (e = !1);
                  } finally {
                    if (e)
                      try {
                        this.closeAll(c + 1);
                      } catch (i) {}
                  }
                }
                this.wrapperInitData.length = 0;
              },
            },
            f = { Mixin: e, OBSERVED_ERROR: {} };
          b.exports = f;
        },
        { 158: 158 },
      ],
      111: [
        function (a, b, c) {
          "use strict";
          var d = {
            currentScrollLeft: 0,
            currentScrollTop: 0,
            refreshScrollValues: function (a) {
              (d.currentScrollLeft = a.x), (d.currentScrollTop = a.y);
            },
          };
          b.exports = d;
        },
        {},
      ],
      112: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            if ((null == b ? e(!1) : void 0, null == a)) return b;
            var c = Array.isArray(a),
              d = Array.isArray(b);
            return c && d
              ? (a.push.apply(a, b), a)
              : c
              ? (a.push(b), a)
              : d
              ? [a].concat(b)
              : [a, b];
          }
          var e = a(158);
          b.exports = d;
        },
        { 158: 158 },
      ],
      113: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            for (var b = 1, c = 0, d = 0, f = a.length, g = -4 & f; g > d; ) {
              for (; d < Math.min(d + 4096, g); d += 4)
                c +=
                  (b += a.charCodeAt(d)) +
                  (b += a.charCodeAt(d + 1)) +
                  (b += a.charCodeAt(d + 2)) +
                  (b += a.charCodeAt(d + 3));
              (b %= e), (c %= e);
            }
            for (; f > d; d++) c += b += a.charCodeAt(d);
            return (b %= e), (c %= e), b | (c << 16);
          }
          var e = 65521;
          b.exports = d;
        },
        {},
      ],
      114: [
        function (a, b, c) {
          "use strict";
          var d = !1;
          b.exports = d;
        },
        {},
      ],
      115: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            var c = f.mergeProps(b, a.props);
            return (
              !c.hasOwnProperty(h) &&
                a.props.hasOwnProperty(h) &&
                (c.children = a.props.children),
              e.createElement(a.type, c)
            );
          }
          var e = a(55),
            f = a(77),
            g = a(163),
            h = (a(168), g({ children: null }));
          b.exports = d;
        },
        { 163: 163, 168: 168, 55: 55, 77: 77 },
      ],
      116: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            var c = null == b || "boolean" == typeof b || "" === b;
            if (c) return "";
            var d = isNaN(b);
            return d || 0 === b || (f.hasOwnProperty(a) && f[a])
              ? "" + b
              : ("string" == typeof b && (b = b.trim()), b + "px");
          }
          var e = a(4),
            f = e.isUnitlessNumber;
          b.exports = d;
        },
        { 4: 4 },
      ],
      117: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c, d, e) {
            return e;
          }
          a(24), a(168), (b.exports = d);
        },
        { 168: 168, 24: 24 },
      ],
      118: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return f[a];
          }
          function e(a) {
            return ("" + a).replace(g, d);
          }
          var f = {
              "&": "&amp;",
              ">": "&gt;",
              "<": "&lt;",
              '"': "&quot;",
              "'": "&#x27;",
            },
            g = /[&><"']/g;
          b.exports = e;
        },
        {},
      ],
      119: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return null == a
              ? null
              : 1 === a.nodeType
              ? a
              : e.has(a)
              ? f.getNodeFromInstance(a)
              : (null != a.render && "function" == typeof a.render
                  ? g(!1)
                  : void 0,
                void g(!1));
          }
          var e = (a(39), a(66)),
            f = a(70),
            g = a(158);
          a(168), (b.exports = d);
        },
        { 158: 158, 168: 168, 39: 39, 66: 66, 70: 70 },
      ],
      120: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c) {
            var d = a,
              e = void 0 === d[c];
            e && null != b && (d[c] = b);
          }
          function e(a) {
            if (null == a) return a;
            var b = {};
            return f(a, d, b), b;
          }
          var f = a(139);
          a(168), (b.exports = e);
        },
        { 139: 139, 168: 168 },
      ],
      121: [
        function (a, b, c) {
          "use strict";
          var d = function (a, b, c) {
            Array.isArray(a) ? a.forEach(b, c) : a && b.call(c, a);
          };
          b.exports = d;
        },
        {},
      ],
      122: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b,
              c = a.keyCode;
            return (
              "charCode" in a
                ? ((b = a.charCode), 0 === b && 13 === c && (b = 13))
                : (b = c),
              b >= 32 || 13 === b ? b : 0
            );
          }
          b.exports = d;
        },
        {},
      ],
      123: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            if (a.key) {
              var b = f[a.key] || a.key;
              if ("Unidentified" !== b) return b;
            }
            if ("keypress" === a.type) {
              var c = e(a);
              return 13 === c ? "Enter" : String.fromCharCode(c);
            }
            return "keydown" === a.type || "keyup" === a.type
              ? g[a.keyCode] || "Unidentified"
              : "";
          }
          var e = a(122),
            f = {
              Esc: "Escape",
              Spacebar: " ",
              Left: "ArrowLeft",
              Up: "ArrowUp",
              Right: "ArrowRight",
              Down: "ArrowDown",
              Del: "Delete",
              Win: "OS",
              Menu: "ContextMenu",
              Apps: "ContextMenu",
              Scroll: "ScrollLock",
              MozPrintableKey: "Unidentified",
            },
            g = {
              8: "Backspace",
              9: "Tab",
              12: "Clear",
              13: "Enter",
              16: "Shift",
              17: "Control",
              18: "Alt",
              19: "Pause",
              20: "CapsLock",
              27: "Escape",
              32: " ",
              33: "PageUp",
              34: "PageDown",
              35: "End",
              36: "Home",
              37: "ArrowLeft",
              38: "ArrowUp",
              39: "ArrowRight",
              40: "ArrowDown",
              45: "Insert",
              46: "Delete",
              112: "F1",
              113: "F2",
              114: "F3",
              115: "F4",
              116: "F5",
              117: "F6",
              118: "F7",
              119: "F8",
              120: "F9",
              121: "F10",
              122: "F11",
              123: "F12",
              144: "NumLock",
              145: "ScrollLock",
              224: "Meta",
            };
          b.exports = d;
        },
        { 122: 122 },
      ],
      124: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = this,
              c = b.nativeEvent;
            if (c.getModifierState) return c.getModifierState(a);
            var d = f[a];
            return !!d && !!c[d];
          }
          function e(a) {
            return d;
          }
          var f = {
            Alt: "altKey",
            Control: "ctrlKey",
            Meta: "metaKey",
            Shift: "shiftKey",
          };
          b.exports = e;
        },
        {},
      ],
      125: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = a.target || a.srcElement || window;
            return 3 === b.nodeType ? b.parentNode : b;
          }
          b.exports = d;
        },
        {},
      ],
      126: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = a && ((e && a[e]) || a[f]);
            return "function" == typeof b ? b : void 0;
          }
          var e = "function" == typeof Symbol && Symbol.iterator,
            f = "@@iterator";
          b.exports = d;
        },
        {},
      ],
      127: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            for (; a && a.firstChild; ) a = a.firstChild;
            return a;
          }
          function e(a) {
            for (; a; ) {
              if (a.nextSibling) return a.nextSibling;
              a = a.parentNode;
            }
          }
          function f(a, b) {
            for (var c = d(a), f = 0, g = 0; c; ) {
              if (3 === c.nodeType) {
                if (((g = f + c.textContent.length), b >= f && g >= b))
                  return { node: c, offset: b - f };
                f = g;
              }
              c = d(e(c));
            }
          }
          b.exports = f;
        },
        {},
      ],
      128: [
        function (a, b, c) {
          "use strict";
          function d() {
            return (
              !f &&
                e.canUseDOM &&
                (f =
                  "textContent" in document.documentElement
                    ? "textContent"
                    : "innerText"),
              f
            );
          }
          var e = a(144),
            f = null;
          b.exports = d;
        },
        { 144: 144 },
      ],
      129: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return (
              "function" == typeof a &&
              "undefined" != typeof a.prototype &&
              "function" == typeof a.prototype.mountComponent &&
              "function" == typeof a.prototype.receiveComponent
            );
          }
          function e(a) {
            var b;
            if (null === a || a === !1) b = new g(e);
            else if ("object" == typeof a) {
              var c = a;
              !c || ("function" != typeof c.type && "string" != typeof c.type)
                ? j(!1)
                : void 0,
                (b =
                  "string" == typeof c.type
                    ? h.createInternalComponent(c)
                    : d(c.type)
                    ? new c.type(c)
                    : new k());
            } else
              "string" == typeof a || "number" == typeof a
                ? (b = h.createInstanceForText(a))
                : j(!1);
            return (
              b.construct(a), (b._mountIndex = 0), (b._mountImage = null), b
            );
          }
          var f = a(38),
            g = a(57),
            h = a(73),
            i = a(24),
            j = a(158),
            k = (a(168), function () {});
          i(k.prototype, f.Mixin, { _instantiateReactComponent: e }),
            (b.exports = e);
        },
        { 158: 158, 168: 168, 24: 24, 38: 38, 57: 57, 73: 73 },
      ],
      130: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            if (!f.canUseDOM || (b && !("addEventListener" in document)))
              return !1;
            var c = "on" + a,
              d = c in document;
            if (!d) {
              var g = document.createElement("div");
              g.setAttribute(c, "return;"), (d = "function" == typeof g[c]);
            }
            return (
              !d &&
                e &&
                "wheel" === a &&
                (d = document.implementation.hasFeature("Events.wheel", "3.0")),
              d
            );
          }
          var e,
            f = a(144);
          f.canUseDOM &&
            (e =
              document.implementation &&
              document.implementation.hasFeature &&
              document.implementation.hasFeature("", "") !== !0),
            (b.exports = d);
        },
        { 144: 144 },
      ],
      131: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = a && a.nodeName && a.nodeName.toLowerCase();
            return b && (("input" === b && e[a.type]) || "textarea" === b);
          }
          var e = {
            color: !0,
            date: !0,
            datetime: !0,
            "datetime-local": !0,
            email: !0,
            month: !0,
            number: !0,
            password: !0,
            range: !0,
            search: !0,
            tel: !0,
            text: !0,
            time: !0,
            url: !0,
            week: !0,
          };
          b.exports = d;
        },
        {},
      ],
      132: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return e.isValidElement(a) ? void 0 : f(!1), a;
          }
          var e = a(55),
            f = a(158);
          b.exports = d;
        },
        { 158: 158, 55: 55 },
      ],
      133: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return '"' + e(a) + '"';
          }
          var e = a(118);
          b.exports = d;
        },
        { 118: 118 },
      ],
      134: [
        function (a, b, c) {
          "use strict";
          var d = a(70);
          b.exports = d.renderSubtreeIntoContainer;
        },
        { 70: 70 },
      ],
      135: [
        function (a, b, c) {
          "use strict";
          var d = a(144),
            e = /^[ \r\n\t\f]/,
            f = /<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,
            g = function (a, b) {
              a.innerHTML = b;
            };
          if (
            ("undefined" != typeof MSApp &&
              MSApp.execUnsafeLocalFunction &&
              (g = function (a, b) {
                MSApp.execUnsafeLocalFunction(function () {
                  a.innerHTML = b;
                });
              }),
            d.canUseDOM)
          ) {
            var h = document.createElement("div");
            (h.innerHTML = " "),
              "" === h.innerHTML &&
                (g = function (a, b) {
                  if (
                    (a.parentNode && a.parentNode.replaceChild(a, a),
                    e.test(b) || ("<" === b[0] && f.test(b)))
                  ) {
                    a.innerHTML = String.fromCharCode(65279) + b;
                    var c = a.firstChild;
                    1 === c.data.length ? a.removeChild(c) : c.deleteData(0, 1);
                  } else a.innerHTML = b;
                });
          }
          b.exports = g;
        },
        { 144: 144 },
      ],
      136: [
        function (a, b, c) {
          "use strict";
          var d = a(144),
            e = a(118),
            f = a(135),
            g = function (a, b) {
              a.textContent = b;
            };
          d.canUseDOM &&
            ("textContent" in document.documentElement ||
              (g = function (a, b) {
                f(a, e(b));
              })),
            (b.exports = g);
        },
        { 118: 118, 135: 135, 144: 144 },
      ],
      137: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c) {
            return !e(a.props, b) || !e(a.state, c);
          }
          var e = a(166);
          b.exports = d;
        },
        { 166: 166 },
      ],
      138: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            var c = null === a || a === !1,
              d = null === b || b === !1;
            if (c || d) return c === d;
            var e = typeof a,
              f = typeof b;
            return "string" === e || "number" === e
              ? "string" === f || "number" === f
              : "object" === f && a.type === b.type && a.key === b.key;
          }
          b.exports = d;
        },
        {},
      ],
      139: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return p[a];
          }
          function e(a, b) {
            return a && null != a.key ? g(a.key) : b.toString(36);
          }
          function f(a) {
            return ("" + a).replace(q, d);
          }
          function g(a) {
            return "$" + f(a);
          }
          function h(a, b, c, d) {
            var f = typeof a;
            if (
              (("undefined" === f || "boolean" === f) && (a = null),
              null === a ||
                "string" === f ||
                "number" === f ||
                j.isValidElement(a))
            )
              return c(d, a, "" === b ? n + e(a, 0) : b), 1;
            var i,
              k,
              p = 0,
              q = "" === b ? n : b + o;
            if (Array.isArray(a))
              for (var r = 0; r < a.length; r++)
                (i = a[r]), (k = q + e(i, r)), (p += h(i, k, c, d));
            else {
              var s = l(a);
              if (s) {
                var t,
                  u = s.call(a);
                if (s !== a.entries)
                  for (var v = 0; !(t = u.next()).done; )
                    (i = t.value), (k = q + e(i, v++)), (p += h(i, k, c, d));
                else
                  for (; !(t = u.next()).done; ) {
                    var w = t.value;
                    w &&
                      ((i = w[1]),
                      (k = q + g(w[0]) + o + e(i, 0)),
                      (p += h(i, k, c, d)));
                  }
              } else "object" === f && (String(a), m(!1));
            }
            return p;
          }
          function i(a, b, c) {
            return null == a ? 0 : h(a, "", b, c);
          }
          var j = (a(39), a(55)),
            k = a(65),
            l = a(126),
            m = a(158),
            n = (a(168), k.SEPARATOR),
            o = ":",
            p = { "=": "=0", ".": "=1", ":": "=2" },
            q = /[=.:]/g;
          b.exports = i;
        },
        { 126: 126, 158: 158, 168: 168, 39: 39, 55: 55, 65: 65 },
      ],
      140: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return Array.isArray(a)
              ? a.concat()
              : a && "object" == typeof a
              ? g(new a.constructor(), a)
              : a;
          }
          function e(a, b, c) {
            Array.isArray(a) ? void 0 : i(!1);
            var d = b[c];
            Array.isArray(d) ? void 0 : i(!1);
          }
          function f(a, b) {
            if (("object" != typeof b ? i(!1) : void 0, j.call(b, n)))
              return 1 !== Object.keys(b).length ? i(!1) : void 0, b[n];
            var c = d(a);
            if (j.call(b, o)) {
              var h = b[o];
              h && "object" == typeof h ? void 0 : i(!1),
                c && "object" == typeof c ? void 0 : i(!1),
                g(c, b[o]);
            }
            j.call(b, k) &&
              (e(a, b, k),
              b[k].forEach(function (a) {
                c.push(a);
              })),
              j.call(b, l) &&
                (e(a, b, l),
                b[l].forEach(function (a) {
                  c.unshift(a);
                })),
              j.call(b, m) &&
                (Array.isArray(a) ? void 0 : i(!1),
                Array.isArray(b[m]) ? void 0 : i(!1),
                b[m].forEach(function (a) {
                  Array.isArray(a) ? void 0 : i(!1), c.splice.apply(c, a);
                })),
              j.call(b, p) &&
                ("function" != typeof b[p] ? i(!1) : void 0, (c = b[p](c)));
            for (var q in b)
              (r.hasOwnProperty(q) && r[q]) || (c[q] = f(a[q], b[q]));
            return c;
          }
          var g = a(24),
            h = a(163),
            i = a(158),
            j = {}.hasOwnProperty,
            k = h({ $push: null }),
            l = h({ $unshift: null }),
            m = h({ $splice: null }),
            n = h({ $set: null }),
            o = h({ $merge: null }),
            p = h({ $apply: null }),
            q = [k, l, m, n, o, p],
            r = {};
          q.forEach(function (a) {
            r[a] = !0;
          }),
            (b.exports = f);
        },
        { 158: 158, 163: 163, 24: 24 },
      ],
      141: [
        function (a, b, c) {
          "use strict";
          var d = (a(24), a(150)),
            e = (a(168), d);
          b.exports = e;
        },
        { 150: 150, 168: 168, 24: 24 },
      ],
      142: [
        function (a, b, c) {
          "use strict";
          var d = a(158),
            e = {
              addClass: function (a, b) {
                return (
                  /\s/.test(b) ? d(!1) : void 0,
                  b &&
                    (a.classList
                      ? a.classList.add(b)
                      : e.hasClass(a, b) ||
                        (a.className = a.className + " " + b)),
                  a
                );
              },
              removeClass: function (a, b) {
                return (
                  /\s/.test(b) ? d(!1) : void 0,
                  b &&
                    (a.classList
                      ? a.classList.remove(b)
                      : e.hasClass(a, b) &&
                        (a.className = a.className
                          .replace(
                            new RegExp("(^|\\s)" + b + "(?:\\s|$)", "g"),
                            "$1"
                          )
                          .replace(/\s+/g, " ")
                          .replace(/^\s*|\s*$/g, ""))),
                  a
                );
              },
              conditionClass: function (a, b, c) {
                return (c ? e.addClass : e.removeClass)(a, b);
              },
              hasClass: function (a, b) {
                return (
                  /\s/.test(b) ? d(!1) : void 0,
                  a.classList
                    ? !!b && a.classList.contains(b)
                    : (" " + a.className + " ").indexOf(" " + b + " ") > -1
                );
              },
            };
          b.exports = e;
        },
        { 158: 158 },
      ],
      143: [
        function (a, b, c) {
          "use strict";
          var d = a(150),
            e = {
              listen: function (a, b, c) {
                return a.addEventListener
                  ? (a.addEventListener(b, c, !1),
                    {
                      remove: function () {
                        a.removeEventListener(b, c, !1);
                      },
                    })
                  : a.attachEvent
                  ? (a.attachEvent("on" + b, c),
                    {
                      remove: function () {
                        a.detachEvent("on" + b, c);
                      },
                    })
                  : void 0;
              },
              capture: function (a, b, c) {
                return a.addEventListener
                  ? (a.addEventListener(b, c, !0),
                    {
                      remove: function () {
                        a.removeEventListener(b, c, !0);
                      },
                    })
                  : { remove: d };
              },
              registerDefault: function () {},
            };
          b.exports = e;
        },
        { 150: 150 },
      ],
      144: [
        function (a, b, c) {
          "use strict";
          var d = !(
              "undefined" == typeof window ||
              !window.document ||
              !window.document.createElement
            ),
            e = {
              canUseDOM: d,
              canUseWorkers: "undefined" != typeof Worker,
              canUseEventListeners:
                d && !(!window.addEventListener && !window.attachEvent),
              canUseViewport: d && !!window.screen,
              isInWorker: !d,
            };
          b.exports = e;
        },
        {},
      ],
      145: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a.replace(e, function (a, b) {
              return b.toUpperCase();
            });
          }
          var e = /-(.)/g;
          b.exports = d;
        },
        {},
      ],
      146: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return e(a.replace(f, "ms-"));
          }
          var e = a(145),
            f = /^-ms-/;
          b.exports = d;
        },
        { 145: 145 },
      ],
      147: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            var c = !0;
            a: for (; c; ) {
              var d = a,
                f = b;
              if (((c = !1), d && f)) {
                if (d === f) return !0;
                if (e(d)) return !1;
                if (e(f)) {
                  (a = d), (b = f.parentNode), (c = !0);
                  continue a;
                }
                return d.contains
                  ? d.contains(f)
                  : !!d.compareDocumentPosition &&
                      !!(16 & d.compareDocumentPosition(f));
              }
              return !1;
            }
          }
          var e = a(160);
          b.exports = d;
        },
        { 160: 160 },
      ],
      148: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return (
              !!a &&
              ("object" == typeof a || "function" == typeof a) &&
              "length" in a &&
              !("setInterval" in a) &&
              "number" != typeof a.nodeType &&
              (Array.isArray(a) || "callee" in a || "item" in a)
            );
          }
          function e(a) {
            return d(a) ? (Array.isArray(a) ? a.slice() : f(a)) : [a];
          }
          var f = a(167);
          b.exports = e;
        },
        { 167: 167 },
      ],
      149: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = a.match(k);
            return b && b[1].toLowerCase();
          }
          function e(a, b) {
            var c = j;
            j ? void 0 : i(!1);
            var e = d(a),
              f = e && h(e);
            if (f) {
              c.innerHTML = f[1] + a + f[2];
              for (var k = f[0]; k--; ) c = c.lastChild;
            } else c.innerHTML = a;
            var l = c.getElementsByTagName("script");
            l.length && (b ? void 0 : i(!1), g(l).forEach(b));
            for (var m = g(c.childNodes); c.lastChild; )
              c.removeChild(c.lastChild);
            return m;
          }
          var f = a(144),
            g = a(148),
            h = a(154),
            i = a(158),
            j = f.canUseDOM ? document.createElement("div") : null,
            k = /^\s*<(\w+)/;
          b.exports = e;
        },
        { 144: 144, 148: 148, 154: 154, 158: 158 },
      ],
      150: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return function () {
              return a;
            };
          }
          function e() {}
          (e.thatReturns = d),
            (e.thatReturnsFalse = d(!1)),
            (e.thatReturnsTrue = d(!0)),
            (e.thatReturnsNull = d(null)),
            (e.thatReturnsThis = function () {
              return this;
            }),
            (e.thatReturnsArgument = function (a) {
              return a;
            }),
            (b.exports = e);
        },
        {},
      ],
      151: [
        function (a, b, c) {
          "use strict";
          var d = {};
          b.exports = d;
        },
        {},
      ],
      152: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            try {
              a.focus();
            } catch (b) {}
          }
          b.exports = d;
        },
        {},
      ],
      153: [
        function (a, b, c) {
          "use strict";
          function d() {
            if ("undefined" == typeof document) return null;
            try {
              return document.activeElement || document.body;
            } catch (a) {
              return document.body;
            }
          }
          b.exports = d;
        },
        {},
      ],
      154: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return (
              g ? void 0 : f(!1),
              m.hasOwnProperty(a) || (a = "*"),
              h.hasOwnProperty(a) ||
                ("*" === a
                  ? (g.innerHTML = "<link />")
                  : (g.innerHTML = "<" + a + "></" + a + ">"),
                (h[a] = !g.firstChild)),
              h[a] ? m[a] : null
            );
          }
          var e = a(144),
            f = a(158),
            g = e.canUseDOM ? document.createElement("div") : null,
            h = {},
            i = [1, '<select multiple="true">', "</select>"],
            j = [1, "<table>", "</table>"],
            k = [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            l = [1, '<svg xmlns="http://www.w3.org/2000/svg">', "</svg>"],
            m = {
              "*": [1, "?<div>", "</div>"],
              area: [1, "<map>", "</map>"],
              col: [
                2,
                "<table><tbody></tbody><colgroup>",
                "</colgroup></table>",
              ],
              legend: [1, "<fieldset>", "</fieldset>"],
              param: [1, "<object>", "</object>"],
              tr: [2, "<table><tbody>", "</tbody></table>"],
              optgroup: i,
              option: i,
              caption: j,
              colgroup: j,
              tbody: j,
              tfoot: j,
              thead: j,
              td: k,
              th: k,
            },
            n = [
              "circle",
              "clipPath",
              "defs",
              "ellipse",
              "g",
              "image",
              "line",
              "linearGradient",
              "mask",
              "path",
              "pattern",
              "polygon",
              "polyline",
              "radialGradient",
              "rect",
              "stop",
              "text",
              "tspan",
            ];
          n.forEach(function (a) {
            (m[a] = l), (h[a] = !0);
          }),
            (b.exports = d);
        },
        { 144: 144, 158: 158 },
      ],
      155: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a === window
              ? {
                  x: window.pageXOffset || document.documentElement.scrollLeft,
                  y: window.pageYOffset || document.documentElement.scrollTop,
                }
              : { x: a.scrollLeft, y: a.scrollTop };
          }
          b.exports = d;
        },
        {},
      ],
      156: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return a.replace(e, "-$1").toLowerCase();
          }
          var e = /([A-Z])/g;
          b.exports = d;
        },
        {},
      ],
      157: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return e(a).replace(f, "-ms-");
          }
          var e = a(156),
            f = /^ms-/;
          b.exports = d;
        },
        { 156: 156 },
      ],
      158: [
        function (a, b, c) {
          "use strict";
          var d = function (a, b, c, d, e, f, g, h) {
            if (!a) {
              var i;
              if (void 0 === b)
                i = new Error(
                  "Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."
                );
              else {
                var j = [c, d, e, f, g, h],
                  k = 0;
                i = new Error(
                  "Invariant Violation: " +
                    b.replace(/%s/g, function () {
                      return j[k++];
                    })
                );
              }
              throw ((i.framesToPop = 1), i);
            }
          };
          b.exports = d;
        },
        {},
      ],
      159: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return !(
              !a ||
              !("function" == typeof Node
                ? a instanceof Node
                : "object" == typeof a &&
                  "number" == typeof a.nodeType &&
                  "string" == typeof a.nodeName)
            );
          }
          b.exports = d;
        },
        {},
      ],
      160: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            return e(a) && 3 == a.nodeType;
          }
          var e = a(159);
          b.exports = d;
        },
        { 159: 159 },
      ],
      161: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            a || (a = "");
            var b,
              c = arguments.length;
            if (c > 1)
              for (var d = 1; c > d; d++)
                (b = arguments[d]), b && (a = (a ? a + " " : "") + b);
            return a;
          }
          b.exports = d;
        },
        {},
      ],
      162: [
        function (a, b, c) {
          "use strict";
          var d = a(158),
            e = function (a) {
              var b,
                c = {};
              a instanceof Object && !Array.isArray(a) ? void 0 : d(!1);
              for (b in a) a.hasOwnProperty(b) && (c[b] = b);
              return c;
            };
          b.exports = e;
        },
        { 158: 158 },
      ],
      163: [
        function (a, b, c) {
          "use strict";
          var d = function (a) {
            var b;
            for (b in a) if (a.hasOwnProperty(b)) return b;
            return null;
          };
          b.exports = d;
        },
        {},
      ],
      164: [
        function (a, b, c) {
          "use strict";
          function d(a, b, c) {
            if (!a) return null;
            var d = {};
            for (var f in a) e.call(a, f) && (d[f] = b.call(c, a[f], f, a));
            return d;
          }
          var e = Object.prototype.hasOwnProperty;
          b.exports = d;
        },
        {},
      ],
      165: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = {};
            return function (c) {
              return b.hasOwnProperty(c) || (b[c] = a.call(this, c)), b[c];
            };
          }
          b.exports = d;
        },
        {},
      ],
      166: [
        function (a, b, c) {
          "use strict";
          function d(a, b) {
            if (a === b) return !0;
            if (
              "object" != typeof a ||
              null === a ||
              "object" != typeof b ||
              null === b
            )
              return !1;
            var c = Object.keys(a),
              d = Object.keys(b);
            if (c.length !== d.length) return !1;
            for (var f = e.bind(b), g = 0; g < c.length; g++)
              if (!f(c[g]) || a[c[g]] !== b[c[g]]) return !1;
            return !0;
          }
          var e = Object.prototype.hasOwnProperty;
          b.exports = d;
        },
        {},
      ],
      167: [
        function (a, b, c) {
          "use strict";
          function d(a) {
            var b = a.length;
            if (
              (Array.isArray(a) ||
              ("object" != typeof a && "function" != typeof a)
                ? e(!1)
                : void 0,
              "number" != typeof b ? e(!1) : void 0,
              0 === b || b - 1 in a ? void 0 : e(!1),
              a.hasOwnProperty)
            )
              try {
                return Array.prototype.slice.call(a);
              } catch (c) {}
            for (var d = Array(b), f = 0; b > f; f++) d[f] = a[f];
            return d;
          }
          var e = a(158);
          b.exports = d;
        },
        { 158: 158 },
      ],
      168: [
        function (a, b, c) {
          "use strict";
          var d = a(150),
            e = d;
          b.exports = e;
        },
        { 150: 150 },
      ],
    },
    {},
    [1]
  )(1);
});
define("filter_poodll/react_amd", [
  "jquery",
  "core/log",
  "filter_poodll/react-with-addons",
], function (a, b, c) {
  "use strict";
  return (
    b.debug("Filter PoodLL: revealjs initialising"), (window.React = c), {}
  );
});
define("filter_poodll/responsiveiframe", ["jquery", "core/log"], function (
  a,
  b
) {
  "use strict";
  return (
    b.debug("responsive iframe initialising"),
    {
      defheight: 150,
      defwidth: 300,
      init: function (b) {
        var c = a("#" + b.iframeid);
        if (
          (0 == c.length && (c = a("#" + b.iframeid, window.parent.document)),
          c.length > 0)
        ) {
          var d = {
            currentheight: this.defheight,
            currentwidth: this.defwidth,
            theiframe: c,
            thisref: this,
          };
          this._iframeResize(d);
        }
      },
      _iframeResize: function (a) {
        var b = a.theiframe;
        if (b && !(b.length < 1)) {
          var c = b[0].contentWindow.document.body.scrollHeight,
            d = b[0].contentWindow.document.body.scrollWidth;
          (c == a.currentheight && d == a.currentwidth) ||
            (b.attr("height", c + "px"), b.attr("width", d + "px")),
            (a.currentheight = c),
            (a.currentwidth = d),
            setTimeout(a.thisref._iframeResize, 100, a);
        }
      },
    }
  );
});
define("filter_poodll/template_amd", ["jquery", "core/log"], function (a, b) {
  "use strict";
  return (
    b.debug("Filter Poodll initialising"),
    {
      allopts: {},
      extscripts: {},
      csslinks: Array(),
      jslinks: Array(),
      appendjspath: function (a, b) {
        require.config({ paths: { theprefix: a } });
      },
      injectcss: function (a) {
        var b = document.createElement("link");
        (b.href = a),
          a.toLowerCase().lastIndexOf(".html") == a.length - 5
            ? (b.rel = "import")
            : ((b.type = "text/css"), (b.rel = "stylesheet")),
          document.getElementsByTagName("head")[0].appendChild(b);
      },
      loadtemplate: function (b) {
        var c = "#filter_poodll_amdopts_" + b.AUTOID,
          d = a(c).get(0);
        d && ((b = JSON.parse(d.value)), a(c).remove()),
          b.CSSLINK &&
            this.csslinks.indexOf(b.CSSLINK) < 0 &&
            (this.csslinks.push(b.CSSLINK), this.injectcss(b.CSSLINK)),
          b.CSSUPLOAD &&
            this.csslinks.indexOf(b.CSSUPLOAD) < 0 &&
            (this.csslinks.push(b.CSSUPLOAD), this.injectcss(b.CSSUPLOAD)),
          b.CSSCUSTOM &&
            this.csslinks.indexOf(b.CSSCUSTOM) < 0 &&
            (this.csslinks.push(b.CSSCUSTOM), this.injectcss(b.CSSCUSTOM)),
          "undefined" != typeof b.TEMPLATEID &&
            require(["filter_poodll_d" + b.TEMPLATEID], function (a) {
              a(b);
            });
      },
    }
  );
});
define("filter_poodll/template_presets_amd", ["jquery", "core/log"], function (
  a,
  b
) {
  "use strict";
  return (
    b.debug("Filter Poodll Presets initialising"),
    {
      presetdata: !1,
      dataitems: [
        "name",
        "key",
        "version",
        "instructions",
        "showatto",
        "showplayers",
        "requirecss",
        "requirejs",
        "shim",
        "defaults",
        "amd",
        "body",
        "bodyend",
        "script",
        "style",
        "dataset",
        "datasetvars",
        "alternate",
        "alternateend",
      ],
      fetchcontrols: function (a) {
        var b = {};
        return (
          (b.name = document.getElementById(
            "id_s_filter_poodll_templatename_" + a
          )),
          (b.key = document.getElementById(
            "id_s_filter_poodll_templatekey_" + a
          )),
          (b.version = document.getElementById(
            "id_s_filter_poodll_templateversion_" + a
          )),
          (b.instructions = document.getElementById(
            "id_s_filter_poodll_templateinstructions_" + a
          )),
          (b.showatto = document.getElementById(
            "id_s_filter_poodll_template_showatto_" + a
          )),
          (b.showplayers = document.getElementById(
            "id_s_filter_poodll_template_showplayers_" + a
          )),
          (b.requirecss = document.getElementById(
            "id_s_filter_poodll_templaterequire_css_" + a
          )),
          (b.requirejs = document.getElementById(
            "id_s_filter_poodll_templaterequire_js_" + a
          )),
          (b.shim = document.getElementById(
            "id_s_filter_poodll_templaterequire_js_shim_" + a
          )),
          (b.defaults = document.getElementById(
            "id_s_filter_poodll_templatedefaults_" + a
          )),
          (b.amd = document.getElementById(
            "id_s_filter_poodll_template_amd_" + a
          )),
          (b.body = document.getElementById(
            "id_s_filter_poodll_template_" + a
          )),
          (b.bodyend = document.getElementById(
            "id_s_filter_poodll_templateend_" + a
          )),
          (b.script = document.getElementById(
            "id_s_filter_poodll_templatescript_" + a
          )),
          (b.style = document.getElementById(
            "id_s_filter_poodll_templatestyle_" + a
          )),
          (b.dataset = document.getElementById(
            "id_s_filter_poodll_dataset_" + a
          )),
          (b.datasetvars = document.getElementById(
            "id_s_filter_poodll_datasetvars_" + a
          )),
          (b.alternate = document.getElementById(
            "id_s_filter_poodll_templatealternate_" + a
          )),
          (b.alternateend = document.getElementById(
            "id_s_filter_poodll_templatealternate_end_" + a
          )),
          (b.presetdata = document.getElementById(
            "id_s_filter_poodll_presetdata_" + a
          )),
          b
        );
      },
      fetchjsonbundle: function (b, c) {
        var d = {};
        a.each(this.dataitems, function (a, b) {
          d[b] = c[b].value;
        });
        var e = JSON.stringify(d);
        return e;
      },
      exportbundle: function (a) {
        var b = this.fetchcontrols(a);
        if ("" != b.key.value) {
          var c = this.fetchjsonbundle(a, b),
            d = document.createElement("a");
          if (
            (d.setAttribute(
              "href",
              "data:text/json;charset=utf-8," + encodeURIComponent(c)
            ),
            d.setAttribute("download", b.key.value + ".txt"),
            document.createEvent)
          ) {
            var e = document.createEvent("MouseEvents");
            e.initEvent("click", !0, !0), d.dispatchEvent(e);
          } else d.click();
        }
      },
      populateform: function (b, c, d) {
        var e = this.fetchcontrols(b);
        (c || d) &&
          ((0 == c && d) || (d = this.presetdata),
          a.each(this.dataitems, function (a, b) {
            if (d[c].hasOwnProperty(b)) e[b].value = d[c][b];
            else
              switch (b) {
                case "amd":
                case "showplayers":
                case "showatto":
                  e[b].value = 0;
                  break;
                default:
                  e[b].value = "";
              }
          }));
      },
      dopopulate: function (a, b) {
        this.populateform(a, 0, new Array(b));
      },
      init: function (b) {
        if (!this.presetdata) {
          var c = "#id_s_filter_poodll_presetdata_" + b.templateindex,
            d = a(c).get(0);
          (this.presetdata = JSON.parse(d.value)), a(c).remove();
        }
        var e = this;
        a("select[name='filter_poodll/presets']").change(function () {
          e.populateform(b.templateindex, a(this).val());
        });
        var f = "#id_s_filter_poodll_dragdropsquare_" + b.templateindex;
        a(f).on("click", function () {
          e.exportbundle(b.templateindex);
        }),
          a(f).on("dragover", function (b) {
            b.preventDefault(),
              b.stopPropagation(),
              a(this).addClass("filter_poodll_dragging");
          }),
          a(f).on("dragleave", function (b) {
            b.preventDefault(),
              b.stopPropagation(),
              a(this).removeClass("filter_poodll_dragging");
          }),
          a(f).on("drop", function (c) {
            c.preventDefault();
            var d = c.originalEvent.dataTransfer.files;
            if (d.length) {
              var f = d[0];
              if (f) {
                var g = new FileReader();
                (g.onload = function (a) {
                  var c = a.target.result,
                    d = JSON.parse(c);
                  d.key && e.dopopulate(b.templateindex, d);
                }),
                  g.readAsText(f);
              } else alert("Failed to load file");
            }
            a(this).removeClass("filter_poodll_dragging");
          });
      },
    }
  );
});
define("filter_poodll/timer", ["jquery", "core/log"], function (a, b) {
  "use strict";
  return (
    b.debug("Universal Uploader: initialising"),
    {
      increment: 1,
      initseconds: 0,
      seconds: 0,
      intervalhandle: null,
      callback: null,
      clone: function () {
        return a.extend(!0, {}, this);
      },
      init: function (a, b) {
        (this.initseconds = a), (this.seconds = a), (this.callback = b);
      },
      start: function () {
        var a = this;
        (this.increment = 1),
          (this.intervalhandle = setInterval(function () {
            (a.seconds = a.seconds + a.increment), a.callback();
          }, 1e3));
      },
      fetch_display_time: function () {
        var a = "00" + parseInt(this.seconds / 3600);
        a = a.substr(a.length - 2, 2);
        var b = "00" + parseInt(this.seconds / 60);
        b = b.substr(b.length - 2, 2);
        var c = "00" + parseInt(this.seconds % 60);
        c = c.substr(c.length - 2, 2);
        var d = a + ":" + b + ":" + c;
        return d;
      },
      stop: function () {
        clearInterval(this.intervalhandle);
      },
      reset: function () {
        this.seconds = this.initseconds;
      },
      pause: function () {
        this.increment = 0;
      },
      resume: function () {
        this.increment = 1;
      },
    }
  );
});
define("filter_poodll/uploader", ["jquery", "core/log"], function (a, b) {
  "use strict";
  return (
    b.debug("Universal Uploader: initialising"),
    {
      config: null,
      clone: function () {
        return a.extend(!0, {}, this);
      },
      init: function (a, b) {
        (this.config = b), this.insert_controls(a);
      },
      insert_controls: function (b) {
        var c =
          '<div id="' +
          this.config.widgetid +
          '_progress" class="p_progress x"><p></p></div>';
        (c +=
          '<div id="' +
          this.config.widgetid +
          '_messages" class="p_messages x"></div>'),
          a(b).append(c);
      },
      uploadBlob: function (a, b) {
        this.uploadFile(a, b);
      },
      extractFilename: function (a) {
        var b = "success<filename>",
          c = a.indexOf(b);
        if (c < 1) return !1;
        var d = a.indexOf("</filename>"),
          e = a.substring(c + b.length, d);
        return e;
      },
      createProgressBar: function (b, c) {
        var d = !1,
          e = a("#" + c.config.widgetid + "_progress");
        if (e.length) {
          var f = e.get(0);
          (d = f.firstChild),
            null === d && (d = f.appendChild(document.createElement("p"))),
            (d.className = ""),
            (d.style.display = "block"),
            (d.style.backgroundPosition = "100% 0"),
            b.upload.addEventListener(
              "progress",
              function (a) {
                var b = parseInt(100 - (a.loaded / a.total) * 100);
                d.style.backgroundPosition = b + "% 0";
              },
              !1
            );
        }
        return d;
      },
      fetchFileExtension: function (a) {
        var b = "";
        switch (a) {
          case "image/jpeg":
            b = "jpg";
            break;
          case "image/png":
            b = "png";
            break;
          case "audio/wav":
            b = "wav";
            break;
          case "video/quicktime":
            b = "mov";
            break;
          case "audio/mpeg3":
            b = "mp3";
            break;
          case "audio/webm":
            b = "webm";
            break;
          case "audio/x-mpeg-3":
            b = "mp3";
            break;
          case "audio/3gpp":
            b = "3gpp";
            break;
          case "video/mpeg3":
            b = "3gpp";
            break;
          case "video/mp4":
            b = "mp4";
            break;
          case "video/webm":
            b = "webm";
        }
        return b;
      },
      pokeFilename: function (c, d) {
        d.Output(M.util.get_string("recui_uploadsuccess", "filter_poodll"));
        var e = "";
        if (
          ("undefined" != typeof d.config.updatecontrol &&
            "" !== d.config.updatecontrol &&
            (e = a('[id="' + d.config.updatecontrol + '"]')),
          e.length > 0)
        )
          e.get(0).value = c;
        else {
          if (
            ((e = window.parent.document.getElementById(
              d.config.updatecontrol
            )),
            !e)
          )
            return (
              b.debug("upload failed #2"),
              d.Output(M.util.get_string("recui_uploaderror", "filter_poodll")),
              !1
            );
          e.value = c;
        }
        return !0;
      },
      alertRecorderSuccess: function (a) {
        this.config.hasOwnProperty("onuploadsuccess") &&
          this.config.onuploadsuccess(a);
      },
      alertRecorderFailure: function (a) {
        this.config.hasOwnProperty("onuploadfailure") &&
          this.config.onuploadfailure(a);
      },
      doCallback: function (a, b) {
        if (a.config.callbackjs && "" != a.config.callbackjs) {
          var c = new Array();
          (c[0] = a.config.widgetid),
            (c[1] = "filesubmitted"),
            (c[2] = b),
            (c[3] = a.config.updatecontrol),
            this.Output(
              M.util.get_string("recui_uploadsuccess", "filter_poodll")
            ),
            this.executeFunctionByName(a.config.callbackjs, window, c);
        } else a.pokeFilename(b, a);
      },
      postProcessUpload: function (a, c) {
        var d = a.currentTarget;
        if (4 == d.readyState)
          if (200 == d.status) {
            var e = c.config.filename;
            if ((e || (e = c.extractFilename(d.responseText)), !e))
              return b.debug("upload failed #1"), void b.debug(d);
            this.doCallback(c, e), this.alertRecorderSuccess(c.config.widgetid);
          } else
            b.debug("upload failed #3"),
              b.debug(d),
              c.Output(M.util.get_string("recui_uploaderror", "filter_poodll")),
              this.alertRecorderFailure(c.config.widgetid);
      },
      uploadFile: function (a, b) {
        var c = new XMLHttpRequest(),
          d = this.config,
          e = this,
          f = this.fetchFileExtension(b),
          g = d.using_s3;
        if (
          (this.createProgressBar(c, e),
          this.Output(M.util.get_string("recui_uploading", "filter_poodll")),
          (c.onreadystatechange = function (a) {
            g && 4 === this.readyState && e.postprocess_s3_upload(e),
              e.postProcessUpload(a, e);
          }),
          g)
        )
          c.open("put", d.posturl, !0),
            c.setRequestHeader("Content-Type", "application/octet-stream"),
            c.send(a);
        else if (a instanceof Blob) {
          var h = new window.FileReader();
          h.readAsDataURL(a),
            (h.onloadend = function () {
              var a = h.result,
                b = "datatype=uploadfile";
              (b += "&paramone=" + encodeURIComponent(a)),
                (b += "&paramtwo=" + f),
                (b += "&paramthree=" + d.mediatype),
                (b += "&requestid=" + d.widgetid),
                (b += "&contextid=" + d.p2),
                (b += "&component=" + d.p3),
                (b += "&filearea=" + d.p4),
                (b += "&itemid=" + d.p5),
                c.open("POST", d.posturl, !0),
                c.setRequestHeader(
                  "Content-Type",
                  "application/x-www-form-urlencoded"
                ),
                c.setRequestHeader("Cache-Control", "no-cache"),
                c.send(b);
            });
        } else {
          var i = "datatype=uploadfile";
          (i += "&paramone=" + encodeURIComponent(a)),
            (i += "&paramtwo=" + f),
            (i += "&paramthree=" + d.mediatype),
            (i += "&requestid=" + d.widgetid),
            (i += "&contextid=" + d.p2),
            (i += "&component=" + d.p3),
            (i += "&filearea=" + d.p4),
            (i += "&itemid=" + d.p5),
            c.open("POST", d.posturl, !0),
            c.setRequestHeader(
              "Content-Type",
              "application/x-www-form-urlencoded"
            ),
            c.setRequestHeader("Cache-Control", "no-cache"),
            c.send(i);
        }
      },
      postprocess_s3_upload: function (b) {
        var c = b.config,
          d = new XMLHttpRequest(),
          e = this;
        d.onreadystatechange = function () {
          4 === this.readyState &&
            200 != d.status &&
            (e.Output("Post Process s3 Upload Error:" + d.status),
            a("#" + e.config.widgetid + "_messages").show());
        };
        var f = "datatype=handles3upload";
        (f += "&contextid=" + c.p2),
          (f += "&component=" + c.p3),
          (f += "&filearea=" + c.p4),
          (f += "&itemid=" + c.p5),
          (f += "&filename=" + c.filename),
          (f += "&mediatype=" + c.mediatype),
          d.open(
            "POST",
            M.cfg.wwwroot + "/filter/poodll/poodllfilelib.php",
            !0
          ),
          d.setRequestHeader(
            "Content-Type",
            "application/x-www-form-urlencoded"
          ),
          d.setRequestHeader("Cache-Control", "no-cache"),
          d.send(f);
      },
      Output: function (b) {
        var c = a("#" + this.config.widgetid + "_messages");
        c.text(b);
      },
      executeFunctionByName: function (a, b, c) {
        for (var d = a.split("."), e = d.pop(), f = 0; f < d.length; f++)
          b = b[d[f]];
        return b[e].call(this, c);
      },
      dataURItoBlob: function (a, b) {
        for (
          var c = atob(a.split(",")[1]),
            d = new ArrayBuffer(c.length),
            e = new Uint8Array(d),
            f = 0;
          f < c.length;
          f++
        )
          e[f] = c.charCodeAt(f);
        return new Blob([d], { type: b });
      },
    }
  );
});
define("filter_poodll/utils_amd", [
  "jquery",
  "core/log",
  "filter_poodll/uploader",
], function (a, b, c) {
  "use strict";
  return (
    b.debug("Filter PoodLL: utils initialising"),
    {
      timeouthandles: [],
      WhiteboardUploadHandler: function (b, d, e) {
        var f = a("#" + b + "_btn_upload_whiteboard")[0];
        (f.disabled = !0), clearTimeout(this.timeouthandles[b]);
        var g = this.getCvs(b, d, e);
        this.pokeVectorData(b, d, e), c.uploadFile(g.toDataURL(), "image");
      },
      getCvs: function (a, b) {
        if (0 == a.indexOf("drawingboard_")) var c = b.canvas;
        else var c = b.canvasForExport();
        return c;
      },
      escapeColon: function (a) {
        return a.replace(/:/, "\\:");
      },
      pokeVectorData: function (c, d, e) {
        var f = "";
        (f =
          0 == c.indexOf("drawingboard_")
            ? JSON.stringify(d.history, null, 2)
            : JSON.stringify(d.getSnapshot())),
          "undefined" != typeof e.vectorcontrol &&
            "" !== e.vectorcontrol &&
            (a("#" + this.escapeColon(e.vectorcontrol)).val(f),
            b.debug("Vectorcontrol:" + e.vectorcontrol));
      },
      concatenateWavBlobs: function (a, b) {
        for (var c = [], d = 0, e = 0, f = a.length, g = 0; g < f; g++) {
          var h = new FileReader();
          (h.onload = function () {
            var a = this.result,
              g = a.slice(44);
            if (((e += g.byteLength), c.push(g), d++, d == f)) {
              var h = a.slice(0, 44),
                i = new DataView(h);
              i.setUint32(40, e, !0), c.unshift(h);
              var j = new Blob(c, { type: "audio/wav" });
              b(j);
            }
          }),
            h.readAsArrayBuffer(a[g]);
        }
      },
      concatenateBlobs: function (a, b, c) {
        function d() {
          if (!a[g]) return e();
          var b = new FileReader();
          (b.onload = function (a) {
            f.push(a.target.result), g++, d();
          }),
            b.readAsArrayBuffer(a[g]);
        }
        function e() {
          var a = 0;
          f.forEach(function (b) {
            a += b.byteLength;
          });
          var d = new Uint16Array(a),
            e = 0;
          f.forEach(function (a) {
            var b = a.byteLength;
            b % 2 != 0 && (a = a.slice(0, b - 1)),
              d.set(new Uint16Array(a), e),
              (e += b);
          });
          var g = new Blob([d.buffer], { type: b });
          c(g);
        }
        var f = [],
          g = 0;
        d();
      },
      simpleConcatenateBlobs: function (a, b) {
        return new Blob(a, { type: b });
      },
      bytesToSize: function (a) {
        var b = 1e3,
          c = ["Bytes", "KB", "MB", "GB", "TB"];
        if (0 === a) return "0 Bytes";
        var d = parseInt(Math.floor(Math.log(a) / Math.log(b)), 10);
        return (a / Math.pow(b, d)).toPrecision(3) + " " + c[d];
      },
      getTimeLength: function (a) {
        var b = new Date(a);
        return (
          b.getUTCHours() +
          " hours, " +
          b.getUTCMinutes() +
          " minutes and " +
          b.getUTCSeconds() +
          " second(s)"
        );
      },
      is_edge: function () {
        return navigator.userAgent.indexOf("Edge");
      },
      is_ios: function () {
        return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
      },
      is_android: function () {
        var a = window.navigator.userAgent,
          b = a.indexOf("android") > -1 || a.indexOf("Android") > -1;
        return b;
      },
      is_ie: function () {
        var a = !1,
          b = window.navigator.userAgent,
          c = b.indexOf("MSIE "),
          d = b.indexOf("Trident/"),
          e = b.indexOf("Edge/");
        return (c > -1 || d > -1 || e > -1) && (a = !0), a;
      },
    }
  );
});
!(function (a) {
  function b() {
    var a = Error.apply(this, arguments);
    (a.name = this.name = "FlashError"),
      (this.stack = a.stack),
      (this.message = a.message);
  }
  function c() {
    var a = Error.apply(this, arguments);
    (a.name = this.name = "WebcamError"),
      (this.stack = a.stack),
      (this.message = a.message);
  }
  var d;
  (IntermediateInheritor = function () {}),
    (IntermediateInheritor.prototype = Error.prototype),
    (b.prototype = new IntermediateInheritor()),
    (c.prototype = new IntermediateInheritor());
  var e = {
    version: "1.0.15",
    protocol: location.protocol.match(/https/i) ? "https" : "http",
    loaded: !1,
    live: !1,
    userMedia: !0,
    params: {
      width: 0,
      height: 0,
      dest_width: 0,
      dest_height: 0,
      image_format: "jpeg",
      jpeg_quality: 90,
      enable_flash: !0,
      force_flash: !1,
      flip_horiz: !1,
      fps: 30,
      upload_name: "webcam",
      constraints: null,
      swfURL: "",
      flashNotDetectedText:
        "ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).",
      noInterfaceFoundText: "No supported webcam interface found.",
      unfreeze_snap: !0,
    },
    errors: { FlashError: b, WebcamError: c },
    hooks: {},
    init: function () {
      var b = this;
      (this.mediaDevices =
        navigator.mediaDevices && navigator.mediaDevices.getUserMedia
          ? navigator.mediaDevices
          : navigator.mozGetUserMedia || navigator.webkitGetUserMedia
          ? {
              getUserMedia: function (a) {
                return new Promise(function (b, c) {
                  (
                    navigator.mozGetUserMedia || navigator.webkitGetUserMedia
                  ).call(navigator, a, b, c);
                });
              },
            }
          : null),
        (a.URL = a.URL || a.webkitURL || a.mozURL || a.msURL),
        (this.userMedia = this.userMedia && !!this.mediaDevices && !!a.URL),
        navigator.userAgent.match(/Firefox\D+(\d+)/) &&
          parseInt(RegExp.$1, 10) < 21 &&
          (this.userMedia = null),
        this.userMedia &&
          a.addEventListener("beforeunload", function (a) {
            b.reset();
          });
    },
    attach: function (b) {
      if (
        ("string" == typeof b &&
          (b = document.getElementById(b) || document.querySelector(b)),
        !b)
      )
        return this.dispatch(
          "error",
          new c("Could not locate DOM element to attach to.")
        );
      (this.container = b), (b.innerHTML = "");
      var f = document.createElement("div");
      if (
        (b.appendChild(f),
        (this.peg = f),
        this.params.width || (this.params.width = b.offsetWidth),
        this.params.height || (this.params.height = b.offsetHeight),
        !this.params.width || !this.params.height)
      )
        return this.dispatch(
          "error",
          new c(
            "No width and/or height for webcam.  Please call set() first, or attach to a visible element."
          )
        );
      this.params.dest_width || (this.params.dest_width = this.params.width),
        this.params.dest_height ||
          (this.params.dest_height = this.params.height),
        (this.userMedia = void 0 === d ? this.userMedia : d),
        this.params.force_flash &&
          ((d = this.userMedia), (this.userMedia = null)),
        "number" != typeof this.params.fps && (this.params.fps = 30);
      var g = this.params.width / this.params.dest_width,
        h = this.params.height / this.params.dest_height;
      if (this.userMedia) {
        var i = document.createElement("video");
        i.setAttribute("autoplay", "autoplay"),
          (i.style.width = "" + this.params.dest_width + "px"),
          (i.style.height = "" + this.params.dest_height + "px"),
          (1 == g && 1 == h) ||
            ((b.style.overflow = "hidden"),
            (i.style.webkitTransformOrigin = "0px 0px"),
            (i.style.mozTransformOrigin = "0px 0px"),
            (i.style.msTransformOrigin = "0px 0px"),
            (i.style.oTransformOrigin = "0px 0px"),
            (i.style.transformOrigin = "0px 0px"),
            (i.style.webkitTransform = "scaleX(" + g + ") scaleY(" + h + ")"),
            (i.style.mozTransform = "scaleX(" + g + ") scaleY(" + h + ")"),
            (i.style.msTransform = "scaleX(" + g + ") scaleY(" + h + ")"),
            (i.style.oTransform = "scaleX(" + g + ") scaleY(" + h + ")"),
            (i.style.transform = "scaleX(" + g + ") scaleY(" + h + ")")),
          b.appendChild(i),
          (this.video = i);
        var j = this;
        this.mediaDevices
          .getUserMedia({
            audio: !1,
            video: this.params.constraints || {
              mandatory: {
                minWidth: this.params.dest_width,
                minHeight: this.params.dest_height,
              },
            },
          })
          .then(function (a) {
            (i.onloadedmetadata = function (b) {
              (j.stream = a),
                (j.loaded = !0),
                (j.live = !0),
                j.dispatch("load"),
                j.dispatch("live"),
                j.flip();
            }),
              (i.srcObject = a || a);
          })
          ["catch"](function (a) {
            j.params.enable_flash && j.detectFlash()
              ? setTimeout(function () {
                  (j.params.force_flash = 1), j.attach(b);
                }, 1)
              : j.dispatch("error", a);
          });
      } else if (this.params.enable_flash && this.detectFlash()) {
        a.Webcam = e;
        var k = document.createElement("div");
        (k.innerHTML = this.getSWFHTML()), b.appendChild(k);
      } else this.dispatch("error", new c(this.params.noInterfaceFoundText));
      if (this.params.crop_width && this.params.crop_height) {
        var l = Math.floor(this.params.crop_width * g),
          m = Math.floor(this.params.crop_height * h);
        (b.style.width = "" + l + "px"),
          (b.style.height = "" + m + "px"),
          (b.style.overflow = "hidden"),
          (b.scrollLeft = Math.floor(this.params.width / 2 - l / 2)),
          (b.scrollTop = Math.floor(this.params.height / 2 - m / 2));
      } else
        (b.style.width = "" + this.params.width + "px"),
          (b.style.height = "" + this.params.height + "px");
    },
    reset: function () {
      if (
        (this.preview_active && this.unfreeze(), this.unflip(), this.userMedia)
      ) {
        if (this.stream)
          if (this.stream.getVideoTracks) {
            var a = this.stream.getVideoTracks();
            a && a[0] && a[0].stop && a[0].stop();
          } else this.stream.stop && this.stream.stop();
        delete this.stream, delete this.video;
      }
      this.userMedia !== !0 && this.getMovie()._releaseCamera(),
        this.container &&
          ((this.container.innerHTML = ""), delete this.container),
        (this.loaded = !1),
        (this.live = !1);
    },
    set: function () {
      if (1 == arguments.length)
        for (var a in arguments[0]) this.params[a] = arguments[0][a];
      else this.params[arguments[0]] = arguments[1];
    },
    on: function (a, b) {
      (a = a.replace(/^on/i, "").toLowerCase()),
        this.hooks[a] || (this.hooks[a] = []),
        this.hooks[a].push(b);
    },
    off: function (a, b) {
      if (((a = a.replace(/^on/i, "").toLowerCase()), this.hooks[a]))
        if (b) {
          var c = this.hooks[a].indexOf(b);
          c > -1 && this.hooks[a].splice(c, 1);
        } else this.hooks[a] = [];
    },
    dispatch: function () {
      var d = arguments[0].replace(/^on/i, "").toLowerCase(),
        e = Array.prototype.slice.call(arguments, 1);
      if (this.hooks[d] && this.hooks[d].length) {
        for (var f = 0, g = this.hooks[d].length; f < g; f++) {
          var h = this.hooks[d][f];
          "function" == typeof h
            ? h.apply(this, e)
            : "object" == typeof h && 2 == h.length
            ? h[0][h[1]].apply(h[0], e)
            : a[h] && a[h].apply(a, e);
        }
        return !0;
      }
      return (
        "error" == d &&
          (e[0] instanceof b || e[0] instanceof c
            ? (message = e[0].message)
            : (message =
                "Could not access webcam: " +
                e[0].name +
                ": " +
                e[0].message +
                " " +
                e[0].toString()),
          alert("Webcam.js Error: " + message)),
        !1
      );
    },
    setSWFLocation: function (a) {
      this.set("swfURL", a);
    },
    detectFlash: function () {
      var b = "Shockwave Flash",
        c = "ShockwaveFlash.ShockwaveFlash",
        d = "application/x-shockwave-flash",
        e = a,
        f = navigator,
        g = !1;
      if ("undefined" != typeof f.plugins && "object" == typeof f.plugins[b]) {
        var h = f.plugins[b].description;
        h &&
          "undefined" != typeof f.mimeTypes &&
          f.mimeTypes[d] &&
          f.mimeTypes[d].enabledPlugin &&
          (g = !0);
      } else if ("undefined" != typeof e.ActiveXObject)
        try {
          var i = new ActiveXObject(c);
          if (i) {
            var j = i.GetVariable("$version");
            j && (g = !0);
          }
        } catch (k) {}
      return g;
    },
    getSWFHTML: function () {
      var c = "",
        d = this.params.swfURL;
      if (location.protocol.match(/file/))
        return (
          this.dispatch(
            "error",
            new b(
              "Flash does not work from local disk.  Please run from a web server."
            )
          ),
          '<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>'
        );
      if (!this.detectFlash())
        return (
          this.dispatch(
            "error",
            new b(
              "Adobe Flash Player not found.  Please install from get.adobe.com/flashplayer and try again."
            )
          ),
          '<h3 style="color:red">' + this.params.flashNotDetectedText + "</h3>"
        );
      if (!d) {
        for (
          var e = "",
            f = document.getElementsByTagName("script"),
            g = 0,
            h = f.length;
          g < h;
          g++
        ) {
          var i = f[g].getAttribute("src");
          i &&
            i.match(/\/webcam(\.min)?\.js/) &&
            ((e = i.replace(/\/webcam(\.min)?\.js.*$/, "")), (g = h));
        }
        d = e ? e + "/webcam.swf" : "webcam.swf";
      }
      a.localStorage &&
        !localStorage.getItem("visited") &&
        ((this.params.new_user = 1), localStorage.setItem("visited", 1));
      var j = "";
      for (var k in this.params)
        j && (j += "&"), (j += k + "=" + escape(this.params[k]));
      return (c +=
        '<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="' +
        this.protocol +
        '://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="' +
        this.params.width +
        '" height="' +
        this.params.height +
        '" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="' +
        d +
        '" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="' +
        j +
        '"/><embed id="webcam_movie_embed" src="' +
        d +
        '" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="' +
        this.params.width +
        '" height="' +
        this.params.height +
        '" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="' +
        j +
        '"></embed></object>');
    },
    getMovie: function () {
      if (!this.loaded)
        return this.dispatch("error", new b("Flash Movie is not loaded yet"));
      var a = document.getElementById("webcam_movie_obj");
      return (
        (a && a._snap) || (a = document.getElementById("webcam_movie_embed")),
        a || this.dispatch("error", new b("Cannot locate Flash movie in DOM")),
        a
      );
    },
    freeze: function () {
      var a = this,
        b = this.params;
      this.preview_active && this.unfreeze();
      var c = this.params.width / this.params.dest_width,
        d = this.params.height / this.params.dest_height;
      this.unflip();
      var e = b.crop_width || b.dest_width,
        f = b.crop_height || b.dest_height,
        g = document.createElement("canvas");
      (g.width = e), (g.height = f);
      var h = g.getContext("2d");
      (this.preview_canvas = g),
        (this.preview_context = h),
        (1 == c && 1 == d) ||
          ((g.style.webkitTransformOrigin = "0px 0px"),
          (g.style.mozTransformOrigin = "0px 0px"),
          (g.style.msTransformOrigin = "0px 0px"),
          (g.style.oTransformOrigin = "0px 0px"),
          (g.style.transformOrigin = "0px 0px"),
          (g.style.webkitTransform = "scaleX(" + c + ") scaleY(" + d + ")"),
          (g.style.mozTransform = "scaleX(" + c + ") scaleY(" + d + ")"),
          (g.style.msTransform = "scaleX(" + c + ") scaleY(" + d + ")"),
          (g.style.oTransform = "scaleX(" + c + ") scaleY(" + d + ")"),
          (g.style.transform = "scaleX(" + c + ") scaleY(" + d + ")")),
        this.snap(function () {
          (g.style.position = "relative"),
            (g.style.left = "" + a.container.scrollLeft + "px"),
            (g.style.top = "" + a.container.scrollTop + "px"),
            a.container.insertBefore(g, a.peg),
            (a.container.style.overflow = "hidden"),
            (a.preview_active = !0);
        }, g);
    },
    unfreeze: function () {
      this.preview_active &&
        (this.container.removeChild(this.preview_canvas),
        delete this.preview_context,
        delete this.preview_canvas,
        (this.preview_active = !1),
        this.flip());
    },
    flip: function () {
      if (this.params.flip_horiz) {
        var a = this.container.style;
        (a.webkitTransform = "scaleX(-1)"),
          (a.mozTransform = "scaleX(-1)"),
          (a.msTransform = "scaleX(-1)"),
          (a.oTransform = "scaleX(-1)"),
          (a.transform = "scaleX(-1)"),
          (a.filter = "FlipH"),
          (a.msFilter = "FlipH");
      }
    },
    unflip: function () {
      if (this.params.flip_horiz) {
        var a = this.container.style;
        (a.webkitTransform = "scaleX(1)"),
          (a.mozTransform = "scaleX(1)"),
          (a.msTransform = "scaleX(1)"),
          (a.oTransform = "scaleX(1)"),
          (a.transform = "scaleX(1)"),
          (a.filter = ""),
          (a.msFilter = "");
      }
    },
    savePreview: function (a, b) {
      var c = this.params,
        d = this.preview_canvas,
        e = this.preview_context;
      if (b) {
        var f = b.getContext("2d");
        f.drawImage(d, 0, 0);
      }
      a(
        b ? null : d.toDataURL("image/" + c.image_format, c.jpeg_quality / 100),
        d,
        e
      ),
        this.params.unfreeze_snap && this.unfreeze();
    },
    snap: function (a, b) {
      var d = this.params;
      if (!this.loaded)
        return this.dispatch("error", new c("Webcam is not loaded yet"));
      if (!a)
        return this.dispatch(
          "error",
          new c("Please provide a callback function or canvas to snap()")
        );
      if (this.preview_active) return this.savePreview(a, b), null;
      var e = document.createElement("canvas");
      (e.width = this.params.dest_width), (e.height = this.params.dest_height);
      var f = e.getContext("2d");
      this.params.flip_horiz && (f.translate(d.dest_width, 0), f.scale(-1, 1));
      var g = function () {
        if (
          (this.src &&
            this.width &&
            this.height &&
            f.drawImage(this, 0, 0, d.dest_width, d.dest_height),
          d.crop_width && d.crop_height)
        ) {
          var c = document.createElement("canvas");
          (c.width = d.crop_width), (c.height = d.crop_height);
          var g = c.getContext("2d");
          g.drawImage(
            e,
            Math.floor(d.dest_width / 2 - d.crop_width / 2),
            Math.floor(d.dest_height / 2 - d.crop_height / 2),
            d.crop_width,
            d.crop_height,
            0,
            0,
            d.crop_width,
            d.crop_height
          ),
            (f = g),
            (e = c);
        }
        if (b) {
          var h = b.getContext("2d");
          h.drawImage(e, 0, 0);
        }
        a(
          b
            ? null
            : e.toDataURL("image/" + d.image_format, d.jpeg_quality / 100),
          e,
          f
        );
      };
      if (this.userMedia)
        f.drawImage(
          this.video,
          0,
          0,
          this.params.dest_width,
          this.params.dest_height
        ),
          g();
      else {
        var h = this.getMovie()._snap(),
          i = new Image();
        (i.onload = g),
          (i.src = "data:image/" + this.params.image_format + ";base64," + h);
      }
      return null;
    },
    configure: function (a) {
      a || (a = "camera"), this.getMovie()._configure(a);
    },
    flashNotify: function (a, c) {
      switch (a) {
        case "flashLoadComplete":
          (this.loaded = !0), this.dispatch("load");
          break;
        case "cameraLive":
          (this.live = !0), this.dispatch("live");
          break;
        case "error":
          this.dispatch("error", new b(c));
      }
    },
    b64ToUint6: function (a) {
      return a > 64 && a < 91
        ? a - 65
        : a > 96 && a < 123
        ? a - 71
        : a > 47 && a < 58
        ? a + 4
        : 43 === a
        ? 62
        : 47 === a
        ? 63
        : 0;
    },
    base64DecToArr: function (a, b) {
      for (
        var c,
          d,
          e = a.replace(/[^A-Za-z0-9\+\/]/g, ""),
          f = e.length,
          g = b ? Math.ceil(((3 * f + 1) >> 2) / b) * b : (3 * f + 1) >> 2,
          h = new Uint8Array(g),
          i = 0,
          j = 0,
          k = 0;
        k < f;
        k++
      )
        if (
          ((d = 3 & k),
          (i |= this.b64ToUint6(e.charCodeAt(k)) << (18 - 6 * d)),
          3 === d || f - k === 1)
        ) {
          for (c = 0; c < 3 && j < g; c++, j++)
            h[j] = (i >>> ((16 >>> c) & 24)) & 255;
          i = 0;
        }
      return h;
    },
    upload: function (a, b, c) {
      var d = this.params.upload_name || "webcam",
        f = "";
      if (!a.match(/^data\:image\/(\w+)/))
        throw "Cannot locate image format in Data URI";
      f = RegExp.$1;
      var g = a.replace(/^data\:image\/\w+\;base64\,/, ""),
        h = new XMLHttpRequest();
      h.open("POST", b, !0),
        h.upload &&
          h.upload.addEventListener &&
          h.upload.addEventListener(
            "progress",
            function (a) {
              if (a.lengthComputable) {
                var b = a.loaded / a.total;
                e.dispatch("uploadProgress", b, a);
              }
            },
            !1
          );
      var i = this;
      h.onload = function () {
        c && c.apply(i, [h.status, h.responseText, h.statusText]),
          e.dispatch("uploadComplete", h.status, h.responseText, h.statusText);
      };
      var j = new Blob([this.base64DecToArr(g)], { type: "image/" + f }),
        k = new FormData();
      k.append(d, j, d + "." + f.replace(/e/, "")), h.send(k);
    },
  };
  e.init(),
    "function" == typeof define && define.amd
      ? define("filter_poodll/webcam", function () {
          return e;
        })
      : "object" == typeof module && module.exports
      ? (module.exports = e)
      : (a.Webcam = e);
})(window);
define("report_competency/grading_popup", [
  "jquery",
  "core/notification",
  "core/str",
  "core/ajax",
  "core/log",
  "core/templates",
  "tool_lp/dialogue",
], function (a, b, c, d, e, f, g) {
  var h = function (b, c) {
    (this._regionSelector = b),
      (this._userCompetencySelector = c),
      a(this._regionSelector).on(
        "click",
        this._userCompetencySelector,
        this._handleClick.bind(this)
      );
  };
  return (
    (h.prototype._handleClick = function (c) {
      var f = a(c.target).closest(this._userCompetencySelector),
        g = a(f).data("competencyid"),
        h = a(f).data("courseid"),
        i = a(f).data("userid");
      e.debug(
        "Clicked on cell: competencyId=" +
          g +
          ", courseId=" +
          h +
          ", userId=" +
          i
      );
      var j = d.call([
        {
          methodname: "tool_lp_data_for_user_competency_summary_in_course",
          args: { userid: i, competencyid: g, courseid: h },
          done: this._contextLoaded.bind(this),
          fail: b.exception,
        },
      ]);
      j[0].then(function () {
        d.call([
          {
            methodname: "core_competency_user_competency_viewed_in_course",
            args: { userid: i, competencyid: g, courseid: h },
            fail: b.exception,
          },
        ]);
      });
    }),
    (h.prototype._contextLoaded = function (a) {
      var d = this;
      (a.displayuser = !0),
        f
          .render("tool_lp/user_competency_summary_in_course", a)
          .done(function (a, e) {
            c.get_string("usercompetencysummary", "report_competency")
              .done(function (b) {
                new g(b, a, f.runTemplateJS.bind(f, e), d._refresh.bind(d), !0);
              })
              .fail(b.exception);
          })
          .fail(b.exception);
    }),
    (h.prototype._refresh = function () {
      var c = a(this._regionSelector),
        e = c.data("courseid"),
        f = c.data("userid");
      d.call([
        {
          methodname: "report_competency_data_for_report",
          args: { courseid: e, userid: f },
          done: this._pageContextLoaded.bind(this),
          fail: b.exception,
        },
      ]);
    }),
    (h.prototype._pageContextLoaded = function (a) {
      var c = this;
      f.render("report_competency/report", a)
        .done(function (a, b) {
          f.replaceNode(c._regionSelector, a, b);
        })
        .fail(b.exception);
    }),
    (h.prototype._regionSelector = null),
    (h.prototype._userCompetencySelector = null),
    h
  );
});
define("report_competency/user_course_navigation", ["jquery"], function (a) {
  var b = function (b, c, d, e) {
    (this._baseUrl = c),
      (this._userId = d + ""),
      (this._courseId = e),
      a(b).on("change", this._userChanged.bind(this));
  };
  return (
    (b.prototype._userChanged = function (b) {
      var c = a(b.target).val(),
        d = "?user=" + c + "&id=" + this._courseId;
      document.location = this._baseUrl + d;
    }),
    (b.prototype._userId = null),
    (b.prototype._courseId = null),
    (b.prototype._baseUrl = null),
    b
  );
});
define("gradingform_guide/comment_chooser", [
  "jquery",
  "core/templates",
  "core/notification",
  "core/yui",
], function (a, b, c) {
  return {
    initialise: function (d, e, f, g) {
      function h(b, c) {
        var e =
            "<label>" +
            M.util.get_string("insertcomment", "gradingform_guide") +
            "</label>",
          g = "comment-chooser-" + d + "-cancel",
          h =
            '<button id="' +
            g +
            '">' +
            M.util.get_string("cancel", "moodle") +
            "</button>",
          i = new M.core.dialogue({
            modal: !0,
            headerContent: e,
            bodyContent: b,
            footerContent: h,
            focusAfterHide: "#" + f,
            id: "comments-chooser-dialog-" + d,
          });
        a("#" + g).click(function () {
          i.hide();
        }),
          a.each(c, function (b, c) {
            var e = "#comment-option-" + d + "-" + c.id;
            a(e).click(function () {
              var b = a("#" + f),
                d = b.val();
              "" !== a.trim(d) && (d += "\n"),
                (d += c.description),
                b.val(d),
                i.hide();
            }),
              a(document)
                .off("keypress", e)
                .on("keypress", e, function () {
                  var b = event.which || event.keyCode;
                  (13 != b && 32 != b) || a(e).click();
                });
          }),
          i.after(
            "visibleChange",
            function (a) {
              a.prevVal && !a.newVal && this.destroy();
            },
            i
          ),
          i.show();
      }
      function i() {
        var a = { criterionId: d, comments: g };
        b.render("gradingform_guide/comment_chooser", a)
          .done(function (a) {
            h(a, g);
          })
          .fail(c.exception);
      }
      a("#" + e).click(function (a) {
        a.preventDefault(), i();
      });
    },
  };
});
define("tool_lp/actionselector", [
  "jquery",
  "core/notification",
  "core/ajax",
  "core/templates",
  "tool_lp/dialogue",
  "tool_lp/event_base",
], function (a, b, c, d, e, f) {
  var g = function (a, b, c, d, e) {
    var g = this;
    f.prototype.constructor.apply(this, []),
      (g._title = a),
      (g._message = b),
      (g._actions = c),
      (g._confirm = d),
      (g._cancel = e),
      (g._selectedValue = null),
      g._reset();
  };
  return (
    (g.prototype = Object.create(f.prototype)),
    (g.prototype._selectedValue = null),
    (g.prototype._popup = null),
    (g.prototype._title = null),
    (g.prototype._message = null),
    (g.prototype._actions = null),
    (g.prototype._confirm = null),
    (g.prototype._cancel = null),
    (g.prototype._afterRender = function () {
      var b = this;
      b
        ._find('[data-action="action-selector-confirm"]')
        .attr("disabled", "disabled"),
        b
          ._find('[data-region="action-selector-radio-buttons"]')
          .change(function () {
            (b._selectedValue = a("input[type='radio']:checked").val()),
              b
                ._find('[data-action="action-selector-confirm"]')
                .removeAttr("disabled"),
              b._refresh.bind(b);
          }),
        b._find('[data-action="action-selector-cancel"]').click(function (a) {
          a.preventDefault(), b.close();
        }),
        b._find('[data-action="action-selector-confirm"]').click(function (a) {
          a.preventDefault(),
            b._selectedValue.length &&
              (b._trigger("save", { action: b._selectedValue }), b.close());
        });
    }),
    (g.prototype.close = function () {
      var a = this;
      a._popup.close(), a._reset();
    }),
    (g.prototype.display = function () {
      var a = this;
      return a
        ._render()
        .then(function (b) {
          a._popup = new e(a._title, b, a._afterRender.bind(a));
        })
        .fail(b.exception);
    }),
    (g.prototype._find = function (b) {
      return a(this._popup.getContent()).find(b);
    }),
    (g.prototype._refresh = function () {
      var a = this;
      return a._render().then(function (b) {
        a._find('[data-region="action-selector"]').replaceWith(b),
          a._afterRender();
      });
    }),
    (g.prototype._render = function () {
      var a = this,
        b = [];
      for (var c in a._actions) b.push(a._actions[c]);
      var e = {
        message: a._message,
        choices: b,
        confirm: a._confirm,
        cancel: a._cancel,
      };
      return d.render("tool_lp/action_selector", e);
    }),
    (g.prototype._reset = function () {
      (this._popup = null), (this._selectedValue = "");
    }),
    g
  );
});
define("tool_lp/competencies", [
  "jquery",
  "core/notification",
  "core/ajax",
  "core/templates",
  "core/str",
  "tool_lp/competencypicker",
  "tool_lp/dragdrop-reorder",
], function (a, b, c, d, e, f, g) {
  var h = function (b, c, d) {
    (this.itemid = b),
      (this.itemtype = c),
      (this.pageContextId = d),
      (this.pickerInstance = null),
      a('[data-region="actions"] button').prop("disabled", !1),
      this.registerEvents(),
      this.registerDragDrop();
  };
  return (
    (h.prototype.registerDragDrop = function () {
      var a = this;
      e.get_string("movecompetency", "tool_lp")
        .done(function (b) {
          g.dragdrop(
            "movecompetency",
            b,
            { identifier: "movecompetency", component: "tool_lp" },
            { identifier: "movecompetencyafter", component: "tool_lp" },
            "drag-samenode",
            "drag-parentnode",
            "drag-handlecontainer",
            function (b, c) {
              a.handleDrop(b, c);
            }
          );
        })
        .fail(b.exception);
    }),
    (h.prototype.handleDrop = function (d, e) {
      var f = a(d).data("id"),
        g = a(e).data("id"),
        h = this,
        i = [];
      if ("course" == h.itemtype)
        i = c.call([
          {
            methodname: "core_competency_reorder_course_competency",
            args: {
              courseid: h.itemid,
              competencyidfrom: f,
              competencyidto: g,
            },
          },
        ]);
      else if ("template" == h.itemtype)
        i = c.call([
          {
            methodname: "core_competency_reorder_template_competency",
            args: {
              templateid: h.itemid,
              competencyidfrom: f,
              competencyidto: g,
            },
          },
        ]);
      else {
        if ("plan" != h.itemtype) return;
        i = c.call([
          {
            methodname: "core_competency_reorder_plan_competency",
            args: { planid: h.itemid, competencyidfrom: f, competencyidto: g },
          },
        ]);
      }
      i[0].fail(b.exception);
    }),
    (h.prototype.pickCompetency = function () {
      var e,
        g,
        h,
        i,
        j = this;
      j.pickerInstance ||
        (("template" !== j.itemtype && "course" !== j.itemtype) ||
          (i = "parents"),
        (j.pickerInstance = new f(j.pageContextId, !1, i)),
        j.pickerInstance.on("save", function (f, i) {
          var k = i.competencyIds;
          "course" === j.itemtype
            ? ((e = []),
              a.each(k, function (a, b) {
                e.push({
                  methodname: "core_competency_add_competency_to_course",
                  args: { courseid: j.itemid, competencyid: b },
                });
              }),
              e.push({
                methodname: "tool_lp_data_for_course_competencies_page",
                args: { courseid: j.itemid },
              }),
              (g = "tool_lp/course_competencies_page"),
              (h = "coursecompetenciespage"))
            : "template" === j.itemtype
            ? ((e = []),
              a.each(k, function (a, b) {
                e.push({
                  methodname: "core_competency_add_competency_to_template",
                  args: { templateid: j.itemid, competencyid: b },
                });
              }),
              e.push({
                methodname: "tool_lp_data_for_template_competencies_page",
                args: {
                  templateid: j.itemid,
                  pagecontext: { contextid: j.pageContextId },
                },
              }),
              (g = "tool_lp/template_competencies_page"),
              (h = "templatecompetenciespage"))
            : "plan" === j.itemtype &&
              ((e = []),
              a.each(k, function (a, b) {
                e.push({
                  methodname: "core_competency_add_competency_to_plan",
                  args: { planid: j.itemid, competencyid: b },
                });
              }),
              e.push({
                methodname: "tool_lp_data_for_plan_page",
                args: { planid: j.itemid },
              }),
              (g = "tool_lp/plan_page"),
              (h = "plan-page")),
            c.call(e)[e.length - 1].then(function (b) {
              return d.render(g, b).done(function (b, c) {
                a('[data-region="' + h + '"]').replaceWith(b),
                  d.runTemplateJS(c);
              });
            }, b.exception);
        })),
        j.pickerInstance.display();
    }),
    (h.prototype.doDelete = function (e) {
      var f = this,
        g = [],
        h = "",
        i = "";
      "course" == f.itemtype
        ? ((g = c.call([
            {
              methodname: "core_competency_remove_competency_from_course",
              args: { courseid: f.itemid, competencyid: e },
            },
            {
              methodname: "tool_lp_data_for_course_competencies_page",
              args: { courseid: f.itemid },
            },
          ])),
          (h = "tool_lp/course_competencies_page"),
          (i = "coursecompetenciespage"))
        : "template" == f.itemtype
        ? ((g = c.call([
            {
              methodname: "core_competency_remove_competency_from_template",
              args: { templateid: f.itemid, competencyid: e },
            },
            {
              methodname: "tool_lp_data_for_template_competencies_page",
              args: {
                templateid: f.itemid,
                pagecontext: { contextid: f.pageContextId },
              },
            },
          ])),
          (h = "tool_lp/template_competencies_page"),
          (i = "templatecompetenciespage"))
        : "plan" == f.itemtype &&
          ((g = c.call([
            {
              methodname: "core_competency_remove_competency_from_plan",
              args: { planid: f.itemid, competencyid: e },
            },
            {
              methodname: "tool_lp_data_for_plan_page",
              args: { planid: f.itemid },
            },
          ])),
          (h = "tool_lp/plan_page"),
          (i = "plan-page")),
        g[1]
          .done(function (c) {
            d.render(h, c)
              .done(function (b, c) {
                a('[data-region="' + i + '"]').replaceWith(b),
                  d.runTemplateJS(c);
              })
              .fail(b.exception);
          })
          .fail(b.exception);
    }),
    (h.prototype.deleteHandler = function (a) {
      var d,
        f = this,
        g = [];
      if ("course" == f.itemtype) d = "unlinkcompetencycourse";
      else if ("template" == f.itemtype) d = "unlinkcompetencytemplate";
      else {
        if ("plan" != f.itemtype) return;
        d = "unlinkcompetencyplan";
      }
      (g = c.call([
        { methodname: "core_competency_read_competency", args: { id: a } },
      ])),
        g[0]
          .done(function (c) {
            e.get_strings([
              { key: "confirm", component: "moodle" },
              { key: d, component: "tool_lp", param: c.shortname },
              { key: "confirm", component: "moodle" },
              { key: "cancel", component: "moodle" },
            ])
              .done(function (c) {
                b.confirm(c[0], c[1], c[2], c[3], function () {
                  f.doDelete(a);
                });
              })
              .fail(b.exception);
          })
          .fail(b.exception);
    }),
    (h.prototype.registerEvents = function () {
      var e = this;
      "course" == e.itemtype &&
        a('[data-region="coursecompetenciespage"]').on(
          "change",
          'select[data-field="ruleoutcome"]',
          function (f) {
            var g = [],
              h = "tool_lp/course_competencies_page",
              i = "coursecompetenciespage",
              j = a(f.target).data("id"),
              k = a(f.target).val();
            (g = c.call([
              {
                methodname: "core_competency_set_course_competency_ruleoutcome",
                args: { coursecompetencyid: j, ruleoutcome: k },
              },
              {
                methodname: "tool_lp_data_for_course_competencies_page",
                args: { courseid: e.itemid },
              },
            ])),
              g[1]
                .done(function (c) {
                  d.render(h, c)
                    .done(function (b, c) {
                      a('[data-region="' + i + '"]').replaceWith(b),
                        d.runTemplateJS(c);
                    })
                    .fail(b.exception);
                })
                .fail(b.exception);
          }
        ),
        a('[data-region="actions"] button').click(function (a) {
          a.preventDefault(), e.pickCompetency();
        }),
        a('[data-action="delete-competency-link"]').click(function (b) {
          b.preventDefault();
          var c = a(b.target).closest("[data-id]").data("id");
          e.deleteHandler(c);
        });
    }),
    h
  );
});
define("tool_lp/competency_outcomes", ["jquery", "core/str"], function (a, b) {
  var c = 0,
    d = 1,
    e = 2,
    f = 3;
  return {
    NONE: c,
    EVIDENCE: d,
    COMPLETE: e,
    RECOMMEND: f,
    getAll: function () {
      var a = this;
      return b
        .get_strings([
          { key: "competencyoutcome_none", component: "tool_lp" },
          { key: "competencyoutcome_evidence", component: "tool_lp" },
          { key: "competencyoutcome_recommend", component: "tool_lp" },
          { key: "competencyoutcome_complete", component: "tool_lp" },
        ])
        .then(function (b) {
          var c = {};
          return (
            (c[a.NONE] = { code: a.NONE, name: b[0] }),
            (c[a.EVIDENCE] = { code: a.EVIDENCE, name: b[1] }),
            (c[a.RECOMMEND] = { code: a.RECOMMEND, name: b[2] }),
            (c[a.COMPLETE] = { code: a.COMPLETE, name: b[3] }),
            c
          );
        });
    },
    getString: function (b) {
      var c = this,
        d = c.getAll();
      return d.then(function (c) {
        return "undefined" == typeof c[b]
          ? a.Deferred().reject().promise()
          : c[b].name;
      });
    },
  };
});
define("tool_lp/competency_plan_navigation", ["jquery"], function (a) {
  var b = function (b, c, d, e, f) {
    (this._baseUrl = c),
      (this._userId = d + ""),
      (this._competencyId = e + ""),
      (this._planId = f),
      (this._ignoreFirstCompetency = !0),
      a(b).on("change", this._competencyChanged.bind(this));
  };
  return (
    (b.prototype._competencyChanged = function (b) {
      if (this._ignoreFirstCompetency)
        return void (this._ignoreFirstCompetency = !1);
      var c = a(b.target).val(),
        d =
          "?userid=" +
          this._userId +
          "&planid=" +
          this._planId +
          "&competencyid=" +
          c;
      document.location = this._baseUrl + d;
    }),
    (b.prototype._competencyId = null),
    (b.prototype._userId = null),
    (b.prototype._planId = null),
    (b.prototype._baseUrl = null),
    (b.prototype._ignoreFirstCompetency = null),
    b
  );
});
define("tool_lp/competency_rule", ["jquery"], function (a) {
  var b = function (b) {
    (this._eventNode = a("<div>")),
      (this._ready = a.Deferred()),
      (this._tree = b);
  };
  return (
    (b.prototype._competency = null),
    (b.prototype._eventNode = null),
    (b.prototype._ready = null),
    (b.prototype._tree = null),
    (b.prototype.canConfig = function () {
      return this._tree.hasChildren(this._competency.id);
    }),
    (b.prototype.getConfig = function () {
      return null;
    }),
    (b.prototype.getType = function () {
      throw new Error("Not implemented");
    }),
    (b.prototype.init = function () {
      return this._load();
    }),
    (b.prototype.injectTemplate = function () {
      return a.Deferred().reject().promise();
    }),
    (b.prototype.isValid = function () {
      return !1;
    }),
    (b.prototype._load = function () {
      return a.when();
    }),
    (b.prototype.on = function (a, b) {
      this._eventNode.on(a, b);
    }),
    (b.prototype.setTargetCompetency = function (a) {
      this._competency = a;
    }),
    (b.prototype._trigger = function (a, b) {
      this._eventNode.trigger(a, [b]);
    }),
    (b.prototype._triggerChange = function () {
      this._trigger("change", this);
    }),
    b
  );
});
define("tool_lp/competency_rule_all", [
  "jquery",
  "core/str",
  "tool_lp/competency_rule",
], function (a, b, c) {
  var d = function () {
    c.apply(this, arguments);
  };
  return (
    (d.prototype = Object.create(c.prototype)),
    (d.prototype.getType = function () {
      return "core_competency\\competency_rule_all";
    }),
    (d.prototype.isValid = function () {
      return !0;
    }),
    d
  );
});
define("tool_lp/competency_rule_points", [
  "jquery",
  "core/str",
  "core/templates",
  "tool_lp/competency_rule",
], function (a, b, c, d) {
  var e = function () {
    d.apply(this, arguments);
  };
  return (
    (e.prototype = Object.create(d.prototype)),
    (e.prototype._container = null),
    (e.prototype._templateLoaded = !1),
    (e.prototype.getConfig = function () {
      return JSON.stringify({
        base: { points: this._getRequiredPoints() },
        competencies: this._getCompetenciesConfig(),
      });
    }),
    (e.prototype._getCompetenciesConfig = function () {
      var b = [];
      return (
        this._container.find("[data-competency]").each(function () {
          var c = a(this),
            d = c.data("competency"),
            e = parseInt(c.find('[name="points"]').val(), 10),
            f = c.find('[name="required"]').prop("checked");
          b.push({ id: d, points: e, required: f ? 1 : 0 });
        }),
        b
      );
    }),
    (e.prototype._getRequiredPoints = function () {
      return parseInt(
        this._container.find('[name="requiredpoints"]').val() || 1,
        10
      );
    }),
    (e.prototype.getType = function () {
      return "core_competency\\competency_rule_points";
    }),
    (e.prototype.injectTemplate = function (b) {
      var d,
        e = this,
        f = this._tree.getChildren(this._competency.id),
        g = { base: { points: 2 }, competencies: [] };
      if (((this._templateLoaded = !1), e._competency.ruletype == e.getType()))
        try {
          g = JSON.parse(e._competency.ruleconfig);
        } catch (h) {}
      return (
        (d = {
          requiredpoints: g && g.base ? g.base.points : 2,
          competency: e._competency,
          children: [],
        }),
        a.each(f, function (b, c) {
          var e = { id: c.id, shortname: c.shortname, required: !1, points: 0 };
          g &&
            a.each(g.competencies, function (a, b) {
              b.id == e.id &&
                ((e.required = !!b.required), (e.points = b.points));
            }),
            d.children.push(e);
        }),
        c.render("tool_lp/competency_rule_points", d).then(function (a) {
          (e._container = b),
            b.html(a),
            b.find("input").change(function () {
              e._triggerChange();
            }),
            (e._templateLoaded = !0),
            e._triggerChange();
        })
      );
    }),
    (e.prototype.isValid = function () {
      if (!this._templateLoaded) return !1;
      var b = this._getRequiredPoints(),
        c = 0,
        d = !0;
      return (
        a.each(this._getCompetenciesConfig(), function (a, b) {
          b.points < 0 && (d = !1), (c += b.points);
        }),
        (d = d && c >= b)
      );
    }),
    e
  );
});
define("tool_lp/competencyactions", [
  "jquery",
  "core/url",
  "core/templates",
  "core/notification",
  "core/str",
  "core/ajax",
  "tool_lp/dragdrop-reorder",
  "tool_lp/tree",
  "tool_lp/dialogue",
  "tool_lp/menubar",
  "tool_lp/competencypicker",
  "tool_lp/competency_outcomes",
  "tool_lp/competencyruleconfig",
], function (a, b, c, d, e, f, g, h, i, j, k, l, m) {
  var n,
    o,
    p,
    q,
    r,
    s,
    t = null,
    u = null,
    v = null,
    w = null,
    x = function () {
      var c = a('[data-region="competencyactions"]').data("competency"),
        f = {
          competencyframeworkid: t.getCompetencyFrameworkId(),
          pagecontextid: n,
        };
      null !== c && (f.parentid = c.id);
      var g = function () {
        var c = a.param(f);
        window.location = b.relativeUrl(
          "/admin/tool/lp/editcompetency.php?" + c
        );
      };
      null !== c && t.hasRule(c.id)
        ? e
            .get_strings([
              { key: "confirm", component: "moodle" },
              {
                key: "addingcompetencywillresetparentrule",
                component: "tool_lp",
                param: c.shortname,
              },
              { key: "yes", component: "core" },
              { key: "no", component: "core" },
            ])
            .done(function (a) {
              d.confirm(a[0], a[1], a[2], a[3], g);
            })
            .fail(d.exception)
        : g();
    },
    y = function () {
      var b = a('[data-region="filtercompetencies"]').data("frameworkid"),
        c = f.call([
          {
            methodname: "core_competency_set_parent_competency",
            args: { competencyid: u, parentid: v },
          },
          {
            methodname: "tool_lp_data_for_competencies_manage_page",
            args: {
              competencyframeworkid: b,
              search: a('[data-region="filtercompetencies"] input').val(),
            },
          },
        ]);
      c[1].done(E).fail(d.exception);
    },
    z = function () {
      if (((v = "undefined" == typeof v ? 0 : v), v != u)) {
        var a = t.getCompetency(v) || {},
          b = t.getCompetency(u) || {},
          c = "movecompetencywillresetrules",
          f = !1;
        b.parentid != v &&
          (a.path &&
            a.path.indexOf("/" + b.id + "/") >= 0 &&
            ((c = "movecompetencytochildofselfwillresetrules"),
            (f = f || t.hasRule(b.id))),
          (f = f || t.hasRule(a.id) || t.hasRule(b.parentid)),
          f
            ? e
                .get_strings([
                  { key: "confirm", component: "moodle" },
                  { key: c, component: "tool_lp" },
                  { key: "yes", component: "moodle" },
                  { key: "no", component: "moodle" },
                ])
                .done(function (a) {
                  d.confirm(a[0], a[1], a[2], a[3], y);
                })
                .fail(d.exception)
            : y());
      }
    },
    A = function (b) {
      var c = a(b.getContent()),
        d = c.find("[data-enhance=movetree]"),
        e = new h(d, !1);
      e.on("selectionchanged", function (b, c) {
        var d = c.selected;
        v = a(d).data("id");
      }),
        d.show(),
        c.on("click", '[data-action="move"]', function () {
          b.close(), z();
        }),
        c.on("click", '[data-action="cancel"]', function () {
          b.close();
        });
    },
    B = function (a, b) {
      var c;
      for (c = 0; c < b.length; c++)
        b[c].parentid == a.id &&
          ((a.haschildren = !0),
          (b[c].children = []),
          (b[c].haschildren = !1),
          (a.children[a.children.length] = b[c]),
          B(b[c], b));
    },
    C = function (b) {
      b.preventDefault();
      var g = a('[data-region="competencyactions"]').data("competency");
      u = g.id;
      var h = f.call([
        {
          methodname: "core_competency_search_competencies",
          args: {
            competencyframeworkid: g.competencyframeworkid,
            searchtext: "",
          },
        },
        {
          methodname: "core_competency_read_competency_framework",
          args: { id: g.competencyframeworkid },
        },
      ]);
      a.when
        .apply(null, h)
        .done(function (a, b) {
          var f,
            h = [];
          for (f = 0; f < a.length; f++) {
            var j = a[f];
            "0" == j.parentid &&
              ((j.children = []),
              (j.haschildren = 0),
              (h[h.length] = j),
              B(j, a));
          }
          e.get_strings([
            { key: "movecompetency", component: "tool_lp", param: g.shortname },
            { key: "move", component: "tool_lp" },
            { key: "cancel", component: "moodle" },
          ])
            .done(function (a) {
              var e = { framework: b, competencies: h };
              c.render("tool_lp/competencies_move_tree", e)
                .done(function (b) {
                  new i(a[0], b, A);
                })
                .fail(d.exception);
            })
            .fail(d.exception);
        })
        .fail(d.exception);
    },
    D = function () {
      var c = a('[data-region="competencyactions"]').data("competency"),
        d = {
          competencyframeworkid: t.getCompetencyFrameworkId(),
          id: c.id,
          parentid: c.parentid,
          pagecontextid: n,
        },
        e = a.param(d);
      window.location = b.relativeUrl("/admin/tool/lp/editcompetency.php?" + e);
    },
    E = function (b) {
      c.render("tool_lp/manage_competencies_page", b)
        .done(function (b, d) {
          a('[data-region="managecompetencies"]').replaceWith(b),
            c.runTemplateJS(d);
        })
        .fail(d.exception);
    },
    F = function (b) {
      b.preventDefault();
      var c = a('[data-region="filtercompetencies"]').data("frameworkid"),
        e = f.call([
          {
            methodname: "tool_lp_data_for_competencies_manage_page",
            args: {
              competencyframeworkid: c,
              search: a('[data-region="filtercompetencies"] input').val(),
            },
          },
        ]);
      e[0].done(E).fail(d.exception);
    },
    G = function () {
      var b = a('[data-region="competencyactions"]').data("competency"),
        c = f.call([
          {
            methodname: "core_competency_move_up_competency",
            args: { id: b.id },
          },
          {
            methodname: "tool_lp_data_for_competencies_manage_page",
            args: {
              competencyframeworkid: b.competencyframeworkid,
              search: a('[data-region="filtercompetencies"] input').val(),
            },
          },
        ]);
      c[1].done(E).fail(d.exception);
    },
    H = function () {
      var b = a('[data-region="competencyactions"]').data("competency"),
        c = f.call([
          {
            methodname: "core_competency_move_down_competency",
            args: { id: b.id },
          },
          {
            methodname: "tool_lp_data_for_competencies_manage_page",
            args: {
              competencyframeworkid: b.competencyframeworkid,
              search: a('[data-region="filtercompetencies"] input').val(),
            },
          },
        ]);
      c[1].done(E).fail(d.exception);
    },
    I = function () {
      var b = a('[data-region="competencyactions"]').data("competency"),
        g = f.call([
          {
            methodname: "tool_lp_list_courses_using_competency",
            args: { id: b.id },
          },
        ]);
      g[0]
        .done(function (a) {
          var b = { courses: a };
          c.render("tool_lp/linked_courses_summary", b)
            .done(function (a) {
              e.get_string("linkedcourses", "tool_lp")
                .done(function (b) {
                  new i(b, a, A);
                })
                .fail(d.exception);
            })
            .fail(d.exception);
        })
        .fail(d.exception);
    },
    J = function () {
      (q = a('[data-region="competencyactions"]').data("competency")),
        o ||
          ((o = new k(n, q.competencyframeworkid)),
          o.on("save", function (b, e) {
            var g = e.competencyIds,
              h = [];
            a.each(g, function (a, b) {
              h.push({
                methodname: "core_competency_add_related_competency",
                args: { competencyid: b, relatedcompetencyid: q.id },
              });
            }),
              h.push({
                methodname: "tool_lp_data_for_related_competencies_section",
                args: { competencyid: q.id },
              });
            var i = f.call(h);
            i[h.length - 1].then(function (b) {
              return c
                .render("tool_lp/related_competencies", b)
                .done(function (b, d) {
                  a('[data-region="relatedcompetencies"]').replaceWith(b),
                    c.runTemplateJS(d),
                    U();
                });
            }, d.exception);
          })),
        o.setDisallowedCompetencyIDs([q.id]),
        o.display();
    },
    K = function (b) {
      b.preventDefault(),
        (q = a('[data-region="competencyactions"]').data("competency")),
        p.setTargetCompetencyId(q.id),
        p.display();
    },
    L = function (a, b) {
      var c = {
          id: q.id,
          shortname: q.shortname,
          idnumber: q.idnumber,
          description: q.description,
          descriptionformat: q.descriptionformat,
          ruletype: b.ruletype,
          ruleoutcome: b.ruleoutcome,
          ruleconfig: b.ruleconfig,
        },
        e = f.call([
          {
            methodname: "core_competency_update_competency",
            args: { competency: c },
          },
        ]);
      e[0].then(function (a) {
        a &&
          ((q.ruletype = b.ruletype),
          (q.ruleoutcome = b.ruleoutcome),
          (q.ruleconfig = b.ruleconfig),
          X(q));
      }, d.exception);
    },
    M = function () {
      var b = a('[data-region="competencyactions"]').data("competency"),
        c = f.call([
          {
            methodname: "core_competency_delete_competency",
            args: { id: b.id },
          },
          {
            methodname: "tool_lp_data_for_competencies_manage_page",
            args: {
              competencyframeworkid: b.competencyframeworkid,
              search: a('[data-region="filtercompetencies"] input').val(),
            },
          },
        ]);
      c[0]
        .done(function (a) {
          a === !1 &&
            e
              .get_strings([
                {
                  key: "competencycannotbedeleted",
                  component: "tool_lp",
                  param: b.shortname,
                },
                { key: "cancel", component: "moodle" },
              ])
              .done(function (a) {
                d.alert(null, a[0]);
              })
              .fail(d.exception);
        })
        .fail(d.exception),
        c[1].done(E).fail(d.exception);
    },
    N = function () {
      var b = a('[data-region="competencyactions"]').data("competency"),
        c = "deletecompetency";
      t.hasRule(b.parentid) && (c = "deletecompetencyparenthasrule"),
        e
          .get_strings([
            { key: "confirm", component: "moodle" },
            { key: c, component: "tool_lp", param: b.shortname },
            { key: "delete", component: "moodle" },
            { key: "cancel", component: "moodle" },
          ])
          .done(function (a) {
            d.confirm(a[0], a[1], a[2], a[3], M);
          })
          .fail(d.exception);
    },
    O = function (b) {
      b.originalEvent.dataTransfer.setData(
        "text",
        a(b.target).parent().data("id")
      );
    },
    P = function (a) {
      (a.originalEvent.dataTransfer.dropEffect = "move"), a.preventDefault();
    },
    Q = function (b) {
      b.preventDefault(), a(this).addClass("currentdragtarget");
    },
    R = function (b) {
      b.preventDefault(), a(this).removeClass("currentdragtarget");
    },
    S = function (b) {
      b.preventDefault(),
        (u = b.originalEvent.dataTransfer.getData("text")),
        (v = a(b.target).parent().data("id")),
        a(this).removeClass("currentdragtarget"),
        z();
    },
    T = function (b) {
      b.preventDefault();
      var e = this.id.substr(11),
        g = a('[data-region="competencyactions"]').data("competency"),
        h = f.call([
          {
            methodname: "core_competency_remove_related_competency",
            args: { relatedcompetencyid: e, competencyid: g.id },
          },
          {
            methodname: "tool_lp_data_for_related_competencies_section",
            args: { competencyid: g.id },
          },
        ]);
      h[1]
        .done(function (b) {
          c.render("tool_lp/related_competencies", b)
            .done(function (b) {
              a('[data-region="relatedcompetencies"]').replaceWith(b), U();
            })
            .fail(d.exception);
        })
        .fail(d.exception);
    },
    U = function () {
      a('[data-action="deleterelation"]').on("click", T);
    },
    V = function (a) {
      a.id !== w &&
        ((w = a.id),
        f.call([
          {
            methodname: "core_competency_competency_viewed",
            args: { id: a.id },
          },
        ]));
    },
    W = function (a) {
      var b = r[a];
      return b || (b = "competency"), b;
    },
    X = function (b) {
      var e = a.Deferred().resolve().promise(),
        g = {};
      (g.competency = b),
        (g.showdeleterelatedaction = !0),
        (g.showrelatedcompetencies = !0),
        (g.showrule = !1),
        b.ruleoutcome != l.NONE &&
          (e = l.getString(b.ruleoutcome).then(function (c) {
            var d;
            return (
              a.each(s, function (a, c) {
                c.type == b.ruletype && (d = c.name);
              }),
              [c, d]
            );
          })),
        e
          .then(function (a) {
            "undefined" != typeof a &&
              ((g.showrule = !0), (g.rule = { outcome: a[0], type: a[1] }));
          })
          .then(function () {
            return c.render("tool_lp/competency_summary", g).then(function (b) {
              a('[data-region="competencyinfo"]').html(b),
                a('[data-action="deleterelation"]').on("click", T);
            });
          })
          .then(function () {
            return c.render("tool_lp/loading", {});
          })
          .then(function (a, b) {
            c.replaceNodeContents('[data-region="relatedcompetencies"]', a, b);
          })
          .done(function () {
            f.call([
              {
                methodname: "tool_lp_data_for_related_competencies_section",
                args: { competencyid: b.id },
                done: function (b) {
                  return c
                    .render("tool_lp/related_competencies", b)
                    .done(function (b, d) {
                      a('[data-region="relatedcompetencies"]').replaceWith(b),
                        c.runTemplateJS(d),
                        U();
                    });
                },
              },
            ]);
          })
          .fail(d.exception);
    },
    Y = function (a) {
      return e.get_string("taxonomy_add_" + W(a), "tool_lp");
    },
    Z = function (a) {
      return e.get_string("taxonomy_selected_" + W(a), "tool_lp");
    },
    $ = function (b, c) {
      var d = c.selected,
        e = a(d).data("id"),
        f = a('[data-region="competencyactions"] [data-action="add"]'),
        g = a('[data-region="competencyactionsmenu"]'),
        h = a('[data-region="selected-competency"]'),
        i = 0,
        k = 1;
      if ((j.closeAll(), "undefined" == typeof e))
        a('[data-region="competencyinfo"]').html(
          d.clone().children().remove().end().text()
        ),
          a('[data-region="competencyactions"]').data("competency", null),
          g.hide();
      else {
        var l = t.getCompetency(e);
        (i = t.getCompetencyLevel(e)),
          (k = i + 1),
          g.show(),
          a('[data-region="competencyactions"]').data("competency", l),
          X(l),
          V(l);
      }
      return (
        Z(i).then(function (a) {
          h.text(a);
        }),
        Y(k).then(function (a) {
          f.show().find('[data-region="term"]').text(a);
        }),
        b.preventDefault(),
        !1
      );
    },
    _ = function (a) {
      var b = a.split(",");
      return b.unshift(""), delete b[0], b;
    };
  return {
    init: function (b, c, d, e) {
      (t = b),
        (n = c),
        (r = _(d)),
        (s = e),
        a('[data-region="competencyactions"] [data-action="add"]').on(
          "click",
          x
        ),
        j.enhance(".competencyactionsmenu", {
          '[data-action="edit"]': D,
          '[data-action="delete"]': N,
          '[data-action="move"]': C,
          '[data-action="moveup"]': G,
          '[data-action="movedown"]': H,
          '[data-action="linkedcourses"]': I,
          '[data-action="relatedcompetencies"]': J.bind(this),
          '[data-action="competencyrules"]': K.bind(this),
        }),
        a('[data-region="competencyactionsmenu"]').hide(),
        a('[data-region="competencyactions"] [data-action="add"]').hide(),
        a('[data-region="filtercompetencies"]').on("submit", F);
      var f = a('[data-region="managecompetencies"] [data-enhance="tree"]');
      f
        .on("dragstart", "li>span", O)
        .on("dragover", "li>span", P)
        .on("dragenter", "li>span", Q)
        .on("dragleave", "li>span", R)
        .on("drop", "li>span", S),
        b.on("selectionchanged", $),
        (p = new m(t, s)),
        p.on("save", L.bind(this));
    },
  };
});
define("tool_lp/competencydialogue", [
  "jquery",
  "core/notification",
  "core/ajax",
  "core/templates",
  "core/str",
  "tool_lp/dialogue",
], function (a, b, c, d, e, f) {
  var g,
    h = function () {};
  return (
    (h.prototype.triggerCompetencyViewedEvent = function (a) {
      c.call([
        { methodname: "core_competency_competency_viewed", args: { id: a } },
      ]);
    }),
    (h.prototype.showDialogue = function (a, c) {
      var e = this.getCompetencyDataPromise(a, c),
        g = this;
      e.done(function (c) {
        d.render("tool_lp/competency_summary", c)
          .done(function (b) {
            g.triggerCompetencyViewedEvent(a), new f(c.competency.shortname, b);
          })
          .fail(b.exception);
      }).fail(b.exception);
    }),
    (h.prototype.showDialogueFromData = function (a) {
      var c = this;
      d.render("tool_lp/competency_summary", a)
        .done(function (b) {
          c.triggerCompetencyViewedEvent(a.id),
            new f(a.shortname, b, c.enhanceDialogue);
        })
        .fail(b.exception);
    }),
    (h.prototype.clickEventHandler = function (b) {
      var c = b.data.compdialogue,
        d = a(b.currentTarget),
        e = d.data("id"),
        f = !d.data("excluderelated"),
        g = d.data("includecourses");
      c.showDialogue(e, { includerelated: f, includecourses: g }),
        b.preventDefault();
    }),
    (h.prototype.getCompetencyDataPromise = function (a, d) {
      var e = c.call([
        {
          methodname: "tool_lp_data_for_competency_summary",
          args: {
            competencyid: a,
            includerelated: d.includerelated || !1,
            includecourses: d.includecourses || !1,
          },
        },
      ]);
      return e[0]
        .then(function (a) {
          return a;
        })
        .fail(b.exception);
    }),
    {
      init: function () {
        "undefined" == typeof g &&
          ((g = new h()),
          a("body").delegate(
            '[data-action="competency-dialogue"]',
            "click",
            { compdialogue: g },
            g.clickEventHandler.bind(g)
          ));
      },
    }
  );
});
define("tool_lp/competencypicker", [
  "jquery",
  "core/notification",
  "core/ajax",
  "core/templates",
  "tool_lp/dialogue",
  "core/str",
  "tool_lp/tree",
], function (a, b, c, d, e, f, g) {
  var h = function (b, c, d, e) {
    var f = this;
    (f._eventNode = a("<div></div>")),
      (f._frameworks = []),
      f._reset(),
      (f._pageContextId = b),
      (f._pageContextIncludes = d || "children"),
      (f._multiSelect = "undefined" == typeof e || e === !0),
      c && ((f._frameworkId = c), (f._singleFramework = !0));
  };
  return (
    (h.prototype._competencies = null),
    (h.prototype._disallowedCompetencyIDs = null),
    (h.prototype._eventNode = null),
    (h.prototype._frameworks = null),
    (h.prototype._frameworkId = null),
    (h.prototype._pageContextId = null),
    (h.prototype._pageContextIncludes = null),
    (h.prototype._popup = null),
    (h.prototype._searchText = ""),
    (h.prototype._selectedCompetencies = null),
    (h.prototype._singleFramework = !1),
    (h.prototype._multiSelect = !0),
    (h.prototype._onlyVisible = !0),
    (h.prototype._afterRender = function () {
      var b = this,
        c = new g(b._find("[data-enhance=linktree]"), b._multiSelect);
      b._find("[data-enhance=linktree]").show(),
        c.on("selectionchanged", function (c, d) {
          var e = d.selected;
          c.preventDefault();
          var f = [];
          a.each(e, function (c, d) {
            var e = a(d).data("id"),
              g = !0;
            "undefined" == typeof e
              ? (g = !1)
              : a.each(b._disallowedCompetencyIDs, function (a, b) {
                  b == e && (g = !1);
                }),
              g && f.push(e);
          }),
            (b._selectedCompetencies = f),
            b._selectedCompetencies.length
              ? b
                  ._find(
                    '[data-region="competencylinktree"] [data-action="add"]'
                  )
                  .removeAttr("disabled")
              : b
                  ._find(
                    '[data-region="competencylinktree"] [data-action="add"]'
                  )
                  .attr("disabled", "disabled");
        }),
        b._singleFramework ||
          b._find('[data-action="chooseframework"]').change(function (c) {
            (b._frameworkId = a(c.target).val()),
              b._loadCompetencies().then(b._refresh.bind(b));
          }),
        b
          ._find('[data-region="filtercompetencies"] button')
          .click(function (c) {
            return (
              c.preventDefault(),
              a(c.target).attr("disabled", "disabled"),
              (b._searchText =
                b._find('[data-region="filtercompetencies"] input').val() ||
                ""),
              b._refresh().always(function () {
                a(c.target).removeAttr("disabled");
              })
            );
          }),
        b
          ._find('[data-region="competencylinktree"] [data-action="cancel"]')
          .click(function (a) {
            a.preventDefault(), b.close();
          }),
        b
          ._find('[data-region="competencylinktree"] [data-action="add"]')
          .click(function (a) {
            a.preventDefault(),
              b._selectedCompetencies.length &&
                (b._multiSelect
                  ? b._trigger("save", {
                      competencyIds: b._selectedCompetencies,
                    })
                  : b._trigger("save", {
                      competencyId: b._selectedCompetencies[0],
                    }),
                b.close());
          });
      var d = b._selectedCompetencies.slice(0);
      a.each(d, function (a, d) {
        var e = b._find("[data-id=" + d + "]");
        e.length && (c.toggleItem(e), c.updateFocus(e));
      });
    }),
    (h.prototype.close = function () {
      var a = this;
      a._popup.close(), a._reset();
    }),
    (h.prototype.display = function () {
      var a = this;
      return a
        ._render()
        .then(function (b) {
          return f.get_string("competencypicker", "tool_lp").then(function (c) {
            a._popup = new e(c, b, a._afterRender.bind(a));
          });
        })
        .fail(b.exception);
    }),
    (h.prototype._fetchCompetencies = function (a, d) {
      var e = this;
      return c
        .call([
          {
            methodname: "core_competency_search_competencies",
            args: { searchtext: d, competencyframeworkid: a },
          },
        ])[0]
        .done(function (a) {
          function b(a, c) {
            for (var d = 0; d < c.length; d++)
              c[d].parentid == a.id &&
                ((a.haschildren = !0),
                (c[d].children = []),
                (c[d].haschildren = !1),
                (a.children[a.children.length] = c[d]),
                b(c[d], c));
          }
          var c,
            d,
            f = [];
          for (c = 0; c < a.length; c++)
            (d = a[c]),
              "0" == d.parentid &&
                ((d.children = []),
                (d.haschildren = 0),
                (f[f.length] = d),
                b(d, a));
          e._competencies = f;
        })
        .fail(b.exception);
    }),
    (h.prototype._find = function (b) {
      return a(this._popup.getContent()).find(b);
    }),
    (h.prototype._getFramework = function (b) {
      var c;
      return (
        a.each(this._frameworks, function (a, d) {
          if (d.id == b) return void (c = d);
        }),
        c
      );
    }),
    (h.prototype._loadCompetencies = function () {
      return this._fetchCompetencies(this._frameworkId, this._searchText);
    }),
    (h.prototype._loadFrameworks = function () {
      var d,
        e = this;
      return e._frameworks.length > 0
        ? a.when()
        : ((d = e._singleFramework
            ? c
                .call([
                  {
                    methodname: "core_competency_read_competency_framework",
                    args: { id: this._frameworkId },
                  },
                ])[0]
                .then(function (a) {
                  return [a];
                })
            : c.call([
                {
                  methodname: "core_competency_list_competency_frameworks",
                  args: {
                    sort: "shortname",
                    context: { contextid: e._pageContextId },
                    includes: e._pageContextIncludes,
                    onlyvisible: e._onlyVisible,
                  },
                },
              ])[0]),
          d
            .done(function (a) {
              e._frameworks = a;
            })
            .fail(b.exception));
    }),
    (h.prototype.on = function (a, b) {
      this._eventNode.on(a, b);
    }),
    (h.prototype._preRender = function () {
      var b = this;
      return b._loadFrameworks().then(function () {
        return (
          !b._frameworkId &&
            b._frameworks.length > 0 &&
            (b._frameworkId = b._frameworks[0].id),
          b._frameworkId
            ? b._loadCompetencies()
            : ((b._frameworks = []), a.when())
        );
      });
    }),
    (h.prototype._refresh = function () {
      var a = this;
      return a._render().then(function (b) {
        a._find('[data-region="competencylinktree"]').replaceWith(b),
          a._afterRender();
      });
    }),
    (h.prototype._render = function () {
      var b = this;
      return b._preRender().then(function () {
        b._singleFramework ||
          a.each(b._frameworks, function (a, c) {
            c.id == b._frameworkId ? (c.selected = !0) : (c.selected = !1);
          });
        var c = {
          competencies: b._competencies,
          framework: b._getFramework(b._frameworkId),
          frameworks: b._frameworks,
          search: b._searchText,
          singleFramework: b._singleFramework,
        };
        return d.render("tool_lp/competency_picker", c);
      });
    }),
    (h.prototype._reset = function () {
      (this._competencies = []),
        (this._disallowedCompetencyIDs = []),
        (this._popup = null),
        (this._searchText = ""),
        (this._selectedCompetencies = []);
    }),
    (h.prototype.setDisallowedCompetencyIDs = function (a) {
      this._disallowedCompetencyIDs = a;
    }),
    (h.prototype._trigger = function (a, b) {
      this._eventNode.trigger(a, [b]);
    }),
    h
  );
});
define("tool_lp/competencypicker_user_plans", [
  "jquery",
  "core/notification",
  "core/ajax",
  "core/templates",
  "core/str",
  "tool_lp/tree",
  "tool_lp/competencypicker",
], function (a, b, c, d, e, f, g) {
  var h = function (a, b, c) {
    g.prototype.constructor.apply(this, [1, !1, "self", c]),
      (this._userId = a),
      (this._plans = []),
      b && ((this._planId = b), (this._singlePlan = !0));
  };
  return (
    (h.prototype = Object.create(g.prototype)),
    (h.prototype._plans = null),
    (h.prototype._planId = null),
    (h.prototype._singlePlan = !1),
    (h.prototype._userId = null),
    (h.prototype._afterRender = function () {
      var b = this;
      g.prototype._afterRender.apply(b, arguments),
        b._singlePlan ||
          b._find('[data-action="chooseplan"]').change(function (c) {
            (b._planId = a(c.target).val()),
              b._loadCompetencies().then(b._refresh.bind(b));
          });
    }),
    (h.prototype._fetchCompetencies = function (a, d) {
      var e = this;
      return c
        .call([
          {
            methodname: "core_competency_list_plan_competencies",
            args: { id: a },
          },
        ])[0]
        .done(function (a) {
          var b,
            c,
            f = [];
          for (b = 0; b < a.length; b++)
            (c = a[b].competency),
              c.shortname.toLowerCase().indexOf(d.toLowerCase()) < 0 ||
                ((c.children = []), (c.haschildren = 0), f.push(c));
          e._competencies = f;
        })
        .fail(b.exception);
    }),
    (h.prototype._getPlan = function (b) {
      var c;
      return (
        a.each(this._plans, function (a, d) {
          if (d.id == b) return void (c = d);
        }),
        c
      );
    }),
    (h.prototype._loadCompetencies = function () {
      return this._fetchCompetencies(this._planId, this._searchText);
    }),
    (h.prototype._loadPlans = function () {
      var d,
        e = this;
      return e._plans.length > 0
        ? a.when()
        : ((d = e._singlePlan
            ? c
                .call([
                  {
                    methodname: "core_competency_read_plan",
                    args: { id: this._planId },
                  },
                ])[0]
                .then(function (a) {
                  return [a];
                })
            : c.call([
                {
                  methodname: "core_competency_list_user_plans",
                  args: { userid: e._userId },
                },
              ])[0]),
          d
            .done(function (a) {
              e._plans = a;
            })
            .fail(b.exception));
    }),
    (h.prototype._preRender = function () {
      var b = this;
      return b._loadPlans().then(function () {
        return (
          !b._planId && b._plans.length > 0 && (b._planId = b._plans[0].id),
          b._planId ? b._loadCompetencies() : ((b._plans = []), a.when())
        );
      });
    }),
    (h.prototype._render = function () {
      var b = this;
      return b._preRender().then(function () {
        b._singlePlan ||
          a.each(b._plans, function (a, c) {
            c.id == b._planId ? (c.selected = !0) : (c.selected = !1);
          });
        var c = {
          competencies: b._competencies,
          plan: b._getPlan(b._planId),
          plans: b._plans,
          search: b._searchText,
          singlePlan: b._singlePlan,
        };
        return d.render("tool_lp/competency_picker_user_plans", c);
      });
    }),
    h
  );
});
define("tool_lp/competencyruleconfig", [
  "jquery",
  "core/notification",
  "core/templates",
  "tool_lp/dialogue",
  "tool_lp/competency_outcomes",
  "core/str",
], function (a, b, c, d, e, f) {
  var g = function (b, c) {
    (this._eventNode = a("<div></div>")),
      (this._tree = b),
      (this._rulesModules = c),
      this._setUp();
  };
  return (
    (g.prototype._competency = null),
    (g.prototype._eventNode = null),
    (g.prototype._outcomesOption = null),
    (g.prototype._popup = null),
    (g.prototype._ready = null),
    (g.prototype._rules = null),
    (g.prototype._rulesModules = null),
    (g.prototype._tree = null),
    (g.prototype._afterChange = function () {
      this._isValid()
        ? this._find('[data-action="save"]').prop("disabled", !1)
        : this._find('[data-action="save"]').prop("disabled", !0);
    }),
    (g.prototype._afterRuleConfigChange = function (a, b) {
      b == this._getRule() && this._afterChange();
    }),
    (g.prototype._afterRender = function () {
      var a = this;
      a
        ._find('[name="outcome"]')
        .on("change", function () {
          a._switchedOutcome();
        })
        .trigger("change"),
        a
          ._find('[name="rule"]')
          .on("change", function () {
            a._switchedRule();
          })
          .trigger("change"),
        a._find('[data-action="save"]').on("click", function () {
          a._trigger("save", a._getConfig()), a.close();
        }),
        a._find('[data-action="cancel"]').on("click", function () {
          a.close();
        });
    }),
    (g.prototype.canBeConfigured = function () {
      var b = !1;
      return (
        a.each(this._rules, function (a, c) {
          if (c.canConfig()) return void (b = !0);
        }),
        b
      );
    }),
    (g.prototype.close = function () {
      this._popup.close(), (this._popup = null);
    }),
    (g.prototype.display = function () {
      var a = this;
      return (
        !!a._competency &&
        a
          ._render()
          .then(function (b) {
            return f.get_string("competencyrule", "tool_lp").then(function (c) {
              a._popup = new d(c, b, a._afterRender.bind(a));
            });
          })
          .fail(b.exception)
      );
    }),
    (g.prototype._find = function (b) {
      return a(this._popup.getContent()).find(b);
    }),
    (g.prototype._getApplicableOutcomesOptions = function () {
      var b = this,
        c = [];
      return (
        a.each(b._outcomesOption, function (a, d) {
          c.push({
            code: d.code,
            name: d.name,
            selected: d.code == b._competency.ruleoutcome,
          });
        }),
        c
      );
    }),
    (g.prototype._getApplicableRulesOptions = function () {
      var b = this,
        c = [];
      return (
        a.each(b._rules, function (a, d) {
          d.canConfig() &&
            c.push({
              name: b._getRuleName(d.getType()),
              type: d.getType(),
              selected: d.getType() == b._competency.ruletype,
            });
        }),
        c
      );
    }),
    (g.prototype._getConfig = function () {
      var a = this._getRule();
      return {
        ruletype: a ? a.getType() : null,
        ruleconfig: a ? a.getConfig() : null,
        ruleoutcome: this._getOutcome(),
      };
    }),
    (g.prototype._getOutcome = function () {
      return this._find('[name="outcome"]').val();
    }),
    (g.prototype._getRule = function () {
      var b,
        c = this._find('[name="rule"]').val();
      return (
        a.each(this._rules, function (a, d) {
          if (d.getType() == c) return void (b = d);
        }),
        b
      );
    }),
    (g.prototype._getRuleName = function (b) {
      var c,
        d = this;
      return (
        a.each(d._rulesModules, function (a, d) {
          if (d.type == b) return void (c = d.name);
        }),
        c
      );
    }),
    (g.prototype._initOutcomes = function () {
      var a = this;
      return e.getAll().then(function (b) {
        a._outcomesOption = b;
      });
    }),
    (g.prototype._initRules = function () {
      var b = this,
        c = [];
      return (
        a.each(b._rules, function (d, e) {
          var f = e.init().then(
            function () {
              e.setTargetCompetency(b._competency),
                e.on("change", b._afterRuleConfigChange.bind(b));
            },
            function () {
              return b._rules.splice(d, 1), a.when();
            }
          );
          c.push(f);
        }),
        a.when.apply(a.when, c)
      );
    }),
    (g.prototype._isValid = function () {
      var a = this._getOutcome(),
        b = this._getRule();
      return a == e.NONE || (!!b && b.isValid());
    }),
    (g.prototype.on = function (a, b) {
      this._eventNode.on(a, b);
    }),
    (g.prototype._preRender = function () {
      return this.ready();
    }),
    (g.prototype.ready = function () {
      return this._ready.promise();
    }),
    (g.prototype._render = function () {
      var a = this;
      return this._preRender().then(function () {
        var b;
        a.canBeConfigured()
          ? ((b = {}),
            (b.outcomes = a._getApplicableOutcomesOptions()),
            (b.rules = a._getApplicableRulesOptions()))
          : (b = !1);
        var d = { competencyshortname: a._competency.shortname, config: b };
        return c.render("tool_lp/competency_rule_config", d);
      });
    }),
    (g.prototype.setTargetCompetencyId = function (b) {
      var c = this;
      (c._competency = c._tree.getCompetency(b)),
        a.each(c._rules, function (a, b) {
          b.setTargetCompetency(c._competency);
        });
    }),
    (g.prototype._setUp = function () {
      var b = this,
        c = [],
        d = [];
      (b._ready = a.Deferred()),
        (b._rules = []),
        a.each(b._rulesModules, function (a, b) {
          d.push(b.amd);
        }),
        require(d, function () {
          a.each(arguments, function (a, c) {
            var d = new c(b._tree);
            b._rules.push(d);
          }),
            c.push(b._initRules()),
            c.push(b._initOutcomes()),
            a.when.apply(a.when, c).always(function () {
              b._ready.resolve();
            });
        });
    }),
    (g.prototype._switchedOutcome = function () {
      var a = this,
        b = a._getOutcome();
      return b == e.NONE
        ? (a
            ._find('[data-region="rule-type"]')
            .hide()
            .find('[name="rule"]')
            .val(-1),
          a._find('[data-region="rule-config"]').empty().hide(),
          void a._afterChange())
        : (a._find('[data-region="rule-type"]').show(),
          a._find('[data-region="rule-config"]').show(),
          void a._afterChange());
    }),
    (g.prototype._switchedRule = function () {
      var a = this,
        b = a._find('[data-region="rule-config"]'),
        c = a._getRule();
      return c
        ? void c
            .injectTemplate(b)
            .then(
              function () {
                b.show();
              },
              function () {
                b.empty().hide();
              }
            )
            .always(function () {
              a._afterChange();
            })
        : (b.empty().hide(), void a._afterChange());
    }),
    (g.prototype._trigger = function (a, b) {
      this._eventNode.trigger(a, [b]);
    }),
    g
  );
});
define("tool_lp/competencytree", [
  "core/ajax",
  "core/notification",
  "core/templates",
  "tool_lp/tree",
  "tool_lp/competency_outcomes",
  "jquery",
], function (a, b, c, d, e, f) {
  var g = {},
    h = 0,
    i = "",
    j = "",
    k = "",
    l = !1,
    m = function (a, b) {
      var c = 0,
        d = !1;
      for (a.haschildren = !1, a.children = [], c = 0; c < b.length; c++)
        (d = b[c]),
          d.parentid == a.id &&
            ((a.haschildren = !0), a.children.push(d), m(d, b));
    },
    n = function (b) {
      var e = f.Deferred();
      return (
        c.render("tool_lp/loading", {}).done(function (n, o) {
          c.replaceNodeContents(f(j), n, o);
          var p = a.call([
            {
              methodname: "core_competency_search_competencies",
              args: { searchtext: b, competencyframeworkid: h },
            },
          ]);
          p[0]
            .done(function (a) {
              g = {};
              var b = 0;
              for (b = 0; b < a.length; b++) g[a[b].id] = a[b];
              var h = [],
                n = !1;
              for (b = 0; b < a.length; b++)
                (n = a[b]),
                  0 === parseInt(n.parentid, 10) && (h.push(n), m(n, a));
              var o = { shortname: i, canmanage: l, competencies: h };
              c.render("tool_lp/competencies_tree_root", o)
                .done(function (a, b) {
                  c.replaceNodeContents(f(j), f(a).html(), b);
                  var h = new d(j, !1);
                  if (k) {
                    var i = f(j).find("[data-id=" + k + "]");
                    i.length && (h.selectItem(i), h.updateFocus(i));
                  }
                  e.resolve(g);
                })
                .fail(e.reject);
            })
            .fail(e.reject);
        }),
        e.promise()
      );
    },
    o = function (a, b) {
      var c = b.selected;
      k = c.attr("data-id");
    };
  return {
    init: function (a, c, d, e, f) {
      (h = a),
        (i = c),
        (l = f),
        (j = e),
        n(d).fail(b.exception),
        this.on("selectionchanged", o);
    },
    on: function (a, b) {
      f(j).on(a, b);
    },
    getChildren: function (a) {
      var b = [];
      return (
        f.each(g, function (c, d) {
          d.parentid == a && b.push(d);
        }),
        b
      );
    },
    getCompetencyFrameworkId: function () {
      return h;
    },
    getCompetency: function (a) {
      return g[a];
    },
    getCompetencyLevel: function (a) {
      var b = this.getCompetency(a),
        c = b.path.replace(/^\/|\/$/g, "").split("/").length;
      return c;
    },
    hasChildren: function (a) {
      return this.getChildren(a).length > 0;
    },
    hasRule: function (a) {
      var b = this.getCompetency(a);
      return !!b && b.ruleoutcome != e.OUTCOME_NONE && b.ruletype;
    },
    reloadCompetencies: function () {
      return n("").fail(b.exception);
    },
    listCompetencies: function () {
      return g;
    },
  };
});
define("tool_lp/course_competency_settings", [
  "jquery",
  "core/notification",
  "tool_lp/dialogue",
  "core/str",
  "core/ajax",
  "core/templates",
], function (a, b, c, d, e, f) {
  var g = function (b) {
    a(b).on("click", this.configureSettings.bind(this));
  };
  return (
    (g.prototype._dialogue = null),
    (g.prototype.configureSettings = function (e) {
      var g = a(e.target).closest("a").data("courseid"),
        h = a(e.target).closest("a").data("pushratingstouserplans"),
        i = { courseid: g, settings: { pushratingstouserplans: h } };
      e.preventDefault(),
        f
          .render("tool_lp/course_competency_settings", i)
          .done(
            function (a) {
              d.get_string("configurecoursecompetencysettings", "tool_lp")
                .done(
                  function (b) {
                    this._dialogue = new c(b, a, this.addListeners.bind(this));
                  }.bind(this)
                )
                .fail(b.exception);
            }.bind(this)
          )
          .fail(b.exception);
    }),
    (g.prototype.addListeners = function () {
      var a = this._find('[data-action="save"]');
      a.on("click", this.saveSettings.bind(this));
      var b = this._find('[data-action="cancel"]');
      b.on("click", this.cancelChanges.bind(this));
    }),
    (g.prototype.cancelChanges = function (a) {
      a.preventDefault(), this._dialogue.close();
    }),
    (g.prototype._find = function (b) {
      return a('[data-region="coursecompetencysettings"]').find(b);
    }),
    (g.prototype.saveSettings = function (a) {
      a.preventDefault();
      var c = this._find('input[name="pushratingstouserplans"]:checked').val(),
        d = this._find('input[name="courseid"]').val(),
        f = { pushratingstouserplans: c };
      e.call([
        {
          methodname: "core_competency_update_course_competency_settings",
          args: { courseid: d, settings: f },
        },
      ])[0]
        .done(
          function () {
            this.refreshCourseCompetenciesPage();
          }.bind(this)
        )
        .fail(b.exception);
    }),
    (g.prototype.refreshCourseCompetenciesPage = function () {
      var c = this._find('input[name="courseid"]').val();
      e.call([
        {
          methodname: "tool_lp_data_for_course_competencies_page",
          args: { courseid: c },
        },
      ])[0]
        .done(
          function (c) {
            f.render("tool_lp/course_competencies_page", c)
              .done(
                function (b, c) {
                  a('[data-region="coursecompetenciespage"]').replaceWith(b),
                    f.runTemplateJS(c),
                    this._dialogue.close();
                }.bind(this)
              )
              .fail(b.exception);
          }.bind(this)
        )
        .fail(b.exception);
    }),
    g
  );
});
define("tool_lp/dialogue", ["core/yui"], function (a) {
  var b = function (b, c, d, e, f) {
    this.yuiDialogue = null;
    var g = this;
    "undefined" == typeof f && (f = !1),
      a.use("moodle-core-notification", "timers", function () {
        var h = "480px";
        f && (h = "800px"),
          (g.yuiDialogue = new M.core.dialogue({
            headerContent: b,
            bodyContent: c,
            draggable: !0,
            visible: !1,
            center: !0,
            modal: !0,
            width: h,
          })),
          g.yuiDialogue.after("visibleChange", function (b) {
            b.newVal
              ? "undefined" != typeof d &&
                a.soon(function () {
                  d(g), g.yuiDialogue.centerDialogue();
                })
              : "undefined" != typeof e &&
                a.soon(function () {
                  e(g);
                });
          }),
          g.yuiDialogue.show();
      });
  };
  return (
    (b.prototype.close = function () {
      this.yuiDialogue.hide(), this.yuiDialogue.destroy();
    }),
    (b.prototype.getContent = function () {
      return this.yuiDialogue.bodyNode.getDOMNode();
    }),
    b
  );
});
define("tool_lp/dragdrop-reorder", ["core/str", "core/yui"], function (a, b) {
  var c = null,
    d = function (a) {
      var b = a.drag.get("node"),
        c = a.drop.get("node");
      this.callback(b.getDOMNode(), c.getDOMNode());
    };
  return {
    dragdrop: function (e, f, g, h, i, j, k, l) {
      a.get_strings([
        { key: "emptydragdropregion", component: "moodle" },
        { key: "movecontent", component: "moodle" },
        { key: "tocontent", component: "moodle" },
      ]).done(function () {
        b.use("moodle-tool_lp-dragdrop-reorder", function () {
          var a = { callback: l };
          c && c.destroy(),
            (c = M.tool_lp.dragdrop_reorder({
              group: e,
              dragHandleText: f,
              sameNodeText: g,
              parentNodeText: h,
              sameNodeClass: i,
              parentNodeClass: j,
              dragHandleInsertClass: k,
              callback: b.bind(d, a),
            }));
        });
      });
    },
  };
});
define("tool_lp/event_base", ["jquery"], function (a) {
  var b = function () {
    this._eventNode = a("<div></div>");
  };
  return (
    (b.prototype._eventNode = null),
    (b.prototype.on = function (a, b) {
      this._eventNode.on(a, b);
    }),
    (b.prototype._trigger = function (a, b) {
      this._eventNode.trigger(a, [b]);
    }),
    b
  );
});
define("tool_lp/evidence_delete", [
  "jquery",
  "core/notification",
  "core/ajax",
  "core/str",
  "core/log",
], function (a, b, c, d, e) {
  var f = {},
    g = function (g, h) {
      "undefined" == typeof f[g] &&
        (f[g] = a("body").delegate(g, "click", function (f) {
          var g = a(f.currentTarget).parents(h);
          if (!g.length || g.length > 1)
            return void e.error(
              "None or too many evidence container were found."
            );
          var i = g.data("id");
          return i
            ? (f.preventDefault(),
              f.stopPropagation(),
              void d
                .get_strings([
                  { key: "confirm", component: "moodle" },
                  { key: "areyousure", component: "moodle" },
                  { key: "delete", component: "moodle" },
                  { key: "cancel", component: "moodle" },
                ])
                .done(function (a) {
                  b.confirm(a[0], a[1], a[2], a[3], function () {
                    var a = c.call([
                      {
                        methodname: "core_competency_delete_evidence",
                        args: { id: i },
                      },
                    ]);
                    a[0]
                      .then(function () {
                        g.remove();
                      })
                      .fail(b.exception);
                  });
                })
                .fail(b.exception))
            : void e.error("Evidence ID was not found.");
        }));
    };
  return { register: g };
});
define("tool_lp/form-cohort-selector", [
  "jquery",
  "core/ajax",
  "core/templates",
], function (a, b, c) {
  return {
    processResults: function (b, c) {
      var d = [];
      return (
        a.each(c, function (a, b) {
          d.push({ value: b.id, label: b._label });
        }),
        d
      );
    },
    transport: function (d, e, f, g) {
      var h,
        i = parseInt(a(d).data("contextid"), 10),
        j = a(d).data("includes");
      (h = b.call([
        {
          methodname: "tool_lp_search_cohorts",
          args: { query: e, context: { contextid: i }, includes: j },
        },
      ])),
        h[0].then(function (b) {
          var d = [],
            e = 0;
          return (
            a.each(b.cohorts, function (a, b) {
              d.push(c.render("tool_lp/form-cohort-selector-suggestion", b));
            }),
            a.when.apply(a.when, d).then(function () {
              var c = arguments;
              a.each(b.cohorts, function (a, b) {
                (b._label = c[e]), e++;
              }),
                f(b.cohorts);
            })
          );
        }, g);
    },
  };
});
define("tool_lp/form-user-selector", [
  "jquery",
  "core/ajax",
  "core/templates",
], function (a, b, c) {
  return {
    processResults: function (b, c) {
      var d = [];
      return (
        a.each(c, function (a, b) {
          d.push({ value: b.id, label: b._label });
        }),
        d
      );
    },
    transport: function (d, e, f, g) {
      var h,
        i = a(d).data("capability");
      "undefined" == typeof i && (i = ""),
        (h = b.call([
          {
            methodname: "tool_lp_search_users",
            args: { query: e, capability: i },
          },
        ])),
        h[0].then(function (b) {
          var d = [],
            e = 0;
          return (
            a.each(b.users, function (b, e) {
              var f = e,
                g = [];
              a.each(
                [
                  "idnumber",
                  "email",
                  "phone1",
                  "phone2",
                  "department",
                  "institution",
                ],
                function (a, b) {
                  "undefined" != typeof e[b] &&
                    "" !== e[b] &&
                    ((f.hasidentity = !0), g.push(e[b]));
                }
              ),
                (f.identity = g.join(", ")),
                d.push(c.render("tool_lp/form-user-selector-suggestion", f));
            }),
            a.when.apply(a.when, d).then(function () {
              var c = arguments;
              a.each(b.users, function (a, b) {
                (b._label = c[e]), e++;
              }),
                f(b.users);
            })
          );
        }, g);
    },
  };
});
define("tool_lp/frameworkactions", [
  "jquery",
  "core/templates",
  "core/ajax",
  "core/notification",
  "core/str",
], function (a, b, c, d, e) {
  var f = 0,
    g = 0,
    h = function (c, d) {
      a('[data-region="managecompetencies"]').replaceWith(c),
        b.runTemplateJS(d);
    },
    i = function (a) {
      b.render("tool_lp/manage_competency_frameworks_page", a)
        .done(h)
        .fail(d.exception);
    },
    j = function (b) {
      b.preventDefault(), (g = a(this).attr("data-frameworkid"));
      var e = c.call([
        {
          methodname: "core_competency_duplicate_competency_framework",
          args: { id: g },
        },
        {
          methodname: "tool_lp_data_for_competency_frameworks_manage_page",
          args: { pagecontext: { contextid: f } },
        },
      ]);
      e[1].done(i).fail(d.exception);
    },
    k = function () {
      var a = c.call([
        {
          methodname: "core_competency_delete_competency_framework",
          args: { id: g },
        },
        {
          methodname: "tool_lp_data_for_competency_frameworks_manage_page",
          args: { pagecontext: { contextid: f } },
        },
      ]);
      a[0]
        .done(function (a) {
          if (a === !1) {
            var b = c.call([
              {
                methodname: "core_competency_read_competency_framework",
                args: { id: g },
              },
            ]);
            b[0].done(function (a) {
              e.get_strings([
                {
                  key: "frameworkcannotbedeleted",
                  component: "tool_lp",
                  param: a.shortname,
                },
                { key: "cancel", component: "moodle" },
              ])
                .done(function (a) {
                  d.alert(null, a[0]);
                })
                .fail(d.exception);
            });
          }
        })
        .fail(d.exception),
        a[1].done(i).fail(d.exception);
    },
    l = function (b) {
      b.preventDefault();
      var f = a(this).attr("data-frameworkid");
      g = f;
      var h = c.call([
        {
          methodname: "core_competency_read_competency_framework",
          args: { id: g },
        },
      ]);
      h[0]
        .done(function (a) {
          e.get_strings([
            { key: "confirm", component: "moodle" },
            {
              key: "deletecompetencyframework",
              component: "tool_lp",
              param: a.shortname,
            },
            { key: "delete", component: "moodle" },
            { key: "cancel", component: "moodle" },
          ])
            .done(function (a) {
              d.confirm(a[0], a[1], a[2], a[3], k);
            })
            .fail(d.exception);
        })
        .fail(d.exception);
    };
  return {
    deleteHandler: l,
    duplicateHandler: j,
    init: function (a) {
      f = a;
    },
  };
});
define("tool_lp/frameworks_datasource", [
  "jquery",
  "core/ajax",
  "core/notification",
], function (a, b, c) {
  return {
    list: function (d, e) {
      var f,
        g = { context: { contextid: d } };
      return (
        a.extend(g, "undefined" == typeof e ? {} : e),
        (f = b.call([
          { methodname: "core_competency_list_competency_frameworks", args: g },
        ])[0]),
        f.fail(c.exception)
      );
    },
    processResults: function (b, c) {
      var d = [];
      return (
        a.each(c, function (a, b) {
          d.push({ value: b.id, label: b.shortname + " " + b.idnumber });
        }),
        d
      );
    },
    transport: function (b, c, d) {
      var e = a(b),
        f = e.data("contextid"),
        g = e.data("onlyvisible");
      if (!f)
        throw new Error("The attribute data-contextid is required on " + b);
      this.list(f, { query: c, onlyvisible: g }).then(d);
    },
  };
});
define("tool_lp/grade_dialogue", [
  "jquery",
  "core/notification",
  "core/templates",
  "tool_lp/dialogue",
  "tool_lp/event_base",
  "core/str",
], function (a, b, c, d, e, f) {
  var g = function (a) {
    e.prototype.constructor.apply(this, []), (this._ratingOptions = a);
  };
  return (
    (g.prototype = Object.create(e.prototype)),
    (g.prototype._popup = null),
    (g.prototype._ratingOptions = null),
    (g.prototype._afterRender = function () {
      var b = this._find('[data-action="rate"]'),
        c = this._find('[name="rating"]'),
        d = this._find('[name="comment"]');
      this._find('[data-action="cancel"]').click(
        function (a) {
          a.preventDefault(), this._trigger("cancelled"), this.close();
        }.bind(this)
      ),
        c
          .change(function () {
            var c = a(this);
            c.val() ? b.prop("disabled", !1) : b.prop("disabled", !0);
          })
          .change(),
        b.click(
          function (a) {
            a.preventDefault();
            var b = c.val();
            b &&
              (this._trigger("rated", { rating: b, note: d.val() }),
              this.close());
          }.bind(this)
        );
    }),
    (g.prototype.close = function () {
      this._popup.close(), (this._popup = null);
    }),
    (g.prototype.display = function () {
      return this._render()
        .then(
          function (a) {
            return f.get_string("rate", "tool_lp").then(
              function (b) {
                this._popup = new d(b, a, this._afterRender.bind(this));
              }.bind(this)
            );
          }.bind(this)
        )
        .fail(b.exception);
    }),
    (g.prototype._find = function (b) {
      return a(this._popup.getContent()).find(b);
    }),
    (g.prototype._render = function () {
      var a = { cangrade: this._canGrade, ratings: this._ratingOptions };
      return c.render("tool_lp/competency_grader", a);
    }),
    g
  );
});
define("tool_lp/grade_user_competency_inline", [
  "jquery",
  "core/notification",
  "core/ajax",
  "core/log",
  "tool_lp/grade_dialogue",
  "tool_lp/event_base",
  "tool_lp/scalevalues",
], function (a, b, c, d, e, f, g) {
  var h = function (b, c, d, e, g, h, i) {
    f.prototype.constructor.apply(this, []);
    var j = a(b);
    if (!j.length) throw new Error("Could not find the trigger");
    (this._scaleId = c),
      (this._competencyId = d),
      (this._userId = e),
      (this._planId = g),
      (this._courseId = h),
      (this._chooseStr = i),
      this._setUp(),
      j.click(
        function (a) {
          a.preventDefault(), this._dialogue.display();
        }.bind(this)
      ),
      this._planId
        ? ((this._methodName = "core_competency_grade_competency_in_plan"),
          (this._args = {
            competencyid: this._competencyId,
            planid: this._planId,
          }))
        : this._courseId
        ? ((this._methodName = "core_competency_grade_competency_in_course"),
          (this._args = {
            competencyid: this._competencyId,
            courseid: this._courseId,
            userid: this._userId,
          }))
        : ((this._methodName = "core_competency_grade_competency"),
          (this._args = {
            userid: this._userId,
            competencyid: this._competencyId,
          }));
  };
  return (
    (h.prototype = Object.create(f.prototype)),
    (h.prototype._setUp = function () {
      var a = [],
        d = this,
        f = g.get_values(d._scaleId);
      f.done(function (f) {
        a.push({ value: "", name: d._chooseStr });
        for (var g = 0; g < f.length; g++) {
          var h = f[g];
          a.push({ value: h.id, name: h.name });
        }
        (d._dialogue = new e(a)),
          d._dialogue.on("rated", function (a, e) {
            var f = d._args;
            (f.grade = e.rating),
              (f.note = e.note),
              c.call([
                {
                  methodname: d._methodName,
                  args: f,
                  done: function (a) {
                    d._trigger("competencyupdated", { args: f, evidence: a });
                  },
                  fail: b.exception,
                },
              ]);
          });
      }).fail(b.exception);
    }),
    (h.prototype._scaleId = null),
    (h.prototype._competencyId = null),
    (h.prototype._userId = null),
    (h.prototype._planId = null),
    (h.prototype._courseId = null),
    (h.prototype._chooseStr = null),
    (h.prototype._dialogue = null),
    h
  );
});
define("tool_lp/menubar", ["jquery"], function (a) {
  var b = !1,
    c = !1,
    d = function () {
      a(".tool-lp-menu .tool-lp-sub-menu").attr("aria-hidden", "true"),
        (c = !1);
    },
    e = function (a, b) {
      (this.menuRoot = a),
        (this.handlers = b),
        (this.rootMenus = this.menuRoot.children("li")),
        (this.subMenus = this.rootMenus.children("ul")),
        (this.subMenuItems = this.subMenus.children("li")),
        (this.allItems = this.rootMenus.add(this.subMenuItems)),
        (this.activeItem = null),
        (this.isChildOpen = !1),
        (this.keys = {
          tab: 9,
          enter: 13,
          esc: 27,
          space: 32,
          left: 37,
          up: 38,
          right: 39,
          down: 40,
        }),
        this.addAriaAttributes(),
        this.addEventListeners();
    };
  return (
    (e.prototype.openSubMenu = function (a) {
      this.setOpenDirection(), d(), a.attr("aria-hidden", "false"), (c = !0);
    }),
    (e.prototype.addEventListeners = function () {
      var e = this;
      b === !1 &&
        (a(document).click(function () {
          c && d();
        }),
        (b = !0)),
        this.subMenuItems.mouseenter(function () {
          return a(this).addClass("menu-hover"), !0;
        }),
        this.subMenuItems.mouseout(function () {
          return a(this).removeClass("menu-hover"), !0;
        }),
        this.allItems.click(function (b) {
          return e.handleClick(a(this), b);
        }),
        this.allItems.keydown(function (b) {
          return e.handleKeyDown(a(this), b);
        }),
        this.allItems.focus(function () {
          return e.handleFocus(a(this));
        }),
        this.allItems.blur(function () {
          return e.handleBlur(a(this));
        });
    }),
    (e.prototype.handleClick = function (b, c) {
      c.stopPropagation();
      var d = b.parent();
      if (d.is(".tool-lp-menu"))
        "true" == b.children("ul").first().attr("aria-hidden")
          ? this.openSubMenu(b.children("ul").first())
          : b.children("ul").first().attr("aria-hidden", "true");
      else {
        this.allItems.removeClass("menu-hover menu-focus"),
          (this.activeItem = null),
          this.menuRoot
            .find("ul")
            .not(".root-level")
            .attr("aria-hidden", "true");
        var e = b.find("a").first(),
          f = new a.Event("click");
        f.target = e;
        var g = !1;
        this.handlers &&
          a.each(this.handlers, function (c, d) {
            if (!g && b.find(c).length > 0) {
              var h = a.proxy(d, e);
              g = h(f) === !1 || f.isDefaultPrevented();
            }
          }),
          g ||
            "#" === e.attr("href") ||
            (window.location.href = e.attr("href"));
      }
      return !1;
    }),
    (e.prototype.handleFocus = function (a) {
      if (null === this.activeItem) this.activeItem = a;
      else if (a[0] != this.activeItem[0]) return !0;
      var b = this.activeItem.parentsUntil("ul.tool-lp-menu").filter("li");
      if (
        (this.allItems.removeClass("menu-focus"),
        this.activeItem.addClass("menu-focus"),
        b.addClass("menu-focus"),
        this.isChildOpen === !0)
      ) {
        var c = a.parent();
        c.is(".tool-lp-menu") &&
          "true" == a.attr("aria-haspopup") &&
          this.openSubMenu(a.children("ul").first());
      }
      return !0;
    }),
    (e.prototype.handleBlur = function (a) {
      return a.removeClass("menu-focus"), !0;
    }),
    (e.prototype.setOpenDirection = function () {
      var b = this.menuRoot.offset(),
        c = a(document.body).hasClass("dir-rtl"),
        d = !0,
        e = this.rootMenus.outerHeight(),
        f = this.rootMenus.outerWidth(),
        g = this.rootMenus.find("ul.tool-lp-sub-menu");
      g.css("margin-right", ""),
        g.css("margin-left", ""),
        g.css("margin-top", ""),
        g.attr("aria-hidden", !1);
      var h = g.outerWidth(),
        i = g.outerHeight(),
        j = null,
        k = null,
        l = null,
        m = b.top - a(window).scrollTop();
      m + i > a(window).height() &&
        ((j = i + e), g.css("margin-top", "-" + j + "px")),
        c
          ? b.left - h < 0 &&
            ((k = h - f), g.css("margin-right", "-" + k + "px"))
          : b.left + h > a(window).width() &&
            ((l = h - f), g.css("margin-left", "-" + l + "px")),
        d
          ? this.menuRoot.addClass("tool-lp-menu-open-left")
          : this.menuRoot.removeClass("tool-lp-menu-open-left");
    }),
    (e.prototype.handleKeyDown = function (a, b) {
      if (b.altKey || b.ctrlKey) return !0;
      switch (b.keyCode) {
        case this.keys.tab:
          this.menuRoot.find("ul").attr("aria-hidden", "true"),
            this.allItems.removeClass("menu-focus"),
            (this.activeItem = null),
            (this.isChildOpen = !1);
          break;
        case this.keys.esc:
          var c = a.parent();
          return (
            c.is(".tool-lp-menu")
              ? a.children("ul").first().attr("aria-hidden", "true")
              : ((this.activeItem = c.parent()),
                (this.isChildOpen = !1),
                this.activeItem.focus(),
                c.attr("aria-hidden", "true")),
            b.stopPropagation(),
            !1
          );
        case this.keys.enter:
        case this.keys.space:
          return this.handleClick(a, b);
        case this.keys.left:
          return (
            (this.activeItem = this.moveToPrevious(a)),
            this.activeItem.focus(),
            b.stopPropagation(),
            !1
          );
        case this.keys.right:
          return (
            (this.activeItem = this.moveToNext(a)),
            this.activeItem.focus(),
            b.stopPropagation(),
            !1
          );
        case this.keys.up:
          return (
            (this.activeItem = this.moveUp(a)),
            this.activeItem.focus(),
            b.stopPropagation(),
            !1
          );
        case this.keys.down:
          return (
            (this.activeItem = this.moveDown(a)),
            this.activeItem.focus(),
            b.stopPropagation(),
            !1
          );
      }
      return !0;
    }),
    (e.prototype.moveToNext = function (a) {
      var b = a.parent(),
        c = b.children("li"),
        d = c.length,
        e = c.index(a),
        f = null,
        g = null;
      if (b.is(".tool-lp-menu"))
        (f = e < d - 1 ? a.next() : c.first()),
          "true" == a.attr("aria-haspopup") &&
            ((g = a.children("ul").first()),
            "false" == g.attr("aria-hidden") &&
              (g.attr("aria-hidden", "true"), (this.isChildOpen = !0))),
          a.removeClass("menu-focus"),
          "true" === f.attr("aria-haspopup") &&
            this.isChildOpen === !0 &&
            ((g = f.children("ul").first()), this.openSubMenu(g));
      else if ("true" == a.attr("aria-haspopup"))
        (g = a.children("ul").first()),
          (f = g.children("li").first()),
          this.openSubMenu(g);
      else {
        var h = null,
          i = null;
        (h = a
          .parentsUntil("ul.tool-lp-menu")
          .filter("ul")
          .not(".tool-lp-menu")),
          h.attr("aria-hidden", "true"),
          h.find("li").removeClass("menu-focus"),
          h.last().parent().removeClass("menu-focus"),
          (i = h.last().parent()),
          (e = this.rootMenus.index(i)),
          (f =
            e < this.rootMenus.length - 1 ? i.next() : this.rootMenus.first()),
          f.addClass("menu-focus"),
          "true" == f.attr("aria-haspopup") &&
            ((g = f.children("ul").first()),
            (f = g.children("li").first()),
            this.openSubMenu(g),
            (this.isChildOpen = !0));
      }
      return f;
    }),
    (e.prototype.moveToPrevious = function (a) {
      var b = a.parent(),
        c = b.children("li"),
        d = c.index(a),
        e = null,
        f = null;
      if (b.is(".tool-lp-menu"))
        (e = d > 0 ? a.prev() : c.last()),
          "true" == a.attr("aria-haspopup") &&
            ((f = a.children("ul").first()),
            "false" == f.attr("aria-hidden") &&
              (f.attr("aria-hidden", "true"), (this.isChildOpen = !0))),
          a.removeClass("menu-focus"),
          "true" === e.attr("aria-haspopup") &&
            this.isChildOpen === !0 &&
            ((f = e.children("ul").first()), this.openSubMenu(f));
      else {
        var g = b.parent(),
          h = g.parent();
        h.is(".tool-lp-menu")
          ? (b.attr("aria-hidden", "true"),
            a.removeClass("menu-focus"),
            g.removeClass("menu-focus"),
            (d = this.rootMenus.index(g)),
            (e = d > 0 ? g.prev() : this.rootMenus.last()),
            e.addClass("menu-focus"),
            "true" == e.attr("aria-haspopup") &&
              ((f = e.children("ul").first()),
              this.openSubMenu(f),
              (this.isChildOpen = !0),
              (e = f.children("li").first())))
          : ((e = b.parent()),
            b.attr("aria-hidden", "true"),
            a.removeClass("menu-focus"));
      }
      return e;
    }),
    (e.prototype.moveDown = function (a, b) {
      var c = a.parent(),
        d = c.children("li").not(".separator"),
        e = d.length,
        f = d.index(a),
        g = null,
        h = null;
      if (c.is(".tool-lp-menu"))
        return "true" != a.attr("aria-haspopup")
          ? a
          : ((h = a.children("ul").first()),
            (g = h.children("li").first()),
            this.openSubMenu(h),
            g);
      if (b) {
        var i = !1,
          j = f + 1;
        for (j == e && (j = 0); j != f; ) {
          var k = d.eq(j).html().charAt(0);
          if (k.toLowerCase() == b) {
            i = !0;
            break;
          }
          (j += 1), j == e && (j = 0);
        }
        return i === !0 ? ((g = d.eq(j)), a.removeClass("menu-focus"), g) : a;
      }
      return (
        (g = f < e - 1 ? d.eq(f + 1) : d.first()),
        a.removeClass("menu-focus"),
        g
      );
    }),
    (e.prototype.moveUp = function (a) {
      var b = a.parent(),
        c = b.children("li").not(".separator"),
        d = c.index(a),
        e = null;
      return b.is(".tool-lp-menu")
        ? a
        : ((e = d > 0 ? c.eq(d - 1) : c.last()),
          a.removeClass("menu-focus"),
          e);
    }),
    (e.prototype.addAriaAttributes = function () {
      this.menuRoot.attr("role", "menubar"),
        this.rootMenus.attr("role", "menuitem"),
        this.rootMenus.attr("tabindex", "0"),
        this.rootMenus.attr("aria-haspopup", "true"),
        this.subMenus.attr("role", "menu"),
        this.subMenus.attr("aria-hidden", "true"),
        this.subMenuItems.attr("role", "menuitem"),
        this.subMenuItems.attr("tabindex", "-1"),
        this.menuRoot.addClass("tool-lp-menu"),
        this.allItems.addClass("tool-lp-menu-item"),
        this.rootMenus.addClass("tool-lp-root-menu"),
        this.subMenus.addClass("tool-lp-sub-menu"),
        this.subMenuItems.addClass("dropdown-item");
    }),
    {
      enhance: function (b, c) {
        a(b).each(function (b, d) {
          var f = a(d);
          f.data("menubarEnhanced") !== !0 &&
            (new e(f, c), f.data("menubarEnhanced", !0));
        });
      },
      closeAll: d,
    }
  );
});
define("tool_lp/parentcompetency_form", [
  "jquery",
  "core/ajax",
  "core/str",
  "tool_lp/competencypicker",
  "core/templates",
  "core/notification",
], function (a, b, c, d, e, f) {
  var g = function (a, b, c, d, e) {
    (this.buttonSelector = a),
      (this.inputHiddenSelector = b),
      (this.staticElementSelector = c),
      (this.frameworkId = d),
      (this.pageContextId = e),
      this.registerEvents();
  };
  return (
    (g.prototype.buttonSelector = null),
    (g.prototype.inputHiddenSelector = null),
    (g.prototype.staticElementSelector = null),
    (g.prototype.frameworkId = null),
    (g.prototype.pageContextId = null),
    (g.prototype.setParent = function (d) {
      var e = this;
      0 !== d.competencyId
        ? b
            .call([
              {
                methodname: "core_competency_read_competency",
                args: { id: d.competencyId },
              },
            ])[0]
            .done(function (b) {
              a(e.staticElementSelector).html(b.shortname),
                a(e.inputHiddenSelector).val(b.id);
            })
            .fail(f.exception)
        : c
            .get_string("competencyframeworkroot", "tool_lp")
            .then(function (b) {
              a(e.staticElementSelector).html(b),
                a(e.inputHiddenSelector).val(d.competencyId);
            })
            .fail(f.exception);
    }),
    (g.prototype.registerEvents = function () {
      var b = this;
      a(b.buttonSelector).on("click", function (a) {
        a.preventDefault();
        var c = new d(b.pageContextId, b.frameworkId, "self", !1);
        (c._render = function () {
          var a = this;
          return a._preRender().then(function () {
            var b = {
              competencies: a._competencies,
              framework: a._getFramework(a._frameworkId),
              frameworks: a._frameworks,
              search: a._searchText,
              singleFramework: a._singleFramework,
            };
            return e.render("tool_lp/competency_picker_competencyform", b);
          });
        }),
          c.on("save", function (a, c) {
            b.setParent(c);
          }),
          c.display();
      });
    }),
    {
      init: function (a, b, c, d, e) {
        new g(a, b, c, d, e);
      },
    }
  );
});
define("tool_lp/planactions", [
  "jquery",
  "core/templates",
  "core/ajax",
  "core/notification",
  "core/str",
  "tool_lp/menubar",
  "tool_lp/dialogue",
], function (a, b, c, d, e, f, g) {
  var h = function (a) {
    if (((this._type = a), "plan" === a))
      (this._region = '[data-region="plan-page"]'),
        (this._planNode = '[data-region="plan-page"]'),
        (this._template = "tool_lp/plan_page"),
        (this._contextMethod = "tool_lp_data_for_plan_page");
    else {
      if ("plans" !== a) throw new TypeError("Unexpected type.");
      (this._region = '[data-region="plans"]'),
        (this._planNode = '[data-region="plan-node"]'),
        (this._template = "tool_lp/plans_page"),
        (this._contextMethod = "tool_lp_data_for_plans_page");
    }
  };
  return (
    (h.prototype._contextMethod = null),
    (h.prototype._planNode = null),
    (h.prototype._region = null),
    (h.prototype._template = null),
    (h.prototype._type = null),
    (h.prototype._getContextArgs = function (a) {
      var b = this,
        c = {};
      return (
        "plan" === b._type
          ? (c = { planid: a.id })
          : "plans" === b._type && (c = { userid: a.userid }),
        c
      );
    }),
    (h.prototype.refresh = function (b) {
      var c = this._findPlanData(a(b));
      this._callAndRefresh([], c);
    }),
    (h.prototype._renderView = function (c) {
      var e = this;
      b.render(e._template, c)
        .done(function (c, d) {
          a(e._region).replaceWith(c), b.runTemplateJS(d);
        })
        .fail(d.exception);
    }),
    (h.prototype._callAndRefresh = function (b, e) {
      var f = this;
      return (
        b.push({ methodname: f._contextMethod, args: f._getContextArgs(e) }),
        a.when
          .apply(a.when, c.call(b))
          .then(function () {
            f._renderView(arguments[arguments.length - 1]);
          })
          .fail(d.exception)
      );
    }),
    (h.prototype._doDelete = function (a) {
      var b = this,
        c = [{ methodname: "core_competency_delete_plan", args: { id: a.id } }];
      b._callAndRefresh(c, a);
    }),
    (h.prototype.deletePlan = function (a) {
      var b,
        f = this;
      (b = c.call([
        { methodname: "core_competency_read_plan", args: { id: a.id } },
      ])),
        b[0]
          .done(function (b) {
            e.get_strings([
              { key: "confirm", component: "moodle" },
              { key: "deleteplan", component: "tool_lp", param: b.name },
              { key: "delete", component: "moodle" },
              { key: "cancel", component: "moodle" },
            ])
              .done(function (b) {
                d.confirm(b[0], b[1], b[2], b[3], function () {
                  f._doDelete(a);
                });
              })
              .fail(d.exception);
          })
          .fail(d.exception);
    }),
    (h.prototype._doReopenPlan = function (a) {
      var b = this,
        c = [
          { methodname: "core_competency_reopen_plan", args: { planid: a.id } },
        ];
      b._callAndRefresh(c, a);
    }),
    (h.prototype.reopenPlan = function (a) {
      var b = this,
        f = c.call([
          { methodname: "core_competency_read_plan", args: { id: a.id } },
        ]);
      f[0]
        .done(function (c) {
          e.get_strings([
            { key: "confirm", component: "moodle" },
            { key: "reopenplanconfirm", component: "tool_lp", param: c.name },
            { key: "reopenplan", component: "tool_lp" },
            { key: "cancel", component: "moodle" },
          ])
            .done(function (c) {
              d.confirm(c[0], c[1], c[2], c[3], function () {
                b._doReopenPlan(a);
              });
            })
            .fail(d.exception);
        })
        .fail(d.exception);
    }),
    (h.prototype._doCompletePlan = function (a) {
      var b = this,
        c = [
          {
            methodname: "core_competency_complete_plan",
            args: { planid: a.id },
          },
        ];
      b._callAndRefresh(c, a);
    }),
    (h.prototype.completePlan = function (a) {
      var b = this,
        f = c.call([
          { methodname: "core_competency_read_plan", args: { id: a.id } },
        ]);
      f[0]
        .done(function (c) {
          e.get_strings([
            { key: "confirm", component: "moodle" },
            { key: "completeplanconfirm", component: "tool_lp", param: c.name },
            { key: "completeplan", component: "tool_lp" },
            { key: "cancel", component: "moodle" },
          ])
            .done(function (c) {
              d.confirm(c[0], c[1], c[2], c[3], function () {
                b._doCompletePlan(a);
              });
            })
            .fail(d.exception);
        })
        .fail(d.exception);
    }),
    (h.prototype._doUnlinkPlan = function (a) {
      var b = this,
        c = [
          {
            methodname: "core_competency_unlink_plan_from_template",
            args: { planid: a.id },
          },
        ];
      b._callAndRefresh(c, a);
    }),
    (h.prototype.unlinkPlan = function (a) {
      var b = this,
        f = c.call([
          { methodname: "core_competency_read_plan", args: { id: a.id } },
        ]);
      f[0]
        .done(function (c) {
          e.get_strings([
            { key: "confirm", component: "moodle" },
            {
              key: "unlinkplantemplateconfirm",
              component: "tool_lp",
              param: c.name,
            },
            { key: "unlinkplantemplate", component: "tool_lp" },
            { key: "cancel", component: "moodle" },
          ])
            .done(function (c) {
              d.confirm(c[0], c[1], c[2], c[3], function () {
                b._doUnlinkPlan(a);
              });
            })
            .fail(d.exception);
        })
        .fail(d.exception);
    }),
    (h.prototype._doRequestReview = function (a) {
      var b = [
        {
          methodname: "core_competency_plan_request_review",
          args: { id: a.id },
        },
      ];
      this._callAndRefresh(b, a);
    }),
    (h.prototype.requestReview = function (a) {
      this._doRequestReview(a);
    }),
    (h.prototype._doCancelReviewRequest = function (a) {
      var b = [
        {
          methodname: "core_competency_plan_cancel_review_request",
          args: { id: a.id },
        },
      ];
      this._callAndRefresh(b, a);
    }),
    (h.prototype.cancelReviewRequest = function (a) {
      this._doCancelReviewRequest(a);
    }),
    (h.prototype._doStartReview = function (a) {
      var b = [
        { methodname: "core_competency_plan_start_review", args: { id: a.id } },
      ];
      this._callAndRefresh(b, a);
    }),
    (h.prototype.startReview = function (a) {
      this._doStartReview(a);
    }),
    (h.prototype._doStopReview = function (a) {
      var b = [
        { methodname: "core_competency_plan_stop_review", args: { id: a.id } },
      ];
      this._callAndRefresh(b, a);
    }),
    (h.prototype.stopReview = function (a) {
      this._doStopReview(a);
    }),
    (h.prototype._doApprove = function (a) {
      var b = [
        { methodname: "core_competency_approve_plan", args: { id: a.id } },
      ];
      this._callAndRefresh(b, a);
    }),
    (h.prototype.approve = function (a) {
      this._doApprove(a);
    }),
    (h.prototype._doUnapprove = function (a) {
      var b = [
        { methodname: "core_competency_unapprove_plan", args: { id: a.id } },
      ];
      this._callAndRefresh(b, a);
    }),
    (h.prototype.unapprove = function (a) {
      this._doUnapprove(a);
    }),
    (h.prototype._showLinkedCoursesHandler = function (f) {
      f.preventDefault();
      var h = a(f.target).data("id"),
        i = c.call([
          {
            methodname: "tool_lp_list_courses_using_competency",
            args: { id: h },
          },
        ]);
      i[0]
        .done(function (a) {
          var c = { courses: a };
          b.render("tool_lp/linked_courses_summary", c)
            .done(function (a) {
              e.get_string("linkedcourses", "tool_lp")
                .done(function (b) {
                  new g(b, a);
                })
                .fail(d.exception);
            })
            .fail(d.exception);
        })
        .fail(d.exception);
    }),
    (h.prototype._eventHandler = function (b, c) {
      c.preventDefault();
      var d = this._findPlanData(a(c.target));
      this[b](d);
    }),
    (h.prototype._findPlanData = function (b) {
      var c,
        d = b.parentsUntil(a(this._region).parent(), this._planNode);
      if (1 != d.length) throw new Error("The plan node was not located.");
      if (
        ((c = d.data()), "undefined" == typeof c || "undefined" == typeof c.id)
      )
        throw new Error("Plan data could not be found.");
      return c;
    }),
    (h.prototype.enhanceMenubar = function (a) {
      f.enhance(a, {
        '[data-action="plan-delete"]': this._eventHandler.bind(
          this,
          "deletePlan"
        ),
        '[data-action="plan-complete"]': this._eventHandler.bind(
          this,
          "completePlan"
        ),
        '[data-action="plan-reopen"]': this._eventHandler.bind(
          this,
          "reopenPlan"
        ),
        '[data-action="plan-unlink"]': this._eventHandler.bind(
          this,
          "unlinkPlan"
        ),
        '[data-action="plan-request-review"]': this._eventHandler.bind(
          this,
          "requestReview"
        ),
        '[data-action="plan-cancel-review-request"]': this._eventHandler.bind(
          this,
          "cancelReviewRequest"
        ),
        '[data-action="plan-start-review"]': this._eventHandler.bind(
          this,
          "startReview"
        ),
        '[data-action="plan-stop-review"]': this._eventHandler.bind(
          this,
          "stopReview"
        ),
        '[data-action="plan-approve"]': this._eventHandler.bind(
          this,
          "approve"
        ),
        '[data-action="plan-unapprove"]': this._eventHandler.bind(
          this,
          "unapprove"
        ),
      });
    }),
    (h.prototype.registerEvents = function () {
      var b = a(this._region);
      b
        .find('[data-action="plan-delete"]')
        .click(this._eventHandler.bind(this, "deletePlan")),
        b
          .find('[data-action="plan-complete"]')
          .click(this._eventHandler.bind(this, "completePlan")),
        b
          .find('[data-action="plan-reopen"]')
          .click(this._eventHandler.bind(this, "reopenPlan")),
        b
          .find('[data-action="plan-unlink"]')
          .click(this._eventHandler.bind(this, "unlinkPlan")),
        b
          .find('[data-action="plan-request-review"]')
          .click(this._eventHandler.bind(this, "requestReview")),
        b
          .find('[data-action="plan-cancel-review-request"]')
          .click(this._eventHandler.bind(this, "cancelReviewRequest")),
        b
          .find('[data-action="plan-start-review"]')
          .click(this._eventHandler.bind(this, "startReview")),
        b
          .find('[data-action="plan-stop-review"]')
          .click(this._eventHandler.bind(this, "stopReview")),
        b
          .find('[data-action="plan-approve"]')
          .click(this._eventHandler.bind(this, "approve")),
        b
          .find('[data-action="plan-unapprove"]')
          .click(this._eventHandler.bind(this, "unapprove")),
        b
          .find('[data-action="find-courses-link"]')
          .click(this._showLinkedCoursesHandler.bind(this));
    }),
    h
  );
});
define("tool_lp/scaleconfig", [
  "jquery",
  "core/notification",
  "core/templates",
  "core/ajax",
  "tool_lp/dialogue",
  "tool_lp/scalevalues",
], function (a, b, c, d, e, f) {
  var g = function (b, c, d) {
    (this.selectSelector = b),
      (this.inputSelector = c),
      (this.triggerSelector = d),
      (this.originalscaleid = a(b).val()),
      a(b).on("change", this.scaleChangeHandler.bind(this)).change(),
      a(d).click(this.showConfig.bind(this));
  };
  return (
    (g.prototype.selectSelector = null),
    (g.prototype.inputSelector = null),
    (g.prototype.triggerSelector = null),
    (g.prototype.scalevalues = null),
    (g.prototype.originalscaleid = 0),
    (g.prototype.scaleid = 0),
    (g.prototype.popup = null),
    (g.prototype.showConfig = function () {
      var d = this;
      if (
        ((this.scaleid = a(this.selectSelector).val()), !(this.scaleid <= 0))
      ) {
        var f = a(this.selectSelector).find("option:selected").text();
        this.getScaleValues(this.scaleid)
          .done(function () {
            var a = { scalename: f, scales: d.scalevalues };
            c.render("tool_lp/scale_configuration_page", a)
              .done(function (a) {
                new e(f, a, d.initScaleConfig.bind(d));
              })
              .fail(b.exception);
          })
          .fail(b.exception);
      }
    }),
    (g.prototype.retrieveOriginalScaleConfig = function () {
      var b = a(this.inputSelector).val();
      if ("" !== b) {
        var c = a.parseJSON(b),
          d = c.shift();
        if (d.scaleid === this.originalscaleid) return c;
      }
      return "";
    }),
    (g.prototype.initScaleConfig = function (b) {
      this.popup = b;
      var c = a(b.getContent());
      if (this.originalscaleid === this.scaleid) {
        var d = this.retrieveOriginalScaleConfig();
        "" !== d &&
          d.forEach(function (a) {
            1 === a.scaledefault &&
              c
                .find('[data-field="tool_lp_scale_default_' + a.id + '"]')
                .attr("checked", !0),
              1 === a.proficient &&
                c
                  .find('[data-field="tool_lp_scale_proficient_' + a.id + '"]')
                  .attr("checked", !0);
          });
      }
      c.on(
        "click",
        '[data-action="close"]',
        function () {
          this.setScaleConfig(), b.close();
        }.bind(this)
      ),
        c.on("click", '[data-action="cancel"]', function () {
          b.close();
        });
    }),
    (g.prototype.setScaleConfig = function () {
      var b = a(this.popup.getContent()),
        c = [{ scaleid: this.scaleid }];
      this.scalevalues.forEach(function (a) {
        var d = 0,
          e = 0;
        b
          .find('[data-field="tool_lp_scale_default_' + a.id + '"]')
          .is(":checked") && (d = 1),
          b
            .find('[data-field="tool_lp_scale_proficient_' + a.id + '"]')
            .is(":checked") && (e = 1),
          (d || e) && c.push({ id: a.id, scaledefault: d, proficient: e });
      });
      var d = JSON.stringify(c);
      a(this.inputSelector).val(d), (this.originalscaleid = this.scaleid);
    }),
    (g.prototype.getScaleValues = function (a) {
      return f.get_values(a).then(
        function (a) {
          return (this.scalevalues = a), a;
        }.bind(this)
      );
    }),
    (g.prototype.scaleChangeHandler = function (b) {
      a(b.target).val() <= 0
        ? a(this.triggerSelector).prop("disabled", !0)
        : a(this.triggerSelector).prop("disabled", !1);
    }),
    {
      init: function (a, b, c) {
        return new g(a, b, c);
      },
    }
  );
});
define("tool_lp/scalevalues", ["jquery", "core/ajax"], function (a, b) {
  var c = [];
  return {
    get_values: function (d) {
      var e = a.Deferred();
      return (
        "undefined" == typeof c[d]
          ? b.call([
              {
                methodname: "core_competency_get_scale_values",
                args: { scaleid: d },
                done: function (a) {
                  (c[d] = a), e.resolve(a);
                },
                fail: e.reject,
              },
            ])
          : e.resolve(c[d]),
        e.promise()
      );
    },
  };
});
define("tool_lp/templateactions", [
  "jquery",
  "core/templates",
  "core/ajax",
  "core/notification",
  "core/str",
  "tool_lp/actionselector",
], function (a, b, c, d, e, f) {
  var g = 0,
    h = 0,
    i = !0,
    j = function (c, d) {
      a('[data-region="managetemplates"]').replaceWith(c), b.runTemplateJS(d);
    },
    k = function (a) {
      b.render("tool_lp/manage_templates_page", a).done(j).fail(d.exception);
    },
    l = function () {
      var a = c.call([
        {
          methodname: "core_competency_delete_template",
          args: { id: h, deleteplans: i },
        },
        {
          methodname: "tool_lp_data_for_templates_manage_page",
          args: { pagecontext: { contextid: g } },
        },
      ]);
      a[1].done(k).fail(d.exception);
    },
    m = function (b) {
      b.preventDefault(), (h = a(this).attr("data-templateid"));
      var e = c.call([
        { methodname: "core_competency_duplicate_template", args: { id: h } },
        {
          methodname: "tool_lp_data_for_templates_manage_page",
          args: { pagecontext: { contextid: g } },
        },
      ]);
      e[1].done(k).fail(d.exception);
    },
    n = function (b) {
      b.preventDefault();
      var g = a(this).attr("data-templateid");
      (h = g), (i = !0);
      var j = c.call([
        { methodname: "core_competency_read_template", args: { id: h } },
        {
          methodname: "core_competency_template_has_related_data",
          args: { id: h },
        },
      ]);
      j[0]
        .done(function (a) {
          j[1]
            .done(function (b) {
              b
                ? e
                    .get_strings([
                      {
                        key: "deletetemplate",
                        component: "tool_lp",
                        param: a.shortname,
                      },
                      { key: "deletetemplatewithplans", component: "tool_lp" },
                      { key: "deleteplans", component: "tool_lp" },
                      { key: "unlinkplanstemplate", component: "tool_lp" },
                      { key: "confirm", component: "moodle" },
                      { key: "cancel", component: "moodle" },
                    ])
                    .done(function (a) {
                      var b = [
                          { text: a[2], value: "delete" },
                          { text: a[3], value: "unlink" },
                        ],
                        c = new f(a[0], a[1], b, a[4], a[5]);
                      c.display(),
                        c.on("save", function (a, b) {
                          "delete" != b.action && (i = !1), l();
                        });
                    })
                    .fail(d.exception)
                : e
                    .get_strings([
                      { key: "confirm", component: "moodle" },
                      {
                        key: "deletetemplate",
                        component: "tool_lp",
                        param: a.shortname,
                      },
                      { key: "delete", component: "moodle" },
                      { key: "cancel", component: "moodle" },
                    ])
                    .done(function (a) {
                      d.confirm(a[0], a[1], a[2], a[3], l);
                    })
                    .fail(d.exception);
            })
            .fail(d.exception);
        })
        .fail(d.exception);
    };
  return {
    deleteHandler: n,
    duplicateHandler: m,
    init: function (a) {
      g = a;
    },
  };
});
define("tool_lp/tree", ["jquery", "core/url", "core/log"], function (a, b, c) {
  var d = a('<img alt="" src="' + b.imageUrl("t/expanded") + '"/>'),
    e = a('<img alt="" src="' + b.imageUrl("t/collapsed") + '"/>'),
    f = function (b, c) {
      (this.treeRoot = a(b)),
        (this.multiSelect = "undefined" == typeof c || c === !0),
        (this.items = this.treeRoot.find("li")),
        (this.expandAll = this.items.length < 20),
        (this.parents = this.treeRoot.find("li:has(ul)")),
        c && this.treeRoot.attr("aria-multiselectable", "true"),
        this.items.attr("aria-selected", "false"),
        (this.visibleItems = null),
        (this.activeItem = null),
        (this.lastActiveItem = null),
        (this.keys = {
          tab: 9,
          enter: 13,
          space: 32,
          pageup: 33,
          pagedown: 34,
          end: 35,
          home: 36,
          left: 37,
          up: 38,
          right: 39,
          down: 40,
          eight: 56,
          asterisk: 106,
        }),
        this.init(),
        this.bindEventHandlers();
    };
  return (
    (f.prototype.init = function () {
      this.parents.attr("aria-expanded", "true"),
        this.parents.prepend(d.clone()),
        this.items.attr("role", "tree-item"),
        this.items.attr("tabindex", "-1"),
        this.parents.attr("role", "group"),
        this.treeRoot.attr("role", "tree"),
        (this.visibleItems = this.treeRoot.find("li"));
      var b = this;
      this.expandAll ||
        (this.parents.each(function () {
          b.collapseGroup(a(this));
        }),
        this.expandGroup(this.parents.first()));
    }),
    (f.prototype.expandGroup = function (a) {
      var b = a.children("ul");
      b.show().attr("aria-hidden", "false"),
        a.attr("aria-expanded", "true"),
        a.children("img").attr("src", d.attr("src")),
        (this.visibleItems = this.treeRoot.find("li:visible"));
    }),
    (f.prototype.collapseGroup = function (a) {
      var b = a.children("ul");
      b.hide().attr("aria-hidden", "true"),
        a.attr("aria-expanded", "false"),
        a.children("img").attr("src", e.attr("src")),
        (this.visibleItems = this.treeRoot.find("li:visible"));
    }),
    (f.prototype.toggleGroup = function (a) {
      "true" == a.attr("aria-expanded")
        ? this.collapseGroup(a)
        : this.expandGroup(a);
    }),
    (f.prototype.triggerChange = function () {
      var a = this.items.filter("[aria-selected=true]");
      this.multiSelect || (a = a.first()),
        this.treeRoot.trigger("selectionchanged", { selected: a });
    }),
    (f.prototype.multiSelectItem = function (b) {
      if (this.multiSelect) {
        if (null !== this.lastActiveItem) {
          for (
            var c = this.visibleItems.index(this.lastActiveItem),
              d = this.visibleItems.index(this.activeItem),
              e = null;
            c < d;

          )
            (e = a(this.visibleItems.get(c))),
              e.attr("aria-selected", "true"),
              c++;
          for (; c > d; )
            (e = a(this.visibleItems.get(c))),
              e.attr("aria-selected", "true"),
              c--;
        }
      } else this.items.attr("aria-selected", "false");
      b.attr("aria-selected", "true"), this.triggerChange();
    }),
    (f.prototype.selectItem = function (a) {
      for (var b = a.parent(); "tree" != b.attr("role"); )
        (b = b.parent()),
          "false" == b.attr("aria-expanded") && this.expandGroup(b),
          (b = b.parent());
      this.items.attr("aria-selected", "false"),
        a.attr("aria-selected", "true"),
        this.triggerChange();
    }),
    (f.prototype.toggleItem = function (a) {
      if (!this.multiSelect) return void this.selectItem(a);
      var b = a.attr("aria-selected");
      (b = "true" === b ? "false" : "true"),
        a.attr("aria-selected", b),
        this.triggerChange();
    }),
    (f.prototype.updateFocus = function (a) {
      (this.lastActiveItem = this.activeItem), (this.activeItem = a);
      for (var b = a.parent(); "tree" != b.attr("role"); )
        (b = b.parent()),
          "false" == b.attr("aria-expanded") && this.expandGroup(b),
          (b = b.parent());
      this.items.attr("tabindex", "-1"), a.attr("tabindex", 0);
    }),
    (f.prototype.handleKeyDown = function (b, c) {
      var d = this.visibleItems.index(b),
        e = null,
        f = c.shiftKey || c.ctrlKey || c.metaKey || c.altKey,
        g = this;
      switch (c.keyCode) {
        case this.keys.home:
          return (
            (e = this.parents.first()),
            e.focus(),
            c.shiftKey ? this.multiSelectItem(e) : f || this.selectItem(e),
            c.stopPropagation(),
            !1
          );
        case this.keys.end:
          return (
            (e = this.visibleItems.last()),
            e.focus(),
            c.shiftKey ? this.multiSelectItem(e) : f || this.selectItem(e),
            c.stopPropagation(),
            !1
          );
        case this.keys.enter:
        case this.keys.space:
          return (
            c.shiftKey
              ? this.multiSelectItem(b)
              : c.metaKey || c.ctrlKey
              ? this.toggleItem(b)
              : this.selectItem(b),
            c.stopPropagation(),
            !1
          );
        case this.keys.left:
          if (b.has("ul") && "true" == b.attr("aria-expanded"))
            this.collapseGroup(b);
          else {
            var h = b.parent(),
              i = h.parent();
            i.is("li") &&
              (i.focus(),
              c.shiftKey ? this.multiSelectItem(i) : f || this.selectItem(i));
          }
          return c.stopPropagation(), !1;
        case this.keys.right:
          return (
            b.has("ul") && "false" == b.attr("aria-expanded")
              ? this.expandGroup(b)
              : ((e = b.children("ul").children("li").first()),
                e.length > 0 &&
                  (e.focus(),
                  c.shiftKey
                    ? this.multiSelectItem(e)
                    : f || this.selectItem(e))),
            c.stopPropagation(),
            !1
          );
        case this.keys.up:
          if (d > 0) {
            var j = this.visibleItems.eq(d - 1);
            j.focus(),
              c.shiftKey ? this.multiSelectItem(j) : f || this.selectItem(j);
          }
          return c.stopPropagation(), !1;
        case this.keys.down:
          if (d < this.visibleItems.length - 1) {
            var k = this.visibleItems.eq(d + 1);
            k.focus(),
              c.shiftKey ? this.multiSelectItem(k) : f || this.selectItem(k);
          }
          return c.stopPropagation(), !1;
        case this.keys.asterisk:
          return (
            this.parents.each(function () {
              g.expandGroup(a(this));
            }),
            c.stopPropagation(),
            !1
          );
        case this.keys.eight:
          return (
            c.shiftKey &&
              (this.parents.each(function () {
                g.expandGroup(a(this));
              }),
              c.stopPropagation()),
            !1
          );
      }
      return !0;
    }),
    (f.prototype.handleKeyPress = function (a, b) {
      if (b.altKey || b.ctrlKey || b.shiftKey || b.metaKey) return !0;
      switch (b.keyCode) {
        case this.keys.tab:
          return !0;
        case this.keys.enter:
        case this.keys.home:
        case this.keys.end:
        case this.keys.left:
        case this.keys.right:
        case this.keys.up:
        case this.keys.down:
          return b.stopPropagation(), !1;
        default:
          var c = String.fromCharCode(b.which),
            d = !1,
            e = this.visibleItems.index(a),
            f = this.visibleItems.length,
            g = e + 1;
          for (g == f && (g = 0); g != e; ) {
            var h = this.visibleItems.eq(g),
              i = h.text().charAt(0);
            if (
              (h.has("ul") && (i = h.find("span").text().charAt(0)),
              i.toLowerCase() == c)
            ) {
              d = !0;
              break;
            }
            (g += 1), g == f && (g = 0);
          }
          return (
            d === !0 && this.updateFocus(this.visibleItems.eq(g)),
            b.stopPropagation(),
            !1
          );
      }
      return !0;
    }),
    (f.prototype.on = function (a, b) {
      "selectionchanged" !== a
        ? c.warning(
            'Invalid custom event name for tree. Only "selectionchanged" is supported.'
          )
        : this.treeRoot.on(a, b);
    }),
    (f.prototype.handleDblClick = function (a, b) {
      return (
        !!(b.altKey || b.ctrlKey || b.shiftKey || b.metaKey) ||
        (this.updateFocus(a), this.toggleGroup(a), b.stopPropagation(), !1)
      );
    }),
    (f.prototype.handleExpandCollapseClick = function (a, b) {
      return this.toggleGroup(a), b.stopPropagation(), !1;
    }),
    (f.prototype.handleClick = function (a, b) {
      return (
        b.shiftKey
          ? this.multiSelectItem(a)
          : b.metaKey || b.ctrlKey
          ? this.toggleItem(a)
          : this.selectItem(a),
        this.updateFocus(a),
        b.stopPropagation(),
        !1
      );
    }),
    (f.prototype.handleBlur = function () {
      return !0;
    }),
    (f.prototype.handleFocus = function (a) {
      return this.updateFocus(a), !0;
    }),
    (f.prototype.bindEventHandlers = function () {
      var b = this;
      this.parents.dblclick(function (c) {
        return b.handleDblClick(a(this), c);
      }),
        this.items.click(function (c) {
          return b.handleClick(a(this), c);
        }),
        this.items.children("img").click(function (c) {
          return b.handleExpandCollapseClick(a(this).parent(), c);
        }),
        this.items.keydown(function (c) {
          return b.handleKeyDown(a(this), c);
        }),
        this.items.keypress(function (c) {
          return b.handleKeyPress(a(this), c);
        }),
        this.items.focus(function (c) {
          return b.handleFocus(a(this), c);
        }),
        this.items.blur(function (c) {
          return b.handleBlur(a(this), c);
        });
    }),
    f
  );
});
define("tool_lp/user_competency_course_navigation", ["jquery"], function (a) {
  var b = function (b, c, d, e, f, g) {
    (this._baseUrl = d),
      (this._userId = e + ""),
      (this._competencyId = f + ""),
      (this._courseId = g),
      a(b).on("change", this._userChanged.bind(this)),
      a(c).on("change", this._competencyChanged.bind(this));
  };
  return (
    (b.prototype._userChanged = function (b) {
      var c = a(b.target).val(),
        d =
          "?userid=" +
          c +
          "&courseid=" +
          this._courseId +
          "&competencyid=" +
          this._competencyId;
      document.location = this._baseUrl + d;
    }),
    (b.prototype._competencyChanged = function (b) {
      var c = a(b.target).val(),
        d =
          "?userid=" +
          this._userId +
          "&courseid=" +
          this._courseId +
          "&competencyid=" +
          c;
      document.location = this._baseUrl + d;
    }),
    (b.prototype._competencyId = null),
    (b.prototype._userId = null),
    (b.prototype._courseId = null),
    (b.prototype._baseUrl = null),
    (b.prototype._ignoreFirstCompetency = null),
    b
  );
});
define("tool_lp/user_competency_info", [
  "jquery",
  "core/notification",
  "core/ajax",
  "core/templates",
], function (a, b, c, d) {
  var e = function (a, b, c, d, e, f) {
    (this._rootElement = a),
      (this._competencyId = b),
      (this._userId = c),
      (this._planId = d),
      (this._courseId = e),
      (this._valid = !0),
      (this._displayuser = "undefined" != typeof f && f),
      this._planId
        ? ((this._methodName =
            "tool_lp_data_for_user_competency_summary_in_plan"),
          (this._args = {
            competencyid: this._competencyId,
            planid: this._planId,
          }),
          (this._templateName = "tool_lp/user_competency_summary_in_plan"))
        : this._courseId
        ? ((this._methodName =
            "tool_lp_data_for_user_competency_summary_in_course"),
          (this._args = {
            userid: this._userId,
            competencyid: this._competencyId,
            courseid: this._courseId,
          }),
          (this._templateName = "tool_lp/user_competency_summary_in_course"))
        : ((this._methodName = "tool_lp_data_for_user_competency_summary"),
          (this._args = {
            userid: this._userId,
            competencyid: this._competencyId,
          }),
          (this._templateName = "tool_lp/user_competency_summary"));
  };
  return (
    (e.prototype.reload = function () {
      var a = this,
        e = [];
      this._valid &&
        ((e = c.call([{ methodname: this._methodName, args: this._args }])),
        e[0]
          .done(function (c) {
            a._displayuser && (c.displayuser = !0),
              d
                .render(a._templateName, c)
                .done(function (b, c) {
                  d.replaceNode(a._rootElement, b, c);
                })
                .fail(b.exception);
          })
          .fail(b.exception));
    }),
    (e.prototype._rootElement = null),
    (e.prototype._courseId = null),
    (e.prototype._valid = null),
    (e.prototype._planId = null),
    (e.prototype._competencyId = null),
    (e.prototype._userId = null),
    (e.prototype._methodName = null),
    (e.prototype._args = null),
    (e.prototype._templateName = null),
    (e.prototype._displayuser = !1),
    e
  );
});
define("tool_lp/user_competency_plan_popup", [
  "jquery",
  "core/notification",
  "core/str",
  "core/ajax",
  "core/templates",
  "tool_lp/dialogue",
], function (a, b, c, d, e, f) {
  var g = function (b, c, d) {
    (this._regionSelector = b),
      (this._userCompetencySelector = c),
      (this._planId = d),
      a(this._regionSelector).on(
        "click",
        this._userCompetencySelector,
        this._handleClick.bind(this)
      );
  };
  return (
    (g.prototype._handleClick = function (c) {
      c.preventDefault();
      var e = a(c.target).closest("tr"),
        f = a(e).data("competencyid"),
        g = a(e).data("userid"),
        h = this._planId,
        i = d.call([
          {
            methodname: "tool_lp_data_for_user_competency_summary_in_plan",
            args: { competencyid: f, planid: h },
            done: this._contextLoaded.bind(this),
            fail: b.exception,
          },
        ]);
      i[0].then(function (a) {
        var c = "core_competency_user_competency_viewed_in_plan";
        a.plan.iscompleted &&
          (c = "core_competency_user_competency_plan_viewed"),
          d.call([
            {
              methodname: c,
              args: { competencyid: f, userid: g, planid: h },
              fail: b.exception,
            },
          ]);
      });
    }),
    (g.prototype._contextLoaded = function (a) {
      var d = this;
      e.render("tool_lp/user_competency_summary_in_plan", a)
        .done(function (a, g) {
          c.get_string("usercompetencysummary", "report_competency")
            .done(function (b) {
              new f(b, a, e.runTemplateJS.bind(e, g), d._refresh.bind(d), !0);
            })
            .fail(b.exception);
        })
        .fail(b.exception);
    }),
    (g.prototype._refresh = function () {
      var a = this._planId;
      d.call([
        {
          methodname: "tool_lp_data_for_plan_page",
          args: { planid: a },
          done: this._pageContextLoaded.bind(this),
          fail: b.exception,
        },
      ]);
    }),
    (g.prototype._pageContextLoaded = function (a) {
      var c = this;
      e.render("tool_lp/plan_page", a)
        .done(function (a, b) {
          e.replaceNode(c._regionSelector, a, b);
        })
        .fail(b.exception);
    }),
    (g.prototype._regionSelector = null),
    (g.prototype._userCompetencySelector = null),
    (g.prototype._planId = null),
    g
  );
});
define("tool_lp/user_competency_workflow", [
  "jquery",
  "core/templates",
  "core/ajax",
  "core/notification",
  "core/str",
  "tool_lp/menubar",
  "tool_lp/event_base",
], function (a, b, c, d, e, f, g) {
  var h = function () {
    g.prototype.constructor.apply(this, []);
  };
  return (
    (h.prototype = Object.create(g.prototype)),
    (h.prototype._nodeSelector = '[data-node="user-competency"]'),
    (h.prototype._cancelReviewRequest = function (a) {
      var b = {
        methodname: "core_competency_user_competency_cancel_review_request",
        args: { userid: a.userid, competencyid: a.competencyid },
      };
      c.call([b])[0].then(
        function () {
          this._trigger("review-request-cancelled", a),
            this._trigger("status-changed", a);
        }.bind(this),
        function () {
          this._trigger("error-occured", a);
        }.bind(this)
      );
    }),
    (h.prototype.cancelReviewRequest = function (a) {
      this._cancelReviewRequest(a);
    }),
    (h.prototype._cancelReviewRequestHandler = function (b) {
      b.preventDefault();
      var c = this._findUserCompetencyData(a(b.target));
      this.cancelReviewRequest(c);
    }),
    (h.prototype._requestReview = function (a) {
      var b = {
        methodname: "core_competency_user_competency_request_review",
        args: { userid: a.userid, competencyid: a.competencyid },
      };
      c.call([b])[0].then(
        function () {
          this._trigger("review-requested", a),
            this._trigger("status-changed", a);
        }.bind(this),
        function () {
          this._trigger("error-occured", a);
        }.bind(this)
      );
    }),
    (h.prototype.requestReview = function (a) {
      this._requestReview(a);
    }),
    (h.prototype._requestReviewHandler = function (b) {
      b.preventDefault();
      var c = this._findUserCompetencyData(a(b.target));
      this.requestReview(c);
    }),
    (h.prototype._startReview = function (a) {
      var b = {
        methodname: "core_competency_user_competency_start_review",
        args: { userid: a.userid, competencyid: a.competencyid },
      };
      c.call([b])[0].then(
        function () {
          this._trigger("review-started", a),
            this._trigger("status-changed", a);
        }.bind(this),
        function () {
          this._trigger("error-occured", a);
        }.bind(this)
      );
    }),
    (h.prototype.startReview = function (a) {
      this._startReview(a);
    }),
    (h.prototype._startReviewHandler = function (b) {
      b.preventDefault();
      var c = this._findUserCompetencyData(a(b.target));
      this.startReview(c);
    }),
    (h.prototype._stopReview = function (a) {
      var b = {
        methodname: "core_competency_user_competency_stop_review",
        args: { userid: a.userid, competencyid: a.competencyid },
      };
      c.call([b])[0].then(
        function () {
          this._trigger("review-stopped", a),
            this._trigger("status-changed", a);
        }.bind(this),
        function () {
          this._trigger("error-occured", a);
        }.bind(this)
      );
    }),
    (h.prototype.stopReview = function (a) {
      this._stopReview(a);
    }),
    (h.prototype._stopReviewHandler = function (b) {
      b.preventDefault();
      var c = this._findUserCompetencyData(a(b.target));
      this.stopReview(c);
    }),
    (h.prototype.enhanceMenubar = function (a) {
      f.enhance(a, {
        '[data-action="request-review"]': this._requestReviewHandler.bind(this),
        '[data-action="cancel-review-request"]':
          this._cancelReviewRequestHandler.bind(this),
      });
    }),
    (h.prototype._findUserCompetencyData = function (a) {
      var b,
        c = a.parents(this._nodeSelector);
      if (1 != c.length) throw new Error("The evidence node was not located.");
      if (
        ((b = c.data()),
        "undefined" == typeof b ||
          "undefined" == typeof b.userid ||
          "undefined" == typeof b.competencyid)
      )
        throw new Error("User competency data could not be found.");
      return b;
    }),
    (h.prototype.enhanceMenubar = function (a) {
      f.enhance(a, {
        '[data-action="request-review"]': this._requestReviewHandler.bind(this),
        '[data-action="cancel-review-request"]':
          this._cancelReviewRequestHandler.bind(this),
        '[data-action="start-review"]': this._startReviewHandler.bind(this),
        '[data-action="stop-review"]': this._stopReviewHandler.bind(this),
      });
    }),
    (h.prototype.registerEvents = function (b) {
      var c = a(b);
      c
        .find('[data-action="request-review"]')
        .click(this._requestReviewHandler.bind(this)),
        c
          .find('[data-action="cancel-review-request"]')
          .click(this._cancelReviewRequestHandler.bind(this)),
        c
          .find('[data-action="start-review"]')
          .click(this._startReviewHandler.bind(this)),
        c
          .find('[data-action="stop-review"]')
          .click(this._stopReviewHandler.bind(this));
    }),
    h
  );
});
define("tool_lp/user_evidence_actions", [
  "jquery",
  "core/templates",
  "core/ajax",
  "core/notification",
  "core/str",
  "tool_lp/menubar",
  "tool_lp/competencypicker_user_plans",
], function (a, b, c, d, e, f, g) {
  var h = function (a) {
    if (((this._type = a), "evidence" === a))
      (this._region = '[data-region="user-evidence-page"]'),
        (this._evidenceNode = '[data-region="user-evidence-page"]'),
        (this._template = "tool_lp/user_evidence_page"),
        (this._contextMethod = "tool_lp_data_for_user_evidence_page");
    else {
      if ("list" !== a) throw new TypeError("Unexpected type.");
      (this._region = '[data-region="user-evidence-list"]'),
        (this._evidenceNode = '[data-region="user-evidence-node"]'),
        (this._template = "tool_lp/user_evidence_list_page"),
        (this._contextMethod = "tool_lp_data_for_user_evidence_list_page");
    }
  };
  return (
    (h.prototype._contextMethod = null),
    (h.prototype._evidenceNode = null),
    (h.prototype._region = null),
    (h.prototype._template = null),
    (h.prototype._type = null),
    (h.prototype._getContextArgs = function (a) {
      var b = this,
        c = {};
      return (
        "evidence" === b._type
          ? (c = { id: a.id })
          : "list" === b._type && (c = { userid: a.userid }),
        c
      );
    }),
    (h.prototype._renderView = function (c) {
      var e = this;
      b.render(e._template, c)
        .done(function (c, d) {
          b.replaceNode(a(e._region), c, d);
        })
        .fail(d.exception);
    }),
    (h.prototype._callAndRefresh = function (b, e) {
      var f = this;
      return (
        b.push({ methodname: f._contextMethod, args: f._getContextArgs(e) }),
        a.when
          .apply(a.when, c.call(b))
          .then(function () {
            f._renderView(arguments[arguments.length - 1]);
          })
          .fail(d.exception)
      );
    }),
    (h.prototype._doDelete = function (a) {
      var b = this,
        c = [
          {
            methodname: "core_competency_delete_user_evidence",
            args: { id: a.id },
          },
        ];
      b._callAndRefresh(c, a);
    }),
    (h.prototype.deleteEvidence = function (a) {
      var b,
        f = this;
      (b = c.call([
        {
          methodname: "core_competency_read_user_evidence",
          args: { id: a.id },
        },
      ])),
        b[0]
          .done(function (b) {
            e.get_strings([
              { key: "confirm", component: "moodle" },
              {
                key: "deleteuserevidence",
                component: "tool_lp",
                param: b.name,
              },
              { key: "delete", component: "moodle" },
              { key: "cancel", component: "moodle" },
            ])
              .done(function (b) {
                d.confirm(b[0], b[1], b[2], b[3], function () {
                  f._doDelete(a);
                });
              })
              .fail(d.exception);
          })
          .fail(d.exception);
    }),
    (h.prototype._deleteEvidenceHandler = function (b) {
      b.preventDefault();
      var c = this._findEvidenceData(a(b.target));
      this.deleteEvidence(c);
    }),
    (h.prototype._doCreateUserEvidenceCompetency = function (b, c) {
      var d = this,
        e = [];
      a.each(c, function (a, c) {
        e.push({
          methodname: "core_competency_create_user_evidence_competency",
          args: { userevidenceid: b.id, competencyid: c },
        });
      }),
        d._callAndRefresh(e, b);
    }),
    (h.prototype.createUserEvidenceCompetency = function (a) {
      var b = this,
        c = new g(a.userid);
      c.on("save", function (c, d) {
        var e = d.competencyIds;
        b._doCreateUserEvidenceCompetency(a, e, d.requestReview);
      }),
        c.display();
    }),
    (h.prototype._createUserEvidenceCompetencyHandler = function (b) {
      b.preventDefault();
      var c = this._findEvidenceData(a(b.target));
      this.createUserEvidenceCompetency(c);
    }),
    (h.prototype._doDeleteUserEvidenceCompetency = function (a, b) {
      var c = this,
        d = [];
      d.push({
        methodname: "core_competency_delete_user_evidence_competency",
        args: { userevidenceid: a.id, competencyid: b },
      }),
        c._callAndRefresh(d, a);
    }),
    (h.prototype.deleteUserEvidenceCompetency = function (a, b) {
      this._doDeleteUserEvidenceCompetency(a, b);
    }),
    (h.prototype._deleteUserEvidenceCompetencyHandler = function (b) {
      var c = this._findEvidenceData(a(b.currentTarget)),
        d = a(b.currentTarget).data("id");
      b.preventDefault(), this.deleteUserEvidenceCompetency(c, d);
    }),
    (h.prototype._doReviewUserEvidenceCompetencies = function (a) {
      var b = this,
        c = [
          {
            methodname:
              "core_competency_request_review_of_user_evidence_linked_competencies",
            args: { id: a.id },
          },
        ];
      b._callAndRefresh(c, a);
    }),
    (h.prototype.reviewUserEvidenceCompetencies = function (a) {
      var b,
        f = this;
      (b = c.call([
        {
          methodname: "core_competency_read_user_evidence",
          args: { id: a.id },
        },
      ])),
        b[0]
          .done(function (b) {
            e.get_strings([
              { key: "confirm", component: "moodle" },
              {
                key: "sendallcompetenciestoreview",
                component: "tool_lp",
                param: b.name,
              },
              { key: "confirm", component: "moodle" },
              { key: "cancel", component: "moodle" },
            ])
              .done(function (b) {
                d.confirm(b[0], b[1], b[2], b[3], function () {
                  f._doReviewUserEvidenceCompetencies(a);
                });
              })
              .fail(d.exception);
          })
          .fail(d.exception);
    }),
    (h.prototype._reviewUserEvidenceCompetenciesHandler = function (b) {
      b.preventDefault();
      var c = this._findEvidenceData(a(b.target));
      this.reviewUserEvidenceCompetencies(c);
    }),
    (h.prototype._findEvidenceData = function (b) {
      var c,
        d = b.parentsUntil(a(this._region).parent(), this._evidenceNode);
      if (1 != d.length) throw new Error("The evidence node was not located.");
      if (
        ((c = d.data()), "undefined" == typeof c || "undefined" == typeof c.id)
      )
        throw new Error("Evidence data could not be found.");
      return c;
    }),
    (h.prototype.enhanceMenubar = function (a) {
      var b = this;
      f.enhance(a, {
        '[data-action="user-evidence-delete"]':
          b._deleteEvidenceHandler.bind(b),
        '[data-action="link-competency"]':
          b._createUserEvidenceCompetencyHandler.bind(b),
        '[data-action="send-competencies-review"]':
          b._reviewUserEvidenceCompetenciesHandler.bind(b),
      });
    }),
    (h.prototype.registerEvents = function () {
      var b = a(this._region),
        c = this;
      b
        .find('[data-action="user-evidence-delete"]')
        .click(c._deleteEvidenceHandler.bind(c)),
        b
          .find('[data-action="link-competency"]')
          .click(c._createUserEvidenceCompetencyHandler.bind(c)),
        b
          .find('[data-action="delete-competency-link"]')
          .click(c._deleteUserEvidenceCompetencyHandler.bind(c)),
        b
          .find('[data-action="send-competencies-review"]')
          .click(c._reviewUserEvidenceCompetenciesHandler.bind(c));
    }),
    h
  );
});
define("tool_templatelibrary/display", [
  "jquery",
  "core/ajax",
  "core/log",
  "core/notification",
  "core/templates",
  "core/config",
  "core/str",
], function (a, b, c, d, e, f, g) {
  var h = function (a, b) {
      if (!a) return !1;
      var c = "@template " + b,
        d = 0,
        e = [];
      if (((e = a.match(/{{!([\s\S]*?)}}/g)), null !== e))
        for (d = 0; d < e.length; d++) {
          var f = e[d],
            g = f.indexOf(c);
          if (g !== -1) {
            var h = g + c.length + 1;
            return (f = f.substr(h, f.length - 2 - h));
          }
        }
      return !1;
    },
    i = function (b, f, i) {
      g.get_string("templateselected", "tool_templatelibrary", b)
        .done(function (b) {
          a('[data-region="displaytemplateheader"]').text(b);
        })
        .fail(d.exception);
      var j = h(f, b);
      j === !1 && (j = h(i, b)),
        j && (f = j),
        a('[data-region="displaytemplatesource"]').text(f);
      var k = f.match(/Example context \(json\):([\s\S]*)/),
        l = !1;
      if (k) {
        var m = k[1].trim();
        try {
          l = a.parseJSON(m);
        } catch (n) {
          c.debug("Could not parse json example context for template."),
            c.debug(n);
        }
      }
      l
        ? e
            .render(b, l)
            .done(function (b, c) {
              e.replaceNodeContents(
                a('[data-region="displaytemplateexample"]'),
                b,
                c
              );
            })
            .fail(d.exception)
        : g
            .get_string("templatehasnoexample", "tool_templatelibrary")
            .done(function (b) {
              a('[data-region="displaytemplateexample"]').text(b);
            })
            .fail(d.exception);
    },
    j = function (c) {
      var e = c.split("/"),
        g = e.shift(),
        h = e.shift(),
        j = b.call(
          [
            {
              methodname: "core_output_load_template",
              args: { component: g, template: h, themename: f.theme },
            },
            {
              methodname: "tool_templatelibrary_load_canonical_template",
              args: { component: g, template: h },
            },
          ],
          !0,
          !1
        );
      a.when
        .apply(a, j)
        .done(function (a, b) {
          i(c, a, b);
        })
        .fail(d.exception);
    };
  return (
    a('[data-region="list-templates"]').on(
      "click",
      "[data-templatename]",
      function (b) {
        var c = a(this).data("templatename");
        b.preventDefault(), j(c);
      }
    ),
    {}
  );
});
define("tool_templatelibrary/search", [
  "jquery",
  "core/ajax",
  "core/log",
  "core/notification",
  "core/templates",
  "core/config",
], function (a, b, c, d, e, f) {
  var g = function (b) {
      e.render("tool_templatelibrary/search_results", { templates: b })
        .done(function (b, c) {
          e.replaceNode(a('[data-region="searchresults"]'), b, c);
        })
        .fail(d.exception);
    },
    h = function (c) {
      var e = a('[data-field="component"]').val(),
        f = a('[data-field="search"]').val();
      (document.location.hash = f),
        b.call(
          [
            {
              methodname: "tool_templatelibrary_list_templates",
              args: { component: e, search: f, themename: c },
              done: g,
              fail: d.exception,
            },
          ],
          !0,
          !1
        );
    },
    i = null,
    j = function (a, b) {
      null !== i && window.clearTimeout(i),
        (i = window.setTimeout(function () {
          a(), (i = null);
        }, b));
    },
    k = function () {
      j(h.bind(this, f.theme), 400);
    };
  return (
    a('[data-region="list-templates"]').on(
      "change",
      '[data-field="component"]',
      k
    ),
    a('[data-region="list-templates"]').on("input", '[data-field="search"]', k),
    a('[data-field="search"]').val(document.location.hash.replace("#", "")),
    h(f.theme),
    {}
  );
});
define("tool_usertours/managesteps", [
  "jquery",
  "core/str",
  "core/notification",
], function (a, b, c) {
  var d = {
    removeStep: function (d) {
      d.preventDefault(),
        b
          .get_strings([
            { key: "confirmstepremovaltitle", component: "tool_usertours" },
            { key: "confirmstepremovalquestion", component: "tool_usertours" },
            { key: "yes", component: "moodle" },
            { key: "no", component: "moodle" },
          ])
          .done(function (b) {
            c.confirm(
              b[0],
              b[1],
              b[2],
              b[3],
              a.proxy(function () {
                window.location = a(this).attr("href");
              }, d.currentTarget)
            );
          });
    },
    setup: function () {
      a("body").delegate('[data-action="delete"]', "click", d.removeStep);
    },
  };
  return { setup: d.setup };
});
define("tool_usertours/managetours", [
  "jquery",
  "core/ajax",
  "core/str",
  "core/notification",
], function (a, b, c, d) {
  var e = {
    removeTour: function (b) {
      b.preventDefault(),
        c
          .get_strings([
            { key: "confirmtourremovaltitle", component: "tool_usertours" },
            { key: "confirmtourremovalquestion", component: "tool_usertours" },
            { key: "yes", component: "moodle" },
            { key: "no", component: "moodle" },
          ])
          .done(function (c) {
            d.confirm(
              c[0],
              c[1],
              c[2],
              c[3],
              a.proxy(function () {
                window.location = a(this).attr("href");
              }, b.currentTarget)
            );
          });
    },
    setup: function () {
      a("body").delegate('[data-action="delete"]', "click", e.removeTour);
    },
  };
  return { setup: e.setup };
});
!(function (a, b) {
  "object" == typeof exports && "undefined" != typeof module
    ? (module.exports = b())
    : "function" == typeof define && define.amd
    ? define("tool_usertours/popper", b)
    : (a.Popper = b());
})(this, function () {
  "use strict";
  function a(a, b, c) {
    var d = a.filter(function (a) {
      return a[b] === c;
    })[0];
    return a.indexOf(d);
  }
  function b(a) {
    var b = a.offsetParent;
    return b && "BODY" !== b.nodeName ? b : window.document.documentElement;
  }
  function c(a, b) {
    if (1 !== a.nodeType) return [];
    var c = window.getComputedStyle(a, null);
    return c[b];
  }
  function d(a) {
    return a.parentNode || a.host;
  }
  function e(a) {
    return a === window.document
      ? window.document.body.scrollTop
        ? window.document.body
        : window.document.documentElement
      : ["scroll", "auto"].indexOf(c(a, "overflow")) !== -1 ||
        ["scroll", "auto"].indexOf(c(a, "overflow-x")) !== -1 ||
        ["scroll", "auto"].indexOf(c(a, "overflow-y")) !== -1
      ? a === window.document.body
        ? e(d(a))
        : a
      : d(a)
      ? e(d(a))
      : a;
  }
  function f(a) {
    var b = {
      width: a.offsetWidth,
      height: a.offsetHeight,
      left: a.offsetLeft,
      top: a.offsetTop,
    };
    return (b.right = b.left + b.width), (b.bottom = b.top + b.height), b;
  }
  function g(a, c, d, g) {
    var h = {};
    if ("window" === g) {
      var i = window.document.body,
        j = window.document.documentElement,
        k = Math.max(
          i.scrollHeight,
          i.offsetHeight,
          j.clientHeight,
          j.scrollHeight,
          j.offsetHeight
        ),
        l = Math.max(
          i.scrollWidth,
          i.offsetWidth,
          j.clientWidth,
          j.scrollWidth,
          j.offsetWidth
        );
      h = { top: 0, right: l, bottom: k, left: 0 };
    } else if ("viewport" === g) {
      var m = b(a),
        n = e(a),
        o = f(m),
        p = "fixed" === c.offsets.popper.position ? 0 : n.scrollTop,
        q = "fixed" === c.offsets.popper.position ? 0 : n.scrollLeft;
      h = {
        top: 0 - (o.top - p),
        right: window.document.documentElement.clientWidth - (o.left - q),
        bottom: window.document.documentElement.clientHeight - (o.top - p),
        left: 0 - (o.left - q),
      };
    } else
      h =
        b(a) === g
          ? { top: 0, left: 0, right: g.clientWidth, bottom: g.clientHeight }
          : f(g);
    return (
      (h.left += d),
      (h.right -= d),
      (h.top = h.top + d),
      (h.bottom = h.bottom - d),
      h
    );
  }
  function h(a) {
    var b = a.getBoundingClientRect();
    return {
      left: b.left,
      top: b.top,
      right: b.right,
      bottom: b.bottom,
      width: b.right - b.left,
      height: b.bottom - b.top,
    };
  }
  function i(a, b, c, d) {
    var f = h(a),
      g = h(b);
    if (c && !d) {
      var i = e(b);
      (g.top += i.scrollTop),
        (g.bottom += i.scrollTop),
        (g.left += i.scrollLeft),
        (g.right += i.scrollLeft);
    }
    var j = {
      top: f.top - g.top,
      left: f.left - g.left,
      bottom: f.top - g.top + f.height,
      right: f.left - g.left + f.width,
      width: f.width,
      height: f.height,
    };
    return j;
  }
  function j(a) {
    var b = a.style.display,
      c = a.style.visibility;
    (a.style.display = "block"), (a.style.visibility = "hidden");
    var d = window.getComputedStyle(a),
      e = parseFloat(d.marginTop) + parseFloat(d.marginBottom),
      f = parseFloat(d.marginLeft) + parseFloat(d.marginRight),
      g = { width: a.offsetWidth + f, height: a.offsetHeight + e };
    return (a.style.display = b), (a.style.visibility = c), g;
  }
  function k(a) {
    return Object.assign({}, a, {
      right: a.left + a.width,
      bottom: a.top + a.height,
    });
  }
  function l(a) {
    return (
      a !== window.document.body &&
      ("fixed" === c(a, "position") || (d(a) ? l(d(a)) : a))
    );
  }
  function m(a, c) {
    var d = b(c),
      e = l(d);
    return e ? "fixed" : "absolute";
  }
  function n(a) {
    for (var b = ["", "ms", "webkit", "moz", "o"], c = 0; c < b.length; c++) {
      var d = b[c] ? b[c] + a.charAt(0).toUpperCase() + a.slice(1) : a;
      if ("undefined" != typeof window.document.body.style[d]) return d;
    }
    return null;
  }
  function o(a) {
    var b = {};
    return a && "[object Function]" === b.toString.call(a);
  }
  function p(a, b, c) {
    return !!a.filter(function (a) {
      return a.name === c || (a.name === b, !1);
    }).length;
  }
  function q(a) {
    return "" !== a && !isNaN(parseFloat(a)) && isFinite(a);
  }
  function r(a) {
    return (
      a !== window.document.body &&
      ("none" !== c(a, "transform") || (d(a) ? r(d(a)) : a))
    );
  }
  function s(b, c, d, e) {
    var f = void 0 === e ? b : b.slice(0, a(b, "name", e));
    return (
      f.forEach(function (a) {
        a.enabled && o(a["function"]) && (d = a["function"](d, a));
      }),
      d
    );
  }
  function t(a, b) {
    Object.keys(b).forEach(function (c) {
      var d = "";
      ["width", "height", "top", "right", "bottom", "left"].indexOf(c) !== -1 &&
        q(b[c]) &&
        (d = "px"),
        (a.style[c] = b[c] + d);
    });
  }
  function u(a, c, d, e) {
    e = e.split("-")[0];
    var f = {};
    f.position = a.position;
    var g = "fixed" === f.position,
      h = a.isParentTransformed,
      k = b(g && h ? d : c),
      l = i(d, k, g, h),
      m = j(c);
    return (
      ["right", "left"].indexOf(e) !== -1
        ? ((f.top = l.top + l.height / 2 - m.height / 2),
          "left" === e ? (f.left = l.left - m.width) : (f.left = l.right))
        : ((f.left = l.left + l.width / 2 - m.width / 2),
          "top" === e ? (f.top = l.top - m.height) : (f.top = l.bottom)),
      (f.width = m.width),
      (f.height = m.height),
      { popper: f, reference: l }
    );
  }
  function v(a, b, c, d) {
    if (
      ((c.updateBound = d),
      window.addEventListener("resize", c.updateBound, { passive: !0 }),
      "window" !== b.boundariesElement)
    ) {
      var f = e(a);
      (f !== window.document.body && f !== window.document.documentElement) ||
        (f = window),
        f.addEventListener("scroll", c.updateBound, { passive: !0 });
    }
  }
  function w(a, b, c) {
    if (
      (window.removeEventListener("resize", b.updateBound),
      "window" !== c.boundariesElement)
    ) {
      var d = e(a);
      (d !== window.document.body && d !== window.document.documentElement) ||
        (d = window),
        d.removeEventListener("scroll", b.updateBound);
    }
    return (b.updateBound = null), b;
  }
  function x(a, b) {
    return a.order < b.order ? -1 : a.order > b.order ? 1 : 0;
  }
  function y(a) {
    var b = { position: a.offsets.popper.position },
      c = Math.round(a.offsets.popper.left),
      d = Math.round(a.offsets.popper.top),
      e = n("transform");
    return (
      a.instance.options.gpuAcceleration && e
        ? ((b[e] = "translate3d(" + c + "px, " + d + "px, 0)"),
          (b.top = 0),
          (b.left = 0))
        : ((b.left = c), (b.top = d)),
      Object.assign(b, a.styles),
      t(a.instance.popper, b),
      a.instance.popper.setAttribute("x-placement", a.placement),
      a.offsets.arrow && t(a.arrowElement, a.offsets.arrow),
      a
    );
  }
  function z(a, b, c) {
    b.setAttribute("x-placement", c.placement);
  }
  function A(a, b) {
    var c = b.element;
    if (("string" == typeof c && (c = a.instance.popper.querySelector(c)), !c))
      return a;
    if (!a.instance.popper.contains(c))
      return (
        console.warn(
          "WARNING: `arrowElement` must be child of its popper element!"
        ),
        a
      );
    if (!p(a.instance.modifiers, "arrow", "keepTogether"))
      return (
        console.warn(
          "WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"
        ),
        a
      );
    var d = {},
      e = a.placement.split("-")[0],
      f = k(a.offsets.popper),
      g = a.offsets.reference,
      h = ["left", "right"].indexOf(e) !== -1,
      i = h ? "height" : "width",
      l = h ? "top" : "left",
      m = h ? "left" : "top",
      n = h ? "bottom" : "right",
      o = j(c)[i];
    g[n] - o < f[l] && (a.offsets.popper[l] -= f[l] - (g[n] - o)),
      g[l] + o > f[n] && (a.offsets.popper[l] += g[l] + o - f[n]);
    var q = g[l] + g[i] / 2 - o / 2,
      r = q - k(a.offsets.popper)[l];
    return (
      (r = Math.max(Math.min(f[i] - o, r), 0)),
      (d[l] = r),
      (d[m] = ""),
      (a.offsets.arrow = d),
      (a.arrowElement = c),
      a
    );
  }
  function B(a) {
    var b = { left: "right", right: "left", bottom: "top", top: "bottom" };
    return a.replace(/left|right|bottom|top/g, function (a) {
      return b[a];
    });
  }
  function C(a) {
    return "end" === a ? "start" : "start" === a ? "end" : a;
  }
  function D(a, b) {
    if (!p(a.instance.modifiers, "flip", "preventOverflow"))
      return (
        console.warn(
          "WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"
        ),
        a
      );
    if (a.flipped && a.placement === a.originalPlacement) return a;
    var c = a.placement.split("-")[0],
      d = B(c),
      e = a.placement.split("-")[1] || "",
      f = [];
    return (
      (f = "flip" === b.behavior ? [c, d] : b.behavior),
      f.forEach(function (g, h) {
        if (c !== g || f.length === h + 1) return a;
        (c = a.placement.split("-")[0]), (d = B(c));
        var i = k(a.offsets.popper),
          j = ["right", "bottom"].indexOf(c) !== -1,
          l = ["top", "bottom"].indexOf(c) !== -1,
          m =
            (j && Math.floor(a.offsets.reference[c]) > Math.floor(i[d])) ||
            (!j && Math.floor(a.offsets.reference[c]) < Math.floor(i[d])),
          n =
            b.flipVariations &&
            ((l &&
              "start" === e &&
              Math.floor(i.left) < Math.floor(a.boundaries.left)) ||
              (l &&
                "end" === e &&
                Math.floor(i.right) > Math.floor(a.boundaries.right)) ||
              (!l &&
                "start" === e &&
                Math.floor(i.top) < Math.floor(a.boundaries.top)) ||
              (!l &&
                "end" === e &&
                Math.floor(i.bottom) > Math.floor(a.boundaries.bottom)));
        (m || n) &&
          ((a.flipped = !0),
          m && (c = f[h + 1]),
          n && (e = C(e)),
          (a.placement = c + (e ? "-" + e : "")),
          (a.offsets.popper = u(
            a.instance.state,
            a.instance.popper,
            a.instance.reference,
            a.placement
          ).popper),
          (a = s(a.instance.modifiers, a.instance.options, a, "flip")));
      }),
      a
    );
  }
  function E(a) {
    var b = k(a.offsets.popper),
      c = a.offsets.reference,
      d = Math.floor,
      e = a.placement.split("-")[0];
    return (
      ["top", "bottom"].indexOf(e) !== -1
        ? (b.right < d(c.left) && (a.offsets.popper.left = d(c.left) - b.width),
          b.left > d(c.right) && (a.offsets.popper.left = d(c.right)))
        : (b.bottom < d(c.top) && (a.offsets.popper.top = d(c.top) - b.height),
          b.top > d(c.bottom) && (a.offsets.popper.top = d(c.bottom))),
      a
    );
  }
  function F(a, b) {
    var c = a.placement,
      d = a.offsets.popper,
      e = void 0;
    return (
      q(b.offset)
        ? (e = [b.offset, 0])
        : ((e = b.offset.split(" ")),
          (e = e.map(function (b, d) {
            var e = b.match(/(\d*\.?\d*)(.*)/),
              f = +e[1],
              g = e[2],
              h = c.indexOf("right") !== -1 || c.indexOf("left") !== -1;
            if ((1 === d && (h = !h), "%" === g || "%r" === g)) {
              var i = k(a.offsets.reference),
                j = void 0;
              return (j = h ? i.height : i.width), (j / 100) * f;
            }
            if ("%p" === g) {
              var l = k(a.offsets.popper),
                m = void 0;
              return (m = h ? l.height : l.width), (m / 100) * f;
            }
            if ("vh" === g || "vw" === g) {
              var n = void 0;
              return (
                (n =
                  "vh" === g
                    ? Math.max(
                        document.documentElement.clientHeight,
                        window.innerHeight || 0
                      )
                    : Math.max(
                        document.documentElement.clientWidth,
                        window.innerWidth || 0
                      )),
                (n / 100) * f
              );
            }
            return "px" === g ? +f : +b;
          }))),
      a.placement.indexOf("left") !== -1
        ? ((d.top += e[0]), (d.left -= e[1] || 0))
        : a.placement.indexOf("right") !== -1
        ? ((d.top += e[0]), (d.left += e[1] || 0))
        : a.placement.indexOf("top") !== -1
        ? ((d.left += e[0]), (d.top -= e[1] || 0))
        : a.placement.indexOf("bottom") !== -1 &&
          ((d.left += e[0]), (d.top += e[1] || 0)),
      a
    );
  }
  function G(a, b) {
    function c(c) {
      if (!b.moveWithTarget) return !1;
      var d = a.originalPlacement.split("-")[0];
      return (
        !!((a.flipped && d === c) || d === B(c)) || (d !== c && d !== B(c))
      );
    }
    var d = b.priority,
      e = k(a.offsets.popper),
      f = {
        left: function g() {
          var g = e.left;
          return (
            e.left < a.boundaries.left &&
              !c("left") &&
              (g = Math.max(e.left, a.boundaries.left)),
            { left: g }
          );
        },
        right: function () {
          var b = e.left;
          return (
            e.right > a.boundaries.right &&
              !c("right") &&
              (b = Math.min(e.left, a.boundaries.right - e.width)),
            { left: b }
          );
        },
        top: function h() {
          var h = e.top;
          return (
            e.top < a.boundaries.top &&
              !c("top") &&
              (h = Math.max(e.top, a.boundaries.top)),
            { top: h }
          );
        },
        bottom: function () {
          var b = e.top;
          return (
            e.bottom > a.boundaries.bottom &&
              !c("bottom") &&
              (b = Math.min(e.top, a.boundaries.bottom - e.height)),
            { top: b }
          );
        },
      };
    return (
      d.forEach(function (b) {
        a.offsets.popper = Object.assign(e, f[b]());
      }),
      a
    );
  }
  function H(a) {
    var b = a.placement,
      c = b.split("-")[0],
      d = b.split("-")[1];
    if (d) {
      var e = a.offsets.reference,
        f = k(a.offsets.popper),
        g = {
          y: {
            start: { top: e.top },
            end: { top: e.top + e.height - f.height },
          },
          x: {
            start: { left: e.left },
            end: { left: e.left + e.width - f.width },
          },
        },
        h = ["bottom", "top"].indexOf(c) !== -1 ? "x" : "y";
      a.offsets.popper = Object.assign(f, g[h][d]);
    }
    return a;
  }
  function I(a) {
    var b = a.offsets.reference,
      c = a.boundaries;
    return (
      b.bottom < c.top ||
      b.left > c.right ||
      b.top > c.bottom ||
      b.right < c.left
        ? ((a.hide = !0),
          a.instance.popper.setAttribute("x-out-of-boundaries", ""))
        : ((a.hide = !1),
          a.instance.popper.removeAttribute("x-out-of-boundaries")),
      a
    );
  }
  if (
    (Object.assign ||
      Object.defineProperty(Object, "assign", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function (a) {
          if (void 0 === a || null === a)
            throw new TypeError("Cannot convert first argument to object");
          for (var b = Object(a), c = 1; c < arguments.length; c++) {
            var d = arguments[c];
            if (void 0 !== d && null !== d) {
              d = Object(d);
              for (var e = Object.keys(d), f = 0, g = e.length; f < g; f++) {
                var h = e[f],
                  i = Object.getOwnPropertyDescriptor(d, h);
                void 0 !== i && i.enumerable && (b[h] = d[h]);
              }
            }
          }
          return b;
        },
      }),
    !window.requestAnimationFrame)
  ) {
    for (
      var J = 0, K = ["ms", "moz", "webkit", "o"], L = 0;
      L < K.length && !window.requestAnimationFrame;
      ++L
    )
      (window.requestAnimationFrame = window[K[L] + "RequestAnimationFrame"]),
        (window.cancelAnimationFrame =
          window[K[L] + "CancelAnimationFrame"] ||
          window[K[L] + "CancelRequestAnimationFrame"]);
    window.requestAnimationFrame ||
      (window.requestAnimationFrame = function (a) {
        var b = new Date().getTime(),
          c = Math.max(0, 16 - (b - J)),
          d = window.setTimeout(function () {
            a(b + c);
          }, c);
        return (J = b + c), d;
      }),
      window.cancelAnimationFrame ||
        (window.cancelAnimationFrame = function (a) {
          clearTimeout(a);
        });
  }
  var M = {
      findIndex: a,
      getBoundaries: g,
      getBoundingClientRect: h,
      getOffsetParent: b,
      getOffsetRectRelativeToCustomParent: i,
      getOuterSizes: j,
      getPopperClientRect: k,
      getPosition: m,
      getScrollParent: e,
      getStyleComputedProperty: c,
      getSupportedPropertyName: n,
      isFixed: l,
      isFunction: o,
      isModifierRequired: p,
      isNumeric: q,
      isTransformed: r,
      runModifiers: s,
      setStyle: t,
    },
    N = {
      applyStyle: y,
      arrow: A,
      flip: D,
      keepTogether: E,
      offset: F,
      preventOverflow: G,
      shift: H,
      hide: I,
    },
    O = { applyStyleOnLoad: z },
    P = function (a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    },
    Q = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    R = {
      placement: "bottom",
      gpuAcceleration: !0,
      boundariesElement: "viewport",
      boundariesPadding: 5,
      modifiers: {
        shift: { order: 100, enabled: !0, function: N.shift },
        offset: { order: 200, enabled: !0, function: N.offset, offset: 0 },
        preventOverflow: {
          order: 300,
          enabled: !0,
          function: N.preventOverflow,
          priority: ["left", "right", "top", "bottom"],
        },
        keepTogether: { order: 400, enabled: !0, function: N.keepTogether },
        arrow: {
          order: 500,
          enabled: !0,
          function: N.arrow,
          element: "[x-arrow]",
        },
        flip: { order: 600, enabled: !0, function: N.flip, behavior: "flip" },
        hide: { order: 700, enabled: !0, function: N.hide },
        applyStyle: {
          order: 800,
          enabled: !0,
          function: N.applyStyle,
          onLoad: O.applyStyleOnLoad,
        },
      },
    },
    S = (function () {
      function a(b, c) {
        var d = this,
          e =
            arguments.length <= 2 || void 0 === arguments[2]
              ? {}
              : arguments[2];
        return (
          P(this, a),
          (this.Defaults = R),
          (this.state = { isDestroyed: !1 }),
          (this.reference = b.jquery ? b[0] : b),
          (this.popper = c.jquery ? c[0] : c),
          (this.options = Object.assign({}, R, e)),
          (this.modifiers = Object.keys(R.modifiers).map(function (a) {
            return Object.assign({ name: a }, R.modifiers[a]);
          })),
          (this.modifiers = this.modifiers.map(function (a) {
            var b = (e.modifiers && e.modifiers[a.name]) || {},
              c = Object.assign({}, a, b);
            return c;
          })),
          e.modifiers &&
            Object.keys(e.modifiers).forEach(function (a) {
              if (void 0 === R.modifiers[a]) {
                var b = e.modifiers[a];
                (b.name = a), d.modifiers.push(b);
              }
            }),
          (this.modifiers = this.modifiers.sort(x)),
          this.modifiers.forEach(function (a) {
            a.enabled &&
              o(a.onLoad) &&
              a.onLoad(d.reference, d.popper, d.options);
          }),
          (this.state.position = m(this.popper, this.reference)),
          (this.state.isParentTransformed = r(this.popper.parentNode)),
          this.update(!0),
          v(this.reference, this.options, this.state, function () {
            return d.update();
          }),
          this
        );
      }
      return (
        Q(a, [
          {
            key: "update",
            value: function (a) {
              var b = this,
                c = { instance: this, styles: {} };
              (this.state.position = m(this.popper, this.reference)),
                t(this.popper, { position: this.state.position }),
                window.requestAnimationFrame(function () {
                  if (!b.state.isDestroyed) {
                    var d = window.performance.now();
                    if (d - b.state.lastFrame <= 16) return b.update();
                    (b.state.lastFrame = d),
                      (c.placement = b.options.placement),
                      (c.originalPlacement = b.options.placement),
                      (c.offsets = u(
                        b.state,
                        b.popper,
                        b.reference,
                        c.placement
                      )),
                      (c.boundaries = g(
                        b.popper,
                        c,
                        b.options.boundariesPadding,
                        b.options.boundariesElement
                      )),
                      (c = s(b.modifiers, b.options, c)),
                      a && o(b.state.createCalback)
                        ? b.state.createCalback(c)
                        : !a &&
                          o(b.state.updateCallback) &&
                          b.state.updateCallback(c);
                  }
                });
            },
          },
          {
            key: "onCreate",
            value: function (a) {
              return (this.state.createCalback = a), this;
            },
          },
          {
            key: "onUpdate",
            value: function (a) {
              return (this.state.updateCallback = a), this;
            },
          },
          {
            key: "destroy",
            value: function () {
              return (
                (this.state.isDestroyed = !0),
                this.popper.removeAttribute("x-placement"),
                (this.popper.style.left = ""),
                (this.popper.style.position = ""),
                (this.popper.style.top = ""),
                (this.popper.style[n("transform")] = ""),
                (this.state = w(this.reference, this.state, this.options)),
                this.options.removeOnDestroy &&
                  this.popper.parentNode.removeChild(this.popper),
                this
              );
            },
          },
        ]),
        a
      );
    })();
  return (S.Utils = M), S;
});
!(function (a, b) {
  "function" == typeof define && define.amd
    ? define("tool_usertours/tour", ["jquery", "./popper"], function (c, d) {
        return (a.Tour = b(c, d));
      })
    : "object" == typeof exports
    ? (module.exports = b(require("jquery"), require("popper.js")))
    : (a.Tour = b($, Popper));
})(this, function (a, b) {
  "use strict";
  function c(a) {
    this.init(a);
  }
  var d =
    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
      ? function (a) {
          return typeof a;
        }
      : function (a) {
          return a && "function" == typeof Symbol && a.constructor === Symbol
            ? "symbol"
            : typeof a;
        };
  return (
    c.prototype.tourName,
    c.prototype.storageKey,
    c.prototype.storage,
    c.prototype.originalConfiguration,
    c.prototype.listeners,
    c.prototype.eventHandlers,
    c.prototype.steps,
    c.prototype.currentStepNode,
    c.prototype.currentStepNumber,
    c.prototype.currentStepPopper,
    c.prototype.currentStepConfig,
    c.prototype.templateContent,
    (c.prototype.init = function (a) {
      (this.eventHandlers = {}),
        this.reset(),
        (this.originalConfiguration = a || {}),
        this.configure.apply(this, arguments);
      try {
        (this.storage = window.sessionStorage),
          (this.storageKey = "tourstate_" + this.tourName);
      } catch (b) {
        (this.storage = !1), (this.storageKey = "");
      }
      return this;
    }),
    (c.prototype.reset = function () {
      return (
        this.hide(),
        (this.eventHandlers = []),
        this.resetStepListeners(),
        (this.originalConfiguration = {}),
        (this.steps = []),
        (this.currentStepNumber = 0),
        this
      );
    }),
    (c.prototype.configure = function (a) {
      var b = this;
      return (
        "object" === ("undefined" == typeof a ? "undefined" : d(a)) &&
          ("undefined" != typeof a.tourName && (this.tourName = a.tourName),
          a.eventHandlers &&
            !(function () {
              var c = void 0;
              for (c in a.eventHandlers)
                a.eventHandlers[c].forEach(function (a) {
                  this.addEventHandler(c, a);
                }, b);
            })(),
          this.resetStepDefaults(!0),
          "object" === d(a.steps) && (this.steps = a.steps),
          "undefined" != typeof a.template &&
            (this.templateContent = a.template)),
        this.checkMinimumRequirements(),
        this
      );
    }),
    (c.prototype.checkMinimumRequirements = function () {
      if (!this.tourName) throw new Error("Tour Name required");
      if (!this.steps || !this.steps.length)
        throw new Error("Steps must be specified");
    }),
    (c.prototype.resetStepDefaults = function (a) {
      return (
        "undefined" == typeof a && (a = !0),
        (this.stepDefaults = {}),
        a && "undefined" != typeof this.originalConfiguration.stepDefaults
          ? this.setStepDefaults(this.originalConfiguration.stepDefaults)
          : this.setStepDefaults({}),
        this
      );
    }),
    (c.prototype.setStepDefaults = function (b) {
      return (
        this.stepDefaults || (this.stepDefaults = {}),
        a.extend(
          this.stepDefaults,
          {
            element: "",
            placement: "top",
            delay: 0,
            moveOnClick: !1,
            moveAfterTime: 0,
            orphan: !1,
            direction: 1,
          },
          b
        ),
        this
      );
    }),
    (c.prototype.getCurrentStepNumber = function () {
      return parseInt(this.currentStepNumber, 10);
    }),
    (c.prototype.setCurrentStepNumber = function (a) {
      if (((this.currentStepNumber = a), this.storage))
        try {
          this.storage.setItem(this.storageKey, a);
        } catch (b) {
          b.code === DOMException.QUOTA_EXCEEDED_ERR &&
            this.storage.removeItem(this.storageKey);
        }
    }),
    (c.prototype.getNextStepNumber = function (a) {
      "undefined" == typeof a && (a = this.getCurrentStepNumber());
      for (var b = a + 1; b <= this.steps.length; ) {
        if (this.isStepPotentiallyVisible(this.getStepConfig(b))) return b;
        b++;
      }
      return null;
    }),
    (c.prototype.getPreviousStepNumber = function (a) {
      "undefined" == typeof a && (a = this.getCurrentStepNumber());
      for (var b = a - 1; b >= 0; ) {
        if (this.isStepPotentiallyVisible(this.getStepConfig(b))) return b;
        b--;
      }
      return null;
    }),
    (c.prototype.isLastStep = function (a) {
      var b = this.getNextStepNumber(a);
      return null === b;
    }),
    (c.prototype.isFirstStep = function (a) {
      var b = this.getPreviousStepNumber(a);
      return null === b;
    }),
    (c.prototype.isStepPotentiallyVisible = function (a) {
      return (
        !!a &&
        (!!this.isStepActuallyVisible(a) ||
          !("undefined" == typeof a.orphan || !a.orphan) ||
          !("undefined" == typeof a.delay || !a.delay))
      );
    }),
    (c.prototype.isStepActuallyVisible = function (a) {
      if (!a) return !1;
      var b = this.getStepTarget(a);
      return !!(b && b.length && b.is(":visible")) && !!b.length;
    }),
    (c.prototype.next = function () {
      return this.gotoStep(this.getNextStepNumber());
    }),
    (c.prototype.previous = function () {
      return this.gotoStep(this.getPreviousStepNumber(), -1);
    }),
    (c.prototype.gotoStep = function (a, b) {
      if (a < 0) return this.endTour();
      var c = this.getStepConfig(a);
      return null === c ? this.endTour() : this._gotoStep(c, b);
    }),
    (c.prototype._gotoStep = function (a, b) {
      if (!a) return this.endTour();
      if ("undefined" != typeof a.delay && a.delay && !a.delayed)
        return (
          (a.delayed = !0),
          window.setTimeout(this._gotoStep.bind(this), a.delay, a, b),
          this
        );
      if (!a.orphan && !this.isStepActuallyVisible(a)) {
        var c = b == -1 ? "getPreviousStepNumber" : "getNextStepNumber";
        return this.gotoStep(this[c](a.stepNumber), b);
      }
      return (
        this.hide(),
        this.fireEventHandlers("beforeRender", a),
        this.renderStep(a),
        this.fireEventHandlers("afterRender", a),
        this
      );
    }),
    (c.prototype.getStepConfig = function (b) {
      if (null === b || b < 0 || b >= this.steps.length) return null;
      var c = this.normalizeStepConfig(this.steps[b]);
      return (c = a.extend(c, { stepNumber: b }));
    }),
    (c.prototype.normalizeStepConfig = function (b) {
      return (
        "undefined" != typeof b.reflex &&
          "undefined" == typeof b.moveAfterClick &&
          (b.moveAfterClick = b.reflex),
        "undefined" != typeof b.element &&
          "undefined" == typeof b.target &&
          (b.target = b.element),
        "undefined" != typeof b.content &&
          "undefined" == typeof b.body &&
          (b.body = b.content),
        (b = a.extend({}, this.stepDefaults, b)),
        (b = a.extend({}, { attachTo: b.target, attachPoint: "after" }, b)),
        b.attachTo && (b.attachTo = a(b.attachTo).first()),
        b
      );
    }),
    (c.prototype.getStepTarget = function (b) {
      return b.target ? a(b.target) : null;
    }),
    (c.prototype.fireEventHandlers = function (a, b) {
      return "undefined" == typeof this.eventHandlers[a]
        ? this
        : (this.eventHandlers[a].forEach(function (a) {
            a.call(this, b);
          }, this),
          this);
    }),
    (c.prototype.addEventHandler = function (a, b) {
      return (
        "undefined" == typeof this.eventHandlers[a] &&
          (this.eventHandlers[a] = []),
        this.eventHandlers[a].push(b),
        this
      );
    }),
    (c.prototype.processStepListeners = function (b) {
      if (
        (this.listeners.push(
          {
            node: this.currentStepNode,
            args: ["click", '[data-role="next"]', a.proxy(this.next, this)],
          },
          {
            node: this.currentStepNode,
            args: [
              "click",
              '[data-role="previous"]',
              a.proxy(this.previous, this),
            ],
          },
          {
            node: this.currentStepNode,
            args: ["click", '[data-role="end"]', a.proxy(this.endTour, this)],
          },
          {
            node: a("body"),
            args: ["keydown", a.proxy(this.handleKeyDown, this)],
          }
        ),
        b.moveOnClick)
      ) {
        var c = this.getStepTarget(b);
        this.listeners.push({
          node: c,
          args: [
            "click",
            a.proxy(function (b) {
              0 ===
                a(b.target).parents('[data-flexitour="container"]').length &&
                window.setTimeout(a.proxy(this.next, this), 500);
            }, this),
          ],
        });
      }
      return (
        this.listeners.forEach(function (a) {
          a.node.on.apply(a.node, a.args);
        }),
        this
      );
    }),
    (c.prototype.resetStepListeners = function () {
      return (
        this.listeners &&
          this.listeners.forEach(function (a) {
            a.node.off.apply(a.node, a.args);
          }),
        (this.listeners = []),
        this
      );
    }),
    (c.prototype.renderStep = function (b) {
      (this.currentStepConfig = b), this.setCurrentStepNumber(b.stepNumber);
      var c = a(this.getTemplateContent());
      return (
        c.find('[data-placeholder="title"]').html(b.title),
        c.find('[data-placeholder="body"]').html(b.body),
        this.isFirstStep(b.stepNumber)
          ? c.find('[data-role="previous"]').prop("disabled", !0)
          : c.find('[data-role="previous"]').prop("disabled", !1),
        this.isLastStep(b.stepNumber)
          ? c.find('[data-role="next"]').prop("disabled", !0)
          : c.find('[data-role="next"]').prop("disabled", !1),
        c.find('[data-role="previous"]').attr("role", "button"),
        c.find('[data-role="next"]').attr("role", "button"),
        c.find('[data-role="end"]').attr("role", "button"),
        (b.template = c),
        this.addStepToPage(b),
        this.processStepListeners(b),
        this
      );
    }),
    (c.prototype.getTemplateContent = function () {
      return a(this.templateContent).clone();
    }),
    (c.prototype.addStepToPage = function (c) {
      var d =
          (c.template,
          a('<span data-flexitour="container"></span>')
            .html(c.template)
            .hide()),
        e = a("body, html").stop(!0, !0);
      if (this.isStepActuallyVisible(c)) {
        var f = this.getStepTarget(c);
        f.data("flexitour", "target");
        var g = this.calculateZIndex(f);
        g && (c.zIndex = g + 1),
          c.zIndex && d.css("zIndex", c.zIndex + 1),
          this.positionBackdrop(c),
          "append" === c.attachPoint
            ? (c.attachTo.append(d), (this.currentStepNode = d))
            : (this.currentStepNode = d.insertAfter(c.attachTo)),
          this.currentStepNode.css({ top: 0, left: 0 }),
          e
            .animate({ scrollTop: this.calculateScrollTop(c) })
            .promise()
            .then(
              function () {
                this.positionStep(c), this.revealStep(c);
              }.bind(this)
            );
      } else
        c.orphan &&
          ((c.isOrphan = !0),
          (c.attachTo = a("body").first()),
          (c.attachPoint = "append"),
          this.positionBackdrop(c),
          d.addClass("orphan"),
          c.attachTo.append(d),
          (this.currentStepNode = d),
          this.currentStepNode.offset(this.calculateStepPositionInPage()),
          this.currentStepNode.css("position", "fixed"),
          (this.currentStepPopper = new b(a("body"), this.currentStepNode[0], {
            removeOnDestroy: !0,
            placement: c.placement + "-start",
            arrowElement: '[data-role="arrow"]',
            modifiers: {
              hide: { enabled: !1 },
              applyStyle: { onLoad: null, enabled: !1 },
            },
          })),
          this.revealStep(c));
      return this;
    }),
    (c.prototype.revealStep = function (b) {
      return (
        this.currentStepNode.fadeIn(
          "",
          a.proxy(function () {
            this.announceStep(b),
              this.currentStepNode.focus(),
              window.setTimeout(
                a.proxy(function () {
                  this.currentStepNode && this.currentStepNode.focus();
                }, this),
                100
              );
          }, this)
        ),
        this
      );
    }),
    (c.prototype.announceStep = function (a) {
      var b = "tour-step-" + this.tourName + "-" + a.stepNumber;
      this.currentStepNode.attr("id", b);
      var c = this.currentStepNode.find('[data-placeholder="body"]').first();
      c.attr("id", b + "-body"), c.attr("role", "document");
      var d = this.currentStepNode.find('[data-placeholder="title"]').first();
      d.attr("id", b + "-title"),
        d.attr("aria-labelledby", b + "-body"),
        this.currentStepNode.attr("role", "dialog"),
        this.currentStepNode.attr("tabindex", 0),
        this.currentStepNode.attr("aria-labelledby", b + "-title"),
        this.currentStepNode.attr("aria-describedby", b + "-body");
      var e = this.getStepTarget(a);
      return (
        e &&
          (e.attr("tabindex") || e.attr("tabindex", 0),
          e
            .data("original-describedby", e.attr("aria-describedby"))
            .attr("aria-describedby", b + "-body")),
        this.accessibilityShow(a),
        this
      );
    }),
    (c.prototype.handleKeyDown = function (b) {
      var c =
        "a[href], link[href], [draggable=true], [contenteditable=true], :input:enabled, [tabindex], button";
      switch (b.keyCode) {
        case 27:
          this.endTour();
          break;
        case 9:
          (function () {
            if (this.currentStepConfig.hasBackdrop) {
              var d = a(document.activeElement),
                e = this.getStepTarget(this.currentStepConfig),
                f = a(c),
                g = void 0;
              f.filter(function (a, b) {
                if (d.is(b)) return (g = a), !1;
              });
              var h = void 0,
                i = void 0,
                j = void 0;
              if (g) {
                var k = 1;
                b.shiftKey && (k = -1), (h = g);
                do (h += k), (i = a(f[h]));
                while ((i.length && i.is(":disabled")) || i.is(":hidden"));
                i.length
                  ? ((j = i.closest(e).length),
                    (j = j || i.closest(this.currentStepNode).length))
                  : (j = !1);
              }
              j
                ? i.focus()
                : b.shiftKey
                ? this.currentStepNode.find(c).last().focus()
                : this.currentStepConfig.isOrphan
                ? this.currentStepNode.focus()
                : e.focus(),
                b.preventDefault();
            }
          }).call(this);
      }
    }),
    (c.prototype.startTour = function (a) {
      if (this.storage && "undefined" == typeof a) {
        var b = this.storage.getItem(this.storageKey);
        if (b) {
          var c = parseInt(b, 10);
          c <= this.steps.length && (a = c);
        }
      }
      return (
        "undefined" == typeof a && (a = this.getCurrentStepNumber()),
        this.fireEventHandlers("beforeStart", a),
        this.gotoStep(a),
        this.fireEventHandlers("afterStart", a),
        this
      );
    }),
    (c.prototype.restartTour = function () {
      return this.startTour(0);
    }),
    (c.prototype.endTour = function () {
      if ((this.fireEventHandlers("beforeEnd"), this.currentStepConfig)) {
        var a = this.getStepTarget(this.currentStepConfig);
        a && (a.attr("tabindex") || a.attr("tabindex", "-1"), a.focus());
      }
      return this.hide(!0), this.fireEventHandlers("afterEnd"), this;
    }),
    (c.prototype.hide = function (b) {
      if (
        (this.fireEventHandlers("beforeHide"),
        this.currentStepNode &&
          this.currentStepNode.length &&
          (this.currentStepNode.hide(),
          this.currentStepPopper && this.currentStepPopper.destroy()),
        this.currentStepConfig)
      ) {
        var c = this.getStepTarget(this.currentStepConfig);
        c &&
          (c.data("original-labelledby") &&
            c.attr("aria-labelledby", c.data("original-labelledby")),
          c.data("original-describedby") &&
            c.attr("aria-describedby", c.data("original-describedby")),
          c.data("original-tabindex") &&
            c.attr("tabindex", c.data("tabindex"))),
          (this.currentStepConfig = null);
      }
      var d = 0;
      return (
        b && (d = 400),
        a('[data-flexitour="step-background"]').remove(),
        a('[data-flexitour="step-backdrop"]').removeAttr("data-flexitour"),
        a('[data-flexitour="backdrop"]').fadeOut(d, function () {
          a(this).remove();
        }),
        this.resetStepListeners(),
        this.accessibilityHide(),
        this.fireEventHandlers("afterHide"),
        (this.currentStepNode = null),
        (this.currentStepPopper = null),
        this
      );
    }),
    (c.prototype.show = function () {
      var a = this.getCurrentStepNumber();
      return this.gotoStep(a);
    }),
    (c.prototype.getStepContainer = function () {
      return a(this.currentStepNode);
    }),
    (c.prototype.calculateScrollTop = function (b) {
      var c = a(window).scrollTop(),
        d = a(window).height(),
        e = this.getStepTarget(b);
      return (
        (c =
          "top" === b.placement
            ? e.offset().top - d / 2
            : "bottom" === b.placement
            ? e.offset().top + e.height() - d / 2
            : e.height() <= 0.8 * d
            ? e.offset().top - (d - e.height()) / 2
            : e.offset().top - 0.2 * d),
        (c = Math.max(0, c)),
        (c = Math.min(a(document).height() - d, c)),
        Math.ceil(c)
      );
    }),
    (c.prototype.calculateStepPositionInPage = function () {
      var b = a(window).height(),
        c = this.currentStepNode.height(),
        d = a(window).width(),
        e = this.currentStepNode.width();
      return { top: Math.ceil((b - c) / 2), left: Math.ceil((d - e) / 2) };
    }),
    (c.prototype.positionStep = function (c) {
      var d = this.currentStepNode;
      if (!d || !d.length) return this;
      var e = void 0;
      switch (c.placement) {
        case "left":
          e = ["left", "right", "top", "bottom"];
          break;
        case "right":
          e = ["right", "left", "top", "bottom"];
          break;
        case "top":
          e = ["top", "bottom", "right", "left"];
          break;
        case "bottom":
          e = ["bottom", "top", "right", "left"];
          break;
        default:
          e = "flip";
      }
      var f = this.getStepTarget(c),
        g = {
          placement: c.placement + "-start",
          removeOnDestroy: !0,
          modifiers: {
            flip: { behaviour: e },
            arrow: { element: '[data-role="arrow"]' },
          },
        },
        h = f.closest("section");
      h.length && (g.boundariesElement = h[0]);
      var i = a('[data-flexitour="step-background"]');
      return (
        i.length && (f = i), (this.currentStepPopper = new b(f, d[0], g)), this
      );
    }),
    (c.prototype.positionBackdrop = function (b) {
      if (b.backdrop) {
        this.currentStepConfig.hasBackdrop = !0;
        var c = a('<div data-flexitour="backdrop"></div>');
        if (
          (b.zIndex
            ? "append" === b.attachPoint
              ? b.attachTo.append(c)
              : c.insertAfter(b.attachTo)
            : a("body").append(c),
          this.isStepActuallyVisible(b))
        ) {
          var d = a('<div data-flexitour="step-background"></div>'),
            e = this.getStepTarget(b),
            f = 10,
            g = e;
          f && (g = a("body")),
            d.css({
              width: e.outerWidth() + f + f,
              height: e.outerHeight() + f + f,
              left: e.offset().left - f,
              top: e.offset().top - f,
              backgroundColor: this.calculateInherittedBackgroundColor(g),
            }),
            e.offset().left < f &&
              d.css({
                width: e.outerWidth() + e.offset().left + f,
                left: e.offset().left,
              }),
            e.offset().top < f &&
              d.css({
                height: e.outerHeight() + e.offset().top + f,
                top: e.offset().top,
              });
          var h = e.css("borderRadius");
          h && h !== a("body").css("borderRadius") && d.css("borderRadius", h);
          var i = this.calculatePosition(e);
          "fixed" === i && d.css("top", 0);
          var j = d.clone();
          j.css({
            backgroundColor: c.css("backgroundColor"),
            opacity: c.css("opacity"),
          }),
            j.attr("data-flexitour", "step-background-fader"),
            b.zIndex
              ? "append" === b.attachPoint
                ? b.attachTo.append(d)
                : (j.insertAfter(b.attachTo), d.insertAfter(b.attachTo))
              : (a("body").append(j), a("body").append(d)),
            e.attr("data-flexitour", "step-backdrop"),
            b.zIndex &&
              (c.css("zIndex", b.zIndex),
              d.css("zIndex", b.zIndex + 1),
              e.css("zIndex", b.zIndex + 2)),
            j.fadeOut("2000", function () {
              a(this).remove();
            });
        }
      }
      return this;
    }),
    (c.prototype.calculateZIndex = function (b) {
      for (b = a(b); b.length && b[0] !== document; ) {
        var c = b.css("position");
        if ("absolute" === c || "relative" === c || "fixed" === c) {
          var d = parseInt(b.css("zIndex"), 10);
          if (!isNaN(d) && 0 !== d) return d;
        }
        b = b.parent();
      }
      return 0;
    }),
    (c.prototype.calculateInherittedBackgroundColor = function (b) {
      var c = a("<div>").hide();
      a("body").append(c);
      var d = c.css("backgroundColor");
      for (c.remove(), b = a(b); b.length && b[0] !== document; ) {
        var e = b.css("backgroundColor");
        if (e !== d) return e;
        b = b.parent();
      }
      return null;
    }),
    (c.prototype.calculatePosition = function (b) {
      for (b = a(b); b.length && b[0] !== document; ) {
        var c = b.css("position");
        if ("static" !== c) return c;
        b = b.parent();
      }
      return null;
    }),
    (c.prototype.accessibilityShow = function () {
      var b = "data-has-hidden",
        c = "aria-hidden",
        d = function (a) {
          var d = a.data("flexitour");
          if (d)
            switch (d) {
              case "container":
              case "target":
                return;
            }
          var e = a.attr(c);
          e || (a.attr(b, !0), a.attr(c, !0));
        };
      this.currentStepNode.siblings().each(function (b, c) {
        d(a(c));
      }),
        this.currentStepNode
          .parentsUntil("body")
          .siblings()
          .each(function (b, c) {
            d(a(c));
          });
    }),
    (c.prototype.accessibilityHide = function () {
      var b = "data-has-hidden",
        c = "aria-hidden",
        d = function (a) {
          var d = a.attr(b);
          "undefined" != typeof d && (a.removeAttr(b), a.removeAttr(c));
        };
      a("[" + b + "]").each(function (b, c) {
        d(a(c));
      });
    }),
    "object" === ("undefined" == typeof exports ? "undefined" : d(exports)) &&
      (module.exports = c),
    c
  );
});
define("tool_usertours/usertours", [
  "core/ajax",
  "tool_usertours/tour",
  "jquery",
  "core/templates",
  "core/str",
  "core/log",
  "core/notification",
], function (a, b, c, d, e, f, g) {
  var h = {
    tourId: null,
    currentTour: null,
    context: null,
    init: function (a, b, d) {
      (h.tourId = a),
        (h.context = d),
        "undefined" == typeof b && (b = !0),
        b && h.fetchTour(a),
        h.addResetLink(),
        c("body").on(
          "click",
          '[data-action="tool_usertours/resetpagetour"]',
          function (a) {
            a.preventDefault(), h.resetTourState(h.tourId);
          }
        );
    },
    fetchTour: function (b) {
      c.when(
        a.call([
          {
            methodname: "tool_usertours_fetch_and_start_tour",
            args: {
              tourid: b,
              context: h.context,
              pageurl: window.location.href,
            },
          },
        ])[0],
        d.render("tool_usertours/tourstep", {})
      )
        .then(function (a, c) {
          h.startBootstrapTour(b, c[0], a.tourconfig);
        })
        .fail(g.exception);
    },
    addResetLink: function () {
      e.get_string("resettouronpage", "tool_usertours").done(function (a) {
        c("footer, .logininfo")
          .last()
          .append(
            '<div class="usertour"><a href="#" data-action="tool_usertours/resetpagetour">' +
              a +
              "</a></div>"
          );
      });
    },
    startBootstrapTour: function (a, c, d) {
      h.currentTour &&
        ((d.onEnd = null), h.currentTour.endTour(), delete h.currentTour),
        (d.eventHandlers = {
          afterEnd: [h.markTourComplete],
          afterRender: [h.markStepShown],
        }),
        (d.tourName = d.name),
        delete d.name,
        (d.template = c),
        (d.steps = d.steps.map(function (a) {
          return (
            "undefined" != typeof a.element &&
              ((a.target = a.element), delete a.element),
            "undefined" != typeof a.reflex &&
              ((a.moveOnClick = !!a.reflex), delete a.reflex),
            "undefined" != typeof a.content &&
              ((a.body = a.content), delete a.content),
            a
          );
        })),
        (h.currentTour = new b(d)),
        h.currentTour.startTour();
    },
    markStepShown: function () {
      var b = this.getStepConfig(this.getCurrentStepNumber());
      c.when(
        a.call([
          {
            methodname: "tool_usertours_step_shown",
            args: {
              tourid: h.tourId,
              context: h.context,
              pageurl: window.location.href,
              stepid: b.stepid,
              stepindex: this.getCurrentStepNumber(),
            },
          },
        ])[0]
      ).fail(f.error);
    },
    markTourComplete: function () {
      var b = this.getStepConfig(this.getCurrentStepNumber());
      c.when(
        a.call([
          {
            methodname: "tool_usertours_complete_tour",
            args: {
              tourid: h.tourId,
              context: h.context,
              pageurl: window.location.href,
              stepid: b.stepid,
              stepindex: this.getCurrentStepNumber(),
            },
          },
        ])[0]
      ).fail(f.error);
    },
    resetTourState: function (b) {
      c.when(
        a.call([
          {
            methodname: "tool_usertours_reset_tour",
            args: {
              tourid: b,
              context: h.context,
              pageurl: window.location.href,
            },
          },
        ])[0]
      )
        .then(function (a) {
          a.startTour && h.fetchTour(a.startTour);
        })
        .fail(g.exception);
    },
  };
  return { init: h.init, resetTourState: h.resetTourState };
});
define("theme_boost/alert", ["exports", "./util"], function (a, b) {
  "use strict";
  function c(a) {
    return a && a.__esModule ? a : { default: a };
  }
  function d(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  Object.defineProperty(a, "__esModule", { value: !0 });
  var e = c(b),
    f = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    g = (function (a) {
      var b = "alert",
        c = "4.0.0-alpha.4",
        g = "bs.alert",
        h = "." + g,
        i = ".data-api",
        j = a.fn[b],
        k = 150,
        l = { DISMISS: '[data-dismiss="alert"]' },
        m = {
          CLOSE: "close" + h,
          CLOSED: "closed" + h,
          CLICK_DATA_API: "click" + h + i,
        },
        n = { ALERT: "alert", FADE: "fade", IN: "in" },
        o = (function () {
          function b(a) {
            d(this, b), (this._element = a);
          }
          return (
            f(
              b,
              [
                {
                  key: "close",
                  value: function (a) {
                    a = a || this._element;
                    var b = this._getRootElement(a),
                      c = this._triggerCloseEvent(b);
                    c.isDefaultPrevented() || this._removeElement(b);
                  },
                },
                {
                  key: "dispose",
                  value: function () {
                    a.removeData(this._element, g), (this._element = null);
                  },
                },
                {
                  key: "_getRootElement",
                  value: function (b) {
                    var c = e["default"].getSelectorFromElement(b),
                      d = !1;
                    return (
                      c && (d = a(c)[0]),
                      d || (d = a(b).closest("." + n.ALERT)[0]),
                      d
                    );
                  },
                },
                {
                  key: "_triggerCloseEvent",
                  value: function (b) {
                    var c = a.Event(m.CLOSE);
                    return a(b).trigger(c), c;
                  },
                },
                {
                  key: "_removeElement",
                  value: function (b) {
                    return (
                      a(b).removeClass(n.IN),
                      e["default"].supportsTransitionEnd() &&
                      a(b).hasClass(n.FADE)
                        ? void a(b)
                            .one(
                              e["default"].TRANSITION_END,
                              a.proxy(this._destroyElement, this, b)
                            )
                            .emulateTransitionEnd(k)
                        : void this._destroyElement(b)
                    );
                  },
                },
                {
                  key: "_destroyElement",
                  value: function (b) {
                    a(b).detach().trigger(m.CLOSED).remove();
                  },
                },
              ],
              [
                {
                  key: "_jQueryInterface",
                  value: function (c) {
                    return this.each(function () {
                      var d = a(this),
                        e = d.data(g);
                      e || ((e = new b(this)), d.data(g, e)),
                        "close" === c && e[c](this);
                    });
                  },
                },
                {
                  key: "_handleDismiss",
                  value: function (a) {
                    return function (b) {
                      b && b.preventDefault(), a.close(this);
                    };
                  },
                },
                {
                  key: "VERSION",
                  get: function () {
                    return c;
                  },
                },
              ]
            ),
            b
          );
        })();
      return (
        a(document).on(m.CLICK_DATA_API, l.DISMISS, o._handleDismiss(new o())),
        (a.fn[b] = o._jQueryInterface),
        (a.fn[b].Constructor = o),
        (a.fn[b].noConflict = function () {
          return (a.fn[b] = j), o._jQueryInterface;
        }),
        o
      );
    })(jQuery);
  a["default"] = g;
});
define("theme_boost/button", ["exports"], function (a) {
  "use strict";
  function b(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  Object.defineProperty(a, "__esModule", { value: !0 });
  var c = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    d = (function (a) {
      var d = "button",
        e = "4.0.0-alpha.4",
        f = "bs.button",
        g = "." + f,
        h = ".data-api",
        i = a.fn[d],
        j = { ACTIVE: "active", BUTTON: "btn", FOCUS: "focus" },
        k = {
          DATA_TOGGLE_CARROT: '[data-toggle^="button"]',
          DATA_TOGGLE: '[data-toggle="buttons"]',
          INPUT: "input",
          ACTIVE: ".active",
          BUTTON: ".btn",
        },
        l = {
          CLICK_DATA_API: "click" + g + h,
          FOCUS_BLUR_DATA_API: "focus" + g + h + " " + ("blur" + g + h),
        },
        m = (function () {
          function d(a) {
            b(this, d), (this._element = a);
          }
          return (
            c(
              d,
              [
                {
                  key: "toggle",
                  value: function () {
                    var b = !0,
                      c = a(this._element).closest(k.DATA_TOGGLE)[0];
                    if (c) {
                      var d = a(this._element).find(k.INPUT)[0];
                      if (d) {
                        if ("radio" === d.type)
                          if (d.checked && a(this._element).hasClass(j.ACTIVE))
                            b = !1;
                          else {
                            var e = a(c).find(k.ACTIVE)[0];
                            e && a(e).removeClass(j.ACTIVE);
                          }
                        b &&
                          ((d.checked = !a(this._element).hasClass(j.ACTIVE)),
                          a(this._element).trigger("change")),
                          d.focus();
                      }
                    } else
                      this._element.setAttribute(
                        "aria-pressed",
                        !a(this._element).hasClass(j.ACTIVE)
                      );
                    b && a(this._element).toggleClass(j.ACTIVE);
                  },
                },
                {
                  key: "dispose",
                  value: function () {
                    a.removeData(this._element, f), (this._element = null);
                  },
                },
              ],
              [
                {
                  key: "_jQueryInterface",
                  value: function (b) {
                    return this.each(function () {
                      var c = a(this).data(f);
                      c || ((c = new d(this)), a(this).data(f, c)),
                        "toggle" === b && c[b]();
                    });
                  },
                },
                {
                  key: "VERSION",
                  get: function () {
                    return e;
                  },
                },
              ]
            ),
            d
          );
        })();
      return (
        a(document)
          .on(l.CLICK_DATA_API, k.DATA_TOGGLE_CARROT, function (b) {
            b.preventDefault();
            var c = b.target;
            a(c).hasClass(j.BUTTON) || (c = a(c).closest(k.BUTTON)),
              m._jQueryInterface.call(a(c), "toggle");
          })
          .on(l.FOCUS_BLUR_DATA_API, k.DATA_TOGGLE_CARROT, function (b) {
            var c = a(b.target).closest(k.BUTTON)[0];
            a(c).toggleClass(j.FOCUS, /^focus(in)?$/.test(b.type));
          }),
        (a.fn[d] = m._jQueryInterface),
        (a.fn[d].Constructor = m),
        (a.fn[d].noConflict = function () {
          return (a.fn[d] = i), m._jQueryInterface;
        }),
        m
      );
    })(jQuery);
  a["default"] = d;
});
define("theme_boost/carousel", ["exports", "./util"], function (a, b) {
  "use strict";
  function c(a) {
    return a && a.__esModule ? a : { default: a };
  }
  function d(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  Object.defineProperty(a, "__esModule", { value: !0 });
  var e = c(b),
    f =
      "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
        ? function (a) {
            return typeof a;
          }
        : function (a) {
            return a && "function" == typeof Symbol && a.constructor === Symbol
              ? "symbol"
              : typeof a;
          },
    g = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    h = (function (a) {
      var b = "carousel",
        c = "4.0.0-alpha.4",
        h = "bs.carousel",
        i = "." + h,
        j = ".data-api",
        k = a.fn[b],
        l = 600,
        m = 37,
        n = 39,
        o = {
          interval: 5e3,
          keyboard: !0,
          slide: !1,
          pause: "hover",
          wrap: !0,
        },
        p = {
          interval: "(number|boolean)",
          keyboard: "boolean",
          slide: "(boolean|string)",
          pause: "(string|boolean)",
          wrap: "boolean",
        },
        q = { NEXT: "next", PREVIOUS: "prev" },
        r = {
          SLIDE: "slide" + i,
          SLID: "slid" + i,
          KEYDOWN: "keydown" + i,
          MOUSEENTER: "mouseenter" + i,
          MOUSELEAVE: "mouseleave" + i,
          LOAD_DATA_API: "load" + i + j,
          CLICK_DATA_API: "click" + i + j,
        },
        s = {
          CAROUSEL: "carousel",
          ACTIVE: "active",
          SLIDE: "slide",
          RIGHT: "right",
          LEFT: "left",
          ITEM: "carousel-item",
        },
        t = {
          ACTIVE: ".active",
          ACTIVE_ITEM: ".active.carousel-item",
          ITEM: ".carousel-item",
          NEXT_PREV: ".next, .prev",
          INDICATORS: ".carousel-indicators",
          DATA_SLIDE: "[data-slide], [data-slide-to]",
          DATA_RIDE: '[data-ride="carousel"]',
        },
        u = (function () {
          function j(b, c) {
            d(this, j),
              (this._items = null),
              (this._interval = null),
              (this._activeElement = null),
              (this._isPaused = !1),
              (this._isSliding = !1),
              (this._config = this._getConfig(c)),
              (this._element = a(b)[0]),
              (this._indicatorsElement = a(this._element).find(
                t.INDICATORS
              )[0]),
              this._addEventListeners();
          }
          return (
            g(
              j,
              [
                {
                  key: "next",
                  value: function () {
                    this._isSliding || this._slide(q.NEXT);
                  },
                },
                {
                  key: "nextWhenVisible",
                  value: function () {
                    document.hidden || this.next();
                  },
                },
                {
                  key: "prev",
                  value: function () {
                    this._isSliding || this._slide(q.PREVIOUS);
                  },
                },
                {
                  key: "pause",
                  value: function (b) {
                    b || (this._isPaused = !0),
                      a(this._element).find(t.NEXT_PREV)[0] &&
                        e["default"].supportsTransitionEnd() &&
                        (e["default"].triggerTransitionEnd(this._element),
                        this.cycle(!0)),
                      clearInterval(this._interval),
                      (this._interval = null);
                  },
                },
                {
                  key: "cycle",
                  value: function (b) {
                    b || (this._isPaused = !1),
                      this._interval &&
                        (clearInterval(this._interval),
                        (this._interval = null)),
                      this._config.interval &&
                        !this._isPaused &&
                        (this._interval = setInterval(
                          a.proxy(
                            document.visibilityState
                              ? this.nextWhenVisible
                              : this.next,
                            this
                          ),
                          this._config.interval
                        ));
                  },
                },
                {
                  key: "to",
                  value: function (b) {
                    var c = this;
                    this._activeElement = a(this._element).find(
                      t.ACTIVE_ITEM
                    )[0];
                    var d = this._getItemIndex(this._activeElement);
                    if (!(b > this._items.length - 1 || b < 0)) {
                      if (this._isSliding)
                        return void a(this._element).one(r.SLID, function () {
                          return c.to(b);
                        });
                      if (d === b) return this.pause(), void this.cycle();
                      var e = b > d ? q.NEXT : q.PREVIOUS;
                      this._slide(e, this._items[b]);
                    }
                  },
                },
                {
                  key: "dispose",
                  value: function () {
                    a(this._element).off(i),
                      a.removeData(this._element, h),
                      (this._items = null),
                      (this._config = null),
                      (this._element = null),
                      (this._interval = null),
                      (this._isPaused = null),
                      (this._isSliding = null),
                      (this._activeElement = null),
                      (this._indicatorsElement = null);
                  },
                },
                {
                  key: "_getConfig",
                  value: function (c) {
                    return (
                      (c = a.extend({}, o, c)),
                      e["default"].typeCheckConfig(b, c, p),
                      c
                    );
                  },
                },
                {
                  key: "_addEventListeners",
                  value: function () {
                    this._config.keyboard &&
                      a(this._element).on(
                        r.KEYDOWN,
                        a.proxy(this._keydown, this)
                      ),
                      "hover" !== this._config.pause ||
                        "ontouchstart" in document.documentElement ||
                        a(this._element)
                          .on(r.MOUSEENTER, a.proxy(this.pause, this))
                          .on(r.MOUSELEAVE, a.proxy(this.cycle, this));
                  },
                },
                {
                  key: "_keydown",
                  value: function (a) {
                    if (
                      (a.preventDefault(),
                      !/input|textarea/i.test(a.target.tagName))
                    )
                      switch (a.which) {
                        case m:
                          this.prev();
                          break;
                        case n:
                          this.next();
                          break;
                        default:
                          return;
                      }
                  },
                },
                {
                  key: "_getItemIndex",
                  value: function (b) {
                    return (
                      (this._items = a.makeArray(a(b).parent().find(t.ITEM))),
                      this._items.indexOf(b)
                    );
                  },
                },
                {
                  key: "_getItemByDirection",
                  value: function (a, b) {
                    var c = a === q.NEXT,
                      d = a === q.PREVIOUS,
                      e = this._getItemIndex(b),
                      f = this._items.length - 1,
                      g = (d && 0 === e) || (c && e === f);
                    if (g && !this._config.wrap) return b;
                    var h = a === q.PREVIOUS ? -1 : 1,
                      i = (e + h) % this._items.length;
                    return i === -1
                      ? this._items[this._items.length - 1]
                      : this._items[i];
                  },
                },
                {
                  key: "_triggerSlideEvent",
                  value: function (b, c) {
                    var d = a.Event(r.SLIDE, {
                      relatedTarget: b,
                      direction: c,
                    });
                    return a(this._element).trigger(d), d;
                  },
                },
                {
                  key: "_setActiveIndicatorElement",
                  value: function (b) {
                    if (this._indicatorsElement) {
                      a(this._indicatorsElement)
                        .find(t.ACTIVE)
                        .removeClass(s.ACTIVE);
                      var c =
                        this._indicatorsElement.children[this._getItemIndex(b)];
                      c && a(c).addClass(s.ACTIVE);
                    }
                  },
                },
                {
                  key: "_slide",
                  value: function (b, c) {
                    var d = this,
                      f = a(this._element).find(t.ACTIVE_ITEM)[0],
                      g = c || (f && this._getItemByDirection(b, f)),
                      h = Boolean(this._interval),
                      i = b === q.NEXT ? s.LEFT : s.RIGHT;
                    if (g && a(g).hasClass(s.ACTIVE))
                      return void (this._isSliding = !1);
                    var j = this._triggerSlideEvent(g, i);
                    if (!j.isDefaultPrevented() && f && g) {
                      (this._isSliding = !0),
                        h && this.pause(),
                        this._setActiveIndicatorElement(g);
                      var k = a.Event(r.SLID, {
                        relatedTarget: g,
                        direction: i,
                      });
                      e["default"].supportsTransitionEnd() &&
                      a(this._element).hasClass(s.SLIDE)
                        ? (a(g).addClass(b),
                          e["default"].reflow(g),
                          a(f).addClass(i),
                          a(g).addClass(i),
                          a(f)
                            .one(e["default"].TRANSITION_END, function () {
                              a(g).removeClass(i).removeClass(b),
                                a(g).addClass(s.ACTIVE),
                                a(f)
                                  .removeClass(s.ACTIVE)
                                  .removeClass(b)
                                  .removeClass(i),
                                (d._isSliding = !1),
                                setTimeout(function () {
                                  return a(d._element).trigger(k);
                                }, 0);
                            })
                            .emulateTransitionEnd(l))
                        : (a(f).removeClass(s.ACTIVE),
                          a(g).addClass(s.ACTIVE),
                          (this._isSliding = !1),
                          a(this._element).trigger(k)),
                        h && this.cycle();
                    }
                  },
                },
              ],
              [
                {
                  key: "_jQueryInterface",
                  value: function (b) {
                    return this.each(function () {
                      var c = a(this).data(h),
                        d = a.extend({}, o, a(this).data());
                      "object" ===
                        ("undefined" == typeof b ? "undefined" : f(b)) &&
                        a.extend(d, b);
                      var e = "string" == typeof b ? b : d.slide;
                      if (
                        (c || ((c = new j(this, d)), a(this).data(h, c)),
                        "number" == typeof b)
                      )
                        c.to(b);
                      else if ("string" == typeof e) {
                        if (void 0 === c[e])
                          throw new Error('No method named "' + e + '"');
                        c[e]();
                      } else d.interval && (c.pause(), c.cycle());
                    });
                  },
                },
                {
                  key: "_dataApiClickHandler",
                  value: function (b) {
                    var c = e["default"].getSelectorFromElement(this);
                    if (c) {
                      var d = a(c)[0];
                      if (d && a(d).hasClass(s.CAROUSEL)) {
                        var f = a.extend({}, a(d).data(), a(this).data()),
                          g = this.getAttribute("data-slide-to");
                        g && (f.interval = !1),
                          j._jQueryInterface.call(a(d), f),
                          g && a(d).data(h).to(g),
                          b.preventDefault();
                      }
                    }
                  },
                },
                {
                  key: "VERSION",
                  get: function () {
                    return c;
                  },
                },
                {
                  key: "Default",
                  get: function () {
                    return o;
                  },
                },
              ]
            ),
            j
          );
        })();
      return (
        a(document).on(r.CLICK_DATA_API, t.DATA_SLIDE, u._dataApiClickHandler),
        a(window).on(r.LOAD_DATA_API, function () {
          a(t.DATA_RIDE).each(function () {
            var b = a(this);
            u._jQueryInterface.call(b, b.data());
          });
        }),
        (a.fn[b] = u._jQueryInterface),
        (a.fn[b].Constructor = u),
        (a.fn[b].noConflict = function () {
          return (a.fn[b] = k), u._jQueryInterface;
        }),
        u
      );
    })(jQuery);
  a["default"] = h;
});
define("theme_boost/collapse", ["exports", "./util"], function (a, b) {
  "use strict";
  function c(a) {
    return a && a.__esModule ? a : { default: a };
  }
  function d(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  Object.defineProperty(a, "__esModule", { value: !0 });
  var e = c(b),
    f =
      "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
        ? function (a) {
            return typeof a;
          }
        : function (a) {
            return a && "function" == typeof Symbol && a.constructor === Symbol
              ? "symbol"
              : typeof a;
          },
    g = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    h = (function (a) {
      var b = "collapse",
        c = "4.0.0-alpha.4",
        h = "bs.collapse",
        i = "." + h,
        j = ".data-api",
        k = a.fn[b],
        l = 600,
        m = { toggle: !0, parent: "" },
        n = { toggle: "boolean", parent: "string" },
        o = {
          SHOW: "show" + i,
          SHOWN: "shown" + i,
          HIDE: "hide" + i,
          HIDDEN: "hidden" + i,
          CLICK_DATA_API: "click" + i + j,
        },
        p = {
          IN: "in",
          COLLAPSE: "collapse",
          COLLAPSING: "collapsing",
          COLLAPSED: "collapsed",
        },
        q = { WIDTH: "width", HEIGHT: "height" },
        r = {
          ACTIVES: ".panel > .in, .panel > .collapsing",
          DATA_TOGGLE: '[data-toggle="collapse"]',
        },
        s = (function () {
          function i(b, c) {
            d(this, i),
              (this._isTransitioning = !1),
              (this._element = b),
              (this._config = this._getConfig(c)),
              (this._triggerArray = a.makeArray(
                a(
                  '[data-toggle="collapse"][href="#' +
                    b.id +
                    '"],' +
                    ('[data-toggle="collapse"][data-target="#' + b.id + '"]')
                )
              )),
              (this._parent = this._config.parent ? this._getParent() : null),
              this._config.parent ||
                this._addAriaAndCollapsedClass(
                  this._element,
                  this._triggerArray
                ),
              this._config.toggle && this.toggle();
          }
          return (
            g(
              i,
              [
                {
                  key: "toggle",
                  value: function () {
                    a(this._element).hasClass(p.IN) ? this.hide() : this.show();
                  },
                },
                {
                  key: "show",
                  value: function () {
                    var b = this;
                    if (
                      !this._isTransitioning &&
                      !a(this._element).hasClass(p.IN)
                    ) {
                      var c = void 0,
                        d = void 0;
                      if (
                        (this._parent &&
                          ((c = a.makeArray(a(r.ACTIVES))),
                          c.length || (c = null)),
                        !(c && ((d = a(c).data(h)), d && d._isTransitioning)))
                      ) {
                        var f = a.Event(o.SHOW);
                        if (
                          (a(this._element).trigger(f), !f.isDefaultPrevented())
                        ) {
                          c &&
                            (i._jQueryInterface.call(a(c), "hide"),
                            d || a(c).data(h, null));
                          var g = this._getDimension();
                          a(this._element)
                            .removeClass(p.COLLAPSE)
                            .addClass(p.COLLAPSING),
                            (this._element.style[g] = 0),
                            this._element.setAttribute("aria-expanded", !0),
                            this._triggerArray.length &&
                              a(this._triggerArray)
                                .removeClass(p.COLLAPSED)
                                .attr("aria-expanded", !0),
                            this.setTransitioning(!0);
                          var j = function () {
                            a(b._element)
                              .removeClass(p.COLLAPSING)
                              .addClass(p.COLLAPSE)
                              .addClass(p.IN),
                              (b._element.style[g] = ""),
                              b.setTransitioning(!1),
                              a(b._element).trigger(o.SHOWN);
                          };
                          if (!e["default"].supportsTransitionEnd())
                            return void j();
                          var k = g[0].toUpperCase() + g.slice(1),
                            m = "scroll" + k;
                          a(this._element)
                            .one(e["default"].TRANSITION_END, j)
                            .emulateTransitionEnd(l),
                            (this._element.style[g] = this._element[m] + "px");
                        }
                      }
                    }
                  },
                },
                {
                  key: "hide",
                  value: function () {
                    var b = this;
                    if (
                      !this._isTransitioning &&
                      a(this._element).hasClass(p.IN)
                    ) {
                      var c = a.Event(o.HIDE);
                      if (
                        (a(this._element).trigger(c), !c.isDefaultPrevented())
                      ) {
                        var d = this._getDimension(),
                          f = d === q.WIDTH ? "offsetWidth" : "offsetHeight";
                        (this._element.style[d] = this._element[f] + "px"),
                          e["default"].reflow(this._element),
                          a(this._element)
                            .addClass(p.COLLAPSING)
                            .removeClass(p.COLLAPSE)
                            .removeClass(p.IN),
                          this._element.setAttribute("aria-expanded", !1),
                          this._triggerArray.length &&
                            a(this._triggerArray)
                              .addClass(p.COLLAPSED)
                              .attr("aria-expanded", !1),
                          this.setTransitioning(!0);
                        var g = function () {
                          b.setTransitioning(!1),
                            a(b._element)
                              .removeClass(p.COLLAPSING)
                              .addClass(p.COLLAPSE)
                              .trigger(o.HIDDEN);
                        };
                        return (
                          (this._element.style[d] = 0),
                          e["default"].supportsTransitionEnd()
                            ? void a(this._element)
                                .one(e["default"].TRANSITION_END, g)
                                .emulateTransitionEnd(l)
                            : void g()
                        );
                      }
                    }
                  },
                },
                {
                  key: "setTransitioning",
                  value: function (a) {
                    this._isTransitioning = a;
                  },
                },
                {
                  key: "dispose",
                  value: function () {
                    a.removeData(this._element, h),
                      (this._config = null),
                      (this._parent = null),
                      (this._element = null),
                      (this._triggerArray = null),
                      (this._isTransitioning = null);
                  },
                },
                {
                  key: "_getConfig",
                  value: function (c) {
                    return (
                      (c = a.extend({}, m, c)),
                      (c.toggle = Boolean(c.toggle)),
                      e["default"].typeCheckConfig(b, c, n),
                      c
                    );
                  },
                },
                {
                  key: "_getDimension",
                  value: function () {
                    var b = a(this._element).hasClass(q.WIDTH);
                    return b ? q.WIDTH : q.HEIGHT;
                  },
                },
                {
                  key: "_getParent",
                  value: function () {
                    var b = this,
                      c = a(this._config.parent)[0],
                      d =
                        '[data-toggle="collapse"][data-parent="' +
                        this._config.parent +
                        '"]';
                    return (
                      a(c)
                        .find(d)
                        .each(function (a, c) {
                          b._addAriaAndCollapsedClass(
                            i._getTargetFromElement(c),
                            [c]
                          );
                        }),
                      c
                    );
                  },
                },
                {
                  key: "_addAriaAndCollapsedClass",
                  value: function (b, c) {
                    if (b) {
                      var d = a(b).hasClass(p.IN);
                      b.setAttribute("aria-expanded", d),
                        c.length &&
                          a(c)
                            .toggleClass(p.COLLAPSED, !d)
                            .attr("aria-expanded", d);
                    }
                  },
                },
              ],
              [
                {
                  key: "_getTargetFromElement",
                  value: function (b) {
                    var c = e["default"].getSelectorFromElement(b);
                    return c ? a(c)[0] : null;
                  },
                },
                {
                  key: "_jQueryInterface",
                  value: function (b) {
                    return this.each(function () {
                      var c = a(this),
                        d = c.data(h),
                        e = a.extend(
                          {},
                          m,
                          c.data(),
                          "object" ===
                            ("undefined" == typeof b ? "undefined" : f(b)) && b
                        );
                      if (
                        (!d &&
                          e.toggle &&
                          /show|hide/.test(b) &&
                          (e.toggle = !1),
                        d || ((d = new i(this, e)), c.data(h, d)),
                        "string" == typeof b)
                      ) {
                        if (void 0 === d[b])
                          throw new Error('No method named "' + b + '"');
                        d[b]();
                      }
                    });
                  },
                },
                {
                  key: "VERSION",
                  get: function () {
                    return c;
                  },
                },
                {
                  key: "Default",
                  get: function () {
                    return m;
                  },
                },
              ]
            ),
            i
          );
        })();
      return (
        a(document).on(o.CLICK_DATA_API, r.DATA_TOGGLE, function (b) {
          b.preventDefault();
          var c = s._getTargetFromElement(this),
            d = a(c).data(h),
            e = d ? "toggle" : a(this).data();
          s._jQueryInterface.call(a(c), e);
        }),
        (a.fn[b] = s._jQueryInterface),
        (a.fn[b].Constructor = s),
        (a.fn[b].noConflict = function () {
          return (a.fn[b] = k), s._jQueryInterface;
        }),
        s
      );
    })(jQuery);
  a["default"] = h;
});
define("theme_boost/drawer", [
  "jquery",
  "core/custom_interaction_events",
  "core/log",
], function (a, b, c) {
  var d = {
      TOGGLE_REGION: '[data-region="drawer-toggle"]',
      TOGGLE_ACTION: '[data-action="toggle-drawer"]',
      TOGGLE_TARGET: "aria-controls",
      TOGGLE_SIDE: "left",
      BODY: "body",
    },
    e = function () {
      a(d.TOGGLE_REGION).length || c.debug("Page is missing a drawer region"),
        a(d.TOGGLE_ACTION).length ||
          c.debug("Page is missing a drawer toggle link"),
        a(d.TOGGLE_REGION).each(
          function (b, c) {
            var e = a(c).find(d.TOGGLE_ACTION),
              f = e.attr("aria-controls"),
              g = a(document.getElementById(f)),
              h = "false" == e.attr("aria-expanded"),
              i = e.attr("data-side"),
              j = a(d.BODY);
            g.on("mousewheel DOMMouseScroll", this.preventPageScroll),
              h
                ? e.attr("aria-expanded", "false")
                : (j.addClass("drawer-open-" + i),
                  e.attr("aria-expanded", "true"));
          }.bind(this)
        ),
        this.registerEventListeners();
      var b = a(document).width() < 768;
      b && this.closeAll();
    };
  return (
    (e.prototype.closeAll = function () {
      a(d.TOGGLE_REGION).each(function (b, c) {
        var e = a(c).find(d.TOGGLE_ACTION),
          f = e.attr("data-side"),
          g = a(d.BODY),
          h = e.attr("aria-controls"),
          i = a(document.getElementById(h)),
          j = e.attr("data-preference");
        e.attr("aria-expanded", "false"),
          g.removeClass("drawer-open-" + f),
          i.attr("aria-hidden", "true"),
          i.addClass("closed"),
          M.util.set_user_preference(j, "false");
      });
    }),
    (e.prototype.toggleDrawer = function (b) {
      var c = a(b.target).closest("[data-action=toggle-drawer]"),
        e = c.attr("aria-controls"),
        f = a(document.getElementById(e)),
        g = a(d.BODY),
        h = c.attr("data-side"),
        i = c.attr("data-preference");
      g.addClass("drawer-ease");
      var j = "true" == c.attr("aria-expanded");
      if (j)
        g.removeClass("drawer-open-" + h),
          c.attr("aria-expanded", "false"),
          f.attr("aria-hidden", "true"),
          f.addClass("closed"),
          M.util.set_user_preference(i, "false");
      else {
        var k = a(document).width() < 768;
        k && this.closeAll(),
          c.attr("aria-expanded", "true"),
          f.attr("aria-hidden", "false"),
          f.focus(),
          g.addClass("drawer-open-" + h),
          f.removeClass("closed"),
          M.util.set_user_preference(i, "true");
      }
    }),
    (e.prototype.preventPageScroll = function (b) {
      var c =
          b.wheelDelta ||
          (b.originalEvent && b.originalEvent.wheelDelta) ||
          -b.originalEvent.detail,
        d = this.scrollTop + a(this).outerHeight() - this.scrollHeight >= 0,
        e = this.scrollTop <= 0;
      ((c < 0 && d) || (c > 0 && e)) && b.preventDefault();
    }),
    (e.prototype.registerEventListeners = function () {
      a(d.TOGGLE_ACTION).each(
        function (c, d) {
          b.define(a(d), [b.events.activate]),
            a(d).on(
              b.events.activate,
              function (a, b) {
                this.toggleDrawer(b.originalEvent),
                  b.originalEvent.preventDefault();
              }.bind(this)
            );
        }.bind(this)
      );
    }),
    {
      init: function () {
        return new e();
      },
    }
  );
});
define("theme_boost/dropdown", ["exports", "./util"], function (a, b) {
  "use strict";
  function c(a) {
    return a && a.__esModule ? a : { default: a };
  }
  function d(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  Object.defineProperty(a, "__esModule", { value: !0 });
  var e = c(b),
    f = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    g = (function (a) {
      var b = "dropdown",
        c = "4.0.0-alpha.4",
        g = "bs.dropdown",
        h = "." + g,
        i = ".data-api",
        j = a.fn[b],
        k = 27,
        l = 38,
        m = 40,
        n = 3,
        o = {
          HIDE: "hide" + h,
          HIDDEN: "hidden" + h,
          SHOW: "show" + h,
          SHOWN: "shown" + h,
          CLICK: "click" + h,
          CLICK_DATA_API: "click" + h + i,
          KEYDOWN_DATA_API: "keydown" + h + i,
        },
        p = {
          BACKDROP: "dropdown-backdrop",
          DISABLED: "disabled",
          OPEN: "open",
        },
        q = {
          BACKDROP: ".dropdown-backdrop",
          DATA_TOGGLE: '[data-toggle="dropdown"]',
          FORM_CHILD: ".dropdown form",
          ROLE_MENU: '[role="menu"]',
          ROLE_LISTBOX: '[role="listbox"]',
          NAVBAR_NAV: ".navbar-nav",
          VISIBLE_ITEMS:
            '[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a',
        },
        r = (function () {
          function b(a) {
            d(this, b), (this._element = a), this._addEventListeners();
          }
          return (
            f(
              b,
              [
                {
                  key: "toggle",
                  value: function () {
                    if (this.disabled || a(this).hasClass(p.DISABLED))
                      return !1;
                    var c = b._getParentFromElement(this),
                      d = a(c).hasClass(p.OPEN);
                    if ((b._clearMenus(), d)) return !1;
                    if (
                      "ontouchstart" in document.documentElement &&
                      !a(c).closest(q.NAVBAR_NAV).length
                    ) {
                      var e = document.createElement("div");
                      (e.className = p.BACKDROP),
                        a(e).insertBefore(this),
                        a(e).on("click", b._clearMenus);
                    }
                    var f = { relatedTarget: this },
                      g = a.Event(o.SHOW, f);
                    return (
                      a(c).trigger(g),
                      !g.isDefaultPrevented() &&
                        (this.focus(),
                        this.setAttribute("aria-expanded", "true"),
                        a(c).toggleClass(p.OPEN),
                        a(c).trigger(a.Event(o.SHOWN, f)),
                        !1)
                    );
                  },
                },
                {
                  key: "dispose",
                  value: function () {
                    a.removeData(this._element, g),
                      a(this._element).off(h),
                      (this._element = null);
                  },
                },
                {
                  key: "_addEventListeners",
                  value: function () {
                    a(this._element).on(o.CLICK, this.toggle);
                  },
                },
              ],
              [
                {
                  key: "_jQueryInterface",
                  value: function (c) {
                    return this.each(function () {
                      var d = a(this).data(g);
                      if (
                        (d || a(this).data(g, (d = new b(this))),
                        "string" == typeof c)
                      ) {
                        if (void 0 === d[c])
                          throw new Error('No method named "' + c + '"');
                        d[c].call(this);
                      }
                    });
                  },
                },
                {
                  key: "_clearMenus",
                  value: function (c) {
                    if (!c || c.which !== n) {
                      var d = a(q.BACKDROP)[0];
                      d && d.parentNode.removeChild(d);
                      for (
                        var e = a.makeArray(a(q.DATA_TOGGLE)), f = 0;
                        f < e.length;
                        f++
                      ) {
                        var g = b._getParentFromElement(e[f]),
                          h = { relatedTarget: e[f] };
                        if (
                          a(g).hasClass(p.OPEN) &&
                          !(
                            c &&
                            "click" === c.type &&
                            /input|textarea/i.test(c.target.tagName) &&
                            a.contains(g, c.target)
                          )
                        ) {
                          var i = a.Event(o.HIDE, h);
                          a(g).trigger(i),
                            i.isDefaultPrevented() ||
                              (e[f].setAttribute("aria-expanded", "false"),
                              a(g)
                                .removeClass(p.OPEN)
                                .trigger(a.Event(o.HIDDEN, h)));
                        }
                      }
                    }
                  },
                },
                {
                  key: "_getParentFromElement",
                  value: function (b) {
                    var c = void 0,
                      d = e["default"].getSelectorFromElement(b);
                    return d && (c = a(d)[0]), c || b.parentNode;
                  },
                },
                {
                  key: "_dataApiKeydownHandler",
                  value: function (c) {
                    if (
                      /(38|40|27|32)/.test(c.which) &&
                      !/input|textarea/i.test(c.target.tagName) &&
                      (c.preventDefault(),
                      c.stopPropagation(),
                      !this.disabled && !a(this).hasClass(p.DISABLED))
                    ) {
                      var d = b._getParentFromElement(this),
                        e = a(d).hasClass(p.OPEN);
                      if ((!e && c.which !== k) || (e && c.which === k)) {
                        if (c.which === k) {
                          var f = a(d).find(q.DATA_TOGGLE)[0];
                          a(f).trigger("focus");
                        }
                        return void a(this).trigger("click");
                      }
                      var g = a.makeArray(a(q.VISIBLE_ITEMS));
                      if (
                        ((g = g.filter(function (a) {
                          return a.offsetWidth || a.offsetHeight;
                        })),
                        g.length)
                      ) {
                        var h = g.indexOf(c.target);
                        c.which === l && h > 0 && h--,
                          c.which === m && h < g.length - 1 && h++,
                          h < 0 && (h = 0),
                          g[h].focus();
                      }
                    }
                  },
                },
                {
                  key: "VERSION",
                  get: function () {
                    return c;
                  },
                },
              ]
            ),
            b
          );
        })();
      return (
        a(document)
          .on(o.KEYDOWN_DATA_API, q.DATA_TOGGLE, r._dataApiKeydownHandler)
          .on(o.KEYDOWN_DATA_API, q.ROLE_MENU, r._dataApiKeydownHandler)
          .on(o.KEYDOWN_DATA_API, q.ROLE_LISTBOX, r._dataApiKeydownHandler)
          .on(o.CLICK_DATA_API, r._clearMenus)
          .on(o.CLICK_DATA_API, q.DATA_TOGGLE, r.prototype.toggle)
          .on(o.CLICK_DATA_API, q.FORM_CHILD, function (a) {
            a.stopPropagation();
          }),
        (a.fn[b] = r._jQueryInterface),
        (a.fn[b].Constructor = r),
        (a.fn[b].noConflict = function () {
          return (a.fn[b] = j), r._jQueryInterface;
        }),
        r
      );
    })(jQuery);
  a["default"] = g;
});
define("theme_boost/form-display-errors", ["jquery", "core/event"], function (
  a,
  b
) {
  return {
    enhance: function (c) {
      var d = document.getElementById(c);
      a(d).on(b.Events.FORM_FIELD_VALIDATION, function (b, c) {
        b.preventDefault();
        var e = a(d).closest(".form-group"),
          f = e.find(".form-control-feedback");
        "TEXTAREA" == a(d).prop("tagName") &&
          e.find("[contenteditable]") &&
          (d = e.find("[contenteditable]")),
          "" !== c
            ? (e.addClass("has-danger"),
              e.data("client-validation-error", !0),
              a(d).addClass("form-control-danger"),
              a(d).attr("aria-describedby", f.attr("id")),
              a(d).attr("aria-invalid", !0),
              f.attr("tabindex", 0),
              f.html(c),
              f.is(":visible") || (f.show(), f.focus()))
            : e.data("client-validation-error") === !0 &&
              (e.removeClass("has-danger"),
              e.data("client-validation-error", !1),
              a(d).removeClass("form-control-danger"),
              a(d).removeAttr("aria-describedby"),
              a(d).attr("aria-invalid", !1),
              f.hide());
      });
    },
  };
});
define("theme_boost/loader", ["jquery", "./tether", "core/event"], function (
  a,
  b,
  c
) {
  return (
    (window.jQuery = a),
    (window.Tether = b),
    require([
      "theme_boost/util",
      "theme_boost/alert",
      "theme_boost/button",
      "theme_boost/carousel",
      "theme_boost/collapse",
      "theme_boost/dropdown",
      "theme_boost/modal",
      "theme_boost/scrollspy",
      "theme_boost/tab",
      "theme_boost/tooltip",
      "theme_boost/popover",
    ], function () {
      a("body").popover({
        selector: '[data-toggle="popover"]',
        trigger: "focus",
      }),
        c.getLegacyEvents().done(function (b) {
          a(document).on(b.FILTER_CONTENT_UPDATED, function () {
            a("body").popover({
              selector: '[data-toggle="popover"]',
              trigger: "focus",
            });
          });
        });
    }),
    {}
  );
});
define("theme_boost/modal", ["exports", "./util"], function (a, b) {
  "use strict";
  function c(a) {
    return a && a.__esModule ? a : { default: a };
  }
  function d(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  Object.defineProperty(a, "__esModule", { value: !0 });
  var e = c(b),
    f =
      "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
        ? function (a) {
            return typeof a;
          }
        : function (a) {
            return a && "function" == typeof Symbol && a.constructor === Symbol
              ? "symbol"
              : typeof a;
          },
    g = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    h = (function (a) {
      var b = "modal",
        c = "4.0.0-alpha.4",
        h = "bs.modal",
        i = "." + h,
        j = ".data-api",
        k = a.fn[b],
        l = 300,
        m = 150,
        n = 27,
        o = { backdrop: !0, keyboard: !0, focus: !0, show: !0 },
        p = {
          backdrop: "(boolean|string)",
          keyboard: "boolean",
          focus: "boolean",
          show: "boolean",
        },
        q = {
          HIDE: "hide" + i,
          HIDDEN: "hidden" + i,
          SHOW: "show" + i,
          SHOWN: "shown" + i,
          FOCUSIN: "focusin" + i,
          RESIZE: "resize" + i,
          CLICK_DISMISS: "click.dismiss" + i,
          KEYDOWN_DISMISS: "keydown.dismiss" + i,
          MOUSEUP_DISMISS: "mouseup.dismiss" + i,
          MOUSEDOWN_DISMISS: "mousedown.dismiss" + i,
          CLICK_DATA_API: "click" + i + j,
        },
        r = {
          SCROLLBAR_MEASURER: "modal-scrollbar-measure",
          BACKDROP: "modal-backdrop",
          OPEN: "modal-open",
          FADE: "fade",
          IN: "in",
        },
        s = {
          DIALOG: ".modal-dialog",
          DATA_TOGGLE: '[data-toggle="modal"]',
          DATA_DISMISS: '[data-dismiss="modal"]',
          FIXED_CONTENT: ".navbar-fixed-top, .navbar-fixed-bottom, .is-fixed",
        },
        t = (function () {
          function j(b, c) {
            d(this, j),
              (this._config = this._getConfig(c)),
              (this._element = b),
              (this._dialog = a(b).find(s.DIALOG)[0]),
              (this._backdrop = null),
              (this._isShown = !1),
              (this._isBodyOverflowing = !1),
              (this._ignoreBackdropClick = !1),
              (this._originalBodyPadding = 0),
              (this._scrollbarWidth = 0);
          }
          return (
            g(
              j,
              [
                {
                  key: "toggle",
                  value: function (a) {
                    return this._isShown ? this.hide() : this.show(a);
                  },
                },
                {
                  key: "show",
                  value: function (b) {
                    var c = this,
                      d = a.Event(q.SHOW, { relatedTarget: b });
                    a(this._element).trigger(d),
                      this._isShown ||
                        d.isDefaultPrevented() ||
                        ((this._isShown = !0),
                        this._checkScrollbar(),
                        this._setScrollbar(),
                        a(document.body).addClass(r.OPEN),
                        this._setEscapeEvent(),
                        this._setResizeEvent(),
                        a(this._element).on(
                          q.CLICK_DISMISS,
                          s.DATA_DISMISS,
                          a.proxy(this.hide, this)
                        ),
                        a(this._dialog).on(q.MOUSEDOWN_DISMISS, function () {
                          a(c._element).one(q.MOUSEUP_DISMISS, function (b) {
                            a(b.target).is(c._element) &&
                              (c._ignoreBackdropClick = !0);
                          });
                        }),
                        this._showBackdrop(
                          a.proxy(this._showElement, this, b)
                        ));
                  },
                },
                {
                  key: "hide",
                  value: function (b) {
                    b && b.preventDefault();
                    var c = a.Event(q.HIDE);
                    a(this._element).trigger(c),
                      this._isShown &&
                        !c.isDefaultPrevented() &&
                        ((this._isShown = !1),
                        this._setEscapeEvent(),
                        this._setResizeEvent(),
                        a(document).off(q.FOCUSIN),
                        a(this._element).removeClass(r.IN),
                        a(this._element).off(q.CLICK_DISMISS),
                        a(this._dialog).off(q.MOUSEDOWN_DISMISS),
                        e["default"].supportsTransitionEnd() &&
                        a(this._element).hasClass(r.FADE)
                          ? a(this._element)
                              .one(
                                e["default"].TRANSITION_END,
                                a.proxy(this._hideModal, this)
                              )
                              .emulateTransitionEnd(l)
                          : this._hideModal());
                  },
                },
                {
                  key: "dispose",
                  value: function () {
                    a.removeData(this._element, h),
                      a(window).off(i),
                      a(document).off(i),
                      a(this._element).off(i),
                      a(this._backdrop).off(i),
                      (this._config = null),
                      (this._element = null),
                      (this._dialog = null),
                      (this._backdrop = null),
                      (this._isShown = null),
                      (this._isBodyOverflowing = null),
                      (this._ignoreBackdropClick = null),
                      (this._originalBodyPadding = null),
                      (this._scrollbarWidth = null);
                  },
                },
                {
                  key: "_getConfig",
                  value: function (c) {
                    return (
                      (c = a.extend({}, o, c)),
                      e["default"].typeCheckConfig(b, c, p),
                      c
                    );
                  },
                },
                {
                  key: "_showElement",
                  value: function (b) {
                    var c = this,
                      d =
                        e["default"].supportsTransitionEnd() &&
                        a(this._element).hasClass(r.FADE);
                    (this._element.parentNode &&
                      this._element.parentNode.nodeType ===
                        Node.ELEMENT_NODE) ||
                      document.body.appendChild(this._element),
                      (this._element.style.display = "block"),
                      this._element.removeAttribute("aria-hidden"),
                      (this._element.scrollTop = 0),
                      d && e["default"].reflow(this._element),
                      a(this._element).addClass(r.IN),
                      this._config.focus && this._enforceFocus();
                    var f = a.Event(q.SHOWN, { relatedTarget: b }),
                      g = function () {
                        c._config.focus && c._element.focus(),
                          a(c._element).trigger(f);
                      };
                    d
                      ? a(this._dialog)
                          .one(e["default"].TRANSITION_END, g)
                          .emulateTransitionEnd(l)
                      : g();
                  },
                },
                {
                  key: "_enforceFocus",
                  value: function () {
                    var b = this;
                    a(document)
                      .off(q.FOCUSIN)
                      .on(q.FOCUSIN, function (c) {
                        document === c.target ||
                          b._element === c.target ||
                          a(b._element).has(c.target).length ||
                          b._element.focus();
                      });
                  },
                },
                {
                  key: "_setEscapeEvent",
                  value: function () {
                    var b = this;
                    this._isShown && this._config.keyboard
                      ? a(this._element).on(q.KEYDOWN_DISMISS, function (a) {
                          a.which === n && b.hide();
                        })
                      : this._isShown ||
                        a(this._element).off(q.KEYDOWN_DISMISS);
                  },
                },
                {
                  key: "_setResizeEvent",
                  value: function () {
                    this._isShown
                      ? a(window).on(
                          q.RESIZE,
                          a.proxy(this._handleUpdate, this)
                        )
                      : a(window).off(q.RESIZE);
                  },
                },
                {
                  key: "_hideModal",
                  value: function () {
                    var b = this;
                    (this._element.style.display = "none"),
                      this._element.setAttribute("aria-hidden", "true"),
                      this._showBackdrop(function () {
                        a(document.body).removeClass(r.OPEN),
                          b._resetAdjustments(),
                          b._resetScrollbar(),
                          a(b._element).trigger(q.HIDDEN);
                      });
                  },
                },
                {
                  key: "_removeBackdrop",
                  value: function () {
                    this._backdrop &&
                      (a(this._backdrop).remove(), (this._backdrop = null));
                  },
                },
                {
                  key: "_showBackdrop",
                  value: function (b) {
                    var c = this,
                      d = a(this._element).hasClass(r.FADE) ? r.FADE : "";
                    if (this._isShown && this._config.backdrop) {
                      var f = e["default"].supportsTransitionEnd() && d;
                      if (
                        ((this._backdrop = document.createElement("div")),
                        (this._backdrop.className = r.BACKDROP),
                        d && a(this._backdrop).addClass(d),
                        a(this._backdrop).appendTo(document.body),
                        a(this._element).on(q.CLICK_DISMISS, function (a) {
                          return c._ignoreBackdropClick
                            ? void (c._ignoreBackdropClick = !1)
                            : void (
                                a.target === a.currentTarget &&
                                ("static" === c._config.backdrop
                                  ? c._element.focus()
                                  : c.hide())
                              );
                        }),
                        f && e["default"].reflow(this._backdrop),
                        a(this._backdrop).addClass(r.IN),
                        !b)
                      )
                        return;
                      if (!f) return void b();
                      a(this._backdrop)
                        .one(e["default"].TRANSITION_END, b)
                        .emulateTransitionEnd(m);
                    } else if (!this._isShown && this._backdrop) {
                      a(this._backdrop).removeClass(r.IN);
                      var g = function () {
                        c._removeBackdrop(), b && b();
                      };
                      e["default"].supportsTransitionEnd() &&
                      a(this._element).hasClass(r.FADE)
                        ? a(this._backdrop)
                            .one(e["default"].TRANSITION_END, g)
                            .emulateTransitionEnd(m)
                        : g();
                    } else b && b();
                  },
                },
                {
                  key: "_handleUpdate",
                  value: function () {
                    this._adjustDialog();
                  },
                },
                {
                  key: "_adjustDialog",
                  value: function () {
                    var a =
                      this._element.scrollHeight >
                      document.documentElement.clientHeight;
                    !this._isBodyOverflowing &&
                      a &&
                      (this._element.style.paddingLeft =
                        this._scrollbarWidth + "px"),
                      this._isBodyOverflowing &&
                        !a &&
                        (this._element.style.paddingRight =
                          this._scrollbarWidth + "px");
                  },
                },
                {
                  key: "_resetAdjustments",
                  value: function () {
                    (this._element.style.paddingLeft = ""),
                      (this._element.style.paddingRight = "");
                  },
                },
                {
                  key: "_checkScrollbar",
                  value: function () {
                    (this._isBodyOverflowing =
                      document.body.clientWidth < window.innerWidth),
                      (this._scrollbarWidth = this._getScrollbarWidth());
                  },
                },
                {
                  key: "_setScrollbar",
                  value: function () {
                    var b = parseInt(
                      a(s.FIXED_CONTENT).css("padding-right") || 0,
                      10
                    );
                    (this._originalBodyPadding =
                      document.body.style.paddingRight || ""),
                      this._isBodyOverflowing &&
                        (document.body.style.paddingRight =
                          b + this._scrollbarWidth + "px");
                  },
                },
                {
                  key: "_resetScrollbar",
                  value: function () {
                    document.body.style.paddingRight =
                      this._originalBodyPadding;
                  },
                },
                {
                  key: "_getScrollbarWidth",
                  value: function () {
                    var a = document.createElement("div");
                    (a.className = r.SCROLLBAR_MEASURER),
                      document.body.appendChild(a);
                    var b = a.offsetWidth - a.clientWidth;
                    return document.body.removeChild(a), b;
                  },
                },
              ],
              [
                {
                  key: "_jQueryInterface",
                  value: function (b, c) {
                    return this.each(function () {
                      var d = a(this).data(h),
                        e = a.extend(
                          {},
                          j.Default,
                          a(this).data(),
                          "object" ===
                            ("undefined" == typeof b ? "undefined" : f(b)) && b
                        );
                      if (
                        (d || ((d = new j(this, e)), a(this).data(h, d)),
                        "string" == typeof b)
                      ) {
                        if (void 0 === d[b])
                          throw new Error('No method named "' + b + '"');
                        d[b](c);
                      } else e.show && d.show(c);
                    });
                  },
                },
                {
                  key: "VERSION",
                  get: function () {
                    return c;
                  },
                },
                {
                  key: "Default",
                  get: function () {
                    return o;
                  },
                },
              ]
            ),
            j
          );
        })();
      return (
        a(document).on(q.CLICK_DATA_API, s.DATA_TOGGLE, function (b) {
          var c = this,
            d = void 0,
            f = e["default"].getSelectorFromElement(this);
          f && (d = a(f)[0]);
          var g = a(d).data(h)
            ? "toggle"
            : a.extend({}, a(d).data(), a(this).data());
          "A" === this.tagName && b.preventDefault();
          var i = a(d).one(q.SHOW, function (b) {
            b.isDefaultPrevented() ||
              i.one(q.HIDDEN, function () {
                a(c).is(":visible") && c.focus();
              });
          });
          t._jQueryInterface.call(a(d), g, this);
        }),
        (a.fn[b] = t._jQueryInterface),
        (a.fn[b].Constructor = t),
        (a.fn[b].noConflict = function () {
          return (a.fn[b] = k), t._jQueryInterface;
        }),
        t
      );
    })(jQuery);
  a["default"] = h;
});
define("theme_boost/popover", ["exports", "./tooltip"], function (a, b) {
  "use strict";
  function c(a) {
    return a && a.__esModule ? a : { default: a };
  }
  function d(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  function e(a, b) {
    if (!a)
      throw new ReferenceError(
        "this hasn't been initialised - super() hasn't been called"
      );
    return !b || ("object" != typeof b && "function" != typeof b) ? a : b;
  }
  function f(a, b) {
    if ("function" != typeof b && null !== b)
      throw new TypeError(
        "Super expression must either be null or a function, not " + typeof b
      );
    (a.prototype = Object.create(b && b.prototype, {
      constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 },
    })),
      b &&
        (Object.setPrototypeOf
          ? Object.setPrototypeOf(a, b)
          : (a.__proto__ = b));
  }
  Object.defineProperty(a, "__esModule", { value: !0 });
  var g = c(b),
    h =
      "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
        ? function (a) {
            return typeof a;
          }
        : function (a) {
            return a && "function" == typeof Symbol && a.constructor === Symbol
              ? "symbol"
              : typeof a;
          },
    i = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    j = (function (a) {
      var b = "popover",
        c = "4.0.0-alpha.4",
        j = "bs.popover",
        k = "." + j,
        l = a.fn[b],
        m = a.extend({}, g["default"].Default, {
          placement: "right",
          trigger: "click",
          content: "",
          template:
            '<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',
        }),
        n = a.extend({}, g["default"].DefaultType, {
          content: "(string|element|function)",
        }),
        o = { FADE: "fade", IN: "in" },
        p = {
          TITLE: ".popover-title",
          CONTENT: ".popover-content",
          ARROW: ".popover-arrow",
        },
        q = {
          HIDE: "hide" + k,
          HIDDEN: "hidden" + k,
          SHOW: "show" + k,
          SHOWN: "shown" + k,
          INSERTED: "inserted" + k,
          CLICK: "click" + k,
          FOCUSIN: "focusin" + k,
          FOCUSOUT: "focusout" + k,
          MOUSEENTER: "mouseenter" + k,
          MOUSELEAVE: "mouseleave" + k,
        },
        r = (function (g) {
          function l() {
            return (
              d(this, l),
              e(
                this,
                (l.__proto__ || Object.getPrototypeOf(l)).apply(this, arguments)
              )
            );
          }
          return (
            f(l, g),
            i(
              l,
              [
                {
                  key: "isWithContent",
                  value: function () {
                    return this.getTitle() || this._getContent();
                  },
                },
                {
                  key: "getTipElement",
                  value: function () {
                    return (this.tip = this.tip || a(this.config.template)[0]);
                  },
                },
                {
                  key: "setContent",
                  value: function () {
                    var b = a(this.getTipElement());
                    this.setElementContent(b.find(p.TITLE), this.getTitle()),
                      this.setElementContent(
                        b.find(p.CONTENT),
                        this._getContent()
                      ),
                      b.removeClass(o.FADE).removeClass(o.IN),
                      this.cleanupTether();
                  },
                },
                {
                  key: "_getContent",
                  value: function () {
                    return (
                      this.element.getAttribute("data-content") ||
                      ("function" == typeof this.config.content
                        ? this.config.content.call(this.element)
                        : this.config.content)
                    );
                  },
                },
              ],
              [
                {
                  key: "_jQueryInterface",
                  value: function (b) {
                    return this.each(function () {
                      var c = a(this).data(j),
                        d =
                          "object" ===
                          ("undefined" == typeof b ? "undefined" : h(b))
                            ? b
                            : null;
                      if (
                        (c || !/destroy|hide/.test(b)) &&
                        (c || ((c = new l(this, d)), a(this).data(j, c)),
                        "string" == typeof b)
                      ) {
                        if (void 0 === c[b])
                          throw new Error('No method named "' + b + '"');
                        c[b]();
                      }
                    });
                  },
                },
                {
                  key: "VERSION",
                  get: function () {
                    return c;
                  },
                },
                {
                  key: "Default",
                  get: function () {
                    return m;
                  },
                },
                {
                  key: "NAME",
                  get: function () {
                    return b;
                  },
                },
                {
                  key: "DATA_KEY",
                  get: function () {
                    return j;
                  },
                },
                {
                  key: "Event",
                  get: function () {
                    return q;
                  },
                },
                {
                  key: "EVENT_KEY",
                  get: function () {
                    return k;
                  },
                },
                {
                  key: "DefaultType",
                  get: function () {
                    return n;
                  },
                },
              ]
            ),
            l
          );
        })(g["default"]);
      return (
        (a.fn[b] = r._jQueryInterface),
        (a.fn[b].Constructor = r),
        (a.fn[b].noConflict = function () {
          return (a.fn[b] = l), r._jQueryInterface;
        }),
        r
      );
    })(jQuery);
  a["default"] = j;
});
define("theme_boost/scrollspy", ["exports", "./util"], function (a, b) {
  "use strict";
  function c(a) {
    return a && a.__esModule ? a : { default: a };
  }
  function d(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  Object.defineProperty(a, "__esModule", { value: !0 });
  var e = c(b),
    f =
      "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
        ? function (a) {
            return typeof a;
          }
        : function (a) {
            return a && "function" == typeof Symbol && a.constructor === Symbol
              ? "symbol"
              : typeof a;
          },
    g = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    h = (function (a) {
      var b = "scrollspy",
        c = "4.0.0-alpha.4",
        h = "bs.scrollspy",
        i = "." + h,
        j = ".data-api",
        k = a.fn[b],
        l = { offset: 10, method: "auto", target: "" },
        m = { offset: "number", method: "string", target: "(string|element)" },
        n = {
          ACTIVATE: "activate" + i,
          SCROLL: "scroll" + i,
          LOAD_DATA_API: "load" + i + j,
        },
        o = {
          DROPDOWN_ITEM: "dropdown-item",
          DROPDOWN_MENU: "dropdown-menu",
          NAV_LINK: "nav-link",
          NAV: "nav",
          ACTIVE: "active",
        },
        p = {
          DATA_SPY: '[data-spy="scroll"]',
          ACTIVE: ".active",
          LIST_ITEM: ".list-item",
          LI: "li",
          LI_DROPDOWN: "li.dropdown",
          NAV_LINKS: ".nav-link",
          DROPDOWN: ".dropdown",
          DROPDOWN_ITEMS: ".dropdown-item",
          DROPDOWN_TOGGLE: ".dropdown-toggle",
        },
        q = { OFFSET: "offset", POSITION: "position" },
        r = (function () {
          function j(b, c) {
            d(this, j),
              (this._element = b),
              (this._scrollElement = "BODY" === b.tagName ? window : b),
              (this._config = this._getConfig(c)),
              (this._selector =
                this._config.target +
                " " +
                p.NAV_LINKS +
                "," +
                (this._config.target + " " + p.DROPDOWN_ITEMS)),
              (this._offsets = []),
              (this._targets = []),
              (this._activeTarget = null),
              (this._scrollHeight = 0),
              a(this._scrollElement).on(n.SCROLL, a.proxy(this._process, this)),
              this.refresh(),
              this._process();
          }
          return (
            g(
              j,
              [
                {
                  key: "refresh",
                  value: function () {
                    var b = this,
                      c =
                        this._scrollElement !== this._scrollElement.window
                          ? q.POSITION
                          : q.OFFSET,
                      d =
                        "auto" === this._config.method
                          ? c
                          : this._config.method,
                      f = d === q.POSITION ? this._getScrollTop() : 0;
                    (this._offsets = []),
                      (this._targets = []),
                      (this._scrollHeight = this._getScrollHeight());
                    var g = a.makeArray(a(this._selector));
                    g.map(function (b) {
                      var c = void 0,
                        g = e["default"].getSelectorFromElement(b);
                      return (
                        g && (c = a(g)[0]),
                        c && (c.offsetWidth || c.offsetHeight)
                          ? [a(c)[d]().top + f, g]
                          : null
                      );
                    })
                      .filter(function (a) {
                        return a;
                      })
                      .sort(function (a, b) {
                        return a[0] - b[0];
                      })
                      .forEach(function (a) {
                        b._offsets.push(a[0]), b._targets.push(a[1]);
                      });
                  },
                },
                {
                  key: "dispose",
                  value: function () {
                    a.removeData(this._element, h),
                      a(this._scrollElement).off(i),
                      (this._element = null),
                      (this._scrollElement = null),
                      (this._config = null),
                      (this._selector = null),
                      (this._offsets = null),
                      (this._targets = null),
                      (this._activeTarget = null),
                      (this._scrollHeight = null);
                  },
                },
                {
                  key: "_getConfig",
                  value: function (c) {
                    if (
                      ((c = a.extend({}, l, c)), "string" != typeof c.target)
                    ) {
                      var d = a(c.target).attr("id");
                      d ||
                        ((d = e["default"].getUID(b)),
                        a(c.target).attr("id", d)),
                        (c.target = "#" + d);
                    }
                    return e["default"].typeCheckConfig(b, c, m), c;
                  },
                },
                {
                  key: "_getScrollTop",
                  value: function () {
                    return this._scrollElement === window
                      ? this._scrollElement.scrollY
                      : this._scrollElement.scrollTop;
                  },
                },
                {
                  key: "_getScrollHeight",
                  value: function () {
                    return (
                      this._scrollElement.scrollHeight ||
                      Math.max(
                        document.body.scrollHeight,
                        document.documentElement.scrollHeight
                      )
                    );
                  },
                },
                {
                  key: "_process",
                  value: function () {
                    var a = this._getScrollTop() + this._config.offset,
                      b = this._getScrollHeight(),
                      c =
                        this._config.offset +
                        b -
                        this._scrollElement.offsetHeight;
                    if ((this._scrollHeight !== b && this.refresh(), a >= c)) {
                      var d = this._targets[this._targets.length - 1];
                      this._activeTarget !== d && this._activate(d);
                    }
                    if (this._activeTarget && a < this._offsets[0])
                      return (this._activeTarget = null), void this._clear();
                    for (var e = this._offsets.length; e--; ) {
                      var f =
                        this._activeTarget !== this._targets[e] &&
                        a >= this._offsets[e] &&
                        (void 0 === this._offsets[e + 1] ||
                          a < this._offsets[e + 1]);
                      f && this._activate(this._targets[e]);
                    }
                  },
                },
                {
                  key: "_activate",
                  value: function (b) {
                    (this._activeTarget = b), this._clear();
                    var c = this._selector.split(",");
                    c = c.map(function (a) {
                      return (
                        a +
                        '[data-target="' +
                        b +
                        '"],' +
                        (a + '[href="' + b + '"]')
                      );
                    });
                    var d = a(c.join(","));
                    d.hasClass(o.DROPDOWN_ITEM)
                      ? (d
                          .closest(p.DROPDOWN)
                          .find(p.DROPDOWN_TOGGLE)
                          .addClass(o.ACTIVE),
                        d.addClass(o.ACTIVE))
                      : d.parents(p.LI).find(p.NAV_LINKS).addClass(o.ACTIVE),
                      a(this._scrollElement).trigger(n.ACTIVATE, {
                        relatedTarget: b,
                      });
                  },
                },
                {
                  key: "_clear",
                  value: function () {
                    a(this._selector).filter(p.ACTIVE).removeClass(o.ACTIVE);
                  },
                },
              ],
              [
                {
                  key: "_jQueryInterface",
                  value: function (b) {
                    return this.each(function () {
                      var c = a(this).data(h),
                        d =
                          ("object" ===
                            ("undefined" == typeof b ? "undefined" : f(b)) &&
                            b) ||
                          null;
                      if (
                        (c || ((c = new j(this, d)), a(this).data(h, c)),
                        "string" == typeof b)
                      ) {
                        if (void 0 === c[b])
                          throw new Error('No method named "' + b + '"');
                        c[b]();
                      }
                    });
                  },
                },
                {
                  key: "VERSION",
                  get: function () {
                    return c;
                  },
                },
                {
                  key: "Default",
                  get: function () {
                    return l;
                  },
                },
              ]
            ),
            j
          );
        })();
      return (
        a(window).on(n.LOAD_DATA_API, function () {
          for (var b = a.makeArray(a(p.DATA_SPY)), c = b.length; c--; ) {
            var d = a(b[c]);
            r._jQueryInterface.call(d, d.data());
          }
        }),
        (a.fn[b] = r._jQueryInterface),
        (a.fn[b].Constructor = r),
        (a.fn[b].noConflict = function () {
          return (a.fn[b] = k), r._jQueryInterface;
        }),
        r
      );
    })(jQuery);
  a["default"] = h;
});
define("theme_boost/tab", ["exports", "./util"], function (a, b) {
  "use strict";
  function c(a) {
    return a && a.__esModule ? a : { default: a };
  }
  function d(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  Object.defineProperty(a, "__esModule", { value: !0 });
  var e = c(b),
    f = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    g = (function (a) {
      var b = "tab",
        c = "4.0.0-alpha.4",
        g = "bs.tab",
        h = "." + g,
        i = ".data-api",
        j = a.fn[b],
        k = 150,
        l = {
          HIDE: "hide" + h,
          HIDDEN: "hidden" + h,
          SHOW: "show" + h,
          SHOWN: "shown" + h,
          CLICK_DATA_API: "click" + h + i,
        },
        m = {
          DROPDOWN_MENU: "dropdown-menu",
          ACTIVE: "active",
          FADE: "fade",
          IN: "in",
        },
        n = {
          A: "a",
          LI: "li",
          DROPDOWN: ".dropdown",
          UL: "ul:not(.dropdown-menu)",
          FADE_CHILD: "> .nav-item .fade, > .fade",
          ACTIVE: ".active",
          ACTIVE_CHILD: "> .nav-item > .active, > .active",
          DATA_TOGGLE: '[data-toggle="tab"], [data-toggle="pill"]',
          DROPDOWN_TOGGLE: ".dropdown-toggle",
          DROPDOWN_ACTIVE_CHILD: "> .dropdown-menu .active",
        },
        o = (function () {
          function b(a) {
            d(this, b), (this._element = a);
          }
          return (
            f(
              b,
              [
                {
                  key: "show",
                  value: function () {
                    var b = this;
                    if (
                      !this._element.parentNode ||
                      this._element.parentNode.nodeType !== Node.ELEMENT_NODE ||
                      !a(this._element).hasClass(m.ACTIVE)
                    ) {
                      var c = void 0,
                        d = void 0,
                        f = a(this._element).closest(n.UL)[0],
                        g = e["default"].getSelectorFromElement(this._element);
                      f &&
                        ((d = a.makeArray(a(f).find(n.ACTIVE))),
                        (d = d[d.length - 1]));
                      var h = a.Event(l.HIDE, { relatedTarget: this._element }),
                        i = a.Event(l.SHOW, { relatedTarget: d });
                      if (
                        (d && a(d).trigger(h),
                        a(this._element).trigger(i),
                        !i.isDefaultPrevented() && !h.isDefaultPrevented())
                      ) {
                        g && (c = a(g)[0]), this._activate(this._element, f);
                        var j = function () {
                          var c = a.Event(l.HIDDEN, {
                              relatedTarget: b._element,
                            }),
                            e = a.Event(l.SHOWN, { relatedTarget: d });
                          a(d).trigger(c), a(b._element).trigger(e);
                        };
                        c ? this._activate(c, c.parentNode, j) : j();
                      }
                    }
                  },
                },
                {
                  key: "dispose",
                  value: function () {
                    a.removeClass(this._element, g), (this._element = null);
                  },
                },
                {
                  key: "_activate",
                  value: function (b, c, d) {
                    var f = a(c).find(n.ACTIVE_CHILD)[0],
                      g =
                        d &&
                        e["default"].supportsTransitionEnd() &&
                        ((f && a(f).hasClass(m.FADE)) ||
                          Boolean(a(c).find(n.FADE_CHILD)[0])),
                      h = a.proxy(this._transitionComplete, this, b, f, g, d);
                    f && g
                      ? a(f)
                          .one(e["default"].TRANSITION_END, h)
                          .emulateTransitionEnd(k)
                      : h(),
                      f && a(f).removeClass(m.IN);
                  },
                },
                {
                  key: "_transitionComplete",
                  value: function (b, c, d, f) {
                    if (c) {
                      a(c).removeClass(m.ACTIVE);
                      var g = a(c).find(n.DROPDOWN_ACTIVE_CHILD)[0];
                      g && a(g).removeClass(m.ACTIVE),
                        c.setAttribute("aria-expanded", !1);
                    }
                    if (
                      (a(b).addClass(m.ACTIVE),
                      b.setAttribute("aria-expanded", !0),
                      d
                        ? (e["default"].reflow(b), a(b).addClass(m.IN))
                        : a(b).removeClass(m.FADE),
                      b.parentNode && a(b.parentNode).hasClass(m.DROPDOWN_MENU))
                    ) {
                      var h = a(b).closest(n.DROPDOWN)[0];
                      h && a(h).find(n.DROPDOWN_TOGGLE).addClass(m.ACTIVE),
                        b.setAttribute("aria-expanded", !0);
                    }
                    f && f();
                  },
                },
              ],
              [
                {
                  key: "_jQueryInterface",
                  value: function (c) {
                    return this.each(function () {
                      var d = a(this),
                        e = d.data(g);
                      if (
                        (e || ((e = e = new b(this)), d.data(g, e)),
                        "string" == typeof c)
                      ) {
                        if (void 0 === e[c])
                          throw new Error('No method named "' + c + '"');
                        e[c]();
                      }
                    });
                  },
                },
                {
                  key: "VERSION",
                  get: function () {
                    return c;
                  },
                },
              ]
            ),
            b
          );
        })();
      return (
        a(document).on(l.CLICK_DATA_API, n.DATA_TOGGLE, function (b) {
          b.preventDefault(), o._jQueryInterface.call(a(this), "show");
        }),
        (a.fn[b] = o._jQueryInterface),
        (a.fn[b].Constructor = o),
        (a.fn[b].noConflict = function () {
          return (a.fn[b] = j), o._jQueryInterface;
        }),
        o
      );
    })(jQuery);
  a["default"] = g;
});
!(function (a, b) {
  "function" == typeof define && define.amd
    ? define("theme_boost/tether", b)
    : "object" == typeof exports
    ? (module.exports = b(require, exports, module))
    : (a.Tether = b());
})(this, function (a, b, c) {
  "use strict";
  function d(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  function e(a) {
    var b = a.getBoundingClientRect(),
      c = {};
    for (var d in b) c[d] = b[d];
    if (a.ownerDocument !== document) {
      var f = a.ownerDocument.defaultView.frameElement;
      if (f) {
        var g = e(f);
        (c.top += g.top),
          (c.bottom += g.top),
          (c.left += g.left),
          (c.right += g.left);
      }
    }
    return c;
  }
  function f(a) {
    var b = getComputedStyle(a) || {},
      c = b.position,
      d = [];
    if ("fixed" === c) return [a];
    for (var e = a; (e = e.parentNode) && e && 1 === e.nodeType; ) {
      var f = void 0;
      try {
        f = getComputedStyle(e);
      } catch (g) {}
      if ("undefined" == typeof f || null === f) return d.push(e), d;
      var h = f,
        i = h.overflow,
        j = h.overflowX,
        k = h.overflowY;
      /(auto|scroll)/.test(i + k + j) &&
        ("absolute" !== c ||
          ["relative", "absolute", "fixed"].indexOf(f.position) >= 0) &&
        d.push(e);
    }
    return (
      d.push(a.ownerDocument.body),
      a.ownerDocument !== document && d.push(a.ownerDocument.defaultView),
      d
    );
  }
  function g() {
    z && document.body.removeChild(z), (z = null);
  }
  function h(a) {
    var b = void 0;
    a === document
      ? ((b = document), (a = document.documentElement))
      : (b = a.ownerDocument);
    var c = b.documentElement,
      d = e(a),
      f = C();
    return (
      (d.top -= f.top),
      (d.left -= f.left),
      "undefined" == typeof d.width &&
        (d.width = document.body.scrollWidth - d.left - d.right),
      "undefined" == typeof d.height &&
        (d.height = document.body.scrollHeight - d.top - d.bottom),
      (d.top = d.top - c.clientTop),
      (d.left = d.left - c.clientLeft),
      (d.right = b.body.clientWidth - d.width - d.left),
      (d.bottom = b.body.clientHeight - d.height - d.top),
      d
    );
  }
  function i(a) {
    return a.offsetParent || document.documentElement;
  }
  function j() {
    var a = document.createElement("div");
    (a.style.width = "100%"), (a.style.height = "200px");
    var b = document.createElement("div");
    k(b.style, {
      position: "absolute",
      top: 0,
      left: 0,
      pointerEvents: "none",
      visibility: "hidden",
      width: "200px",
      height: "150px",
      overflow: "hidden",
    }),
      b.appendChild(a),
      document.body.appendChild(b);
    var c = a.offsetWidth;
    b.style.overflow = "scroll";
    var d = a.offsetWidth;
    c === d && (d = b.clientWidth), document.body.removeChild(b);
    var e = c - d;
    return { width: e, height: e };
  }
  function k() {
    var a =
        arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0],
      b = [];
    return (
      Array.prototype.push.apply(b, arguments),
      b.slice(1).forEach(function (b) {
        if (b) for (var c in b) ({}).hasOwnProperty.call(b, c) && (a[c] = b[c]);
      }),
      a
    );
  }
  function l(a, b) {
    if ("undefined" != typeof a.classList)
      b.split(" ").forEach(function (b) {
        b.trim() && a.classList.remove(b);
      });
    else {
      var c = new RegExp("(^| )" + b.split(" ").join("|") + "( |$)", "gi"),
        d = o(a).replace(c, " ");
      p(a, d);
    }
  }
  function m(a, b) {
    if ("undefined" != typeof a.classList)
      b.split(" ").forEach(function (b) {
        b.trim() && a.classList.add(b);
      });
    else {
      l(a, b);
      var c = o(a) + (" " + b);
      p(a, c);
    }
  }
  function n(a, b) {
    if ("undefined" != typeof a.classList) return a.classList.contains(b);
    var c = o(a);
    return new RegExp("(^| )" + b + "( |$)", "gi").test(c);
  }
  function o(a) {
    return a.className instanceof a.ownerDocument.defaultView.SVGAnimatedString
      ? a.className.baseVal
      : a.className;
  }
  function p(a, b) {
    a.setAttribute("class", b);
  }
  function q(a, b, c) {
    c.forEach(function (c) {
      b.indexOf(c) === -1 && n(a, c) && l(a, c);
    }),
      b.forEach(function (b) {
        n(a, b) || m(a, b);
      });
  }
  function d(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  function r(a, b) {
    if ("function" != typeof b && null !== b)
      throw new TypeError(
        "Super expression must either be null or a function, not " + typeof b
      );
    (a.prototype = Object.create(b && b.prototype, {
      constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 },
    })),
      b &&
        (Object.setPrototypeOf
          ? Object.setPrototypeOf(a, b)
          : (a.__proto__ = b));
  }
  function s(a, b) {
    var c = arguments.length <= 2 || void 0 === arguments[2] ? 1 : arguments[2];
    return a + c >= b && b >= a - c;
  }
  function t() {
    return "undefined" != typeof performance &&
      "undefined" != typeof performance.now
      ? performance.now()
      : +new Date();
  }
  function u() {
    for (
      var a = { top: 0, left: 0 }, b = arguments.length, c = Array(b), d = 0;
      d < b;
      d++
    )
      c[d] = arguments[d];
    return (
      c.forEach(function (b) {
        var c = b.top,
          d = b.left;
        "string" == typeof c && (c = parseFloat(c, 10)),
          "string" == typeof d && (d = parseFloat(d, 10)),
          (a.top += c),
          (a.left += d);
      }),
      a
    );
  }
  function v(a, b) {
    return (
      "string" == typeof a.left &&
        a.left.indexOf("%") !== -1 &&
        (a.left = (parseFloat(a.left, 10) / 100) * b.width),
      "string" == typeof a.top &&
        a.top.indexOf("%") !== -1 &&
        (a.top = (parseFloat(a.top, 10) / 100) * b.height),
      a
    );
  }
  function w(a, b) {
    return (
      "scrollParent" === b
        ? (b = a.scrollParents[0])
        : "window" === b &&
          (b = [
            pageXOffset,
            pageYOffset,
            innerWidth + pageXOffset,
            innerHeight + pageYOffset,
          ]),
      b === document && (b = b.documentElement),
      "undefined" != typeof b.nodeType &&
        !(function () {
          var a = b,
            c = h(b),
            d = c,
            e = getComputedStyle(b);
          if (
            ((b = [d.left, d.top, c.width + d.left, c.height + d.top]),
            a.ownerDocument !== document)
          ) {
            var f = a.ownerDocument.defaultView;
            (b[0] += f.pageXOffset),
              (b[1] += f.pageYOffset),
              (b[2] += f.pageXOffset),
              (b[3] += f.pageYOffset);
          }
          W.forEach(function (a, c) {
            (a = a[0].toUpperCase() + a.substr(1)),
              "Top" === a || "Left" === a
                ? (b[c] += parseFloat(e["border" + a + "Width"]))
                : (b[c] -= parseFloat(e["border" + a + "Width"]));
          });
        })(),
      b
    );
  }
  var x = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    y = void 0;
  "undefined" == typeof y && (y = { modules: [] });
  var z = null,
    A = (function () {
      var a = 0;
      return function () {
        return ++a;
      };
    })(),
    B = {},
    C = function () {
      var a = z;
      a ||
        ((a = document.createElement("div")),
        a.setAttribute("data-tether-id", A()),
        k(a.style, { top: 0, left: 0, position: "absolute" }),
        document.body.appendChild(a),
        (z = a));
      var b = a.getAttribute("data-tether-id");
      return (
        "undefined" == typeof B[b] &&
          ((B[b] = e(a)),
          E(function () {
            delete B[b];
          })),
        B[b]
      );
    },
    D = [],
    E = function (a) {
      D.push(a);
    },
    F = function () {
      for (var a = void 0; (a = D.pop()); ) a();
    },
    G = (function () {
      function a() {
        d(this, a);
      }
      return (
        x(a, [
          {
            key: "on",
            value: function (a, b, c) {
              var d =
                !(arguments.length <= 3 || void 0 === arguments[3]) &&
                arguments[3];
              "undefined" == typeof this.bindings && (this.bindings = {}),
                "undefined" == typeof this.bindings[a] &&
                  (this.bindings[a] = []),
                this.bindings[a].push({ handler: b, ctx: c, once: d });
            },
          },
          {
            key: "once",
            value: function (a, b, c) {
              this.on(a, b, c, !0);
            },
          },
          {
            key: "off",
            value: function (a, b) {
              if (
                "undefined" != typeof this.bindings &&
                "undefined" != typeof this.bindings[a]
              )
                if ("undefined" == typeof b) delete this.bindings[a];
                else
                  for (var c = 0; c < this.bindings[a].length; )
                    this.bindings[a][c].handler === b
                      ? this.bindings[a].splice(c, 1)
                      : ++c;
            },
          },
          {
            key: "trigger",
            value: function (a) {
              if ("undefined" != typeof this.bindings && this.bindings[a]) {
                for (
                  var b = 0,
                    c = arguments.length,
                    d = Array(c > 1 ? c - 1 : 0),
                    e = 1;
                  e < c;
                  e++
                )
                  d[e - 1] = arguments[e];
                for (; b < this.bindings[a].length; ) {
                  var f = this.bindings[a][b],
                    g = f.handler,
                    h = f.ctx,
                    i = f.once,
                    j = h;
                  "undefined" == typeof j && (j = this),
                    g.apply(j, d),
                    i ? this.bindings[a].splice(b, 1) : ++b;
                }
              }
            },
          },
        ]),
        a
      );
    })();
  y.Utils = {
    getActualBoundingClientRect: e,
    getScrollParents: f,
    getBounds: h,
    getOffsetParent: i,
    extend: k,
    addClass: m,
    removeClass: l,
    hasClass: n,
    updateClasses: q,
    defer: E,
    flush: F,
    uniqueId: A,
    Evented: G,
    getScrollBarSize: j,
    removeUtilElements: g,
  };
  var H = (function () {
      function a(a, b) {
        var c = [],
          d = !0,
          e = !1,
          f = void 0;
        try {
          for (
            var g, h = a[Symbol.iterator]();
            !(d = (g = h.next()).done) &&
            (c.push(g.value), !b || c.length !== b);
            d = !0
          );
        } catch (i) {
          (e = !0), (f = i);
        } finally {
          try {
            !d && h["return"] && h["return"]();
          } finally {
            if (e) throw f;
          }
        }
        return c;
      }
      return function (b, c) {
        if (Array.isArray(b)) return b;
        if (Symbol.iterator in Object(b)) return a(b, c);
        throw new TypeError(
          "Invalid attempt to destructure non-iterable instance"
        );
      };
    })(),
    x = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    I = function (a, b, c) {
      for (var d = !0; d; ) {
        var e = a,
          f = b,
          g = c;
        (d = !1), null === e && (e = Function.prototype);
        var h = Object.getOwnPropertyDescriptor(e, f);
        if (void 0 !== h) {
          if ("value" in h) return h.value;
          var i = h.get;
          if (void 0 === i) return;
          return i.call(g);
        }
        var j = Object.getPrototypeOf(e);
        if (null === j) return;
        (a = j), (b = f), (c = g), (d = !0), (h = j = void 0);
      }
    };
  if ("undefined" == typeof y)
    throw new Error("You must include the utils.js file before tether.js");
  var J = y.Utils,
    f = J.getScrollParents,
    h = J.getBounds,
    i = J.getOffsetParent,
    k = J.extend,
    m = J.addClass,
    l = J.removeClass,
    q = J.updateClasses,
    E = J.defer,
    F = J.flush,
    j = J.getScrollBarSize,
    g = J.removeUtilElements,
    K = (function () {
      if ("undefined" == typeof document) return "";
      for (
        var a = document.createElement("div"),
          b = [
            "transform",
            "WebkitTransform",
            "OTransform",
            "MozTransform",
            "msTransform",
          ],
          c = 0;
        c < b.length;
        ++c
      ) {
        var d = b[c];
        if (void 0 !== a.style[d]) return d;
      }
    })(),
    L = [],
    M = function () {
      L.forEach(function (a) {
        a.position(!1);
      }),
        F();
    };
  !(function () {
    var a = null,
      b = null,
      c = null,
      d = function e() {
        return "undefined" != typeof b && b > 16
          ? ((b = Math.min(b - 16, 250)), void (c = setTimeout(e, 250)))
          : void (
              ("undefined" != typeof a && t() - a < 10) ||
              (null != c && (clearTimeout(c), (c = null)),
              (a = t()),
              M(),
              (b = t() - a))
            );
      };
    "undefined" != typeof window &&
      "undefined" != typeof window.addEventListener &&
      ["resize", "scroll", "touchmove"].forEach(function (a) {
        window.addEventListener(a, d);
      });
  })();
  var N = { center: "center", left: "right", right: "left" },
    O = { middle: "middle", top: "bottom", bottom: "top" },
    P = {
      top: 0,
      left: 0,
      middle: "50%",
      center: "50%",
      bottom: "100%",
      right: "100%",
    },
    Q = function (a, b) {
      var c = a.left,
        d = a.top;
      return (
        "auto" === c && (c = N[b.left]),
        "auto" === d && (d = O[b.top]),
        { left: c, top: d }
      );
    },
    R = function (a) {
      var b = a.left,
        c = a.top;
      return (
        "undefined" != typeof P[a.left] && (b = P[a.left]),
        "undefined" != typeof P[a.top] && (c = P[a.top]),
        { left: b, top: c }
      );
    },
    S = function (a) {
      var b = a.split(" "),
        c = H(b, 2),
        d = c[0],
        e = c[1];
      return { top: d, left: e };
    },
    T = S,
    U = (function (a) {
      function b(a) {
        var c = this;
        d(this, b),
          I(Object.getPrototypeOf(b.prototype), "constructor", this).call(this),
          (this.position = this.position.bind(this)),
          L.push(this),
          (this.history = []),
          this.setOptions(a, !1),
          y.modules.forEach(function (a) {
            "undefined" != typeof a.initialize && a.initialize.call(c);
          }),
          this.position();
      }
      return (
        r(b, a),
        x(b, [
          {
            key: "getClass",
            value: function () {
              var a =
                  arguments.length <= 0 || void 0 === arguments[0]
                    ? ""
                    : arguments[0],
                b = this.options.classes;
              return "undefined" != typeof b && b[a]
                ? this.options.classes[a]
                : this.options.classPrefix
                ? this.options.classPrefix + "-" + a
                : a;
            },
          },
          {
            key: "setOptions",
            value: function (a) {
              var b = this,
                c =
                  arguments.length <= 1 ||
                  void 0 === arguments[1] ||
                  arguments[1],
                d = {
                  offset: "0 0",
                  targetOffset: "0 0",
                  targetAttachment: "auto auto",
                  classPrefix: "tether",
                };
              this.options = k(d, a);
              var e = this.options,
                g = e.element,
                h = e.target,
                i = e.targetModifier;
              if (
                ((this.element = g),
                (this.target = h),
                (this.targetModifier = i),
                "viewport" === this.target
                  ? ((this.target = document.body),
                    (this.targetModifier = "visible"))
                  : "scroll-handle" === this.target &&
                    ((this.target = document.body),
                    (this.targetModifier = "scroll-handle")),
                ["element", "target"].forEach(function (a) {
                  if ("undefined" == typeof b[a])
                    throw new Error(
                      "Tether Error: Both element and target must be defined"
                    );
                  "undefined" != typeof b[a].jquery
                    ? (b[a] = b[a][0])
                    : "string" == typeof b[a] &&
                      (b[a] = document.querySelector(b[a]));
                }),
                m(this.element, this.getClass("element")),
                this.options.addTargetClasses !== !1 &&
                  m(this.target, this.getClass("target")),
                !this.options.attachment)
              )
                throw new Error("Tether Error: You must provide an attachment");
              (this.targetAttachment = T(this.options.targetAttachment)),
                (this.attachment = T(this.options.attachment)),
                (this.offset = S(this.options.offset)),
                (this.targetOffset = S(this.options.targetOffset)),
                "undefined" != typeof this.scrollParents && this.disable(),
                "scroll-handle" === this.targetModifier
                  ? (this.scrollParents = [this.target])
                  : (this.scrollParents = f(this.target)),
                this.options.enabled !== !1 && this.enable(c);
            },
          },
          {
            key: "getTargetBounds",
            value: function () {
              if ("undefined" == typeof this.targetModifier)
                return h(this.target);
              if ("visible" === this.targetModifier) {
                if (this.target === document.body)
                  return {
                    top: pageYOffset,
                    left: pageXOffset,
                    height: innerHeight,
                    width: innerWidth,
                  };
                var a = h(this.target),
                  b = {
                    height: a.height,
                    width: a.width,
                    top: a.top,
                    left: a.left,
                  };
                return (
                  (b.height = Math.min(
                    b.height,
                    a.height - (pageYOffset - a.top)
                  )),
                  (b.height = Math.min(
                    b.height,
                    a.height - (a.top + a.height - (pageYOffset + innerHeight))
                  )),
                  (b.height = Math.min(innerHeight, b.height)),
                  (b.height -= 2),
                  (b.width = Math.min(
                    b.width,
                    a.width - (pageXOffset - a.left)
                  )),
                  (b.width = Math.min(
                    b.width,
                    a.width - (a.left + a.width - (pageXOffset + innerWidth))
                  )),
                  (b.width = Math.min(innerWidth, b.width)),
                  (b.width -= 2),
                  b.top < pageYOffset && (b.top = pageYOffset),
                  b.left < pageXOffset && (b.left = pageXOffset),
                  b
                );
              }
              if ("scroll-handle" === this.targetModifier) {
                var a = void 0,
                  c = this.target;
                c === document.body
                  ? ((c = document.documentElement),
                    (a = {
                      left: pageXOffset,
                      top: pageYOffset,
                      height: innerHeight,
                      width: innerWidth,
                    }))
                  : (a = h(c));
                var d = getComputedStyle(c),
                  e =
                    c.scrollWidth > c.clientWidth ||
                    [d.overflow, d.overflowX].indexOf("scroll") >= 0 ||
                    this.target !== document.body,
                  f = 0;
                e && (f = 15);
                var g =
                    a.height -
                    parseFloat(d.borderTopWidth) -
                    parseFloat(d.borderBottomWidth) -
                    f,
                  b = {
                    width: 15,
                    height: 0.975 * g * (g / c.scrollHeight),
                    left: a.left + a.width - parseFloat(d.borderLeftWidth) - 15,
                  },
                  i = 0;
                g < 408 &&
                  this.target === document.body &&
                  (i = -11e-5 * Math.pow(g, 2) - 0.00727 * g + 22.58),
                  this.target !== document.body &&
                    (b.height = Math.max(b.height, 24));
                var j = this.target.scrollTop / (c.scrollHeight - g);
                return (
                  (b.top =
                    j * (g - b.height - i) +
                    a.top +
                    parseFloat(d.borderTopWidth)),
                  this.target === document.body &&
                    (b.height = Math.max(b.height, 24)),
                  b
                );
              }
            },
          },
          {
            key: "clearCache",
            value: function () {
              this._cache = {};
            },
          },
          {
            key: "cache",
            value: function (a, b) {
              return (
                "undefined" == typeof this._cache && (this._cache = {}),
                "undefined" == typeof this._cache[a] &&
                  (this._cache[a] = b.call(this)),
                this._cache[a]
              );
            },
          },
          {
            key: "enable",
            value: function () {
              var a = this,
                b =
                  arguments.length <= 0 ||
                  void 0 === arguments[0] ||
                  arguments[0];
              this.options.addTargetClasses !== !1 &&
                m(this.target, this.getClass("enabled")),
                m(this.element, this.getClass("enabled")),
                (this.enabled = !0),
                this.scrollParents.forEach(function (b) {
                  b !== a.target.ownerDocument &&
                    b.addEventListener("scroll", a.position);
                }),
                b && this.position();
            },
          },
          {
            key: "disable",
            value: function () {
              var a = this;
              l(this.target, this.getClass("enabled")),
                l(this.element, this.getClass("enabled")),
                (this.enabled = !1),
                "undefined" != typeof this.scrollParents &&
                  this.scrollParents.forEach(function (b) {
                    b.removeEventListener("scroll", a.position);
                  });
            },
          },
          {
            key: "destroy",
            value: function () {
              var a = this;
              this.disable(),
                L.forEach(function (b, c) {
                  b === a && L.splice(c, 1);
                }),
                0 === L.length && g();
            },
          },
          {
            key: "updateAttachClasses",
            value: function (a, b) {
              var c = this;
              (a = a || this.attachment), (b = b || this.targetAttachment);
              var d = ["left", "top", "bottom", "right", "middle", "center"];
              "undefined" != typeof this._addAttachClasses &&
                this._addAttachClasses.length &&
                this._addAttachClasses.splice(0, this._addAttachClasses.length),
                "undefined" == typeof this._addAttachClasses &&
                  (this._addAttachClasses = []);
              var e = this._addAttachClasses;
              a.top && e.push(this.getClass("element-attached") + "-" + a.top),
                a.left &&
                  e.push(this.getClass("element-attached") + "-" + a.left),
                b.top && e.push(this.getClass("target-attached") + "-" + b.top),
                b.left &&
                  e.push(this.getClass("target-attached") + "-" + b.left);
              var f = [];
              d.forEach(function (a) {
                f.push(c.getClass("element-attached") + "-" + a),
                  f.push(c.getClass("target-attached") + "-" + a);
              }),
                E(function () {
                  "undefined" != typeof c._addAttachClasses &&
                    (q(c.element, c._addAttachClasses, f),
                    c.options.addTargetClasses !== !1 &&
                      q(c.target, c._addAttachClasses, f),
                    delete c._addAttachClasses);
                });
            },
          },
          {
            key: "position",
            value: function () {
              var a = this,
                b =
                  arguments.length <= 0 ||
                  void 0 === arguments[0] ||
                  arguments[0];
              if (this.enabled) {
                this.clearCache();
                var c = Q(this.targetAttachment, this.attachment);
                this.updateAttachClasses(this.attachment, c);
                var d = this.cache("element-bounds", function () {
                    return h(a.element);
                  }),
                  e = d.width,
                  f = d.height;
                if (0 === e && 0 === f && "undefined" != typeof this.lastSize) {
                  var g = this.lastSize;
                  (e = g.width), (f = g.height);
                } else this.lastSize = { width: e, height: f };
                var k = this.cache("target-bounds", function () {
                    return a.getTargetBounds();
                  }),
                  l = k,
                  m = v(R(this.attachment), { width: e, height: f }),
                  n = v(R(c), l),
                  o = v(this.offset, { width: e, height: f }),
                  p = v(this.targetOffset, l);
                (m = u(m, o)), (n = u(n, p));
                for (
                  var q = k.left + n.left - m.left,
                    r = k.top + n.top - m.top,
                    s = 0;
                  s < y.modules.length;
                  ++s
                ) {
                  var t = y.modules[s],
                    w = t.position.call(this, {
                      left: q,
                      top: r,
                      targetAttachment: c,
                      targetPos: k,
                      elementPos: d,
                      offset: m,
                      targetOffset: n,
                      manualOffset: o,
                      manualTargetOffset: p,
                      scrollbarSize: B,
                      attachment: this.attachment,
                    });
                  if (w === !1) return !1;
                  "undefined" != typeof w &&
                    "object" == typeof w &&
                    ((r = w.top), (q = w.left));
                }
                var x = {
                    page: { top: r, left: q },
                    viewport: {
                      top: r - pageYOffset,
                      bottom: pageYOffset - r - f + innerHeight,
                      left: q - pageXOffset,
                      right: pageXOffset - q - e + innerWidth,
                    },
                  },
                  z = this.target.ownerDocument,
                  A = z.defaultView,
                  B = void 0;
                return (
                  z.body.scrollWidth > A.innerWidth &&
                    ((B = this.cache("scrollbar-size", j)),
                    (x.viewport.bottom -= B.height)),
                  z.body.scrollHeight > A.innerHeight &&
                    ((B = this.cache("scrollbar-size", j)),
                    (x.viewport.right -= B.width)),
                  (["", "static"].indexOf(z.body.style.position) !== -1 &&
                    ["", "static"].indexOf(
                      z.body.parentElement.style.position
                    ) !== -1) ||
                    ((x.page.bottom = z.body.scrollHeight - r - f),
                    (x.page.right = z.body.scrollWidth - q - e)),
                  "undefined" != typeof this.options.optimizations &&
                    this.options.optimizations.moveElement !== !1 &&
                    "undefined" == typeof this.targetModifier &&
                    !(function () {
                      var b = a.cache("target-offsetparent", function () {
                          return i(a.target);
                        }),
                        c = a.cache("target-offsetparent-bounds", function () {
                          return h(b);
                        }),
                        d = getComputedStyle(b),
                        e = c,
                        f = {};
                      if (
                        (["Top", "Left", "Bottom", "Right"].forEach(function (
                          a
                        ) {
                          f[a.toLowerCase()] = parseFloat(
                            d["border" + a + "Width"]
                          );
                        }),
                        (c.right =
                          z.body.scrollWidth - c.left - e.width + f.right),
                        (c.bottom =
                          z.body.scrollHeight - c.top - e.height + f.bottom),
                        x.page.top >= c.top + f.top &&
                          x.page.bottom >= c.bottom &&
                          x.page.left >= c.left + f.left &&
                          x.page.right >= c.right)
                      ) {
                        var g = b.scrollTop,
                          j = b.scrollLeft;
                        x.offset = {
                          top: x.page.top - c.top + g - f.top,
                          left: x.page.left - c.left + j - f.left,
                        };
                      }
                    })(),
                  this.move(x),
                  this.history.unshift(x),
                  this.history.length > 3 && this.history.pop(),
                  b && F(),
                  !0
                );
              }
            },
          },
          {
            key: "move",
            value: function (a) {
              var b = this;
              if ("undefined" != typeof this.element.parentNode) {
                var c = {};
                for (var d in a) {
                  c[d] = {};
                  for (var e in a[d]) {
                    for (var f = !1, g = 0; g < this.history.length; ++g) {
                      var h = this.history[g];
                      if ("undefined" != typeof h[d] && !s(h[d][e], a[d][e])) {
                        f = !0;
                        break;
                      }
                    }
                    f || (c[d][e] = !0);
                  }
                }
                var j = { top: "", left: "", right: "", bottom: "" },
                  l = function (a, c) {
                    var d = "undefined" != typeof b.options.optimizations,
                      e = d ? b.options.optimizations.gpu : null;
                    if (e !== !1) {
                      var f = void 0,
                        g = void 0;
                      a.top
                        ? ((j.top = 0), (f = c.top))
                        : ((j.bottom = 0), (f = -c.bottom)),
                        a.left
                          ? ((j.left = 0), (g = c.left))
                          : ((j.right = 0), (g = -c.right)),
                        (j[K] =
                          "translateX(" +
                          Math.round(g) +
                          "px) translateY(" +
                          Math.round(f) +
                          "px)"),
                        "msTransform" !== K && (j[K] += " translateZ(0)");
                    } else
                      a.top
                        ? (j.top = c.top + "px")
                        : (j.bottom = c.bottom + "px"),
                        a.left
                          ? (j.left = c.left + "px")
                          : (j.right = c.right + "px");
                  },
                  m = !1;
                if (
                  ((c.page.top || c.page.bottom) &&
                  (c.page.left || c.page.right)
                    ? ((j.position = "absolute"), l(c.page, a.page))
                    : (c.viewport.top || c.viewport.bottom) &&
                      (c.viewport.left || c.viewport.right)
                    ? ((j.position = "fixed"), l(c.viewport, a.viewport))
                    : "undefined" != typeof c.offset &&
                      c.offset.top &&
                      c.offset.left
                    ? !(function () {
                        j.position = "absolute";
                        var d = b.cache("target-offsetparent", function () {
                          return i(b.target);
                        });
                        i(b.element) !== d &&
                          E(function () {
                            b.element.parentNode.removeChild(b.element),
                              d.appendChild(b.element);
                          }),
                          l(c.offset, a.offset),
                          (m = !0);
                      })()
                    : ((j.position = "absolute"),
                      l({ top: !0, left: !0 }, a.page)),
                  !m)
                ) {
                  for (
                    var n = !0, o = this.element.parentNode;
                    o && 1 === o.nodeType && "BODY" !== o.tagName;

                  ) {
                    if ("static" !== getComputedStyle(o).position) {
                      n = !1;
                      break;
                    }
                    o = o.parentNode;
                  }
                  n ||
                    (this.element.parentNode.removeChild(this.element),
                    this.element.ownerDocument.body.appendChild(this.element));
                }
                var p = {},
                  q = !1;
                for (var e in j) {
                  var r = j[e],
                    t = this.element.style[e];
                  t !== r && ((q = !0), (p[e] = r));
                }
                q &&
                  E(function () {
                    k(b.element.style, p);
                  });
              }
            },
          },
        ]),
        b
      );
    })(G);
  (U.modules = []), (y.position = M);
  var V = k(U, y),
    H = (function () {
      function a(a, b) {
        var c = [],
          d = !0,
          e = !1,
          f = void 0;
        try {
          for (
            var g, h = a[Symbol.iterator]();
            !(d = (g = h.next()).done) &&
            (c.push(g.value), !b || c.length !== b);
            d = !0
          );
        } catch (i) {
          (e = !0), (f = i);
        } finally {
          try {
            !d && h["return"] && h["return"]();
          } finally {
            if (e) throw f;
          }
        }
        return c;
      }
      return function (b, c) {
        if (Array.isArray(b)) return b;
        if (Symbol.iterator in Object(b)) return a(b, c);
        throw new TypeError(
          "Invalid attempt to destructure non-iterable instance"
        );
      };
    })(),
    J = y.Utils,
    h = J.getBounds,
    k = J.extend,
    q = J.updateClasses,
    E = J.defer,
    W = ["left", "top", "right", "bottom"];
  y.modules.push({
    position: function (a) {
      var b = this,
        c = a.top,
        d = a.left,
        e = a.targetAttachment;
      if (!this.options.constraints) return !0;
      var f = this.cache("element-bounds", function () {
          return h(b.element);
        }),
        g = f.height,
        i = f.width;
      if (0 === i && 0 === g && "undefined" != typeof this.lastSize) {
        var j = this.lastSize;
        (i = j.width), (g = j.height);
      }
      var l = this.cache("target-bounds", function () {
          return b.getTargetBounds();
        }),
        m = l.height,
        n = l.width,
        o = [this.getClass("pinned"), this.getClass("out-of-bounds")];
      this.options.constraints.forEach(function (a) {
        var b = a.outOfBoundsClass,
          c = a.pinnedClass;
        b && o.push(b), c && o.push(c);
      }),
        o.forEach(function (a) {
          ["left", "top", "right", "bottom"].forEach(function (b) {
            o.push(a + "-" + b);
          });
        });
      var p = [],
        r = k({}, e),
        s = k({}, this.attachment);
      return (
        this.options.constraints.forEach(function (a) {
          var f = a.to,
            h = a.attachment,
            j = a.pin;
          "undefined" == typeof h && (h = "");
          var k = void 0,
            l = void 0;
          if (h.indexOf(" ") >= 0) {
            var o = h.split(" "),
              q = H(o, 2);
            (l = q[0]), (k = q[1]);
          } else k = l = h;
          var t = w(b, f);
          ("target" !== l && "both" !== l) ||
            (c < t[1] && "top" === r.top && ((c += m), (r.top = "bottom")),
            c + g > t[3] && "bottom" === r.top && ((c -= m), (r.top = "top"))),
            "together" === l &&
              ("top" === r.top &&
                ("bottom" === s.top && c < t[1]
                  ? ((c += m), (r.top = "bottom"), (c += g), (s.top = "top"))
                  : "top" === s.top &&
                    c + g > t[3] &&
                    c - (g - m) >= t[1] &&
                    ((c -= g - m), (r.top = "bottom"), (s.top = "bottom"))),
              "bottom" === r.top &&
                ("top" === s.top && c + g > t[3]
                  ? ((c -= m), (r.top = "top"), (c -= g), (s.top = "bottom"))
                  : "bottom" === s.top &&
                    c < t[1] &&
                    c + (2 * g - m) <= t[3] &&
                    ((c += g - m), (r.top = "top"), (s.top = "top"))),
              "middle" === r.top &&
                (c + g > t[3] && "top" === s.top
                  ? ((c -= g), (s.top = "bottom"))
                  : c < t[1] &&
                    "bottom" === s.top &&
                    ((c += g), (s.top = "top")))),
            ("target" !== k && "both" !== k) ||
              (d < t[0] && "left" === r.left && ((d += n), (r.left = "right")),
              d + i > t[2] &&
                "right" === r.left &&
                ((d -= n), (r.left = "left"))),
            "together" === k &&
              (d < t[0] && "left" === r.left
                ? "right" === s.left
                  ? ((d += n), (r.left = "right"), (d += i), (s.left = "left"))
                  : "left" === s.left &&
                    ((d += n), (r.left = "right"), (d -= i), (s.left = "right"))
                : d + i > t[2] && "right" === r.left
                ? "left" === s.left
                  ? ((d -= n), (r.left = "left"), (d -= i), (s.left = "right"))
                  : "right" === s.left &&
                    ((d -= n), (r.left = "left"), (d += i), (s.left = "left"))
                : "center" === r.left &&
                  (d + i > t[2] && "left" === s.left
                    ? ((d -= i), (s.left = "right"))
                    : d < t[0] &&
                      "right" === s.left &&
                      ((d += i), (s.left = "left")))),
            ("element" !== l && "both" !== l) ||
              (c < t[1] && "bottom" === s.top && ((c += g), (s.top = "top")),
              c + g > t[3] &&
                "top" === s.top &&
                ((c -= g), (s.top = "bottom"))),
            ("element" !== k && "both" !== k) ||
              (d < t[0] &&
                ("right" === s.left
                  ? ((d += i), (s.left = "left"))
                  : "center" === s.left && ((d += i / 2), (s.left = "left"))),
              d + i > t[2] &&
                ("left" === s.left
                  ? ((d -= i), (s.left = "right"))
                  : "center" === s.left && ((d -= i / 2), (s.left = "right")))),
            "string" == typeof j
              ? (j = j.split(",").map(function (a) {
                  return a.trim();
                }))
              : j === !0 && (j = ["top", "left", "right", "bottom"]),
            (j = j || []);
          var u = [],
            v = [];
          c < t[1] &&
            (j.indexOf("top") >= 0
              ? ((c = t[1]), u.push("top"))
              : v.push("top")),
            c + g > t[3] &&
              (j.indexOf("bottom") >= 0
                ? ((c = t[3] - g), u.push("bottom"))
                : v.push("bottom")),
            d < t[0] &&
              (j.indexOf("left") >= 0
                ? ((d = t[0]), u.push("left"))
                : v.push("left")),
            d + i > t[2] &&
              (j.indexOf("right") >= 0
                ? ((d = t[2] - i), u.push("right"))
                : v.push("right")),
            u.length &&
              !(function () {
                var a = void 0;
                (a =
                  "undefined" != typeof b.options.pinnedClass
                    ? b.options.pinnedClass
                    : b.getClass("pinned")),
                  p.push(a),
                  u.forEach(function (b) {
                    p.push(a + "-" + b);
                  });
              })(),
            v.length &&
              !(function () {
                var a = void 0;
                (a =
                  "undefined" != typeof b.options.outOfBoundsClass
                    ? b.options.outOfBoundsClass
                    : b.getClass("out-of-bounds")),
                  p.push(a),
                  v.forEach(function (b) {
                    p.push(a + "-" + b);
                  });
              })(),
            (u.indexOf("left") >= 0 || u.indexOf("right") >= 0) &&
              (s.left = r.left = !1),
            (u.indexOf("top") >= 0 || u.indexOf("bottom") >= 0) &&
              (s.top = r.top = !1),
            (r.top === e.top &&
              r.left === e.left &&
              s.top === b.attachment.top &&
              s.left === b.attachment.left) ||
              (b.updateAttachClasses(s, r),
              b.trigger("update", { attachment: s, targetAttachment: r }));
        }),
        E(function () {
          b.options.addTargetClasses !== !1 && q(b.target, p, o),
            q(b.element, p, o);
        }),
        { top: c, left: d }
      );
    },
  });
  var J = y.Utils,
    h = J.getBounds,
    q = J.updateClasses,
    E = J.defer;
  y.modules.push({
    position: function (a) {
      var b = this,
        c = a.top,
        d = a.left,
        e = this.cache("element-bounds", function () {
          return h(b.element);
        }),
        f = e.height,
        g = e.width,
        i = this.getTargetBounds(),
        j = c + f,
        k = d + g,
        l = [];
      c <= i.bottom &&
        j >= i.top &&
        ["left", "right"].forEach(function (a) {
          var b = i[a];
          (b !== d && b !== k) || l.push(a);
        }),
        d <= i.right &&
          k >= i.left &&
          ["top", "bottom"].forEach(function (a) {
            var b = i[a];
            (b !== c && b !== j) || l.push(a);
          });
      var m = [],
        n = [],
        o = ["left", "top", "right", "bottom"];
      return (
        m.push(this.getClass("abutted")),
        o.forEach(function (a) {
          m.push(b.getClass("abutted") + "-" + a);
        }),
        l.length && n.push(this.getClass("abutted")),
        l.forEach(function (a) {
          n.push(b.getClass("abutted") + "-" + a);
        }),
        E(function () {
          b.options.addTargetClasses !== !1 && q(b.target, n, m),
            q(b.element, n, m);
        }),
        !0
      );
    },
  });
  var H = (function () {
    function a(a, b) {
      var c = [],
        d = !0,
        e = !1,
        f = void 0;
      try {
        for (
          var g, h = a[Symbol.iterator]();
          !(d = (g = h.next()).done) && (c.push(g.value), !b || c.length !== b);
          d = !0
        );
      } catch (i) {
        (e = !0), (f = i);
      } finally {
        try {
          !d && h["return"] && h["return"]();
        } finally {
          if (e) throw f;
        }
      }
      return c;
    }
    return function (b, c) {
      if (Array.isArray(b)) return b;
      if (Symbol.iterator in Object(b)) return a(b, c);
      throw new TypeError(
        "Invalid attempt to destructure non-iterable instance"
      );
    };
  })();
  return (
    y.modules.push({
      position: function (a) {
        var b = a.top,
          c = a.left;
        if (this.options.shift) {
          var d = this.options.shift;
          "function" == typeof this.options.shift &&
            (d = this.options.shift.call(this, { top: b, left: c }));
          var e = void 0,
            f = void 0;
          if ("string" == typeof d) {
            (d = d.split(" ")), (d[1] = d[1] || d[0]);
            var g = d,
              h = H(g, 2);
            (e = h[0]),
              (f = h[1]),
              (e = parseFloat(e, 10)),
              (f = parseFloat(f, 10));
          } else (e = d.top), (f = d.left);
          return (b += e), (c += f), { top: b, left: c };
        }
      },
    }),
    V
  );
});
define("theme_boost/tooltip", ["exports", "./util"], function (a, b) {
  "use strict";
  function c(a) {
    return a && a.__esModule ? a : { default: a };
  }
  function d(a, b) {
    if (!(a instanceof b))
      throw new TypeError("Cannot call a class as a function");
  }
  Object.defineProperty(a, "__esModule", { value: !0 });
  var e = c(b),
    f =
      "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
        ? function (a) {
            return typeof a;
          }
        : function (a) {
            return a && "function" == typeof Symbol && a.constructor === Symbol
              ? "symbol"
              : typeof a;
          },
    g = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    h = (function (a) {
      if (void 0 === window.Tether)
        throw new Error(
          "Bootstrap tooltips require Tether (http://github.hubspot.com/tether/)"
        );
      var b = "tooltip",
        c = "4.0.0-alpha.4",
        h = "bs.tooltip",
        i = "." + h,
        j = a.fn[b],
        k = 150,
        l = "bs-tether",
        m = {
          animation: !0,
          template:
            '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
          trigger: "hover focus",
          title: "",
          delay: 0,
          html: !1,
          selector: !1,
          placement: "top",
          offset: "0 0",
          constraints: [],
        },
        n = {
          animation: "boolean",
          template: "string",
          title: "(string|element|function)",
          trigger: "string",
          delay: "(number|object)",
          html: "boolean",
          selector: "(string|boolean)",
          placement: "(string|function)",
          offset: "string",
          constraints: "array",
        },
        o = {
          TOP: "bottom center",
          RIGHT: "middle left",
          BOTTOM: "top center",
          LEFT: "middle right",
        },
        p = { IN: "in", OUT: "out" },
        q = {
          HIDE: "hide" + i,
          HIDDEN: "hidden" + i,
          SHOW: "show" + i,
          SHOWN: "shown" + i,
          INSERTED: "inserted" + i,
          CLICK: "click" + i,
          FOCUSIN: "focusin" + i,
          FOCUSOUT: "focusout" + i,
          MOUSEENTER: "mouseenter" + i,
          MOUSELEAVE: "mouseleave" + i,
        },
        r = { FADE: "fade", IN: "in" },
        s = { TOOLTIP: ".tooltip", TOOLTIP_INNER: ".tooltip-inner" },
        t = { element: !1, enabled: !1 },
        u = {
          HOVER: "hover",
          FOCUS: "focus",
          CLICK: "click",
          MANUAL: "manual",
        },
        v = (function () {
          function j(a, b) {
            d(this, j),
              (this._isEnabled = !0),
              (this._timeout = 0),
              (this._hoverState = ""),
              (this._activeTrigger = {}),
              (this._tether = null),
              (this.element = a),
              (this.config = this._getConfig(b)),
              (this.tip = null),
              this._setListeners();
          }
          return (
            g(
              j,
              [
                {
                  key: "enable",
                  value: function () {
                    this._isEnabled = !0;
                  },
                },
                {
                  key: "disable",
                  value: function () {
                    this._isEnabled = !1;
                  },
                },
                {
                  key: "toggleEnabled",
                  value: function () {
                    this._isEnabled = !this._isEnabled;
                  },
                },
                {
                  key: "toggle",
                  value: function (b) {
                    if (b) {
                      var c = this.constructor.DATA_KEY,
                        d = a(b.currentTarget).data(c);
                      d ||
                        ((d = new this.constructor(
                          b.currentTarget,
                          this._getDelegateConfig()
                        )),
                        a(b.currentTarget).data(c, d)),
                        (d._activeTrigger.click = !d._activeTrigger.click),
                        d._isWithActiveTrigger()
                          ? d._enter(null, d)
                          : d._leave(null, d);
                    } else {
                      if (a(this.getTipElement()).hasClass(r.IN))
                        return void this._leave(null, this);
                      this._enter(null, this);
                    }
                  },
                },
                {
                  key: "dispose",
                  value: function () {
                    clearTimeout(this._timeout),
                      this.cleanupTether(),
                      a.removeData(this.element, this.constructor.DATA_KEY),
                      a(this.element).off(this.constructor.EVENT_KEY),
                      this.tip && a(this.tip).remove(),
                      (this._isEnabled = null),
                      (this._timeout = null),
                      (this._hoverState = null),
                      (this._activeTrigger = null),
                      (this._tether = null),
                      (this.element = null),
                      (this.config = null),
                      (this.tip = null);
                  },
                },
                {
                  key: "show",
                  value: function () {
                    var b = this,
                      c = a.Event(this.constructor.Event.SHOW);
                    if (this.isWithContent() && this._isEnabled) {
                      a(this.element).trigger(c);
                      var d = a.contains(
                        this.element.ownerDocument.documentElement,
                        this.element
                      );
                      if (c.isDefaultPrevented() || !d) return;
                      var f = this.getTipElement(),
                        g = e["default"].getUID(this.constructor.NAME);
                      f.setAttribute("id", g),
                        this.element.setAttribute("aria-describedby", g),
                        this.setContent(),
                        this.config.animation && a(f).addClass(r.FADE);
                      var h =
                          "function" == typeof this.config.placement
                            ? this.config.placement.call(this, f, this.element)
                            : this.config.placement,
                        i = this._getAttachment(h);
                      a(f)
                        .data(this.constructor.DATA_KEY, this)
                        .appendTo(document.body),
                        a(this.element).trigger(
                          this.constructor.Event.INSERTED
                        ),
                        (this._tether = new Tether({
                          attachment: i,
                          element: f,
                          target: this.element,
                          classes: t,
                          classPrefix: l,
                          offset: this.config.offset,
                          constraints: this.config.constraints,
                          addTargetClasses: !1,
                        })),
                        e["default"].reflow(f),
                        this._tether.position(),
                        a(f).addClass(r.IN);
                      var k = function () {
                        var c = b._hoverState;
                        (b._hoverState = null),
                          a(b.element).trigger(b.constructor.Event.SHOWN),
                          c === p.OUT && b._leave(null, b);
                      };
                      if (
                        e["default"].supportsTransitionEnd() &&
                        a(this.tip).hasClass(r.FADE)
                      )
                        return void a(this.tip)
                          .one(e["default"].TRANSITION_END, k)
                          .emulateTransitionEnd(j._TRANSITION_DURATION);
                      k();
                    }
                  },
                },
                {
                  key: "hide",
                  value: function (b) {
                    var c = this,
                      d = this.getTipElement(),
                      f = a.Event(this.constructor.Event.HIDE),
                      g = function () {
                        c._hoverState !== p.IN &&
                          d.parentNode &&
                          d.parentNode.removeChild(d),
                          c.element.removeAttribute("aria-describedby"),
                          a(c.element).trigger(c.constructor.Event.HIDDEN),
                          c.cleanupTether(),
                          b && b();
                      };
                    a(this.element).trigger(f),
                      f.isDefaultPrevented() ||
                        (a(d).removeClass(r.IN),
                        e["default"].supportsTransitionEnd() &&
                        a(this.tip).hasClass(r.FADE)
                          ? a(d)
                              .one(e["default"].TRANSITION_END, g)
                              .emulateTransitionEnd(k)
                          : g(),
                        (this._hoverState = ""));
                  },
                },
                {
                  key: "isWithContent",
                  value: function () {
                    return Boolean(this.getTitle());
                  },
                },
                {
                  key: "getTipElement",
                  value: function () {
                    return (this.tip = this.tip || a(this.config.template)[0]);
                  },
                },
                {
                  key: "setContent",
                  value: function () {
                    var b = a(this.getTipElement());
                    this.setElementContent(
                      b.find(s.TOOLTIP_INNER),
                      this.getTitle()
                    ),
                      b.removeClass(r.FADE).removeClass(r.IN),
                      this.cleanupTether();
                  },
                },
                {
                  key: "setElementContent",
                  value: function (b, c) {
                    var d = this.config.html;
                    "object" ===
                      ("undefined" == typeof c ? "undefined" : f(c)) &&
                    (c.nodeType || c.jquery)
                      ? d
                        ? a(c).parent().is(b) || b.empty().append(c)
                        : b.text(a(c).text())
                      : b[d ? "html" : "text"](c);
                  },
                },
                {
                  key: "getTitle",
                  value: function () {
                    var a = this.element.getAttribute("data-original-title");
                    return (
                      a ||
                        (a =
                          "function" == typeof this.config.title
                            ? this.config.title.call(this.element)
                            : this.config.title),
                      a
                    );
                  },
                },
                {
                  key: "cleanupTether",
                  value: function () {
                    this._tether && this._tether.destroy();
                  },
                },
                {
                  key: "_getAttachment",
                  value: function (a) {
                    return o[a.toUpperCase()];
                  },
                },
                {
                  key: "_setListeners",
                  value: function () {
                    var b = this,
                      c = this.config.trigger.split(" ");
                    c.forEach(function (c) {
                      if ("click" === c)
                        a(b.element).on(
                          b.constructor.Event.CLICK,
                          b.config.selector,
                          a.proxy(b.toggle, b)
                        );
                      else if (c !== u.MANUAL) {
                        var d =
                            c === u.HOVER
                              ? b.constructor.Event.MOUSEENTER
                              : b.constructor.Event.FOCUSIN,
                          e =
                            c === u.HOVER
                              ? b.constructor.Event.MOUSELEAVE
                              : b.constructor.Event.FOCUSOUT;
                        a(b.element)
                          .on(d, b.config.selector, a.proxy(b._enter, b))
                          .on(e, b.config.selector, a.proxy(b._leave, b));
                      }
                    }),
                      this.config.selector
                        ? (this.config = a.extend({}, this.config, {
                            trigger: "manual",
                            selector: "",
                          }))
                        : this._fixTitle();
                  },
                },
                {
                  key: "_fixTitle",
                  value: function () {
                    var a = f(this.element.getAttribute("data-original-title"));
                    (this.element.getAttribute("title") || "string" !== a) &&
                      (this.element.setAttribute(
                        "data-original-title",
                        this.element.getAttribute("title") || ""
                      ),
                      this.element.setAttribute("title", ""));
                  },
                },
                {
                  key: "_enter",
                  value: function (b, c) {
                    var d = this.constructor.DATA_KEY;
                    return (
                      (c = c || a(b.currentTarget).data(d)),
                      c ||
                        ((c = new this.constructor(
                          b.currentTarget,
                          this._getDelegateConfig()
                        )),
                        a(b.currentTarget).data(d, c)),
                      b &&
                        (c._activeTrigger[
                          "focusin" === b.type ? u.FOCUS : u.HOVER
                        ] = !0),
                      a(c.getTipElement()).hasClass(r.IN) ||
                      c._hoverState === p.IN
                        ? void (c._hoverState = p.IN)
                        : (clearTimeout(c._timeout),
                          (c._hoverState = p.IN),
                          c.config.delay && c.config.delay.show
                            ? void (c._timeout = setTimeout(function () {
                                c._hoverState === p.IN && c.show();
                              }, c.config.delay.show))
                            : void c.show())
                    );
                  },
                },
                {
                  key: "_leave",
                  value: function (b, c) {
                    var d = this.constructor.DATA_KEY;
                    if (
                      ((c = c || a(b.currentTarget).data(d)),
                      c ||
                        ((c = new this.constructor(
                          b.currentTarget,
                          this._getDelegateConfig()
                        )),
                        a(b.currentTarget).data(d, c)),
                      b &&
                        (c._activeTrigger[
                          "focusout" === b.type ? u.FOCUS : u.HOVER
                        ] = !1),
                      !c._isWithActiveTrigger())
                    )
                      return (
                        clearTimeout(c._timeout),
                        (c._hoverState = p.OUT),
                        c.config.delay && c.config.delay.hide
                          ? void (c._timeout = setTimeout(function () {
                              c._hoverState === p.OUT && c.hide();
                            }, c.config.delay.hide))
                          : void c.hide()
                      );
                  },
                },
                {
                  key: "_isWithActiveTrigger",
                  value: function () {
                    for (var a in this._activeTrigger)
                      if (this._activeTrigger[a]) return !0;
                    return !1;
                  },
                },
                {
                  key: "_getConfig",
                  value: function (c) {
                    return (
                      (c = a.extend(
                        {},
                        this.constructor.Default,
                        a(this.element).data(),
                        c
                      )),
                      c.delay &&
                        "number" == typeof c.delay &&
                        (c.delay = { show: c.delay, hide: c.delay }),
                      e["default"].typeCheckConfig(
                        b,
                        c,
                        this.constructor.DefaultType
                      ),
                      c
                    );
                  },
                },
                {
                  key: "_getDelegateConfig",
                  value: function () {
                    var a = {};
                    if (this.config)
                      for (var b in this.config)
                        this.constructor.Default[b] !== this.config[b] &&
                          (a[b] = this.config[b]);
                    return a;
                  },
                },
              ],
              [
                {
                  key: "_jQueryInterface",
                  value: function (b) {
                    return this.each(function () {
                      var c = a(this).data(h),
                        d =
                          "object" ===
                          ("undefined" == typeof b ? "undefined" : f(b))
                            ? b
                            : null;
                      if (
                        (c || !/destroy|hide/.test(b)) &&
                        (c || ((c = new j(this, d)), a(this).data(h, c)),
                        "string" == typeof b)
                      ) {
                        if (void 0 === c[b])
                          throw new Error('No method named "' + b + '"');
                        c[b]();
                      }
                    });
                  },
                },
                {
                  key: "VERSION",
                  get: function () {
                    return c;
                  },
                },
                {
                  key: "Default",
                  get: function () {
                    return m;
                  },
                },
                {
                  key: "NAME",
                  get: function () {
                    return b;
                  },
                },
                {
                  key: "DATA_KEY",
                  get: function () {
                    return h;
                  },
                },
                {
                  key: "Event",
                  get: function () {
                    return q;
                  },
                },
                {
                  key: "EVENT_KEY",
                  get: function () {
                    return i;
                  },
                },
                {
                  key: "DefaultType",
                  get: function () {
                    return n;
                  },
                },
              ]
            ),
            j
          );
        })();
      return (
        (a.fn[b] = v._jQueryInterface),
        (a.fn[b].Constructor = v),
        (a.fn[b].noConflict = function () {
          return (a.fn[b] = j), v._jQueryInterface;
        }),
        v
      );
    })(jQuery);
  a["default"] = h;
});
define("theme_boost/util", ["exports"], function (a) {
  "use strict";
  Object.defineProperty(a, "__esModule", { value: !0 });
  var b = (function (a) {
    function b(a) {
      return {}.toString
        .call(a)
        .match(/\s([a-zA-Z]+)/)[1]
        .toLowerCase();
    }
    function c(a) {
      return (a[0] || a).nodeType;
    }
    function d() {
      return {
        bindType: h.end,
        delegateType: h.end,
        handle: function (b) {
          if (a(b.target).is(this))
            return b.handleObj.handler.apply(this, arguments);
        },
      };
    }
    function e() {
      if (window.QUnit) return !1;
      var a = document.createElement("bootstrap");
      for (var b in j) if (void 0 !== a.style[b]) return { end: j[b] };
      return !1;
    }
    function f(b) {
      var c = this,
        d = !1;
      return (
        a(this).one(k.TRANSITION_END, function () {
          d = !0;
        }),
        setTimeout(function () {
          d || k.triggerTransitionEnd(c);
        }, b),
        this
      );
    }
    function g() {
      (h = e()),
        (a.fn.emulateTransitionEnd = f),
        k.supportsTransitionEnd() && (a.event.special[k.TRANSITION_END] = d());
    }
    var h = !1,
      i = 1e6,
      j = {
        WebkitTransition: "webkitTransitionEnd",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd otransitionend",
        transition: "transitionend",
      },
      k = {
        TRANSITION_END: "bsTransitionEnd",
        getUID: function (a) {
          do a += ~~(Math.random() * i);
          while (document.getElementById(a));
          return a;
        },
        getSelectorFromElement: function (a) {
          var b = a.getAttribute("data-target");
          return (
            b ||
              ((b = a.getAttribute("href") || ""),
              (b = /^#[a-z]/i.test(b) ? b : null)),
            b
          );
        },
        reflow: function (a) {
          new Function("bs", "return bs")(a.offsetHeight);
        },
        triggerTransitionEnd: function (b) {
          a(b).trigger(h.end);
        },
        supportsTransitionEnd: function () {
          return Boolean(h);
        },
        typeCheckConfig: function (a, d, e) {
          for (var f in e)
            if (e.hasOwnProperty(f)) {
              var g = e[f],
                h = d[f],
                i = void 0;
              if (((i = h && c(h) ? "element" : b(h)), !new RegExp(g).test(i)))
                throw new Error(
                  a.toUpperCase() +
                    ": " +
                    ('Option "' + f + '" provided type "' + i + '" ') +
                    ('but expected type "' + g + '".')
                );
            }
        },
      };
    return g(), k;
  })(jQuery);
  a["default"] = b;
});
define("theme_bootstrap/bootstrap", ["jquery", "core/log"], function (a, b) {
  function c() {
    var a = document.createElement("bootstrap"),
      b = {
        WebkitTransition: "webkitTransitionEnd",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd otransitionend",
        transition: "transitionend",
      };
    for (var c in b) if (void 0 !== a.style[c]) return { end: b[c] };
    return !1;
  }
  function d(b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("bs.alert");
      d || c.data("bs.alert", (d = new t(this))),
        "string" == typeof b && d[b].call(c);
    });
  }
  function e(b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("bs.button"),
        e = "object" == typeof b && b;
      d || c.data("bs.button", (d = new v(this, e))),
        "toggle" == b ? d.toggle() : b && d.setState(b);
    });
  }
  function f(b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("bs.carousel"),
        e = a.extend({}, w.DEFAULTS, c.data(), "object" == typeof b && b),
        f = "string" == typeof b ? b : e.slide;
      d || c.data("bs.carousel", (d = new w(this, e))),
        "number" == typeof b
          ? d.to(b)
          : f
          ? d[f]()
          : e.interval && d.pause().cycle();
    });
  }
  function g(b) {
    var c,
      d =
        b.attr("data-target") ||
        ((c = b.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, ""));
    return a(d);
  }
  function h(b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("bs.collapse"),
        e = a.extend({}, y.DEFAULTS, c.data(), "object" == typeof b && b);
      !d && e.toggle && /show|hide/.test(b) && (e.toggle = !1),
        d || c.data("bs.collapse", (d = new y(this, e))),
        "string" == typeof b && d[b]();
    });
  }
  function i(b) {
    (b && 3 === b.which) ||
      (a(z).remove(),
      a(A).each(function () {
        var c = a(this),
          d = j(c),
          e = { relatedTarget: this };
        d.hasClass("open") &&
          ((b &&
            "click" == b.type &&
            /input|textarea/i.test(b.target.tagName) &&
            a.contains(d[0], b.target)) ||
            (d.trigger((b = a.Event("hide.bs.dropdown", e))),
            b.isDefaultPrevented() ||
              (c.attr("aria-expanded", "false"),
              d.removeClass("open").trigger("hidden.bs.dropdown", e))));
      }));
  }
  function j(b) {
    var c = b.attr("data-target");
    c ||
      ((c = b.attr("href")),
      (c = c && /#[A-Za-z]/.test(c) && c.replace(/.*(?=#[^\s]*$)/, "")));
    var d = c && a(c);
    return d && d.length ? d : b.parent();
  }
  function k(b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("bs.dropdown");
      d || c.data("bs.dropdown", (d = new B(this))),
        "string" == typeof b && d[b].call(c);
    });
  }
  function l(b, c) {
    return this.each(function () {
      var d = a(this),
        e = d.data("bs.modal"),
        f = a.extend({}, C.DEFAULTS, d.data(), "object" == typeof b && b);
      e || d.data("bs.modal", (e = new C(this, f))),
        "string" == typeof b ? e[b](c) : f.show && e.show(c);
    });
  }
  function m(b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("bs.tooltip"),
        e = "object" == typeof b && b;
      (!d && /destroy|hide/.test(b)) ||
        (d || c.data("bs.tooltip", (d = new D(this, e))),
        "string" == typeof b && d[b]());
    });
  }
  function n(b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("bs.popover"),
        e = "object" == typeof b && b;
      (!d && /destroy|hide/.test(b)) ||
        (d || c.data("bs.popover", (d = new E(this, e))),
        "string" == typeof b && d[b]());
    });
  }
  function o(b, c) {
    (this.$body = a(document.body)),
      (this.$scrollElement = a(a(b).is(document.body) ? window : b)),
      (this.options = a.extend({}, o.DEFAULTS, c)),
      (this.selector = (this.options.target || "") + " .nav li > a"),
      (this.offsets = []),
      (this.targets = []),
      (this.activeTarget = null),
      (this.scrollHeight = 0),
      this.$scrollElement.on(
        "scroll.bs.scrollspy",
        a.proxy(this.process, this)
      ),
      this.refresh(),
      this.process();
  }
  function p(b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("bs.scrollspy"),
        e = "object" == typeof b && b;
      d || c.data("bs.scrollspy", (d = new o(this, e))),
        "string" == typeof b && d[b]();
    });
  }
  function q(b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("bs.tab");
      d || c.data("bs.tab", (d = new F(this))), "string" == typeof b && d[b]();
    });
  }
  function r(b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("bs.affix"),
        e = "object" == typeof b && b;
      d || c.data("bs.affix", (d = new G(this, e))),
        "string" == typeof b && d[b]();
    });
  }
  a(".h1").hide(),
    b.debug("Bootstrap AMD initialised"),
    (a.fn.emulateTransitionEnd = function (b) {
      var c = !1,
        d = this;
      a(this).one("bsTransitionEnd", function () {
        c = !0;
      });
      var e = function () {
        c || a(d).trigger(a.support.transition.end);
      };
      return setTimeout(e, b), this;
    }),
    a(function () {
      (a.support.transition = c()),
        a.support.transition &&
          (a.event.special.bsTransitionEnd = {
            bindType: a.support.transition.end,
            delegateType: a.support.transition.end,
            handle: function (b) {
              if (a(b.target).is(this))
                return b.handleObj.handler.apply(this, arguments);
            },
          });
    });
  var s = '[data-dismiss="alert"]',
    t = function (b) {
      a(b).on("click", s, this.close);
    };
  (t.VERSION = "3.3.4"),
    (t.TRANSITION_DURATION = 150),
    (t.prototype.close = function (b) {
      function c() {
        f.detach().trigger("closed.bs.alert").remove();
      }
      var d = a(this),
        e = d.attr("data-target");
      e || ((e = d.attr("href")), (e = e && e.replace(/.*(?=#[^\s]*$)/, "")));
      var f = a(e);
      b && b.preventDefault(),
        f.length || (f = d.closest(".alert")),
        f.trigger((b = a.Event("close.bs.alert"))),
        b.isDefaultPrevented() ||
          (f.removeClass("in"),
          a.support.transition && f.hasClass("fade")
            ? f
                .one("bsTransitionEnd", c)
                .emulateTransitionEnd(t.TRANSITION_DURATION)
            : c());
    });
  var u = a.fn.alert;
  (a.fn.alert = d),
    (a.fn.alert.Constructor = t),
    (a.fn.alert.noConflict = function () {
      return (a.fn.alert = u), this;
    }),
    a(document).on("click.bs.alert.data-api", s, t.prototype.close);
  var v = function (b, c) {
    (this.$element = a(b)),
      (this.options = a.extend({}, v.DEFAULTS, c)),
      (this.isLoading = !1);
  };
  (v.VERSION = "3.3.4"),
    (v.DEFAULTS = { loadingText: "loading..." }),
    (v.prototype.setState = function (b) {
      var c = "disabled",
        d = this.$element,
        e = d.is("input") ? "val" : "html",
        f = d.data();
      (b += "Text"),
        null == f.resetText && d.data("resetText", d[e]()),
        setTimeout(
          a.proxy(function () {
            d[e](null == f[b] ? this.options[b] : f[b]),
              "loadingText" == b
                ? ((this.isLoading = !0), d.addClass(c).attr(c, c))
                : this.isLoading &&
                  ((this.isLoading = !1), d.removeClass(c).removeAttr(c));
          }, this),
          0
        );
    }),
    (v.prototype.toggle = function () {
      var a = !0,
        b = this.$element.closest('[data-toggle="buttons"]');
      if (b.length) {
        var c = this.$element.find("input");
        "radio" == c.prop("type") &&
          (c.prop("checked") && this.$element.hasClass("active")
            ? (a = !1)
            : b.find(".active").removeClass("active")),
          a &&
            c
              .prop("checked", !this.$element.hasClass("active"))
              .trigger("change");
      } else
        this.$element.attr("aria-pressed", !this.$element.hasClass("active"));
      a && this.$element.toggleClass("active");
    });
  var u = a.fn.button;
  (a.fn.button = e),
    (a.fn.button.Constructor = v),
    (a.fn.button.noConflict = function () {
      return (a.fn.button = u), this;
    }),
    a(document)
      .on("click.bs.button.data-api", '[data-toggle^="button"]', function (b) {
        var c = a(b.target);
        c.hasClass("btn") || (c = c.closest(".btn")),
          e.call(c, "toggle"),
          b.preventDefault();
      })
      .on(
        "focus.bs.button.data-api blur.bs.button.data-api",
        '[data-toggle^="button"]',
        function (b) {
          a(b.target)
            .closest(".btn")
            .toggleClass("focus", /^focus(in)?$/.test(b.type));
        }
      );
  var w = function (b, c) {
    (this.$element = a(b)),
      (this.$indicators = this.$element.find(".carousel-indicators")),
      (this.options = c),
      (this.paused = null),
      (this.sliding = null),
      (this.interval = null),
      (this.$active = null),
      (this.$items = null),
      this.options.keyboard &&
        this.$element.on("keydown.bs.carousel", a.proxy(this.keydown, this)),
      "hover" == this.options.pause &&
        !("ontouchstart" in document.documentElement) &&
        this.$element
          .on("mouseenter.bs.carousel", a.proxy(this.pause, this))
          .on("mouseleave.bs.carousel", a.proxy(this.cycle, this));
  };
  (w.VERSION = "3.3.4"),
    (w.TRANSITION_DURATION = 600),
    (w.DEFAULTS = { interval: 5e3, pause: "hover", wrap: !0, keyboard: !0 }),
    (w.prototype.keydown = function (a) {
      if (!/input|textarea/i.test(a.target.tagName)) {
        switch (a.which) {
          case 37:
            this.prev();
            break;
          case 39:
            this.next();
            break;
          default:
            return;
        }
        a.preventDefault();
      }
    }),
    (w.prototype.cycle = function (b) {
      return (
        b || (this.paused = !1),
        this.interval && clearInterval(this.interval),
        this.options.interval &&
          !this.paused &&
          (this.interval = setInterval(
            a.proxy(this.next, this),
            this.options.interval
          )),
        this
      );
    }),
    (w.prototype.getItemIndex = function (a) {
      return (
        (this.$items = a.parent().children(".item")),
        this.$items.index(a || this.$active)
      );
    }),
    (w.prototype.getItemForDirection = function (a, b) {
      var c = this.getItemIndex(b),
        d =
          ("prev" == a && 0 === c) ||
          ("next" == a && c == this.$items.length - 1);
      if (d && !this.options.wrap) return b;
      var e = "prev" == a ? -1 : 1,
        f = (c + e) % this.$items.length;
      return this.$items.eq(f);
    }),
    (w.prototype.to = function (a) {
      var b = this,
        c = this.getItemIndex(
          (this.$active = this.$element.find(".item.active"))
        );
      if (!(a > this.$items.length - 1 || a < 0))
        return this.sliding
          ? this.$element.one("slid.bs.carousel", function () {
              b.to(a);
            })
          : c == a
          ? this.pause().cycle()
          : this.slide(a > c ? "next" : "prev", this.$items.eq(a));
    }),
    (w.prototype.pause = function (b) {
      return (
        b || (this.paused = !0),
        this.$element.find(".next, .prev").length &&
          a.support.transition &&
          (this.$element.trigger(a.support.transition.end), this.cycle(!0)),
        (this.interval = clearInterval(this.interval)),
        this
      );
    }),
    (w.prototype.next = function () {
      if (!this.sliding) return this.slide("next");
    }),
    (w.prototype.prev = function () {
      if (!this.sliding) return this.slide("prev");
    }),
    (w.prototype.slide = function (b, c) {
      var d = this.$element.find(".item.active"),
        e = c || this.getItemForDirection(b, d),
        f = this.interval,
        g = "next" == b ? "left" : "right",
        h = this;
      if (e.hasClass("active")) return (this.sliding = !1);
      var i = e[0],
        j = a.Event("slide.bs.carousel", { relatedTarget: i, direction: g });
      if ((this.$element.trigger(j), !j.isDefaultPrevented())) {
        if (((this.sliding = !0), f && this.pause(), this.$indicators.length)) {
          this.$indicators.find(".active").removeClass("active");
          var k = a(this.$indicators.children()[this.getItemIndex(e)]);
          k && k.addClass("active");
        }
        var l = a.Event("slid.bs.carousel", { relatedTarget: i, direction: g });
        return (
          a.support.transition && this.$element.hasClass("slide")
            ? (e.addClass(b),
              e[0].offsetWidth,
              d.addClass(g),
              e.addClass(g),
              d
                .one("bsTransitionEnd", function () {
                  e.removeClass([b, g].join(" ")).addClass("active"),
                    d.removeClass(["active", g].join(" ")),
                    (h.sliding = !1),
                    setTimeout(function () {
                      h.$element.trigger(l);
                    }, 0);
                })
                .emulateTransitionEnd(w.TRANSITION_DURATION))
            : (d.removeClass("active"),
              e.addClass("active"),
              (this.sliding = !1),
              this.$element.trigger(l)),
          f && this.cycle(),
          this
        );
      }
    });
  var u = a.fn.carousel;
  (a.fn.carousel = f),
    (a.fn.carousel.Constructor = w),
    (a.fn.carousel.noConflict = function () {
      return (a.fn.carousel = u), this;
    });
  var x = function (b) {
    var c,
      d = a(this),
      e = a(
        d.attr("data-target") ||
          ((c = d.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, ""))
      );
    if (e.hasClass("carousel")) {
      var g = a.extend({}, e.data(), d.data()),
        h = d.attr("data-slide-to");
      h && (g.interval = !1),
        f.call(e, g),
        h && e.data("bs.carousel").to(h),
        b.preventDefault();
    }
  };
  a(document)
    .on("click.bs.carousel.data-api", "[data-slide]", x)
    .on("click.bs.carousel.data-api", "[data-slide-to]", x),
    a(window).on("load", function () {
      a('[data-ride="carousel"]').each(function () {
        var b = a(this);
        f.call(b, b.data());
      });
    });
  var y = function (b, c) {
    (this.$element = a(b)),
      (this.options = a.extend({}, y.DEFAULTS, c)),
      (this.$trigger = a(
        '[data-toggle="collapse"][href="#' +
          b.id +
          '"],[data-toggle="collapse"][data-target="#' +
          b.id +
          '"]'
      )),
      (this.transitioning = null),
      this.options.parent
        ? (this.$parent = this.getParent())
        : this.addAriaAndCollapsedClass(this.$element, this.$trigger),
      this.options.toggle && this.toggle();
  };
  (y.VERSION = "3.3.4"),
    (y.TRANSITION_DURATION = 350),
    (y.DEFAULTS = { toggle: !0 }),
    (y.prototype.dimension = function () {
      var a = this.$element.hasClass("width");
      return a ? "width" : "height";
    }),
    (y.prototype.show = function () {
      if (!this.transitioning && !this.$element.hasClass("in")) {
        var b,
          c =
            this.$parent &&
            this.$parent.children(".panel").children(".in, .collapsing");
        if (
          !(
            c &&
            c.length &&
            ((b = c.data("bs.collapse")), b && b.transitioning)
          )
        ) {
          var d = a.Event("show.bs.collapse");
          if ((this.$element.trigger(d), !d.isDefaultPrevented())) {
            c &&
              c.length &&
              (h.call(c, "hide"), b || c.data("bs.collapse", null));
            var e = this.dimension();
            this.$element
              .removeClass("collapse")
              .addClass("collapsing")
              [e](0)
              .attr("aria-expanded", !0),
              this.$trigger.removeClass("collapsed").attr("aria-expanded", !0),
              (this.transitioning = 1);
            var f = function () {
              this.$element
                .removeClass("collapsing")
                .addClass("collapse in")
                [e](""),
                (this.transitioning = 0),
                this.$element.trigger("shown.bs.collapse");
            };
            if (!a.support.transition) return f.call(this);
            var g = a.camelCase(["scroll", e].join("-"));
            this.$element
              .one("bsTransitionEnd", a.proxy(f, this))
              .emulateTransitionEnd(y.TRANSITION_DURATION)
              [e](this.$element[0][g]);
          }
        }
      }
    }),
    (y.prototype.hide = function () {
      if (!this.transitioning && this.$element.hasClass("in")) {
        var b = a.Event("hide.bs.collapse");
        if ((this.$element.trigger(b), !b.isDefaultPrevented())) {
          var c = this.dimension();
          this.$element[c](this.$element[c]())[0].offsetHeight,
            this.$element
              .addClass("collapsing")
              .removeClass("collapse in")
              .attr("aria-expanded", !1),
            this.$trigger.addClass("collapsed").attr("aria-expanded", !1),
            (this.transitioning = 1);
          var d = function () {
            (this.transitioning = 0),
              this.$element
                .removeClass("collapsing")
                .addClass("collapse")
                .trigger("hidden.bs.collapse");
          };
          return a.support.transition
            ? void this.$element[c](0)
                .one("bsTransitionEnd", a.proxy(d, this))
                .emulateTransitionEnd(y.TRANSITION_DURATION)
            : d.call(this);
        }
      }
    }),
    (y.prototype.toggle = function () {
      this[this.$element.hasClass("in") ? "hide" : "show"]();
    }),
    (y.prototype.getParent = function () {
      return a(this.options.parent)
        .find(
          '[data-toggle="collapse"][data-parent="' + this.options.parent + '"]'
        )
        .each(
          a.proxy(function (b, c) {
            var d = a(c);
            this.addAriaAndCollapsedClass(g(d), d);
          }, this)
        )
        .end();
    }),
    (y.prototype.addAriaAndCollapsedClass = function (a, b) {
      var c = a.hasClass("in");
      a.attr("aria-expanded", c),
        b.toggleClass("collapsed", !c).attr("aria-expanded", c);
    });
  var u = a.fn.collapse;
  (a.fn.collapse = h),
    (a.fn.collapse.Constructor = y),
    (a.fn.collapse.noConflict = function () {
      return (a.fn.collapse = u), this;
    }),
    a(document).on(
      "click.bs.collapse.data-api",
      '[data-toggle="collapse"]',
      function (b) {
        var c = a(this);
        c.attr("data-target") || b.preventDefault();
        var d = g(c),
          e = d.data("bs.collapse"),
          f = e ? "toggle" : c.data();
        h.call(d, f);
      }
    );
  var z = ".dropdown-backdrop",
    A = '[data-toggle="dropdown"]',
    B = function (b) {
      a(b).on("click.bs.dropdown", this.toggle);
    };
  (B.VERSION = "3.3.4"),
    (B.prototype.toggle = function (b) {
      var c = a(this);
      if (!c.is(".disabled, :disabled")) {
        var d = j(c),
          e = d.hasClass("open");
        if ((i(), !e)) {
          "ontouchstart" in document.documentElement &&
            !d.closest(".navbar-nav").length &&
            a(document.createElement("div"))
              .addClass("dropdown-backdrop")
              .insertAfter(a(this))
              .on("click", i);
          var f = { relatedTarget: this };
          if (
            (d.trigger((b = a.Event("show.bs.dropdown", f))),
            b.isDefaultPrevented())
          )
            return;
          c.trigger("focus").attr("aria-expanded", "true"),
            d.toggleClass("open").trigger("shown.bs.dropdown", f);
        }
        return !1;
      }
    }),
    (B.prototype.keydown = function (b) {
      if (
        /(38|40|27|32)/.test(b.which) &&
        !/input|textarea/i.test(b.target.tagName)
      ) {
        var c = a(this);
        if (
          (b.preventDefault(),
          b.stopPropagation(),
          !c.is(".disabled, :disabled"))
        ) {
          var d = j(c),
            e = d.hasClass("open");
          if ((!e && 27 != b.which) || (e && 27 == b.which))
            return (
              27 == b.which && d.find(A).trigger("focus"), c.trigger("click")
            );
          var f = " li:not(.disabled):visible a",
            g = d.find('[role="menu"]' + f + ', [role="listbox"]' + f);
          if (g.length) {
            var h = g.index(b.target);
            38 == b.which && h > 0 && h--,
              40 == b.which && h < g.length - 1 && h++,
              ~h || (h = 0),
              g.eq(h).trigger("focus");
          }
        }
      }
    });
  var u = a.fn.dropdown;
  (a.fn.dropdown = k),
    (a.fn.dropdown.Constructor = B),
    (a.fn.dropdown.noConflict = function () {
      return (a.fn.dropdown = u), this;
    }),
    a(document)
      .on("click.bs.dropdown.data-api", i)
      .on("click.bs.dropdown.data-api", ".dropdown form", function (a) {
        a.stopPropagation();
      })
      .on("click.bs.dropdown.data-api", A, B.prototype.toggle)
      .on("keydown.bs.dropdown.data-api", A, B.prototype.keydown)
      .on("keydown.bs.dropdown.data-api", '[role="menu"]', B.prototype.keydown)
      .on(
        "keydown.bs.dropdown.data-api",
        '[role="listbox"]',
        B.prototype.keydown
      );
  var C = function (b, c) {
    (this.options = c),
      (this.$body = a(document.body)),
      (this.$element = a(b)),
      (this.$dialog = this.$element.find(".modal-dialog")),
      (this.$backdrop = null),
      (this.isShown = null),
      (this.originalBodyPad = null),
      (this.scrollbarWidth = 0),
      (this.ignoreBackdropClick = !1),
      this.options.remote &&
        this.$element.find(".modal-content").load(
          this.options.remote,
          a.proxy(function () {
            this.$element.trigger("loaded.bs.modal");
          }, this)
        );
  };
  (C.VERSION = "3.3.4"),
    (C.TRANSITION_DURATION = 300),
    (C.BACKDROP_TRANSITION_DURATION = 150),
    (C.DEFAULTS = { backdrop: !0, keyboard: !0, show: !0 }),
    (C.prototype.toggle = function (a) {
      return this.isShown ? this.hide() : this.show(a);
    }),
    (C.prototype.show = function (b) {
      var c = this,
        d = a.Event("show.bs.modal", { relatedTarget: b });
      this.$element.trigger(d),
        this.isShown ||
          d.isDefaultPrevented() ||
          ((this.isShown = !0),
          this.checkScrollbar(),
          this.setScrollbar(),
          this.$body.addClass("modal-open"),
          this.escape(),
          this.resize(),
          this.$element.on(
            "click.dismiss.bs.modal",
            '[data-dismiss="modal"]',
            a.proxy(this.hide, this)
          ),
          this.$dialog.on("mousedown.dismiss.bs.modal", function () {
            c.$element.one("mouseup.dismiss.bs.modal", function (b) {
              a(b.target).is(c.$element) && (c.ignoreBackdropClick = !0);
            });
          }),
          this.backdrop(function () {
            var d = a.support.transition && c.$element.hasClass("fade");
            c.$element.parent().length || c.$element.appendTo(c.$body),
              c.$element.show().scrollTop(0),
              c.adjustDialog(),
              d && c.$element[0].offsetWidth,
              c.$element.addClass("in").attr("aria-hidden", !1),
              c.enforceFocus();
            var e = a.Event("shown.bs.modal", { relatedTarget: b });
            d
              ? c.$dialog
                  .one("bsTransitionEnd", function () {
                    c.$element.trigger("focus").trigger(e);
                  })
                  .emulateTransitionEnd(C.TRANSITION_DURATION)
              : c.$element.trigger("focus").trigger(e);
          }));
    }),
    (C.prototype.hide = function (b) {
      b && b.preventDefault(),
        (b = a.Event("hide.bs.modal")),
        this.$element.trigger(b),
        this.isShown &&
          !b.isDefaultPrevented() &&
          ((this.isShown = !1),
          this.escape(),
          this.resize(),
          a(document).off("focusin.bs.modal"),
          this.$element
            .removeClass("in")
            .attr("aria-hidden", !0)
            .off("click.dismiss.bs.modal")
            .off("mouseup.dismiss.bs.modal"),
          this.$dialog.off("mousedown.dismiss.bs.modal"),
          a.support.transition && this.$element.hasClass("fade")
            ? this.$element
                .one("bsTransitionEnd", a.proxy(this.hideModal, this))
                .emulateTransitionEnd(C.TRANSITION_DURATION)
            : this.hideModal());
    }),
    (C.prototype.enforceFocus = function () {
      a(document)
        .off("focusin.bs.modal")
        .on(
          "focusin.bs.modal",
          a.proxy(function (a) {
            this.$element[0] === a.target ||
              this.$element.has(a.target).length ||
              this.$element.trigger("focus");
          }, this)
        );
    }),
    (C.prototype.escape = function () {
      this.isShown && this.options.keyboard
        ? this.$element.on(
            "keydown.dismiss.bs.modal",
            a.proxy(function (a) {
              27 == a.which && this.hide();
            }, this)
          )
        : this.isShown || this.$element.off("keydown.dismiss.bs.modal");
    }),
    (C.prototype.resize = function () {
      this.isShown
        ? a(window).on("resize.bs.modal", a.proxy(this.handleUpdate, this))
        : a(window).off("resize.bs.modal");
    }),
    (C.prototype.hideModal = function () {
      var a = this;
      this.$element.hide(),
        this.backdrop(function () {
          a.$body.removeClass("modal-open"),
            a.resetAdjustments(),
            a.resetScrollbar(),
            a.$element.trigger("hidden.bs.modal");
        });
    }),
    (C.prototype.removeBackdrop = function () {
      this.$backdrop && this.$backdrop.remove(), (this.$backdrop = null);
    }),
    (C.prototype.backdrop = function (b) {
      var c = this,
        d = this.$element.hasClass("fade") ? "fade" : "";
      if (this.isShown && this.options.backdrop) {
        var e = a.support.transition && d;
        if (
          ((this.$backdrop = a(document.createElement("div"))
            .addClass("modal-backdrop " + d)
            .appendTo(this.$body)),
          this.$element.on(
            "click.dismiss.bs.modal",
            a.proxy(function (a) {
              return this.ignoreBackdropClick
                ? void (this.ignoreBackdropClick = !1)
                : void (
                    a.target === a.currentTarget &&
                    ("static" == this.options.backdrop
                      ? this.$element[0].focus()
                      : this.hide())
                  );
            }, this)
          ),
          e && this.$backdrop[0].offsetWidth,
          this.$backdrop.addClass("in"),
          !b)
        )
          return;
        e
          ? this.$backdrop
              .one("bsTransitionEnd", b)
              .emulateTransitionEnd(C.BACKDROP_TRANSITION_DURATION)
          : b();
      } else if (!this.isShown && this.$backdrop) {
        this.$backdrop.removeClass("in");
        var f = function () {
          c.removeBackdrop(), b && b();
        };
        a.support.transition && this.$element.hasClass("fade")
          ? this.$backdrop
              .one("bsTransitionEnd", f)
              .emulateTransitionEnd(C.BACKDROP_TRANSITION_DURATION)
          : f();
      } else b && b();
    }),
    (C.prototype.handleUpdate = function () {
      this.adjustDialog();
    }),
    (C.prototype.adjustDialog = function () {
      var a =
        this.$element[0].scrollHeight > document.documentElement.clientHeight;
      this.$element.css({
        paddingLeft: !this.bodyIsOverflowing && a ? this.scrollbarWidth : "",
        paddingRight: this.bodyIsOverflowing && !a ? this.scrollbarWidth : "",
      });
    }),
    (C.prototype.resetAdjustments = function () {
      this.$element.css({ paddingLeft: "", paddingRight: "" });
    }),
    (C.prototype.checkScrollbar = function () {
      var a = window.innerWidth;
      if (!a) {
        var b = document.documentElement.getBoundingClientRect();
        a = b.right - Math.abs(b.left);
      }
      (this.bodyIsOverflowing = document.body.clientWidth < a),
        (this.scrollbarWidth = this.measureScrollbar());
    }),
    (C.prototype.setScrollbar = function () {
      var a = parseInt(this.$body.css("padding-right") || 0, 10);
      (this.originalBodyPad = document.body.style.paddingRight || ""),
        this.bodyIsOverflowing &&
          this.$body.css("padding-right", a + this.scrollbarWidth);
    }),
    (C.prototype.resetScrollbar = function () {
      this.$body.css("padding-right", this.originalBodyPad);
    }),
    (C.prototype.measureScrollbar = function () {
      var a = document.createElement("div");
      (a.className = "modal-scrollbar-measure"), this.$body.append(a);
      var b = a.offsetWidth - a.clientWidth;
      return this.$body[0].removeChild(a), b;
    });
  var u = a.fn.modal;
  (a.fn.modal = l),
    (a.fn.modal.Constructor = C),
    (a.fn.modal.noConflict = function () {
      return (a.fn.modal = u), this;
    }),
    a(document).on(
      "click.bs.modal.data-api",
      '[data-toggle="modal"]',
      function (b) {
        var c = a(this),
          d = c.attr("href"),
          e = a(
            c.attr("data-target") || (d && d.replace(/.*(?=#[^\s]+$)/, ""))
          ),
          f = e.data("bs.modal")
            ? "toggle"
            : a.extend({ remote: !/#/.test(d) && d }, e.data(), c.data());
        c.is("a") && b.preventDefault(),
          e.one("show.bs.modal", function (a) {
            a.isDefaultPrevented() ||
              e.one("hidden.bs.modal", function () {
                c.is(":visible") && c.trigger("focus");
              });
          }),
          l.call(e, f, this);
      }
    );
  var D = function (a, b) {
    (this.type = null),
      (this.options = null),
      (this.enabled = null),
      (this.timeout = null),
      (this.hoverState = null),
      (this.$element = null),
      this.init("tooltip", a, b);
  };
  (D.VERSION = "3.3.4"),
    (D.TRANSITION_DURATION = 150),
    (D.DEFAULTS = {
      animation: !0,
      placement: "top",
      selector: !1,
      template:
        '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
      trigger: "hover focus",
      title: "",
      delay: 0,
      html: !1,
      container: !1,
      viewport: { selector: "body", padding: 0 },
    }),
    (D.prototype.init = function (b, c, d) {
      if (
        ((this.enabled = !0),
        (this.type = b),
        (this.$element = a(c)),
        (this.options = this.getOptions(d)),
        (this.$viewport =
          this.options.viewport &&
          a(this.options.viewport.selector || this.options.viewport)),
        this.$element[0] instanceof document.constructor &&
          !this.options.selector)
      )
        throw new Error(
          "`selector` option must be specified when initializing " +
            this.type +
            " on the window.document object!"
        );
      for (var e = this.options.trigger.split(" "), f = e.length; f--; ) {
        var g = e[f];
        if ("click" == g)
          this.$element.on(
            "click." + this.type,
            this.options.selector,
            a.proxy(this.toggle, this)
          );
        else if ("manual" != g) {
          var h = "hover" == g ? "mouseenter" : "focusin",
            i = "hover" == g ? "mouseleave" : "focusout";
          this.$element.on(
            h + "." + this.type,
            this.options.selector,
            a.proxy(this.enter, this)
          ),
            this.$element.on(
              i + "." + this.type,
              this.options.selector,
              a.proxy(this.leave, this)
            );
        }
      }
      this.options.selector
        ? (this._options = a.extend({}, this.options, {
            trigger: "manual",
            selector: "",
          }))
        : this.fixTitle();
    }),
    (D.prototype.getDefaults = function () {
      return D.DEFAULTS;
    }),
    (D.prototype.getOptions = function (b) {
      return (
        (b = a.extend({}, this.getDefaults(), this.$element.data(), b)),
        b.delay &&
          "number" == typeof b.delay &&
          (b.delay = { show: b.delay, hide: b.delay }),
        b
      );
    }),
    (D.prototype.getDelegateOptions = function () {
      var b = {},
        c = this.getDefaults();
      return (
        this._options &&
          a.each(this._options, function (a, d) {
            c[a] != d && (b[a] = d);
          }),
        b
      );
    }),
    (D.prototype.enter = function (b) {
      var c =
        b instanceof this.constructor
          ? b
          : a(b.currentTarget).data("bs." + this.type);
      return c && c.$tip && c.$tip.is(":visible")
        ? void (c.hoverState = "in")
        : (c ||
            ((c = new this.constructor(
              b.currentTarget,
              this.getDelegateOptions()
            )),
            a(b.currentTarget).data("bs." + this.type, c)),
          clearTimeout(c.timeout),
          (c.hoverState = "in"),
          c.options.delay && c.options.delay.show
            ? void (c.timeout = setTimeout(function () {
                "in" == c.hoverState && c.show();
              }, c.options.delay.show))
            : c.show());
    }),
    (D.prototype.leave = function (b) {
      var c =
        b instanceof this.constructor
          ? b
          : a(b.currentTarget).data("bs." + this.type);
      return (
        c ||
          ((c = new this.constructor(
            b.currentTarget,
            this.getDelegateOptions()
          )),
          a(b.currentTarget).data("bs." + this.type, c)),
        clearTimeout(c.timeout),
        (c.hoverState = "out"),
        c.options.delay && c.options.delay.hide
          ? void (c.timeout = setTimeout(function () {
              "out" == c.hoverState && c.hide();
            }, c.options.delay.hide))
          : c.hide()
      );
    }),
    (D.prototype.show = function () {
      var b = a.Event("show.bs." + this.type);
      if (this.hasContent() && this.enabled) {
        this.$element.trigger(b);
        var c = a.contains(
          this.$element[0].ownerDocument.documentElement,
          this.$element[0]
        );
        if (b.isDefaultPrevented() || !c) return;
        var d = this,
          e = this.tip(),
          f = this.getUID(this.type);
        this.setContent(),
          e.attr("id", f),
          this.$element.attr("aria-describedby", f),
          this.options.animation && e.addClass("fade");
        var g =
            "function" == typeof this.options.placement
              ? this.options.placement.call(this, e[0], this.$element[0])
              : this.options.placement,
          h = /\s?auto?\s?/i,
          i = h.test(g);
        i && (g = g.replace(h, "") || "top"),
          e
            .detach()
            .css({ top: 0, left: 0, display: "block" })
            .addClass(g)
            .data("bs." + this.type, this),
          this.options.container
            ? e.appendTo(this.options.container)
            : e.insertAfter(this.$element);
        var j = this.getPosition(),
          k = e[0].offsetWidth,
          l = e[0].offsetHeight;
        if (i) {
          var m = g,
            n = this.options.container
              ? a(this.options.container)
              : this.$element.parent(),
            o = this.getPosition(n);
          (g =
            "bottom" == g && j.bottom + l > o.bottom
              ? "top"
              : "top" == g && j.top - l < o.top
              ? "bottom"
              : "right" == g && j.right + k > o.width
              ? "left"
              : "left" == g && j.left - k < o.left
              ? "right"
              : g),
            e.removeClass(m).addClass(g);
        }
        var p = this.getCalculatedOffset(g, j, k, l);
        this.applyPlacement(p, g);
        var q = function () {
          var a = d.hoverState;
          d.$element.trigger("shown.bs." + d.type),
            (d.hoverState = null),
            "out" == a && d.leave(d);
        };
        a.support.transition && this.$tip.hasClass("fade")
          ? e
              .one("bsTransitionEnd", q)
              .emulateTransitionEnd(D.TRANSITION_DURATION)
          : q();
      }
    }),
    (D.prototype.applyPlacement = function (b, c) {
      var d = this.tip(),
        e = d[0].offsetWidth,
        f = d[0].offsetHeight,
        g = parseInt(d.css("margin-top"), 10),
        h = parseInt(d.css("margin-left"), 10);
      isNaN(g) && (g = 0),
        isNaN(h) && (h = 0),
        (b.top = b.top + g),
        (b.left = b.left + h),
        a.offset.setOffset(
          d[0],
          a.extend(
            {
              using: function (a) {
                d.css({ top: Math.round(a.top), left: Math.round(a.left) });
              },
            },
            b
          ),
          0
        ),
        d.addClass("in");
      var i = d[0].offsetWidth,
        j = d[0].offsetHeight;
      "top" == c && j != f && (b.top = b.top + f - j);
      var k = this.getViewportAdjustedDelta(c, b, i, j);
      k.left ? (b.left += k.left) : (b.top += k.top);
      var l = /top|bottom/.test(c),
        m = l ? 2 * k.left - e + i : 2 * k.top - f + j,
        n = l ? "offsetWidth" : "offsetHeight";
      d.offset(b), this.replaceArrow(m, d[0][n], l);
    }),
    (D.prototype.replaceArrow = function (a, b, c) {
      this.arrow()
        .css(c ? "left" : "top", 50 * (1 - a / b) + "%")
        .css(c ? "top" : "left", "");
    }),
    (D.prototype.setContent = function () {
      var a = this.tip(),
        b = this.getTitle();
      a.find(".tooltip-inner")[this.options.html ? "html" : "text"](b),
        a.removeClass("fade in top bottom left right");
    }),
    (D.prototype.hide = function (b) {
      function c() {
        "in" != d.hoverState && e.detach(),
          d.$element
            .removeAttr("aria-describedby")
            .trigger("hidden.bs." + d.type),
          b && b();
      }
      var d = this,
        e = a(this.$tip),
        f = a.Event("hide.bs." + this.type);
      if ((this.$element.trigger(f), !f.isDefaultPrevented()))
        return (
          e.removeClass("in"),
          a.support.transition && e.hasClass("fade")
            ? e
                .one("bsTransitionEnd", c)
                .emulateTransitionEnd(D.TRANSITION_DURATION)
            : c(),
          (this.hoverState = null),
          this
        );
    }),
    (D.prototype.fixTitle = function () {
      var a = this.$element;
      (a.attr("title") || "string" != typeof a.attr("data-original-title")) &&
        a.attr("data-original-title", a.attr("title") || "").attr("title", "");
    }),
    (D.prototype.hasContent = function () {
      return this.getTitle();
    }),
    (D.prototype.getPosition = function (b) {
      b = b || this.$element;
      var c = b[0],
        d = "BODY" == c.tagName,
        e = c.getBoundingClientRect();
      null == e.width &&
        (e = a.extend({}, e, {
          width: e.right - e.left,
          height: e.bottom - e.top,
        }));
      var f = d ? { top: 0, left: 0 } : b.offset(),
        g = {
          scroll: d
            ? document.documentElement.scrollTop || document.body.scrollTop
            : b.scrollTop(),
        },
        h = d ? { width: a(window).width(), height: a(window).height() } : null;
      return a.extend({}, e, g, h, f);
    }),
    (D.prototype.getCalculatedOffset = function (a, b, c, d) {
      return "bottom" == a
        ? { top: b.top + b.height, left: b.left + b.width / 2 - c / 2 }
        : "top" == a
        ? { top: b.top - d, left: b.left + b.width / 2 - c / 2 }
        : "left" == a
        ? { top: b.top + b.height / 2 - d / 2, left: b.left - c }
        : { top: b.top + b.height / 2 - d / 2, left: b.left + b.width };
    }),
    (D.prototype.getViewportAdjustedDelta = function (a, b, c, d) {
      var e = { top: 0, left: 0 };
      if (!this.$viewport) return e;
      var f = (this.options.viewport && this.options.viewport.padding) || 0,
        g = this.getPosition(this.$viewport);
      if (/right|left/.test(a)) {
        var h = b.top - f - g.scroll,
          i = b.top + f - g.scroll + d;
        h < g.top
          ? (e.top = g.top - h)
          : i > g.top + g.height && (e.top = g.top + g.height - i);
      } else {
        var j = b.left - f,
          k = b.left + f + c;
        j < g.left
          ? (e.left = g.left - j)
          : k > g.width && (e.left = g.left + g.width - k);
      }
      return e;
    }),
    (D.prototype.getTitle = function () {
      var a,
        b = this.$element,
        c = this.options;
      return (a =
        b.attr("data-original-title") ||
        ("function" == typeof c.title ? c.title.call(b[0]) : c.title));
    }),
    (D.prototype.getUID = function (a) {
      do a += ~~(1e6 * Math.random());
      while (document.getElementById(a));
      return a;
    }),
    (D.prototype.tip = function () {
      return (this.$tip = this.$tip || a(this.options.template));
    }),
    (D.prototype.arrow = function () {
      return (this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow"));
    }),
    (D.prototype.enable = function () {
      this.enabled = !0;
    }),
    (D.prototype.disable = function () {
      this.enabled = !1;
    }),
    (D.prototype.toggleEnabled = function () {
      this.enabled = !this.enabled;
    }),
    (D.prototype.toggle = function (b) {
      var c = this;
      b &&
        ((c = a(b.currentTarget).data("bs." + this.type)),
        c ||
          ((c = new this.constructor(
            b.currentTarget,
            this.getDelegateOptions()
          )),
          a(b.currentTarget).data("bs." + this.type, c))),
        c.tip().hasClass("in") ? c.leave(c) : c.enter(c);
    }),
    (D.prototype.destroy = function () {
      var a = this;
      clearTimeout(this.timeout),
        this.hide(function () {
          a.$element.off("." + a.type).removeData("bs." + a.type);
        });
    });
  var u = a.fn.tooltip;
  (a.fn.tooltip = m),
    (a.fn.tooltip.Constructor = D),
    (a.fn.tooltip.noConflict = function () {
      return (a.fn.tooltip = u), this;
    });
  var E = function (a, b) {
    this.init("popover", a, b);
  };
  if (!a.fn.tooltip) throw new Error("Popover requires tooltip.js");
  (E.VERSION = "3.3.4"),
    (E.DEFAULTS = a.extend({}, a.fn.tooltip.Constructor.DEFAULTS, {
      placement: "right",
      trigger: "click",
      content: "",
      template:
        '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',
    })),
    (E.prototype = a.extend({}, a.fn.tooltip.Constructor.prototype)),
    (E.prototype.constructor = E),
    (E.prototype.getDefaults = function () {
      return E.DEFAULTS;
    }),
    (E.prototype.setContent = function () {
      var a = this.tip(),
        b = this.getTitle(),
        c = this.getContent();
      a.find(".popover-title")[this.options.html ? "html" : "text"](b),
        a
          .find(".popover-content")
          .children()
          .detach()
          .end()
          [
            this.options.html
              ? "string" == typeof c
                ? "html"
                : "append"
              : "text"
          ](c),
        a.removeClass("fade top bottom left right in"),
        a.find(".popover-title").html() || a.find(".popover-title").hide();
    }),
    (E.prototype.hasContent = function () {
      return this.getTitle() || this.getContent();
    }),
    (E.prototype.getContent = function () {
      var a = this.$element,
        b = this.options;
      return (
        a.attr("data-content") ||
        ("function" == typeof b.content ? b.content.call(a[0]) : b.content)
      );
    }),
    (E.prototype.arrow = function () {
      return (this.$arrow = this.$arrow || this.tip().find(".arrow"));
    });
  var u = a.fn.popover;
  (a.fn.popover = n),
    (a.fn.popover.Constructor = E),
    (a.fn.popover.noConflict = function () {
      return (a.fn.popover = u), this;
    }),
    (o.VERSION = "3.3.4"),
    (o.DEFAULTS = { offset: 10 }),
    (o.prototype.getScrollHeight = function () {
      return (
        this.$scrollElement[0].scrollHeight ||
        Math.max(
          this.$body[0].scrollHeight,
          document.documentElement.scrollHeight
        )
      );
    }),
    (o.prototype.refresh = function () {
      var b = this,
        c = "offset",
        d = 0;
      (this.offsets = []),
        (this.targets = []),
        (this.scrollHeight = this.getScrollHeight()),
        a.isWindow(this.$scrollElement[0]) ||
          ((c = "position"), (d = this.$scrollElement.scrollTop())),
        this.$body
          .find(this.selector)
          .map(function () {
            var b = a(this),
              e = b.data("target") || b.attr("href"),
              f = /^#./.test(e) && a(e);
            return (
              (f && f.length && f.is(":visible") && [[f[c]().top + d, e]]) ||
              null
            );
          })
          .sort(function (a, b) {
            return a[0] - b[0];
          })
          .each(function () {
            b.offsets.push(this[0]), b.targets.push(this[1]);
          });
    }),
    (o.prototype.process = function () {
      var a,
        b = this.$scrollElement.scrollTop() + this.options.offset,
        c = this.getScrollHeight(),
        d = this.options.offset + c - this.$scrollElement.height(),
        e = this.offsets,
        f = this.targets,
        g = this.activeTarget;
      if ((this.scrollHeight != c && this.refresh(), b >= d))
        return g != (a = f[f.length - 1]) && this.activate(a);
      if (g && b < e[0]) return (this.activeTarget = null), this.clear();
      for (a = e.length; a--; )
        g != f[a] &&
          b >= e[a] &&
          (void 0 === e[a + 1] || b < e[a + 1]) &&
          this.activate(f[a]);
    }),
    (o.prototype.activate = function (b) {
      (this.activeTarget = b), this.clear();
      var c =
          this.selector +
          '[data-target="' +
          b +
          '"],' +
          this.selector +
          '[href="' +
          b +
          '"]',
        d = a(c).parents("li").addClass("active");
      d.parent(".dropdown-menu").length &&
        (d = d.closest("li.dropdown").addClass("active")),
        d.trigger("activate.bs.scrollspy");
    }),
    (o.prototype.clear = function () {
      a(this.selector)
        .parentsUntil(this.options.target, ".active")
        .removeClass("active");
    });
  var u = a.fn.scrollspy;
  (a.fn.scrollspy = p),
    (a.fn.scrollspy.Constructor = o),
    (a.fn.scrollspy.noConflict = function () {
      return (a.fn.scrollspy = u), this;
    }),
    a(window).on("load.bs.scrollspy.data-api", function () {
      a('[data-spy="scroll"]').each(function () {
        var b = a(this);
        p.call(b, b.data());
      });
    });
  var F = function (b) {
    this.element = a(b);
  };
  (F.VERSION = "3.3.4"),
    (F.TRANSITION_DURATION = 150),
    (F.prototype.show = function () {
      var b = this.element,
        c = b.closest("ul:not(.dropdown-menu)"),
        d = b.data("target");
      if (
        (d ||
          ((d = b.attr("href")), (d = d && d.replace(/.*(?=#[^\s]*$)/, ""))),
        !b.parent("li").hasClass("active"))
      ) {
        var e = c.find(".active:last a"),
          f = a.Event("hide.bs.tab", { relatedTarget: b[0] }),
          g = a.Event("show.bs.tab", { relatedTarget: e[0] });
        if (
          (e.trigger(f),
          b.trigger(g),
          !g.isDefaultPrevented() && !f.isDefaultPrevented())
        ) {
          var h = a(d);
          this.activate(b.closest("li"), c),
            this.activate(h, h.parent(), function () {
              e.trigger({ type: "hidden.bs.tab", relatedTarget: b[0] }),
                b.trigger({ type: "shown.bs.tab", relatedTarget: e[0] });
            });
        }
      }
    }),
    (F.prototype.activate = function (b, c, d) {
      function e() {
        f
          .removeClass("active")
          .find("> .dropdown-menu > .active")
          .removeClass("active")
          .end()
          .find('[data-toggle="tab"]')
          .attr("aria-expanded", !1),
          b
            .addClass("active")
            .find('[data-toggle="tab"]')
            .attr("aria-expanded", !0),
          g ? (b[0].offsetWidth, b.addClass("in")) : b.removeClass("fade"),
          b.parent(".dropdown-menu").length &&
            b
              .closest("li.dropdown")
              .addClass("active")
              .end()
              .find('[data-toggle="tab"]')
              .attr("aria-expanded", !0),
          d && d();
      }
      var f = c.find("> .active"),
        g =
          d &&
          a.support.transition &&
          ((f.length && f.hasClass("fade")) || !!c.find("> .fade").length);
      f.length && g
        ? f
            .one("bsTransitionEnd", e)
            .emulateTransitionEnd(F.TRANSITION_DURATION)
        : e(),
        f.removeClass("in");
    });
  var u = a.fn.tab;
  (a.fn.tab = q),
    (a.fn.tab.Constructor = F),
    (a.fn.tab.noConflict = function () {
      return (a.fn.tab = u), this;
    });
  var x = function (b) {
    b.preventDefault(), q.call(a(this), "show");
  };
  a(document)
    .on("click.bs.tab.data-api", '[data-toggle="tab"]', x)
    .on("click.bs.tab.data-api", '[data-toggle="pill"]', x);
  var G = function (b, c) {
    (this.options = a.extend({}, G.DEFAULTS, c)),
      (this.$target = a(this.options.target)
        .on("scroll.bs.affix.data-api", a.proxy(this.checkPosition, this))
        .on(
          "click.bs.affix.data-api",
          a.proxy(this.checkPositionWithEventLoop, this)
        )),
      (this.$element = a(b)),
      (this.affixed = null),
      (this.unpin = null),
      (this.pinnedOffset = null),
      this.checkPosition();
  };
  (G.VERSION = "3.3.4"),
    (G.RESET = "affix affix-top affix-bottom"),
    (G.DEFAULTS = { offset: 0, target: window }),
    (G.prototype.getState = function (a, b, c, d) {
      var e = this.$target.scrollTop(),
        f = this.$element.offset(),
        g = this.$target.height();
      if (null != c && "top" == this.affixed) return e < c && "top";
      if ("bottom" == this.affixed)
        return null != c
          ? !(e + this.unpin <= f.top) && "bottom"
          : !(e + g <= a - d) && "bottom";
      var h = null == this.affixed,
        i = h ? e : f.top,
        j = h ? g : b;
      return null != c && e <= c
        ? "top"
        : null != d && i + j >= a - d && "bottom";
    }),
    (G.prototype.getPinnedOffset = function () {
      if (this.pinnedOffset) return this.pinnedOffset;
      this.$element.removeClass(G.RESET).addClass("affix");
      var a = this.$target.scrollTop(),
        b = this.$element.offset();
      return (this.pinnedOffset = b.top - a);
    }),
    (G.prototype.checkPositionWithEventLoop = function () {
      setTimeout(a.proxy(this.checkPosition, this), 1);
    }),
    (G.prototype.checkPosition = function () {
      if (this.$element.is(":visible")) {
        var b = this.$element.height(),
          c = this.options.offset,
          d = c.top,
          e = c.bottom,
          f = a(document.body).height();
        "object" != typeof c && (e = d = c),
          "function" == typeof d && (d = c.top(this.$element)),
          "function" == typeof e && (e = c.bottom(this.$element));
        var g = this.getState(f, b, d, e);
        if (this.affixed != g) {
          null != this.unpin && this.$element.css("top", "");
          var h = "affix" + (g ? "-" + g : ""),
            i = a.Event(h + ".bs.affix");
          if ((this.$element.trigger(i), i.isDefaultPrevented())) return;
          (this.affixed = g),
            (this.unpin = "bottom" == g ? this.getPinnedOffset() : null),
            this.$element
              .removeClass(G.RESET)
              .addClass(h)
              .trigger(h.replace("affix", "affixed") + ".bs.affix");
        }
        "bottom" == g && this.$element.offset({ top: f - b - e });
      }
    });
  var u = a.fn.affix;
  (a.fn.affix = r),
    (a.fn.affix.Constructor = G),
    (a.fn.affix.noConflict = function () {
      return (a.fn.affix = u), this;
    }),
    a(window).on("load", function () {
      a('[data-spy="affix"]').each(function () {
        var b = a(this),
          c = b.data();
        (c.offset = c.offset || {}),
          null != c.offsetBottom && (c.offset.bottom = c.offsetBottom),
          null != c.offsetTop && (c.offset.top = c.offsetTop),
          r.call(b, c);
      });
    });
});
define("theme_bootstrapbase/bootstrap", ["jquery"], function (a) {
  function b(b) {
    a(".dropdown-backdrop").remove(),
      a(k).each(function () {
        var d = c(a(this));
        (void 0 != b && 0 != d.find(b).length) || d.removeClass("open");
      });
  }
  function c(b) {
    var c,
      d = b.attr("data-target");
    return (
      d ||
        ((d = b.attr("href")),
        (d = d && /#/.test(d) && d.replace(/.*(?=#[^\s]*$)/, ""))),
      (c = d && a(d)),
      (c && c.length) || (c = b.parent()),
      c
    );
  }
  function d(b, c) {
    var d,
      e = a.proxy(this.process, this),
      f = a(a(b).is("body") ? window : b);
    (this.options = a.extend({}, a.fn.scrollspy.defaults, c)),
      (this.$scrollElement = f.on("scroll.scroll-spy.data-api", e)),
      (this.selector =
        (this.options.target ||
          ((d = a(b).attr("href")) && d.replace(/.*(?=#[^\s]+$)/, "")) ||
          "") + " .nav li > a"),
      (this.$body = a("body")),
      this.refresh(),
      this.process();
  }
  a(".h1").hide(),
    a(function () {
      a.support.transition = (function () {
        var a = (function () {
          var a,
            b = document.createElement("bootstrap"),
            c = {
              WebkitTransition: "webkitTransitionEnd",
              MozTransition: "transitionend",
              OTransition: "oTransitionEnd otransitionend",
              transition: "transitionend",
            };
          for (a in c) if (void 0 !== b.style[a]) return c[a];
        })();
        return a && { end: a };
      })();
    });
  var e = '[data-dismiss="alert"]',
    f = function (b) {
      a(b).on("click", e, this.close);
    };
  f.prototype.close = function (b) {
    function c() {
      d.trigger("closed").remove();
    }
    var d,
      e = a(this),
      f = e.attr("data-target");
    f || ((f = e.attr("href")), (f = f && f.replace(/.*(?=#[^\s]*$)/, ""))),
      (d = a(f)),
      b && b.preventDefault(),
      d.length || (d = e.hasClass("alert") ? e : e.parent()),
      d.trigger((b = a.Event("close"))),
      b.isDefaultPrevented() ||
        (d.removeClass("in"),
        a.support.transition && d.hasClass("fade")
          ? d.on(a.support.transition.end, c)
          : c());
  };
  var g = a.fn.alert;
  (a.fn.alert = function (b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("alert");
      d || c.data("alert", (d = new f(this))),
        "string" == typeof b && d[b].call(c);
    });
  }),
    (a.fn.alert.Constructor = f),
    (a.fn.alert.noConflict = function () {
      return (a.fn.alert = g), this;
    }),
    a(document).on("click.alert.data-api", e, f.prototype.close);
  var h = function (b, c) {
    (this.$element = a(b)),
      (this.options = a.extend({}, a.fn.button.defaults, c));
  };
  (h.prototype.setState = function (a) {
    var b = "disabled",
      c = this.$element,
      d = c.data(),
      e = c.is("input") ? "val" : "html";
    (a += "Text"),
      d.resetText || c.data("resetText", c[e]()),
      c[e](d[a] || this.options[a]),
      setTimeout(function () {
        "loadingText" == a
          ? c.addClass(b).attr(b, b)
          : c.removeClass(b).removeAttr(b);
      }, 0);
  }),
    (h.prototype.toggle = function () {
      var a = this.$element.closest('[data-toggle="buttons-radio"]');
      a && a.find(".active").removeClass("active"),
        this.$element.toggleClass("active");
    });
  var g = a.fn.button;
  (a.fn.button = function (b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("button"),
        e = "object" == typeof b && b;
      d || c.data("button", (d = new h(this, e))),
        "toggle" == b ? d.toggle() : b && d.setState(b);
    });
  }),
    (a.fn.button.defaults = { loadingText: "loading..." }),
    (a.fn.button.Constructor = h),
    (a.fn.button.noConflict = function () {
      return (a.fn.button = g), this;
    }),
    a(document).on(
      "click.button.data-api",
      "[data-toggle^=button]",
      function (b) {
        var c = a(b.target);
        c.hasClass("btn") || (c = c.closest(".btn")), c.button("toggle");
      }
    );
  var i = function (b, c) {
    (this.$element = a(b)),
      (this.$indicators = this.$element.find(".carousel-indicators")),
      (this.options = c),
      "hover" == this.options.pause &&
        this.$element
          .on("mouseenter", a.proxy(this.pause, this))
          .on("mouseleave", a.proxy(this.cycle, this));
  };
  i.prototype = {
    cycle: function (b) {
      return (
        b || (this.paused = !1),
        this.interval && clearInterval(this.interval),
        this.options.interval &&
          !this.paused &&
          (this.interval = setInterval(
            a.proxy(this.next, this),
            this.options.interval
          )),
        this
      );
    },
    getActiveIndex: function () {
      return (
        (this.$active = this.$element.find(".item.active")),
        (this.$items = this.$active.parent().children()),
        this.$items.index(this.$active)
      );
    },
    to: function (b) {
      var c = this.getActiveIndex(),
        d = this;
      if (!(b > this.$items.length - 1 || b < 0))
        return this.sliding
          ? this.$element.one("slid", function () {
              d.to(b);
            })
          : c == b
          ? this.pause().cycle()
          : this.slide(b > c ? "next" : "prev", a(this.$items[b]));
    },
    pause: function (b) {
      return (
        b || (this.paused = !0),
        this.$element.find(".next, .prev").length &&
          a.support.transition.end &&
          (this.$element.trigger(a.support.transition.end), this.cycle(!0)),
        clearInterval(this.interval),
        (this.interval = null),
        this
      );
    },
    next: function () {
      if (!this.sliding) return this.slide("next");
    },
    prev: function () {
      if (!this.sliding) return this.slide("prev");
    },
    slide: function (b, c) {
      var d,
        e = this.$element.find(".item.active"),
        f = c || e[b](),
        g = this.interval,
        h = "next" == b ? "left" : "right",
        i = "next" == b ? "first" : "last",
        j = this;
      if (
        ((this.sliding = !0),
        g && this.pause(),
        (f = f.length ? f : this.$element.find(".item")[i]()),
        (d = a.Event("slide", { relatedTarget: f[0], direction: h })),
        !f.hasClass("active"))
      ) {
        if (
          (this.$indicators.length &&
            (this.$indicators.find(".active").removeClass("active"),
            this.$element.one("slid", function () {
              var b = a(j.$indicators.children()[j.getActiveIndex()]);
              b && b.addClass("active");
            })),
          a.support.transition && this.$element.hasClass("slide"))
        ) {
          if ((this.$element.trigger(d), d.isDefaultPrevented())) return;
          f.addClass(b),
            f[0].offsetWidth,
            e.addClass(h),
            f.addClass(h),
            this.$element.one(a.support.transition.end, function () {
              f.removeClass([b, h].join(" ")).addClass("active"),
                e.removeClass(["active", h].join(" ")),
                (j.sliding = !1),
                setTimeout(function () {
                  j.$element.trigger("slid");
                }, 0);
            });
        } else {
          if ((this.$element.trigger(d), d.isDefaultPrevented())) return;
          e.removeClass("active"),
            f.addClass("active"),
            (this.sliding = !1),
            this.$element.trigger("slid");
        }
        return g && this.cycle(), this;
      }
    },
  };
  var g = a.fn.carousel;
  (a.fn.carousel = function (b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("carousel"),
        e = a.extend({}, a.fn.carousel.defaults, "object" == typeof b && b),
        f = "string" == typeof b ? b : e.slide;
      d || c.data("carousel", (d = new i(this, e))),
        "number" == typeof b
          ? d.to(b)
          : f
          ? d[f]()
          : e.interval && d.pause().cycle();
    });
  }),
    (a.fn.carousel.defaults = { interval: 5e3, pause: "hover" }),
    (a.fn.carousel.Constructor = i),
    (a.fn.carousel.noConflict = function () {
      return (a.fn.carousel = g), this;
    }),
    a(document).on(
      "click.carousel.data-api",
      "[data-slide], [data-slide-to]",
      function (b) {
        var c,
          d,
          e = a(this),
          f = a(
            e.attr("data-target") ||
              ((c = e.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, ""))
          ),
          g = a.extend({}, f.data(), e.data());
        f.carousel(g),
          (d = e.attr("data-slide-to")) &&
            f.data("carousel").pause().to(d).cycle(),
          b.preventDefault();
      }
    );
  var j = function (b, c) {
    (this.$element = a(b)),
      (this.options = a.extend({}, a.fn.collapse.defaults, c)),
      this.options.parent && (this.$parent = a(this.options.parent)),
      this.options.toggle && this.toggle();
  };
  j.prototype = {
    constructor: j,
    dimension: function () {
      var a = this.$element.hasClass("width");
      return a ? "width" : "height";
    },
    show: function () {
      var b, c, d, e;
      if (!this.transitioning && !this.$element.hasClass("in")) {
        if (
          ((b = this.dimension()),
          (c = a.camelCase(["scroll", b].join("-"))),
          (d = this.$parent && this.$parent.find("> .accordion-group > .in")),
          d && d.length)
        ) {
          if (((e = d.data("collapse")), e && e.transitioning)) return;
          d.collapse("hide"), e || d.data("collapse", null);
        }
        this.$element[b](0),
          this.transition("addClass", a.Event("show"), "shown"),
          a.support.transition && this.$element[b](this.$element[0][c]);
      }
    },
    hide: function () {
      var b;
      !this.transitioning &&
        this.$element.hasClass("in") &&
        ((b = this.dimension()),
        this.reset(this.$element[b]()),
        this.transition("removeClass", a.Event("hide"), "hidden"),
        this.$element[b](0));
    },
    reset: function (a) {
      var b = this.dimension();
      return (
        this.$element.removeClass("collapse")[b](a || "auto")[0].offsetWidth,
        this.$element[null !== a ? "addClass" : "removeClass"]("collapse"),
        this
      );
    },
    transition: function (b, c, d) {
      var e = this,
        f = function () {
          "show" == c.type && e.reset(),
            (e.transitioning = 0),
            e.$element.trigger(d);
        };
      this.$element.trigger(c),
        c.isDefaultPrevented() ||
          ((this.transitioning = 1),
          this.$element[b]("in"),
          a.support.transition && this.$element.hasClass("collapse")
            ? this.$element.one(a.support.transition.end, f)
            : f());
    },
    toggle: function () {
      this[this.$element.hasClass("in") ? "hide" : "show"]();
    },
  };
  var g = a.fn.collapse;
  (a.fn.collapse = function (b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("collapse"),
        e = a.extend(
          {},
          a.fn.collapse.defaults,
          c.data(),
          "object" == typeof b && b
        );
      d || c.data("collapse", (d = new j(this, e))),
        "string" == typeof b && d[b]();
    });
  }),
    (a.fn.collapse.defaults = { toggle: !0 }),
    (a.fn.collapse.Constructor = j),
    (a.fn.collapse.noConflict = function () {
      return (a.fn.collapse = g), this;
    }),
    a(document).on(
      "click.collapse.data-api",
      "[data-toggle=collapse]",
      function (b) {
        var c,
          d = a(this),
          e =
            d.attr("data-target") ||
            b.preventDefault() ||
            ((c = d.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, "")),
          f = a(e).data("collapse") ? "toggle" : d.data();
        d[a(e).hasClass("in") ? "addClass" : "removeClass"]("collapsed"),
          a(e).collapse(f);
      }
    );
  var k = "[data-toggle=dropdown]",
    l = function (b) {
      var c = a(b).on("click.dropdown.data-api", this.toggle);
      a("html").on("click.dropdown.data-api", function () {
        c.parent().removeClass("open");
      });
    };
  l.prototype = {
    constructor: l,
    toggle: function (d) {
      var e,
        f,
        g = a(this);
      if (!g.is(".disabled, :disabled"))
        return (
          (e = c(g)),
          (f = e.hasClass("open")),
          b(g),
          f ||
            ("ontouchstart" in document.documentElement &&
              a('<div class="dropdown-backdrop"/>')
                .insertBefore(a(this))
                .on("click", b)),
          e.toggleClass("open"),
          g.focus(),
          !1
        );
    },
    keydown: function (b) {
      var d, e, f, g, h;
      if (
        /(38|40|27)/.test(b.keyCode) &&
        ((d = a(this)),
        b.preventDefault(),
        b.stopPropagation(),
        !d.is(".disabled, :disabled"))
      ) {
        if (
          ((f = c(d)), (g = f.hasClass("open")), !g || (g && 27 == b.keyCode))
        )
          return 27 == b.which && f.find(k).focus(), d.click();
        (e = a("[role=menu] li:not(.divider):visible a", f)),
          e.length &&
            ((h = e.index(e.filter(":focus"))),
            38 == b.keyCode && h > 0 && h--,
            40 == b.keyCode && h < e.length - 1 && h++,
            ~h || (h = 0),
            e.eq(h).focus());
      }
    },
  };
  var g = a.fn.dropdown;
  (a.fn.dropdown = function (b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("dropdown");
      d || c.data("dropdown", (d = new l(this))),
        "string" == typeof b && d[b].call(c);
    });
  }),
    (a.fn.dropdown.Constructor = l),
    (a.fn.dropdown.noConflict = function () {
      return (a.fn.dropdown = g), this;
    }),
    a(document)
      .on("click.dropdown.data-api", b)
      .on("click.dropdown.data-api", ".dropdown form", function (a) {
        a.stopPropagation();
      })
      .on("click.dropdown.data-api", k, l.prototype.toggle)
      .on(
        "keydown.dropdown.data-api",
        k + ", [role=menu]",
        l.prototype.keydown
      );
  var m = function (b, c) {
    (this.options = c),
      (this.$element = a(b).delegate(
        '[data-dismiss="modal"]',
        "click.dismiss.modal",
        a.proxy(this.hide, this)
      )),
      this.options.remote &&
        this.$element.find(".modal-body").load(this.options.remote);
  };
  m.prototype = {
    constructor: m,
    toggle: function () {
      return this[this.isShown ? "hide" : "show"]();
    },
    show: function () {
      var b = this,
        c = a.Event("show");
      this.$element.trigger(c),
        this.isShown ||
          c.isDefaultPrevented() ||
          ((this.isShown = !0),
          this.escape(),
          this.backdrop(function () {
            var c = a.support.transition && b.$element.hasClass("fade");
            b.$element.parent().length || b.$element.appendTo(document.body),
              b.$element.show(),
              c && b.$element[0].offsetWidth,
              b.$element.addClass("in").attr("aria-hidden", !1),
              b.enforceFocus(),
              c
                ? b.$element.one(a.support.transition.end, function () {
                    b.$element.focus().trigger("shown");
                  })
                : b.$element.focus().trigger("shown");
          }));
    },
    hide: function (b) {
      b && b.preventDefault();
      (b = a.Event("hide")),
        this.$element.trigger(b),
        this.isShown &&
          !b.isDefaultPrevented() &&
          ((this.isShown = !1),
          this.escape(),
          a(document).off("focusin.modal"),
          this.$element.removeClass("in").attr("aria-hidden", !0),
          a.support.transition && this.$element.hasClass("fade")
            ? this.hideWithTransition()
            : this.hideModal());
    },
    enforceFocus: function () {
      var b = this;
      a(document).on("focusin.modal", function (a) {
        b.$element[0] === a.target ||
          b.$element.has(a.target).length ||
          b.$element.focus();
      });
    },
    escape: function () {
      var a = this;
      this.isShown && this.options.keyboard
        ? this.$element.on("keyup.dismiss.modal", function (b) {
            27 == b.which && a.hide();
          })
        : this.isShown || this.$element.off("keyup.dismiss.modal");
    },
    hideWithTransition: function () {
      var b = this,
        c = setTimeout(function () {
          b.$element.off(a.support.transition.end), b.hideModal();
        }, 500);
      this.$element.one(a.support.transition.end, function () {
        clearTimeout(c), b.hideModal();
      });
    },
    hideModal: function () {
      var a = this;
      this.$element.hide(),
        this.backdrop(function () {
          a.removeBackdrop(), a.$element.trigger("hidden");
        });
    },
    removeBackdrop: function () {
      this.$backdrop && this.$backdrop.remove(), (this.$backdrop = null);
    },
    backdrop: function (b) {
      var c = this.$element.hasClass("fade") ? "fade" : "";
      if (this.isShown && this.options.backdrop) {
        var d = a.support.transition && c;
        if (
          ((this.$backdrop = a(
            '<div class="modal-backdrop ' + c + '" />'
          ).appendTo(document.body)),
          this.$backdrop.click(
            "static" == this.options.backdrop
              ? a.proxy(this.$element[0].focus, this.$element[0])
              : a.proxy(this.hide, this)
          ),
          d && this.$backdrop[0].offsetWidth,
          this.$backdrop.addClass("in"),
          !b)
        )
          return;
        d ? this.$backdrop.one(a.support.transition.end, b) : b();
      } else
        !this.isShown && this.$backdrop
          ? (this.$backdrop.removeClass("in"),
            a.support.transition && this.$element.hasClass("fade")
              ? this.$backdrop.one(a.support.transition.end, b)
              : b())
          : b && b();
    },
  };
  var g = a.fn.modal;
  (a.fn.modal = function (b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("modal"),
        e = a.extend(
          {},
          a.fn.modal.defaults,
          c.data(),
          "object" == typeof b && b
        );
      d || c.data("modal", (d = new m(this, e))),
        "string" == typeof b ? d[b]() : e.show && d.show();
    });
  }),
    (a.fn.modal.defaults = { backdrop: !0, keyboard: !0, show: !0 }),
    (a.fn.modal.Constructor = m),
    (a.fn.modal.noConflict = function () {
      return (a.fn.modal = g), this;
    }),
    a(document).on(
      "click.modal.data-api",
      '[data-toggle="modal"]',
      function (b) {
        var c = a(this),
          d = c.attr("href"),
          e = a(
            c.attr("data-target") || (d && d.replace(/.*(?=#[^\s]+$)/, ""))
          ),
          f = e.data("modal")
            ? "toggle"
            : a.extend({ remote: !/#/.test(d) && d }, e.data(), c.data());
        b.preventDefault(),
          e.modal(f).one("hide", function () {
            c.focus();
          });
      }
    );
  var n = function (a, b) {
    this.init("tooltip", a, b);
  };
  n.prototype = {
    constructor: n,
    init: function (b, c, d) {
      var e, f, g, h, i;
      for (
        this.type = b,
          this.$element = a(c),
          this.options = this.getOptions(d),
          this.enabled = !0,
          g = this.options.trigger.split(" "),
          i = g.length;
        i--;

      )
        (h = g[i]),
          "click" == h
            ? this.$element.on(
                "click." + this.type,
                this.options.selector,
                a.proxy(this.toggle, this)
              )
            : "manual" != h &&
              ((e = "hover" == h ? "mouseenter" : "focus"),
              (f = "hover" == h ? "mouseleave" : "blur"),
              this.$element.on(
                e + "." + this.type,
                this.options.selector,
                a.proxy(this.enter, this)
              ),
              this.$element.on(
                f + "." + this.type,
                this.options.selector,
                a.proxy(this.leave, this)
              ));
      this.options.selector
        ? (this._options = a.extend({}, this.options, {
            trigger: "manual",
            selector: "",
          }))
        : this.fixTitle();
    },
    getOptions: function (b) {
      return (
        (b = a.extend({}, a.fn[this.type].defaults, this.$element.data(), b)),
        b.delay &&
          "number" == typeof b.delay &&
          (b.delay = { show: b.delay, hide: b.delay }),
        b
      );
    },
    enter: function (b) {
      var c,
        d = a.fn[this.type].defaults,
        e = {};
      return (
        this._options &&
          a.each(
            this._options,
            function (a, b) {
              d[a] != b && (e[a] = b);
            },
            this
          ),
        (c = a(b.currentTarget)[this.type](e).data(this.type)),
        c.options.delay && c.options.delay.show
          ? (clearTimeout(this.timeout),
            (c.hoverState = "in"),
            void (this.timeout = setTimeout(function () {
              "in" == c.hoverState && c.show();
            }, c.options.delay.show)))
          : c.show()
      );
    },
    leave: function (b) {
      var c = a(b.currentTarget)[this.type](this._options).data(this.type);
      return (
        this.timeout && clearTimeout(this.timeout),
        c.options.delay && c.options.delay.hide
          ? ((c.hoverState = "out"),
            void (this.timeout = setTimeout(function () {
              "out" == c.hoverState && c.hide();
            }, c.options.delay.hide)))
          : c.hide()
      );
    },
    show: function () {
      var b,
        c,
        d,
        e,
        f,
        g,
        h = a.Event("show");
      if (this.hasContent() && this.enabled) {
        if ((this.$element.trigger(h), h.isDefaultPrevented())) return;
        switch (
          ((b = this.tip()),
          this.setContent(),
          this.options.animation && b.addClass("fade"),
          (f =
            "function" == typeof this.options.placement
              ? this.options.placement.call(this, b[0], this.$element[0])
              : this.options.placement),
          b.detach().css({ top: 0, left: 0, display: "block" }),
          this.options.container
            ? b.appendTo(this.options.container)
            : b.insertAfter(this.$element),
          (c = this.getPosition()),
          (d = b[0].offsetWidth),
          (e = b[0].offsetHeight),
          f)
        ) {
          case "bottom":
            g = { top: c.top + c.height, left: c.left + c.width / 2 - d / 2 };
            break;
          case "top":
            g = { top: c.top - e, left: c.left + c.width / 2 - d / 2 };
            break;
          case "left":
            g = { top: c.top + c.height / 2 - e / 2, left: c.left - d };
            break;
          case "right":
            g = { top: c.top + c.height / 2 - e / 2, left: c.left + c.width };
        }
        this.applyPlacement(g, f), this.$element.trigger("shown");
      }
    },
    applyPlacement: function (a, b) {
      var c,
        d,
        e,
        f,
        g = this.tip(),
        h = g[0].offsetWidth,
        i = g[0].offsetHeight;
      g.offset(a).addClass(b).addClass("in"),
        (c = g[0].offsetWidth),
        (d = g[0].offsetHeight),
        "top" == b && d != i && ((a.top = a.top + i - d), (f = !0)),
        "bottom" == b || "top" == b
          ? ((e = 0),
            a.left < 0 &&
              ((e = a.left * -2),
              (a.left = 0),
              g.offset(a),
              (c = g[0].offsetWidth),
              (d = g[0].offsetHeight)),
            this.replaceArrow(e - h + c, c, "left"))
          : this.replaceArrow(d - i, d, "top"),
        f && g.offset(a);
    },
    replaceArrow: function (a, b, c) {
      this.arrow().css(c, a ? 50 * (1 - a / b) + "%" : "");
    },
    setContent: function () {
      var a = this.tip(),
        b = this.getTitle();
      a.find(".tooltip-inner")[this.options.html ? "html" : "text"](b),
        a.removeClass("fade in top bottom left right");
    },
    hide: function () {
      function b() {
        var b = setTimeout(function () {
          c.off(a.support.transition.end).detach();
        }, 500);
        c.one(a.support.transition.end, function () {
          clearTimeout(b), c.detach();
        });
      }
      var c = this.tip(),
        d = a.Event("hide");
      if ((this.$element.trigger(d), !d.isDefaultPrevented()))
        return (
          c.removeClass("in"),
          a.support.transition && this.$tip.hasClass("fade") ? b() : c.detach(),
          this.$element.trigger("hidden"),
          this
        );
    },
    fixTitle: function () {
      var a = this.$element;
      (a.attr("title") || "string" != typeof a.attr("data-original-title")) &&
        a.attr("data-original-title", a.attr("title") || "").attr("title", "");
    },
    hasContent: function () {
      return this.getTitle();
    },
    getPosition: function () {
      var b = this.$element[0];
      return a.extend(
        {},
        "function" == typeof b.getBoundingClientRect
          ? b.getBoundingClientRect()
          : { width: b.offsetWidth, height: b.offsetHeight },
        this.$element.offset()
      );
    },
    getTitle: function () {
      var a,
        b = this.$element,
        c = this.options;
      return (a =
        b.attr("data-original-title") ||
        ("function" == typeof c.title ? c.title.call(b[0]) : c.title));
    },
    tip: function () {
      return (this.$tip = this.$tip || a(this.options.template));
    },
    arrow: function () {
      return (this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow"));
    },
    validate: function () {
      this.$element[0].parentNode ||
        (this.hide(), (this.$element = null), (this.options = null));
    },
    enable: function () {
      this.enabled = !0;
    },
    disable: function () {
      this.enabled = !1;
    },
    toggleEnabled: function () {
      this.enabled = !this.enabled;
    },
    toggle: function (b) {
      var c = b
        ? a(b.currentTarget)[this.type](this._options).data(this.type)
        : this;
      c.tip().hasClass("in") ? c.hide() : c.show();
    },
    destroy: function () {
      this.hide()
        .$element.off("." + this.type)
        .removeData(this.type);
    },
  };
  var g = a.fn.tooltip;
  (a.fn.tooltip = function (b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("tooltip"),
        e = "object" == typeof b && b;
      d || c.data("tooltip", (d = new n(this, e))),
        "string" == typeof b && d[b]();
    });
  }),
    (a.fn.tooltip.Constructor = n),
    (a.fn.tooltip.defaults = {
      animation: !0,
      placement: "top",
      selector: !1,
      template:
        '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
      trigger: "hover focus",
      title: "",
      delay: 0,
      html: !1,
      container: !1,
    }),
    (a.fn.tooltip.noConflict = function () {
      return (a.fn.tooltip = g), this;
    });
  var o = function (a, b) {
    this.init("popover", a, b);
  };
  o.prototype = a.extend({}, a.fn.tooltip.Constructor.prototype, {
    constructor: o,
    setContent: function () {
      var a = this.tip(),
        b = this.getTitle(),
        c = this.getContent();
      a.find(".popover-title")[this.options.html ? "html" : "text"](b),
        a.find(".popover-content")[this.options.html ? "html" : "text"](c),
        a.removeClass("fade top bottom left right in");
    },
    hasContent: function () {
      return this.getTitle() || this.getContent();
    },
    getContent: function () {
      var a,
        b = this.$element,
        c = this.options;
      return (a =
        ("function" == typeof c.content ? c.content.call(b[0]) : c.content) ||
        b.attr("data-content"));
    },
    tip: function () {
      return this.$tip || (this.$tip = a(this.options.template)), this.$tip;
    },
    destroy: function () {
      this.hide()
        .$element.off("." + this.type)
        .removeData(this.type);
    },
  });
  var g = a.fn.popover;
  (a.fn.popover = function (b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("popover"),
        e = "object" == typeof b && b;
      d || c.data("popover", (d = new o(this, e))),
        "string" == typeof b && d[b]();
    });
  }),
    (a.fn.popover.Constructor = o),
    (a.fn.popover.defaults = a.extend({}, a.fn.tooltip.defaults, {
      placement: "right",
      trigger: "click",
      content: "",
      template:
        '<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',
    })),
    (a.fn.popover.noConflict = function () {
      return (a.fn.popover = g), this;
    }),
    (d.prototype = {
      constructor: d,
      refresh: function () {
        var b,
          c = this;
        (this.offsets = a([])),
          (this.targets = a([])),
          (b = this.$body
            .find(this.selector)
            .map(function () {
              var b = a(this),
                d = b.data("target") || b.attr("href"),
                e = /^#\w/.test(d) && a(d);
              return (
                (e &&
                  e.length && [
                    [
                      e.position().top +
                        (!a.isWindow(c.$scrollElement.get(0)) &&
                          c.$scrollElement.scrollTop()),
                      d,
                    ],
                  ]) ||
                null
              );
            })
            .sort(function (a, b) {
              return a[0] - b[0];
            })
            .each(function () {
              c.offsets.push(this[0]), c.targets.push(this[1]);
            }));
      },
      process: function () {
        var a,
          b = this.$scrollElement.scrollTop() + this.options.offset,
          c = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight,
          d = c - this.$scrollElement.height(),
          e = this.offsets,
          f = this.targets,
          g = this.activeTarget;
        if (b >= d) return g != (a = f.last()[0]) && this.activate(a);
        for (a = e.length; a--; )
          g != f[a] &&
            b >= e[a] &&
            (!e[a + 1] || b <= e[a + 1]) &&
            this.activate(f[a]);
      },
      activate: function (b) {
        var c, d;
        (this.activeTarget = b),
          a(this.selector).parent(".active").removeClass("active"),
          (d =
            this.selector +
            '[data-target="' +
            b +
            '"],' +
            this.selector +
            '[href="' +
            b +
            '"]'),
          (c = a(d).parent("li").addClass("active")),
          c.parent(".dropdown-menu").length &&
            (c = c.closest("li.dropdown").addClass("active")),
          c.trigger("activate");
      },
    });
  var g = a.fn.scrollspy;
  (a.fn.scrollspy = function (b) {
    return this.each(function () {
      var c = a(this),
        e = c.data("scrollspy"),
        f = "object" == typeof b && b;
      e || c.data("scrollspy", (e = new d(this, f))),
        "string" == typeof b && e[b]();
    });
  }),
    (a.fn.scrollspy.Constructor = d),
    (a.fn.scrollspy.defaults = { offset: 10 }),
    (a.fn.scrollspy.noConflict = function () {
      return (a.fn.scrollspy = g), this;
    }),
    a(window).on("load", function () {
      a('[data-spy="scroll"]').each(function () {
        var b = a(this);
        b.scrollspy(b.data());
      });
    });
  var p = function (b) {
    this.element = a(b);
  };
  p.prototype = {
    constructor: p,
    show: function () {
      var b,
        c,
        d,
        e = this.element,
        f = e.closest("ul:not(.dropdown-menu)"),
        g = e.attr("data-target");
      g || ((g = e.attr("href")), (g = g && g.replace(/.*(?=#[^\s]*$)/, ""))),
        e.parent("li").hasClass("active") ||
          ((b = f.find(".active:last a")[0]),
          (d = a.Event("show", { relatedTarget: b })),
          e.trigger(d),
          d.isDefaultPrevented() ||
            ((c = a(g)),
            this.activate(e.parent("li"), f),
            this.activate(c, c.parent(), function () {
              e.trigger({ type: "shown", relatedTarget: b });
            })));
    },
    activate: function (b, c, d) {
      function e() {
        f
          .removeClass("active")
          .find("> .dropdown-menu > .active")
          .removeClass("active"),
          b.addClass("active"),
          g ? (b[0].offsetWidth, b.addClass("in")) : b.removeClass("fade"),
          b.parent(".dropdown-menu") &&
            b.closest("li.dropdown").addClass("active"),
          d && d();
      }
      var f = c.find("> .active"),
        g = d && a.support.transition && f.hasClass("fade");
      g ? f.one(a.support.transition.end, e) : e(), f.removeClass("in");
    },
  };
  var g = a.fn.tab;
  (a.fn.tab = function (b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("tab");
      d || c.data("tab", (d = new p(this))), "string" == typeof b && d[b]();
    });
  }),
    (a.fn.tab.Constructor = p),
    (a.fn.tab.noConflict = function () {
      return (a.fn.tab = g), this;
    }),
    a(document).on(
      "click.tab.data-api",
      '[data-toggle="tab"], [data-toggle="pill"]',
      function (b) {
        b.preventDefault(), a(this).tab("show");
      }
    );
  var q = function (b, c) {
    (this.$element = a(b)),
      (this.options = a.extend({}, a.fn.typeahead.defaults, c)),
      (this.matcher = this.options.matcher || this.matcher),
      (this.sorter = this.options.sorter || this.sorter),
      (this.highlighter = this.options.highlighter || this.highlighter),
      (this.updater = this.options.updater || this.updater),
      (this.source = this.options.source),
      (this.$menu = a(this.options.menu)),
      (this.shown = !1),
      this.listen();
  };
  q.prototype = {
    constructor: q,
    select: function () {
      var a = this.$menu.find(".active").attr("data-value");
      return this.$element.val(this.updater(a)).change(), this.hide();
    },
    updater: function (a) {
      return a;
    },
    show: function () {
      var b = a.extend({}, this.$element.position(), {
        height: this.$element[0].offsetHeight,
      });
      return (
        this.$menu
          .insertAfter(this.$element)
          .css({ top: b.top + b.height, left: b.left })
          .show(),
        (this.shown = !0),
        this
      );
    },
    hide: function () {
      return this.$menu.hide(), (this.shown = !1), this;
    },
    lookup: function (b) {
      var c;
      return (
        (this.query = this.$element.val()),
        !this.query || this.query.length < this.options.minLength
          ? this.shown
            ? this.hide()
            : this
          : ((c = a.isFunction(this.source)
              ? this.source(this.query, a.proxy(this.process, this))
              : this.source),
            c ? this.process(c) : this)
      );
    },
    process: function (b) {
      var c = this;
      return (
        (b = a.grep(b, function (a) {
          return c.matcher(a);
        })),
        (b = this.sorter(b)),
        b.length
          ? this.render(b.slice(0, this.options.items)).show()
          : this.shown
          ? this.hide()
          : this
      );
    },
    matcher: function (a) {
      return ~a.toLowerCase().indexOf(this.query.toLowerCase());
    },
    sorter: function (a) {
      for (var b, c = [], d = [], e = []; (b = a.shift()); )
        b.toLowerCase().indexOf(this.query.toLowerCase())
          ? ~b.indexOf(this.query)
            ? d.push(b)
            : e.push(b)
          : c.push(b);
      return c.concat(d, e);
    },
    highlighter: function (a) {
      var b = this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
      return a.replace(new RegExp("(" + b + ")", "ig"), function (a, b) {
        return "<strong>" + b + "</strong>";
      });
    },
    render: function (b) {
      var c = this;
      return (
        (b = a(b).map(function (b, d) {
          return (
            (b = a(c.options.item).attr("data-value", d)),
            b.find("a").html(c.highlighter(d)),
            b[0]
          );
        })),
        b.first().addClass("active"),
        this.$menu.html(b),
        this
      );
    },
    next: function (b) {
      var c = this.$menu.find(".active").removeClass("active"),
        d = c.next();
      d.length || (d = a(this.$menu.find("li")[0])), d.addClass("active");
    },
    prev: function (a) {
      var b = this.$menu.find(".active").removeClass("active"),
        c = b.prev();
      c.length || (c = this.$menu.find("li").last()), c.addClass("active");
    },
    listen: function () {
      this.$element
        .on("focus", a.proxy(this.focus, this))
        .on("blur", a.proxy(this.blur, this))
        .on("keypress", a.proxy(this.keypress, this))
        .on("keyup", a.proxy(this.keyup, this)),
        this.eventSupported("keydown") &&
          this.$element.on("keydown", a.proxy(this.keydown, this)),
        this.$menu
          .on("click", a.proxy(this.click, this))
          .on("mouseenter", "li", a.proxy(this.mouseenter, this))
          .on("mouseleave", "li", a.proxy(this.mouseleave, this));
    },
    eventSupported: function (a) {
      var b = a in this.$element;
      return (
        b ||
          (this.$element.setAttribute(a, "return;"),
          (b = "function" == typeof this.$element[a])),
        b
      );
    },
    move: function (a) {
      if (this.shown) {
        switch (a.keyCode) {
          case 9:
          case 13:
          case 27:
            a.preventDefault();
            break;
          case 38:
            a.preventDefault(), this.prev();
            break;
          case 40:
            a.preventDefault(), this.next();
        }
        a.stopPropagation();
      }
    },
    keydown: function (b) {
      (this.suppressKeyPressRepeat = ~a.inArray(
        b.keyCode,
        [40, 38, 9, 13, 27]
      )),
        this.move(b);
    },
    keypress: function (a) {
      this.suppressKeyPressRepeat || this.move(a);
    },
    keyup: function (a) {
      switch (a.keyCode) {
        case 40:
        case 38:
        case 16:
        case 17:
        case 18:
          break;
        case 9:
        case 13:
          if (!this.shown) return;
          this.select();
          break;
        case 27:
          if (!this.shown) return;
          this.hide();
          break;
        default:
          this.lookup();
      }
      a.stopPropagation(), a.preventDefault();
    },
    focus: function (a) {
      this.focused = !0;
    },
    blur: function (a) {
      (this.focused = !1), !this.mousedover && this.shown && this.hide();
    },
    click: function (a) {
      a.stopPropagation(),
        a.preventDefault(),
        this.select(),
        this.$element.focus();
    },
    mouseenter: function (b) {
      (this.mousedover = !0),
        this.$menu.find(".active").removeClass("active"),
        a(b.currentTarget).addClass("active");
    },
    mouseleave: function (a) {
      (this.mousedover = !1), !this.focused && this.shown && this.hide();
    },
  };
  var g = a.fn.typeahead;
  (a.fn.typeahead = function (b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("typeahead"),
        e = "object" == typeof b && b;
      d || c.data("typeahead", (d = new q(this, e))),
        "string" == typeof b && d[b]();
    });
  }),
    (a.fn.typeahead.defaults = {
      source: [],
      items: 8,
      menu: '<ul class="typeahead dropdown-menu"></ul>',
      item: '<li><a href="#"></a></li>',
      minLength: 1,
    }),
    (a.fn.typeahead.Constructor = q),
    (a.fn.typeahead.noConflict = function () {
      return (a.fn.typeahead = g), this;
    }),
    a(document).on(
      "focus.typeahead.data-api",
      '[data-provide="typeahead"]',
      function (b) {
        var c = a(this);
        c.data("typeahead") || c.typeahead(c.data());
      }
    );
  var r = function (b, c) {
    (this.options = a.extend({}, a.fn.affix.defaults, c)),
      (this.$window = a(window)
        .on("scroll.affix.data-api", a.proxy(this.checkPosition, this))
        .on(
          "click.affix.data-api",
          a.proxy(function () {
            setTimeout(a.proxy(this.checkPosition, this), 1);
          }, this)
        )),
      (this.$element = a(b)),
      this.checkPosition();
  };
  r.prototype.checkPosition = function () {
    if (this.$element.is(":visible")) {
      var b,
        c = a(document).height(),
        d = this.$window.scrollTop(),
        e = this.$element.offset(),
        f = this.options.offset,
        g = f.bottom,
        h = f.top,
        i = "affix affix-top affix-bottom";
      "object" != typeof f && (g = h = f),
        "function" == typeof h && (h = f.top()),
        "function" == typeof g && (g = f.bottom()),
        (b =
          !(null != this.unpin && d + this.unpin <= e.top) &&
          (null != g && e.top + this.$element.height() >= c - g
            ? "bottom"
            : null != h && d <= h && "top")),
        this.affixed !== b &&
          ((this.affixed = b),
          (this.unpin = "bottom" == b ? e.top - d : null),
          this.$element.removeClass(i).addClass("affix" + (b ? "-" + b : "")));
    }
  };
  var g = a.fn.affix;
  (a.fn.affix = function (b) {
    return this.each(function () {
      var c = a(this),
        d = c.data("affix"),
        e = "object" == typeof b && b;
      d || c.data("affix", (d = new r(this, e))),
        "string" == typeof b && d[b]();
    });
  }),
    (a.fn.affix.Constructor = r),
    (a.fn.affix.defaults = { offset: 0 }),
    (a.fn.affix.noConflict = function () {
      return (a.fn.affix = g), this;
    }),
    a(window).on("load", function () {
      a('[data-spy="affix"]').each(function () {
        var b = a(this),
          c = b.data();
        (c.offset = c.offset || {}),
          c.offsetBottom && (c.offset.bottom = c.offsetBottom),
          c.offsetTop && (c.offset.top = c.offsetTop),
          b.affix(c);
      });
    });
});
define("local_ubappraisal/ubappraisal", [
  "jquery",
  "core/modal_factory",
  "core/modal_events",
  "core/templates",
  "local_ubassessment/sweetalert",
  "theme_bootstrap/bootstrap",
], function (t, a, e, n, i) {
  M.cfg.wwwroot;
  var s = {
    pluginname: "local_ubappraisal",
    index: function () {
      let a = t("#sendform input[name=id]").val();
      t("a#btn-excel-download").on("click", function (a) {
        a.preventDefault();
        let e = prompt("다운로드 사유:", "");
        if (null == e || "" == e);
        else {
          let a =
            t(this).attr("data-url") + "&down_reason=" + encodeURIComponent(e);
          (window.location.href = a),
            t("form#form-search").find("input[name=down_reason]").val(e),
            t("form#form-search").find("input[name=excel]").val(1),
            t("form#form-search").submit();
        }
      }),
        t("#sendtype").on("change", function () {
          1 == t("#sendtype").val()
            ? t("#sendform").attr("action", "/local/ubmessage/send.php?id=" + a)
            : 2 == t("#sendtype").val() &&
              t("#sendform").attr(
                "action",
                "/local/ubmessage/email_send.php?id=" + a
              );
        }),
        t("input[name=allcheck]").on("change", function (a) {
          t("input:checkbox.usercheckbox").prop("checked", this.checked);
        }),
        t("#sendsubmit").on("click", function (a) {
          var e = t("#sendform").attr("action"),
            n = t("form#board-list")
              .find("input:checkbox.usercheckbox:checked")
              .map(function () {
                return t(this).val();
              })
              .get()
              .join("^");
          n.length > 0
            ? (document.location.href = e + "&selectedusers=" + n)
            : (a.preventDefault(), alert("선택된 유저가 없습니다."));
        }),
        t(".userscore").on("change", function () {
          t(this)
            .parent("td")
            .parent("tr")
            .find(".userscorechecked")
            .val(t(this).val());
        }),
        t("#board-list").submit(function (a) {
          let e = t(".userscorechecked");
          t(".usercheckbox:checked").map(function () {
            let a = "userscorechecked[" + t(this).val() + "]";
            return t(".userscorechecked").map(function () {
              let n = t(this).attr("name");
              if (a == n) return (e = e.not(t(this))), t(this);
            });
          }),
            e.remove();
        }),
        t("#btn-auto-grades").on("click", function (a) {
          t("input:checkbox.usercheckbox").prop("checked", !0),
            t("#actiontype").val("auto-grades"),
            t("#board-list").submit();
        });
    },
    student: function (e) {
      console.log(e.contextid),
        t("a.modal-board-write").on("click", function (s) {
          s.preventDefault();
          var r = t(this).data("bwid");
          t.ajax({
            url: "/local/ubappraisal/ajax.php",
            type: "POST",
            dataType: "json",
            data: {
              contextid: e.contextid,
              sesskey: e.sesskey,
              proc_type: "GET-BOARD-WRITE-DATA",
              bwid: r,
            },
          }).done(function (t, e, s) {
            console.log(t),
              "success" == t.code
                ? a
                    .create({
                      type: a.types.CANCEL,
                      title: "게시글 확인",
                      body: n.render(
                        "local_ubappraisal/modal_board_write_view",
                        t.datas
                      ),
                      large: !1,
                    })
                    .then(function (t) {
                      t.show();
                    })
                : i({
                    title: "실패 알림",
                    text: t.message,
                    type: "error",
                    customClass: "animated tada",
                    animation: !0,
                    showCancelButton: !1,
                    confirmButtonColor: "#D33",
                    confirmButtonText: "CLOSE",
                  });
          });
        });
    },
    setstandard: function () {
      function a() {
        t(".ubappraisal-setstandard tr .start-cnt").last().hide(),
          t(".ubappraisal-setstandard tr .end-cnt p").last().text(" 이하까지"),
          t(".ubappraisal-setstandard tr .end-cnt")
            .last()
            .css("float", "right");
      }
      function e() {
        1 == t("#usestandard").prop("checked")
          ? (t(".ubappraisal-setstandard > tbody input[type=number]").attr(
              "disabled",
              !1
            ),
            t("table.ubappraisal-setstandard>tbody>tr:first-child")
              .find(".end-cnt input[type=number]")
              .attr("disabled", "disabled"),
            t("table.ubappraisal-setstandard>tbody>tr:last-child")
              .find(".start-cnt input[type=number]")
              .attr("disabled", "disabled"))
          : t(".ubappraisal-setstandard > tbody input[type=number]").attr(
              "disabled",
              !0
            );
      }
      t("form#form-settings-standard").on("submit", function () {
        var a = !0,
          e = "";
        if (
          (a &&
            !0 !== t("#usestandard").prop("checked") &&
            ((e = "배점 기준이 사용중이 아닙니다."), (a = !1)),
          a &&
            t(".ubappraisal-setstandard > tbody input[type=number]").each(
              function () {
                if (
                  "disabled" !== t(this).attr("disabled") &&
                  ("" == t(this).val() ||
                    null == t(this).val() ||
                    "undefined" == t(this).val())
                )
                  return (
                    (e = "빈 값이 존재하여 저장할 수 없습니다."), (a = !1), !1
                  );
              }
            ),
          a)
        ) {
          var n = 99999999,
            i = 100;
          t(".ubappraisal-setstandard > tbody > tr").each(function () {
            if (
              "disabled" ==
              t(this).find("input.input-highcount").attr("disabled")
            )
              n = parseInt(t(this).find("input.input-lowcount").val());
            else if (
              "disabled" ==
              t(this).find("input.input-lowcount").attr("disabled")
            ) {
              if (
                (s = parseInt(t(this).find("input.input-highcount").val())) >= n
              )
                return (
                  (e =
                    0 == s
                      ? "이전에 등록하신 최소치를 1 이상으로 등록하세요."
                      : "등록하신 최대치(" +
                        s +
                        ")는 " +
                        n +
                        "미만으로 등록하세요."),
                  t(this).find("input.input-highcount").focus(),
                  (a = !1),
                  !1
                );
            } else {
              var s,
                r = parseInt(t(this).find("input.input-lowcount").val());
              if (
                r > (s = parseInt(t(this).find("input.input-highcount").val()))
              )
                return (
                  (e =
                    "등록하신 최소치(" +
                    r +
                    ")가 최대치(" +
                    s +
                    ")를 초과하였습니다."),
                  t(this).find("input.input-lowcount").focus(),
                  (a = !1),
                  !1
                );
              if (s >= n)
                return (
                  (e =
                    0 == s
                      ? "이전에 등록하신 최소치를 1 이상으로 등록하세요."
                      : "등록하신 최대치(" +
                        s +
                        ")는 " +
                        n +
                        "미만으로 등록하세요."),
                  t(this).find("input.input-highcount").focus(),
                  (a = !1),
                  !1
                );
              n = parseInt(t(this).find("input.input-lowcount").val());
            }
            if (parseInt(t(this).find("input.input-gradescore").val()) > i)
              return (
                (e = "이전에 등록하신 배점보다 클수는 없습니다."),
                t(this).find("input.input-gradescore").focus(),
                (a = !1),
                !1
              );
            i = parseInt(t(this).find("input.input-gradescore").val());
          });
        }
        return "" != e && alert(e), a;
      }),
        t(".addgrade").on("click", function () {
          t(".ubappraisal-setstandard tr .start-cnt").last().show(),
            t(".ubappraisal-setstandard tr .end-cnt p").last().text(" 까지");
          let n = "";
          (n += "<tr style='text-align:center;'>"),
            (n +=
              "  <td>" + t(".ubappraisal-setstandard tr").length + "등급</td>"),
            (n += "  <td>"),
            (n +=
              "      <div class='start-cnt col-xs-6'><input type='number' name='lowcount[]' min=0 max=9999 class='form-control input-lowcount' style='max-width:80px; display:inline;' /><p style='display:inline;'> 부터</p></div>"),
            (n +=
              "      <div class=' end-cnt col-xs-6'><input type='number' name='highcount[]' max=9999 class='form-control input-highcount' style='max-width:80px; display:inline;' /><p style='display:inline;'> 까지</p></div>"),
            (n += "  </td>"),
            (n +=
              "  <td><input type='number' name='gradescore[]' min=0 max=100 class='form-control input-gradescore' style='max-width:80px; display:inherit;' /></td>"),
            (n += "</tr>"),
            t(".ubappraisal-setstandard > tbody:last").append(n),
            a(),
            e();
        }),
        t(".deletegrade").on("click", function () {
          t(".ubappraisal-setstandard tr").length > 4 &&
            (t(".ubappraisal-setstandard > tbody > tr:last").remove(),
            a(),
            t("table.ubappraisal-setstandard>tbody>tr:last-child")
              .find(".start-cnt input[type=number]")
              .attr("disabled", "disabled"));
        }),
        t("#usestandard").on("click", function () {
          e();
        }),
        t(".ubappraisal-setstandard tr .end-cnt").first().hide(),
        t(".ubappraisal-setstandard tr .start-cnt p").first().text(" 이상부터"),
        a(),
        e();
    },
  };
  return s;
});
!(function (a, b) {
  "function" == typeof define && define.amd
    ? define("local_ubassessment/highcharts", [], b)
    : "object" == typeof module && module.exports
    ? (module.exports = a.document ? b(a) : b)
    : (a.Highcharts = b(a));
})("undefined" != typeof window ? window : this, function (a) {
  function b(b, c) {
    var d = "Highcharts error #" + b + ": www.highcharts.com/errors/" + b;
    if (c) throw new Error(d);
    a.console && console.log(d);
  }
  function c(a, b, c) {
    (this.options = b), (this.elem = a), (this.prop = c);
  }
  function d() {
    var a,
      b,
      c = arguments,
      d = {},
      e = function (a, b) {
        var c, d;
        "object" != typeof a && (a = {});
        for (d in b)
          b.hasOwnProperty(d) &&
            ((c = b[d]),
            c &&
            "object" == typeof c &&
            "[object Array]" !== Object.prototype.toString.call(c) &&
            "renderTo" !== d &&
            "number" != typeof c.nodeType
              ? (a[d] = e(a[d] || {}, c))
              : (a[d] = b[d]));
        return a;
      };
    for (
      c[0] === !0 && ((d = c[1]), (c = Array.prototype.slice.call(c, 2))),
        b = c.length,
        a = 0;
      a < b;
      a++
    )
      d = e(d, c[a]);
    return d;
  }
  function e(a, b) {
    return parseInt(a, b || 10);
  }
  function f(a) {
    return "string" == typeof a;
  }
  function g(a) {
    return a && "object" == typeof a;
  }
  function h(a) {
    return "[object Array]" === Object.prototype.toString.call(a);
  }
  function i(a) {
    return "number" == typeof a;
  }
  function j(a) {
    return pa.log(a) / pa.LN10;
  }
  function k(a) {
    return pa.pow(10, a);
  }
  function l(a, b) {
    for (var c = a.length; c--; )
      if (a[c] === b) {
        a.splice(c, 1);
        break;
      }
  }
  function m(a) {
    return a !== P && null !== a;
  }
  function n(a, b, c) {
    var d, e;
    if (f(b))
      m(c)
        ? a.setAttribute(b, c)
        : a && a.getAttribute && (e = a.getAttribute(b));
    else if (m(b) && g(b)) for (d in b) a.setAttribute(d, b[d]);
    return e;
  }
  function o(a) {
    return h(a) ? a : [a];
  }
  function p(a, b, c) {
    return b ? setTimeout(a, b, c) : void a.call(0, c);
  }
  function q(a, b) {
    Ca &&
      !Ia &&
      b &&
      b.opacity !== P &&
      (b.filter = "alpha(opacity=" + 100 * b.opacity + ")"),
      tb(a.style, b);
  }
  function r(a, b, c, d, e) {
    var f = oa.createElement(a);
    return (
      b && tb(f, b),
      e && q(f, { padding: 0, border: "none", margin: 0 }),
      c && q(f, c),
      d && d.appendChild(f),
      f
    );
  }
  function s(a, b) {
    var c = function () {};
    return (c.prototype = new a()), tb(c.prototype, b), c;
  }
  function t(a, b) {
    return new Array((b || 2) + 1 - String(a).length).join(0) + a;
  }
  function u(a, b) {
    return /%$/.test(a) ? (b * parseFloat(a)) / 100 : parseFloat(a);
  }
  function v(a) {
    return 6e4 * ((_ && _(a)) || $ || 0);
  }
  function w(a, b) {
    var c,
      d = /f$/,
      e = /\.([0-9])/,
      f = T.lang;
    return (
      d.test(a)
        ? ((c = a.match(e)),
          (c = c ? c[1] : -1),
          null !== b &&
            (b = na.numberFormat(
              b,
              c,
              f.decimalPoint,
              a.indexOf(",") > -1 ? f.thousandsSep : ""
            )))
        : (b = U(a, b)),
      b
    );
  }
  function x(a, b) {
    for (
      var c, d, e, f, g, h, i, j = "{", k = !1, l = [];
      (i = a.indexOf(j)) !== -1;

    ) {
      if (((c = a.slice(0, i)), k)) {
        for (
          d = c.split(":"),
            e = d.shift().split("."),
            g = e.length,
            h = b,
            f = 0;
          f < g;
          f++
        )
          h = h[e[f]];
        d.length && (h = w(d.join(":"), h)), l.push(h);
      } else l.push(c);
      (a = a.slice(i + 1)), (k = !k), (j = k ? "}" : "{");
    }
    return l.push(a), l.join("");
  }
  function y(a) {
    return pa.pow(10, ra(pa.log(a) / pa.LN10));
  }
  function z(a, b, c, d, e) {
    var f,
      g,
      h = a;
    for (
      c = ub(c, 1),
        f = a / c,
        b ||
          ((b = [1, 2, 2.5, 5, 10]),
          d === !1 &&
            (1 === c ? (b = [1, 2, 5, 10]) : c <= 0.1 && (b = [1 / c]))),
        g = 0;
      g < b.length &&
      ((h = b[g]),
      !((e && h * c >= a) || (!e && f <= (b[g] + (b[g + 1] || b[g])) / 2)));
      g++
    );
    return (h *= c);
  }
  function A(a, b) {
    var c,
      d,
      e = a.length;
    for (d = 0; d < e; d++) a[d].safeI = d;
    for (
      a.sort(function (a, d) {
        return (c = b(a, d)), 0 === c ? a.safeI - d.safeI : c;
      }),
        d = 0;
      d < e;
      d++
    )
      delete a[d].safeI;
  }
  function B(a) {
    for (var b = a.length, c = a[0]; b--; ) a[b] < c && (c = a[b]);
    return c;
  }
  function C(a) {
    for (var b = a.length, c = a[0]; b--; ) a[b] > c && (c = a[b]);
    return c;
  }
  function D(a, b) {
    var c;
    for (c in a)
      a[c] && a[c] !== b && a[c].destroy && a[c].destroy(), delete a[c];
  }
  function E(a) {
    S || (S = r(Sa)), a && S.appendChild(a), (S.innerHTML = "");
  }
  function F(a, b) {
    return parseFloat(a.toPrecision(b || 14));
  }
  function G(a, b) {
    b.renderer.globalAnimation = ub(a, b.animation);
  }
  function H() {
    var b = T.global,
      c = b.useUTC,
      d = c ? "getUTC" : "get",
      e = c ? "setUTC" : "set";
    (Y = b.Date || a.Date),
      ($ = c && b.timezoneOffset),
      (_ = c && b.getTimezoneOffset),
      (Z = function (a, b, d, e, f, g) {
        var h;
        return (
          c
            ? ((h = Y.UTC.apply(0, arguments)), (h += v(h)))
            : (h = new Y(
                a,
                b,
                ub(d, 1),
                ub(e, 0),
                ub(f, 0),
                ub(g, 0)
              ).getTime()),
          h
        );
      }),
      (aa = d + "Minutes"),
      (ba = d + "Hours"),
      (ca = d + "Day"),
      (da = d + "Date"),
      (ea = d + "Month"),
      (fa = d + "FullYear"),
      (ga = e + "Milliseconds"),
      (ha = e + "Seconds"),
      (ia = e + "Minutes"),
      (ja = e + "Hours"),
      (ka = e + "Date"),
      (la = e + "Month"),
      (ma = e + "FullYear");
  }
  function I(a) {
    return (T = d(!0, T, a)), H(), T;
  }
  function J() {
    return T;
  }
  function K(a) {
    return this instanceof K ? void this.init(a) : new K(a);
  }
  function L() {}
  function M(a, b) {
    var c = oa.getElementsByTagName("head")[0],
      d = oa.createElement("script");
    (d.type = "text/javascript"), (d.src = a), (d.onload = b), c.appendChild(d);
  }
  function N(a, b, c, d) {
    (this.axis = a),
      (this.pos = b),
      (this.type = c || ""),
      (this.isNew = !0),
      c || d || this.addLabel();
  }
  function O(a, b, c, d, e) {
    var f = a.chart.inverted;
    (this.axis = a),
      (this.isNegative = c),
      (this.options = b),
      (this.x = d),
      (this.total = null),
      (this.points = {}),
      (this.stack = e),
      (this.alignOptions = {
        align: b.align || (f ? (c ? "left" : "right") : "center"),
        verticalAlign: b.verticalAlign || (f ? "middle" : c ? "bottom" : "top"),
        y: ub(b.y, f ? 4 : c ? 14 : -6),
        x: ub(b.x, f ? (c ? -6 : 6) : 0),
      }),
      (this.textAlign = b.textAlign || (f ? (c ? "right" : "left") : "center"));
  }
  "undefined" == typeof a && (a = window);
  var P,
    Q,
    R,
    S,
    T,
    U,
    V,
    W,
    X,
    Y,
    Z,
    $,
    _,
    aa,
    ba,
    ca,
    da,
    ea,
    fa,
    ga,
    ha,
    ia,
    ja,
    ka,
    la,
    ma,
    na,
    oa = a.document,
    pa = Math,
    qa = pa.round,
    ra = pa.floor,
    sa = pa.ceil,
    ta = pa.max,
    ua = pa.min,
    va = pa.abs,
    wa = pa.cos,
    xa = pa.sin,
    ya = pa.PI,
    za = (2 * ya) / 360,
    Aa = (a.navigator && a.navigator.userAgent) || "",
    Ba = a.opera,
    Ca = /(msie|trident|edge)/i.test(Aa) && !Ba,
    Da = oa && 8 === oa.documentMode,
    Ea = !Ca && /AppleWebKit/.test(Aa),
    Fa = /Firefox/.test(Aa),
    Ga = /(Mobile|Android|Windows Phone)/.test(Aa),
    Ha = "http://www.w3.org/2000/svg",
    Ia =
      oa && oa.createElementNS && !!oa.createElementNS(Ha, "svg").createSVGRect,
    Ja = Fa && parseInt(Aa.split("Firefox/")[1], 10) < 4,
    Ka = oa && !Ia && !Ca && !!oa.createElement("canvas").getContext,
    La = {},
    Ma = 0,
    Na = function () {},
    Oa = [],
    Pa = 0,
    Qa = "Highcharts",
    Ra = "4.2.1",
    Sa = "div",
    Ta = "absolute",
    Ua = "relative",
    Va = "hidden",
    Wa = "highcharts-",
    Xa = "visible",
    Ya = "px",
    Za = "none",
    $a = "M",
    _a = "L",
    ab = /^[0-9]+$/,
    bb = "",
    cb = "hover",
    db = "select",
    eb = ["plotTop", "marginRight", "marginBottom", "plotLeft"],
    fb = "stroke-width",
    gb = {};
  (na = a.Highcharts ? b(16, !0) : { win: a }), (na.seriesTypes = gb);
  var hb,
    ib,
    jb,
    kb,
    lb,
    mb,
    nb,
    ob,
    pb,
    qb,
    rb,
    sb = [];
  c.prototype = {
    dSetter: function () {
      var a,
        b = this.paths[0],
        c = this.paths[1],
        d = [],
        e = this.now,
        f = b.length;
      if (1 === e) d = this.toD;
      else if (f === c.length && e < 1)
        for (; f--; )
          (a = parseFloat(b[f])),
            (d[f] = isNaN(a) ? b[f] : e * parseFloat(c[f] - a) + a);
      else d = c;
      this.elem.attr("d", d);
    },
    update: function () {
      var a = this.elem,
        b = this.prop,
        c = this.now,
        d = this.options.step;
      this[b + "Setter"]
        ? this[b + "Setter"]()
        : a.attr
        ? a.element && a.attr(b, c)
        : (a.style[b] = c + this.unit),
        d && d.call(a, c, this);
    },
    run: function (a, b, c) {
      var d,
        e = this,
        f = function (a) {
          return !f.stopped && e.step(a);
        };
      (this.startTime = +new Y()),
        (this.start = a),
        (this.end = b),
        (this.unit = c),
        (this.now = this.start),
        (this.pos = 0),
        (f.elem = this.elem),
        f() &&
          1 === sb.push(f) &&
          (f.timerId = setInterval(function () {
            for (d = 0; d < sb.length; d++) sb[d]() || sb.splice(d--, 1);
            sb.length || clearInterval(f.timerId);
          }, 13));
    },
    step: function (a) {
      var b,
        c,
        d,
        e = +new Y(),
        f = this.options,
        g = this.elem,
        h = f.complete,
        i = f.duration,
        j = f.curAnim;
      if (g.attr && !g.element) b = !1;
      else if (a || e >= i + this.startTime) {
        (this.now = this.end),
          (this.pos = 1),
          this.update(),
          (j[this.prop] = !0),
          (c = !0);
        for (d in j) j[d] !== !0 && (c = !1);
        c && h && h.call(g), (b = !1);
      } else
        (this.pos = f.easing((e - this.startTime) / i)),
          (this.now = this.start + (this.end - this.start) * this.pos),
          this.update(),
          (b = !0);
      return b;
    },
    initPath: function (a, b, c) {
      b = b || "";
      var d,
        e,
        f,
        g,
        h,
        i = a.shift,
        j = b.indexOf("C") > -1,
        k = j ? 7 : 3,
        l = b.split(" "),
        m = [].concat(c),
        n = function (a) {
          for (f = a.length; f--; )
            a[f] === $a &&
              a.splice(f + 1, 0, a[f + 1], a[f + 2], a[f + 1], a[f + 2]);
        };
      if (
        (j && (n(l), n(m)),
        a.isArea &&
          ((g = l.splice(l.length - 6, 6)), (h = m.splice(m.length - 6, 6))),
        i <= m.length / k && l.length === m.length)
      )
        for (; i--; ) m = [].concat(m).splice(0, k).concat(m);
      if (((a.shift = 0), l.length))
        for (d = m.length; l.length < d; )
          (e = [].concat(l).splice(l.length - k, k)),
            j && ((e[k - 6] = e[k - 2]), (e[k - 5] = e[k - 1])),
            (l = l.concat(e));
      return g && ((l = l.concat(g)), (m = m.concat(h))), [l, m];
    },
  };
  var tb = (na.extend = function (a, b) {
      var c;
      a || (a = {});
      for (c in b) a[c] = b[c];
      return a;
    }),
    ub = (na.pick = function () {
      var a,
        b,
        c = arguments,
        d = c.length;
      for (a = 0; a < d; a++) if (((b = c[a]), b !== P && null !== b)) return b;
    }),
    vb = (na.wrap = function (a, b, c) {
      var d = a[b];
      a[b] = function () {
        var a = Array.prototype.slice.call(arguments);
        return a.unshift(d), c.apply(this, a);
      };
    });
  (U = function (a, b, c) {
    if (!m(b) || isNaN(b)) return T.lang.invalidDate || "";
    a = ub(a, "%Y-%m-%d %H:%M:%S");
    var d,
      e = new Y(b - v(b)),
      f = e[ba](),
      g = e[ca](),
      h = e[da](),
      i = e[ea](),
      j = e[fa](),
      k = T.lang,
      l = k.weekdays,
      n = tb(
        {
          a: l[g].substr(0, 3),
          A: l[g],
          d: t(h),
          e: h,
          w: g,
          b: k.shortMonths[i],
          B: k.months[i],
          m: t(i + 1),
          y: j.toString().substr(2, 2),
          Y: j,
          H: t(f),
          k: f,
          I: t(f % 12 || 12),
          l: f % 12 || 12,
          M: t(e[aa]()),
          p: f < 12 ? "AM" : "PM",
          P: f < 12 ? "am" : "pm",
          S: t(e.getSeconds()),
          L: t(qa(b % 1e3), 3),
        },
        na.dateFormats
      );
    for (d in n)
      for (; a.indexOf("%" + d) !== -1; )
        a = a.replace("%" + d, "function" == typeof n[d] ? n[d](b) : n[d]);
    return c ? a.substr(0, 1).toUpperCase() + a.substr(1) : a;
  }),
    (W = {
      millisecond: 1,
      second: 1e3,
      minute: 6e4,
      hour: 36e5,
      day: 864e5,
      week: 6048e5,
      month: 24192e5,
      year: 314496e5,
    }),
    (na.numberFormat = function (a, b, c, d) {
      var f = T.lang,
        g = +a || 0,
        h =
          b === -1
            ? Math.min((g.toString().split(".")[1] || "").length, 20)
            : isNaN((b = Math.abs(b)))
            ? 2
            : b,
        i = void 0 === c ? f.decimalPoint : c,
        j = void 0 === d ? f.thousandsSep : d,
        k = g < 0 ? "-" : "",
        l = String(e((g = va(g).toFixed(h)))),
        m = l.length > 3 ? l.length % 3 : 0;
      return (
        k +
        (m ? l.substr(0, m) + j : "") +
        l.substr(m).replace(/(\d{3})(?=\d)/g, "$1" + j) +
        (h
          ? i +
            va(g - l)
              .toFixed(h)
              .slice(2)
          : "")
      );
    }),
    (Math.easeInOutSine = function (a) {
      return -0.5 * (Math.cos(Math.PI * a) - 1);
    }),
    (hb = function (b, c) {
      var d = a.getComputedStyle(b, void 0);
      return d && e(d.getPropertyValue(c));
    }),
    (ib = function (a, b) {
      return b.indexOf ? b.indexOf(a) : [].indexOf.call(b, a);
    }),
    (kb = function (a, b) {
      return [].filter.call(a, b);
    }),
    (mb = function (a, b) {
      for (var c = [], d = 0, e = a.length; d < e; d++)
        c[d] = b.call(a[d], a[d], d, a);
      return c;
    }),
    (lb = function (b) {
      var c = oa.documentElement,
        d = b.getBoundingClientRect();
      return {
        top: d.top + (a.pageYOffset || c.scrollTop) - (c.clientTop || 0),
        left: d.left + (a.pageXOffset || c.scrollLeft) - (c.clientLeft || 0),
      };
    }),
    (rb = function (a) {
      for (var b = sb.length; b--; ) sb[b].elem === a && (sb[b].stopped = !0);
    }),
    (jb = function (a, b) {
      return Array.prototype.forEach.call(a, b);
    }),
    (nb = function (b, c, d) {
      function e(c) {
        (c.target = c.srcElement || a), d.call(b, c);
      }
      var f = (b.hcEvents = b.hcEvents || {});
      b.addEventListener
        ? b.addEventListener(c, d, !1)
        : b.attachEvent &&
          (b.hcEventsIE || (b.hcEventsIE = {}),
          (b.hcEventsIE[d.toString()] = e),
          b.attachEvent("on" + c, e)),
        f[c] || (f[c] = []),
        f[c].push(d);
    }),
    (ob = function (a, b, c) {
      function d(b, c) {
        a.removeEventListener
          ? a.removeEventListener(b, c, !1)
          : a.attachEvent &&
            ((c = a.hcEventsIE[c.toString()]), a.detachEvent("on" + b, c));
      }
      function e() {
        var c, e, f;
        if (a.nodeName) {
          b ? ((c = {}), (c[b] = !0)) : (c = h);
          for (f in c) if (h[f]) for (e = h[f].length; e--; ) d(f, h[f][e]);
        }
      }
      var f,
        g,
        h = a.hcEvents;
      h &&
        (b
          ? ((f = h[b] || []),
            c
              ? ((g = ib(c, f)),
                g > -1 && (f.splice(g, 1), (h[b] = f)),
                d(b, c))
              : (e(), (h[b] = [])))
          : (e(), (a.hcEvents = {})));
    }),
    (pb = function (a, b, c, d) {
      var e,
        f,
        g,
        h,
        i,
        j,
        k = a.hcEvents;
      if (((c = c || {}), oa.createEvent && (a.dispatchEvent || a.fireEvent)))
        (e = oa.createEvent("Events")),
          e.initEvent(b, !0, !0),
          (e.target = a),
          tb(e, c),
          a.dispatchEvent ? a.dispatchEvent(e) : a.fireEvent(b, e);
      else if (k)
        for (
          f = k[b] || [],
            g = f.length,
            i = function () {
              c.defaultPrevented = !0;
            },
            h = 0;
          h < g;
          h++
        ) {
          if (((j = f[h]), c.stopped)) return;
          (c.preventDefault = i),
            (c.target = a),
            c.type || (c.type = b),
            j.call(a, c) === !1 && c.preventDefault();
        }
      d && !c.defaultPrevented && d(c);
    }),
    (qb = function (a, b, e) {
      var f,
        h,
        j,
        k,
        l,
        m = "";
      g(e) ||
        ((k = arguments),
        (e = { duration: k[2], easing: k[3], complete: k[4] })),
        i(e.duration) || (e.duration = 400),
        (e.easing = Math[e.easing] || Math.easeInOutSine),
        (e.curAnim = d(b));
      for (l in b)
        (j = new c(a, e, l)),
          (h = null),
          "d" === l
            ? ((j.paths = j.initPath(a, a.d, b.d)),
              (j.toD = b.d),
              (f = 0),
              (h = 1))
            : a.attr
            ? (f = a.attr(l))
            : ((f = parseFloat(hb(a, l)) || 0), "opacity" !== l && (m = "px")),
          h || (h = b[l]),
          h.match && h.match("px") && (h = h.replace(/px/g, "")),
          j.run(f, h, m);
    }),
    a.jQuery &&
      (a.jQuery.fn.highcharts = function () {
        var a = [].slice.call(arguments);
        if (this[0])
          return a[0]
            ? (new na[f(a[0]) ? a.shift() : "Chart"](this[0], a[0], a[1]), this)
            : Oa[n(this[0], "data-highcharts-chart")];
      }),
    oa &&
      !oa.defaultView &&
      (hb = function (a, b) {
        var c,
          d = { width: "clientWidth", height: "clientHeight" }[b];
        return a.style[b]
          ? e(a.style[b])
          : ("opacity" === b && (b = "filter"),
            d
              ? ((a.style.zoom = 1), a[d] - 2 * hb(a, "padding"))
              : ((c =
                  a.currentStyle[
                    b.replace(/\-(\w)/g, function (a, b) {
                      return b.toUpperCase();
                    })
                  ]),
                "filter" === b &&
                  (c = c.replace(/alpha\(opacity=([0-9]+)\)/, function (a, b) {
                    return b / 100;
                  })),
                "" === c ? 1 : e(c)));
      }),
    Array.prototype.forEach ||
      (jb = function (a, b) {
        for (var c = 0, d = a.length; c < d; c++)
          if (b.call(a[c], a[c], c, a) === !1) return c;
      }),
    Array.prototype.indexOf ||
      (ib = function (a, b) {
        var c,
          d = 0;
        if (b) for (c = b.length; d < c; d++) if (b[d] === a) return d;
        return -1;
      }),
    Array.prototype.filter ||
      (kb = function (a, b) {
        for (var c = [], d = 0, e = a.length; d < e; d++)
          b(a[d], d) && c.push(a[d]);
        return c;
      }),
    (na.Fx = c),
    (na.inArray = ib),
    (na.each = jb),
    (na.grep = kb),
    (na.offset = lb),
    (na.map = mb),
    (na.addEvent = nb),
    (na.removeEvent = ob),
    (na.fireEvent = pb),
    (na.animate = qb),
    (na.stop = rb),
    (T = {
      colors: [
        "#7cb5ec",
        "#434348",
        "#90ed7d",
        "#f7a35c",
        "#8085e9",
        "#f15c80",
        "#e4d354",
        "#2b908f",
        "#f45b5b",
        "#91e8e1",
      ],
      symbols: ["circle", "diamond", "square", "triangle", "triangle-down"],
      lang: {
        loading: "Loading...",
        months: [
          "January",
          "February",
          "March",
          "April",
          "May",
          "June",
          "July",
          "August",
          "September",
          "October",
          "November",
          "December",
        ],
        shortMonths: [
          "Jan",
          "Feb",
          "Mar",
          "Apr",
          "May",
          "Jun",
          "Jul",
          "Aug",
          "Sep",
          "Oct",
          "Nov",
          "Dec",
        ],
        weekdays: [
          "Sunday",
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday",
        ],
        decimalPoint: ".",
        numericSymbols: ["k", "M", "G", "T", "P", "E"],
        resetZoom: "Reset zoom",
        resetZoomTitle: "Reset zoom level 1:1",
        thousandsSep: " ",
      },
      global: {
        useUTC: !0,
        canvasToolsURL: "http://code.highcharts.com/modules/canvas-tools.js",
        VMLRadialGradientURL:
          "http://code.highcharts.com/4.2.1/gfx/vml-radial-gradient.png",
      },
      chart: {
        borderColor: "#4572A7",
        borderRadius: 0,
        defaultSeriesType: "line",
        ignoreHiddenSeries: !0,
        spacing: [10, 10, 15, 10],
        backgroundColor: "#FFFFFF",
        plotBorderColor: "#C0C0C0",
        resetZoomButton: {
          theme: { zIndex: 20 },
          position: { align: "right", x: -10, y: 10 },
        },
      },
      title: {
        text: "Chart title",
        align: "center",
        margin: 15,
        style: { color: "#333333", fontSize: "18px" },
      },
      subtitle: { text: "", align: "center", style: { color: "#555555" } },
      plotOptions: {
        line: {
          allowPointSelect: !1,
          showCheckbox: !1,
          animation: { duration: 1e3 },
          events: {},
          lineWidth: 2,
          marker: {
            lineWidth: 0,
            radius: 4,
            lineColor: "#FFFFFF",
            states: {
              hover: { enabled: !0, lineWidthPlus: 1, radiusPlus: 2 },
              select: {
                fillColor: "#FFFFFF",
                lineColor: "#000000",
                lineWidth: 2,
              },
            },
          },
          point: { events: {} },
          dataLabels: {
            align: "center",
            formatter: function () {
              return null === this.y ? "" : na.numberFormat(this.y, -1);
            },
            style: {
              color: "contrast",
              fontSize: "11px",
              fontWeight: "bold",
              textShadow: "0 0 6px contrast, 0 0 3px contrast",
            },
            verticalAlign: "bottom",
            x: 0,
            y: 0,
            padding: 5,
          },
          cropThreshold: 300,
          pointRange: 0,
          softThreshold: !0,
          states: {
            hover: {
              lineWidthPlus: 1,
              marker: {},
              halo: { size: 10, opacity: 0.25 },
            },
            select: { marker: {} },
          },
          stickyTracking: !0,
          turboThreshold: 1e3,
        },
      },
      labels: { style: { position: Ta, color: "#3E576F" } },
      legend: {
        enabled: !0,
        align: "center",
        layout: "horizontal",
        labelFormatter: function () {
          return this.name;
        },
        borderColor: "#909090",
        borderRadius: 0,
        navigation: { activeColor: "#274b6d", inactiveColor: "#CCC" },
        shadow: !1,
        itemStyle: { color: "#333333", fontSize: "12px", fontWeight: "bold" },
        itemHoverStyle: { color: "#000" },
        itemHiddenStyle: { color: "#CCC" },
        itemCheckboxStyle: { position: Ta, width: "13px", height: "13px" },
        symbolPadding: 5,
        verticalAlign: "bottom",
        x: 0,
        y: 0,
        title: { style: { fontWeight: "bold" } },
      },
      loading: {
        labelStyle: { fontWeight: "bold", position: Ua, top: "45%" },
        style: {
          position: Ta,
          backgroundColor: "white",
          opacity: 0.5,
          textAlign: "center",
        },
      },
      tooltip: {
        enabled: !0,
        animation: Ia,
        backgroundColor: "rgba(249, 249, 249, .85)",
        borderWidth: 1,
        borderRadius: 3,
        dateTimeLabelFormats: {
          millisecond: "%A, %b %e, %H:%M:%S.%L",
          second: "%A, %b %e, %H:%M:%S",
          minute: "%A, %b %e, %H:%M",
          hour: "%A, %b %e, %H:%M",
          day: "%A, %b %e, %Y",
          week: "Week from %A, %b %e, %Y",
          month: "%B %Y",
          year: "%Y",
        },
        footerFormat: "",
        headerFormat: '<span style="font-size: 10px">{point.key}</span><br/>',
        pointFormat:
          '<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',
        shadow: !0,
        snap: Ga ? 25 : 10,
        style: {
          color: "#333333",
          cursor: "default",
          fontSize: "12px",
          padding: "8px",
          pointerEvents: "none",
          whiteSpace: "nowrap",
        },
      },
      credits: {
        enabled: !0,
        text: "Highcharts.com",
        href: "http://www.highcharts.com",
        position: { align: "right", x: -10, verticalAlign: "bottom", y: -5 },
        style: { cursor: "pointer", color: "#909090", fontSize: "9px" },
      },
    });
  var wb = T.plotOptions,
    xb = wb.line;
  H(),
    (K.prototype = {
      parsers: [
        {
          regex:
            /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,
          parse: function (a) {
            return [e(a[1]), e(a[2]), e(a[3]), parseFloat(a[4], 10)];
          },
        },
        {
          regex: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
          parse: function (a) {
            return [e(a[1], 16), e(a[2], 16), e(a[3], 16), 1];
          },
        },
        {
          regex:
            /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,
          parse: function (a) {
            return [e(a[1]), e(a[2]), e(a[3]), 1];
          },
        },
      ],
      init: function (a) {
        var b, c, d, e;
        if (((this.input = a), a && a.stops))
          this.stops = mb(a.stops, function (a) {
            return new K(a[1]);
          });
        else
          for (d = this.parsers.length; d-- && !c; )
            (e = this.parsers[d]), (b = e.regex.exec(a)), b && (c = e.parse(b));
        this.rgba = c || [];
      },
      get: function (a) {
        var b,
          c = this.input,
          e = this.rgba;
        return (
          this.stops
            ? ((b = d(c)),
              (b.stops = [].concat(b.stops)),
              jb(this.stops, function (c, d) {
                b.stops[d] = [b.stops[d][0], c.get(a)];
              }))
            : (b =
                e && !isNaN(e[0])
                  ? "rgb" === a || (!a && 1 === e[3])
                    ? "rgb(" + e[0] + "," + e[1] + "," + e[2] + ")"
                    : "a" === a
                    ? e[3]
                    : "rgba(" + e.join(",") + ")"
                  : c),
          b
        );
      },
      brighten: function (a) {
        var b,
          c = this.rgba;
        if (this.stops)
          jb(this.stops, function (b) {
            b.brighten(a);
          });
        else if (i(a) && 0 !== a)
          for (b = 0; b < 3; b++)
            (c[b] += e(255 * a)),
              c[b] < 0 && (c[b] = 0),
              c[b] > 255 && (c[b] = 255);
        return this;
      },
      setOpacity: function (a) {
        return (this.rgba[3] = a), this;
      },
    }),
    (L.prototype = {
      opacity: 1,
      textProps: [
        "direction",
        "fontSize",
        "fontWeight",
        "fontFamily",
        "fontStyle",
        "color",
        "lineHeight",
        "width",
        "textDecoration",
        "textOverflow",
        "textShadow",
      ],
      init: function (a, b) {
        var c = this;
        (c.element = "span" === b ? r(b) : oa.createElementNS(Ha, b)),
          (c.renderer = a);
      },
      animate: function (a, b, c) {
        var e = ub(b, this.renderer.globalAnimation, !0);
        return (
          rb(this),
          e
            ? ((e = d(e, {})), c && (e.complete = c), qb(this, a, e))
            : this.attr(a, null, c),
          this
        );
      },
      colorGradient: function (a, b, c) {
        var e,
          f,
          g,
          i,
          j,
          k,
          l,
          n,
          o,
          p,
          q,
          r,
          s,
          t = this.renderer,
          u = [];
        if (
          (a.linearGradient
            ? (f = "linearGradient")
            : a.radialGradient && (f = "radialGradient"),
          f)
        ) {
          (g = a[f]),
            (j = t.gradients),
            (l = a.stops),
            (p = c.radialReference),
            h(g) &&
              (a[f] = g =
                {
                  x1: g[0],
                  y1: g[1],
                  x2: g[2],
                  y2: g[3],
                  gradientUnits: "userSpaceOnUse",
                }),
            "radialGradient" === f &&
              p &&
              !m(g.gradientUnits) &&
              ((i = g),
              (g = d(g, t.getRadialAttr(p, i), {
                gradientUnits: "userSpaceOnUse",
              })));
          for (q in g) "id" !== q && u.push(q, g[q]);
          for (q in l) u.push(l[q]);
          (u = u.join(",")),
            j[u]
              ? (r = j[u].attr("id"))
              : ((g.id = r = Wa + Ma++),
                (j[u] = k = t.createElement(f).attr(g).add(t.defs)),
                (k.radAttr = i),
                (k.stops = []),
                jb(l, function (a) {
                  var b;
                  0 === a[1].indexOf("rgba")
                    ? ((e = K(a[1])), (n = e.get("rgb")), (o = e.get("a")))
                    : ((n = a[1]), (o = 1)),
                    (b = t
                      .createElement("stop")
                      .attr({
                        offset: a[0],
                        "stop-color": n,
                        "stop-opacity": o,
                      })
                      .add(k)),
                    k.stops.push(b);
                })),
            (s = "url(" + t.url + "#" + r + ")"),
            c.setAttribute(b, s),
            (c.gradient = u),
            (a.toString = function () {
              return s;
            });
        }
      },
      applyTextShadow: function (a) {
        var b,
          c = this.element,
          d = a.indexOf("contrast") !== -1,
          f = {},
          g = this.renderer.forExport,
          h = g || (c.style.textShadow !== P && !Ca);
        d &&
          (f.textShadow = a =
            a.replace(/contrast/g, this.renderer.getContrast(c.style.fill))),
          (Ea || g) && (f.textRendering = "geometricPrecision"),
          h
            ? this.css(f)
            : ((this.fakeTS = !0),
              (this.ySetter = this.xSetter),
              (b = [].slice.call(c.getElementsByTagName("tspan"))),
              jb(a.split(/\s?,\s?/g), function (a) {
                var d,
                  f,
                  g = c.firstChild;
                (a = a.split(" ")),
                  (d = a[a.length - 1]),
                  (f = a[a.length - 2]),
                  f &&
                    jb(b, function (a, b) {
                      var h;
                      0 === b &&
                        (a.setAttribute("x", c.getAttribute("x")),
                        (b = c.getAttribute("y")),
                        a.setAttribute("y", b || 0),
                        null === b && c.setAttribute("y", 0)),
                        (h = a.cloneNode(1)),
                        n(h, {
                          class: Wa + "text-shadow",
                          fill: d,
                          stroke: d,
                          "stroke-opacity": 1 / ta(e(f), 3),
                          "stroke-width": f,
                          "stroke-linejoin": "round",
                        }),
                        c.insertBefore(h, g);
                    });
              }));
      },
      attr: function (a, b, c) {
        var d,
          e,
          f,
          g,
          h = this.element,
          i = this;
        if (
          ("string" == typeof a && b !== P && ((d = a), (a = {}), (a[d] = b)),
          "string" == typeof a)
        )
          i = (this[a + "Getter"] || this._defaultGetter).call(this, a, h);
        else {
          for (d in a)
            (e = a[d]),
              (g = !1),
              this.symbolName &&
                /^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(
                  d
                ) &&
                (f || (this.symbolAttr(a), (f = !0)), (g = !0)),
              !this.rotation ||
                ("x" !== d && "y" !== d) ||
                (this.doTransform = !0),
              g ||
                (this[d + "Setter"] || this._defaultSetter).call(this, e, d, h),
              this.shadows &&
                /^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(d) &&
                this.updateShadows(d, e);
          this.doTransform && (this.updateTransform(), (this.doTransform = !1));
        }
        return c && c(), i;
      },
      updateShadows: function (a, b) {
        for (var c = this.shadows, d = c.length; d--; )
          c[d].setAttribute(
            a,
            "height" === a
              ? Math.max(b - (c[d].cutHeight || 0), 0)
              : "d" === a
              ? this.d
              : b
          );
      },
      addClass: function (a) {
        var b = this.element,
          c = n(b, "class") || "";
        return c.indexOf(a) === -1 && n(b, "class", c + " " + a), this;
      },
      symbolAttr: function (a) {
        var b = this;
        jb(
          [
            "x",
            "y",
            "r",
            "start",
            "end",
            "width",
            "height",
            "innerR",
            "anchorX",
            "anchorY",
          ],
          function (c) {
            b[c] = ub(a[c], b[c]);
          }
        ),
          b.attr({
            d: b.renderer.symbols[b.symbolName](b.x, b.y, b.width, b.height, b),
          });
      },
      clip: function (a) {
        return this.attr(
          "clip-path",
          a ? "url(" + this.renderer.url + "#" + a.id + ")" : Za
        );
      },
      crisp: function (a) {
        var b,
          c,
          d = this,
          e = {},
          f = a.strokeWidth || d.strokeWidth || 0;
        (c = (qa(f) % 2) / 2),
          (a.x = ra(a.x || d.x || 0) + c),
          (a.y = ra(a.y || d.y || 0) + c),
          (a.width = ra((a.width || d.width || 0) - 2 * c)),
          (a.height = ra((a.height || d.height || 0) - 2 * c)),
          (a.strokeWidth = f);
        for (b in a) d[b] !== a[b] && (d[b] = e[b] = a[b]);
        return e;
      },
      css: function (a) {
        var b,
          c,
          d,
          f = this,
          g = f.styles,
          h = {},
          i = f.element,
          j = "",
          k = !g;
        if ((a && a.color && (a.fill = a.color), g))
          for (c in a) a[c] !== g[c] && ((h[c] = a[c]), (k = !0));
        if (k) {
          if (
            ((b = f.textWidth =
              (a &&
                a.width &&
                "text" === i.nodeName.toLowerCase() &&
                e(a.width)) ||
              f.textWidth),
            g && (a = tb(g, h)),
            (f.styles = a),
            b && (Ka || (!Ia && f.renderer.forExport)) && delete a.width,
            Ca && !Ia)
          )
            q(f.element, a);
          else {
            d = function (a, b) {
              return "-" + b.toLowerCase();
            };
            for (c in a) j += c.replace(/([A-Z])/g, d) + ":" + a[c] + ";";
            n(i, "style", j);
          }
          b && f.added && f.renderer.buildText(f);
        }
        return f;
      },
      on: function (a, b) {
        var c = this,
          d = c.element;
        return (
          R && "click" === a
            ? ((d.ontouchstart = function (a) {
                (c.touchEventFired = Y.now()), a.preventDefault(), b.call(d, a);
              }),
              (d.onclick = function (a) {
                (Aa.indexOf("Android") === -1 ||
                  Y.now() - (c.touchEventFired || 0) > 1100) &&
                  b.call(d, a);
              }))
            : (d["on" + a] = b),
          this
        );
      },
      setRadialReference: function (a) {
        var b = this.renderer.gradients[this.element.gradient];
        return (
          (this.element.radialReference = a),
          b &&
            b.radAttr &&
            b.animate(this.renderer.getRadialAttr(a, b.radAttr)),
          this
        );
      },
      translate: function (a, b) {
        return this.attr({ translateX: a, translateY: b });
      },
      invert: function () {
        var a = this;
        return (a.inverted = !0), a.updateTransform(), a;
      },
      updateTransform: function () {
        var a,
          b = this,
          c = b.translateX || 0,
          d = b.translateY || 0,
          e = b.scaleX,
          f = b.scaleY,
          g = b.inverted,
          h = b.rotation,
          i = b.element;
        g && ((c += b.attr("width")), (d += b.attr("height"))),
          (a = ["translate(" + c + "," + d + ")"]),
          g
            ? a.push("rotate(90) scale(-1,1)")
            : h &&
              a.push(
                "rotate(" +
                  h +
                  " " +
                  (i.getAttribute("x") || 0) +
                  " " +
                  (i.getAttribute("y") || 0) +
                  ")"
              ),
          (m(e) || m(f)) && a.push("scale(" + ub(e, 1) + " " + ub(f, 1) + ")"),
          a.length && i.setAttribute("transform", a.join(" "));
      },
      toFront: function () {
        var a = this.element;
        return a.parentNode.appendChild(a), this;
      },
      align: function (a, b, c) {
        var d,
          e,
          g,
          h,
          i,
          j = {},
          k = this.renderer,
          m = k.alignedObjects;
        return (
          a
            ? ((this.alignOptions = a),
              (this.alignByTranslate = b),
              (c && !f(c)) ||
                ((this.alignTo = i = c || "renderer"),
                l(m, this),
                m.push(this),
                (c = null)))
            : ((a = this.alignOptions),
              (b = this.alignByTranslate),
              (i = this.alignTo)),
          (c = ub(c, k[i], k)),
          (d = a.align),
          (e = a.verticalAlign),
          (g = (c.x || 0) + (a.x || 0)),
          (h = (c.y || 0) + (a.y || 0)),
          ("right" !== d && "center" !== d) ||
            (g += (c.width - (a.width || 0)) / { right: 1, center: 2 }[d]),
          (j[b ? "translateX" : "x"] = qa(g)),
          ("bottom" !== e && "middle" !== e) ||
            (h +=
              (c.height - (a.height || 0)) /
              ({ bottom: 1, middle: 2 }[e] || 1)),
          (j[b ? "translateY" : "y"] = qa(h)),
          this[this.placed ? "animate" : "attr"](j),
          (this.placed = !0),
          (this.alignAttr = j),
          this
        );
      },
      getBBox: function (a, b) {
        var c,
          d,
          e,
          f,
          g,
          h,
          i,
          j,
          k = this,
          l = k.renderer,
          m = k.element,
          n = k.styles,
          o = k.textStr,
          p = m.style,
          q = l.cache,
          r = l.cacheKeys;
        if (
          ((f = ub(b, k.rotation)),
          (g = f * za),
          o !== P &&
            ((j = ["", f || 0, n && n.fontSize, m.style.width].join(",")),
            (j =
              "" === o || ab.test(o)
                ? "num:" + o.toString().length + j
                : o + j)),
          j && !a && (c = q[j]),
          !c)
        ) {
          if (m.namespaceURI === Ha || l.forExport) {
            try {
              (i =
                this.fakeTS &&
                function (a) {
                  jb(
                    m.querySelectorAll("." + Wa + "text-shadow"),
                    function (b) {
                      b.style.display = a;
                    }
                  );
                }),
                Fa && p.textShadow
                  ? ((h = p.textShadow), (p.textShadow = ""))
                  : i && i(Za),
                (c = m.getBBox
                  ? tb({}, m.getBBox())
                  : { width: m.offsetWidth, height: m.offsetHeight }),
                h ? (p.textShadow = h) : i && i("");
            } catch (s) {}
            (!c || c.width < 0) && (c = { width: 0, height: 0 });
          } else c = k.htmlGetBBox();
          if (
            (l.isSVG &&
              ((d = c.width),
              (e = c.height),
              Ca &&
                n &&
                "11px" === n.fontSize &&
                "16.9" === e.toPrecision(3) &&
                (c.height = e = 14),
              f &&
                ((c.width = va(e * xa(g)) + va(d * wa(g))),
                (c.height = va(e * wa(g)) + va(d * xa(g))))),
            j)
          ) {
            for (; r.length > 250; ) delete q[r.shift()];
            q[j] || r.push(j), (q[j] = c);
          }
        }
        return c;
      },
      show: function (a) {
        return this.attr({ visibility: a ? "inherit" : Xa });
      },
      hide: function () {
        return this.attr({ visibility: Va });
      },
      fadeOut: function (a) {
        var b = this;
        b.animate(
          { opacity: 0 },
          {
            duration: a || 150,
            complete: function () {
              b.attr({ y: -9999 });
            },
          }
        );
      },
      add: function (a) {
        var b,
          c = this.renderer,
          d = this.element;
        return (
          a && (this.parentGroup = a),
          (this.parentInverted = a && a.inverted),
          void 0 !== this.textStr && c.buildText(this),
          (this.added = !0),
          (!a || a.handleZ || this.zIndex) && (b = this.zIndexSetter()),
          b || (a ? a.element : c.box).appendChild(d),
          this.onAdd && this.onAdd(),
          this
        );
      },
      safeRemoveChild: function (a) {
        var b = a.parentNode;
        b && b.removeChild(a);
      },
      destroy: function () {
        var a,
          b,
          c,
          d = this,
          e = d.element || {},
          f = d.shadows,
          g = d.renderer.isSVG && "SPAN" === e.nodeName && d.parentGroup;
        if (
          ((e.onclick =
            e.onmouseout =
            e.onmouseover =
            e.onmousemove =
            e.point =
              null),
          rb(d),
          d.clipPath && (d.clipPath = d.clipPath.destroy()),
          d.stops)
        ) {
          for (c = 0; c < d.stops.length; c++)
            d.stops[c] = d.stops[c].destroy();
          d.stops = null;
        }
        for (
          d.safeRemoveChild(e),
            f &&
              jb(f, function (a) {
                d.safeRemoveChild(a);
              });
          g && g.div && 0 === g.div.childNodes.length;

        )
          (a = g.parentGroup), d.safeRemoveChild(g.div), delete g.div, (g = a);
        d.alignTo && l(d.renderer.alignedObjects, d);
        for (b in d) delete d[b];
        return null;
      },
      shadow: function (a, b, c) {
        var d,
          e,
          f,
          g,
          h,
          i,
          j = [],
          k = this.element;
        if (a) {
          for (
            g = ub(a.width, 3),
              h = (a.opacity || 0.15) / g,
              i = this.parentInverted
                ? "(-1,-1)"
                : "(" + ub(a.offsetX, 1) + ", " + ub(a.offsetY, 1) + ")",
              d = 1;
            d <= g;
            d++
          )
            (e = k.cloneNode(0)),
              (f = 2 * g + 1 - 2 * d),
              n(e, {
                isShadow: "true",
                stroke: a.color || "black",
                "stroke-opacity": h * d,
                "stroke-width": f,
                transform: "translate" + i,
                fill: Za,
              }),
              c &&
                (n(e, "height", ta(n(e, "height") - f, 0)), (e.cutHeight = f)),
              b ? b.element.appendChild(e) : k.parentNode.insertBefore(e, k),
              j.push(e);
          this.shadows = j;
        }
        return this;
      },
      xGetter: function (a) {
        return (
          "circle" === this.element.nodeName &&
            (a = { x: "cx", y: "cy" }[a] || a),
          this._defaultGetter(a)
        );
      },
      _defaultGetter: function (a) {
        var b = ub(
          this[a],
          this.element ? this.element.getAttribute(a) : null,
          0
        );
        return /^[\-0-9\.]+$/.test(b) && (b = parseFloat(b)), b;
      },
      dSetter: function (a, b, c) {
        a && a.join && (a = a.join(" ")),
          /(NaN| {2}|^$)/.test(a) && (a = "M 0 0"),
          c.setAttribute(b, a),
          (this[b] = a);
      },
      dashstyleSetter: function (a) {
        var b;
        if ((a = a && a.toLowerCase())) {
          for (
            a = a
              .replace("shortdashdotdot", "3,1,1,1,1,1,")
              .replace("shortdashdot", "3,1,1,1")
              .replace("shortdot", "1,1,")
              .replace("shortdash", "3,1,")
              .replace("longdash", "8,3,")
              .replace(/dot/g, "1,3,")
              .replace("dash", "4,3,")
              .replace(/,$/, "")
              .split(","),
              b = a.length;
            b--;

          )
            a[b] = e(a[b]) * this["stroke-width"];
          (a = a.join(",").replace("NaN", "none")),
            this.element.setAttribute("stroke-dasharray", a);
        }
      },
      alignSetter: function (a) {
        this.element.setAttribute(
          "text-anchor",
          { left: "start", center: "middle", right: "end" }[a]
        );
      },
      opacitySetter: function (a, b, c) {
        (this[b] = a), c.setAttribute(b, a);
      },
      titleSetter: function (a) {
        var b = this.element.getElementsByTagName("title")[0];
        b ||
          ((b = oa.createElementNS(Ha, "title")), this.element.appendChild(b)),
          b.appendChild(
            oa.createTextNode(String(ub(a), "").replace(/<[^>]*>/g, ""))
          );
      },
      textSetter: function (a) {
        a !== this.textStr &&
          (delete this.bBox,
          (this.textStr = a),
          this.added && this.renderer.buildText(this));
      },
      fillSetter: function (a, b, c) {
        "string" == typeof a
          ? c.setAttribute(b, a)
          : a && this.colorGradient(a, b, c);
      },
      visibilitySetter: function (a, b, c) {
        "inherit" === a ? c.removeAttribute(b) : c.setAttribute(b, a);
      },
      zIndexSetter: function (a, b) {
        var c,
          d,
          f,
          g,
          h,
          i = this.renderer,
          j = this.parentGroup,
          k = j || i,
          l = k.element || i.box,
          o = this.element,
          p = this.added;
        if (
          (m(a) &&
            (o.setAttribute(b, a),
            (a = +a),
            this[b] === a && (p = !1),
            (this[b] = a)),
          p)
        ) {
          for (
            a = this.zIndex,
              a && j && (j.handleZ = !0),
              c = l.childNodes,
              h = 0;
            h < c.length && !g;
            h++
          )
            (d = c[h]),
              (f = n(d, "zIndex")),
              d !== o &&
                (e(f) > a || (!m(a) && m(f))) &&
                (l.insertBefore(o, d), (g = !0));
          g || l.appendChild(o);
        }
        return g;
      },
      _defaultSetter: function (a, b, c) {
        c.setAttribute(b, a);
      },
    }),
    (L.prototype.yGetter = L.prototype.xGetter),
    (L.prototype.translateXSetter =
      L.prototype.translateYSetter =
      L.prototype.rotationSetter =
      L.prototype.verticalAlignSetter =
      L.prototype.scaleXSetter =
      L.prototype.scaleYSetter =
        function (a, b) {
          (this[b] = a), (this.doTransform = !0);
        }),
    (L.prototype["stroke-widthSetter"] = L.prototype.strokeSetter =
      function (a, b, c) {
        (this[b] = a),
          this.stroke && this["stroke-width"]
            ? ((this.strokeWidth = this["stroke-width"]),
              L.prototype.fillSetter.call(this, this.stroke, "stroke", c),
              c.setAttribute("stroke-width", this["stroke-width"]),
              (this.hasStroke = !0))
            : "stroke-width" === b &&
              0 === a &&
              this.hasStroke &&
              (c.removeAttribute("stroke"), (this.hasStroke = !1));
      });
  var yb = function () {
    this.init.apply(this, arguments);
  };
  (yb.prototype = {
    Element: L,
    init: function (b, c, d, e, f, g) {
      var h,
        i,
        j,
        k = this;
      (h = k
        .createElement("svg")
        .attr({ version: "1.1" })
        .css(this.getStyle(e))),
        (i = h.element),
        b.appendChild(i),
        b.innerHTML.indexOf("xmlns") === -1 && n(i, "xmlns", Ha),
        (k.isSVG = !0),
        (k.box = i),
        (k.boxWrapper = h),
        (k.alignedObjects = []),
        (k.url =
          (Fa || Ea) && oa.getElementsByTagName("base").length
            ? a.location.href
                .replace(/#.*?$/, "")
                .replace(/([\('\)])/g, "\\$1")
                .replace(/ /g, "%20")
            : ""),
        (j = this.createElement("desc").add()),
        j.element.appendChild(
          oa.createTextNode("Created with " + Qa + " " + Ra)
        ),
        (k.defs = this.createElement("defs").add()),
        (k.allowHTML = g),
        (k.forExport = f),
        (k.gradients = {}),
        (k.cache = {}),
        (k.cacheKeys = []),
        k.setSize(c, d, !1);
      var l, m;
      Fa &&
        b.getBoundingClientRect &&
        ((k.subPixelFix = l =
          function () {
            q(b, { left: 0, top: 0 }),
              (m = b.getBoundingClientRect()),
              q(b, {
                left: sa(m.left) - m.left + Ya,
                top: sa(m.top) - m.top + Ya,
              });
          }),
        l(),
        nb(a, "resize", l));
    },
    getStyle: function (a) {
      return (
        (this.style = tb(
          {
            fontFamily:
              '"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',
            fontSize: "12px",
          },
          a
        )),
        this.style
      );
    },
    isHidden: function () {
      return !this.boxWrapper.getBBox().width;
    },
    destroy: function () {
      var b = this,
        c = b.defs;
      return (
        (b.box = null),
        (b.boxWrapper = b.boxWrapper.destroy()),
        D(b.gradients || {}),
        (b.gradients = null),
        c && (b.defs = c.destroy()),
        b.subPixelFix && ob(a, "resize", b.subPixelFix),
        (b.alignedObjects = null),
        null
      );
    },
    createElement: function (a) {
      var b = new this.Element();
      return b.init(this, a), b;
    },
    draw: function () {},
    getRadialAttr: function (a, b) {
      return {
        cx: a[0] - a[2] / 2 + b.cx * a[2],
        cy: a[1] - a[2] / 2 + b.cy * a[2],
        r: b.r * a[2],
      };
    },
    buildText: function (a) {
      for (
        var b,
          c,
          d,
          f = a.element,
          g = this,
          h = g.forExport,
          i = ub(a.textStr, "").toString(),
          j = i.indexOf("<") !== -1,
          k = f.childNodes,
          l = n(f, "x"),
          m = a.styles,
          o = a.textWidth,
          p = m && m.lineHeight,
          r = m && m.textShadow,
          s = m && "ellipsis" === m.textOverflow,
          t = k.length,
          u = o && !a.added && this.box,
          v = function (a) {
            return p
              ? e(p)
              : g.fontMetrics(
                  /(px|em)$/.test(a && a.style.fontSize)
                    ? a.style.fontSize
                    : (m && m.fontSize) || g.style.fontSize || 12,
                  a
                ).h;
          },
          w = function (a) {
            return a.replace(/&lt;/g, "<").replace(/&gt;/g, ">");
          };
        t--;

      )
        f.removeChild(k[t]);
      j || r || s || i.indexOf(" ") !== -1
        ? ((c = /<.*style="([^"]+)".*>/),
          (d = /<.*href="(http[^"]+)".*>/),
          u && u.appendChild(f),
          (b = j
            ? i
                .replace(/<(b|strong)>/g, '<span style="font-weight:bold">')
                .replace(/<(i|em)>/g, '<span style="font-style:italic">')
                .replace(/<a/g, "<span")
                .replace(/<\/(b|strong|i|em|a)>/g, "</span>")
                .split(/<br.*?>/g)
            : [i]),
          "" === b[b.length - 1] && b.pop(),
          jb(b, function (b, e) {
            var i,
              j = 0;
            (b = b
              .replace(/<span/g, "|||<span")
              .replace(/<\/span>/g, "</span>|||")),
              (i = b.split("|||")),
              jb(i, function (b) {
                if ("" !== b || 1 === i.length) {
                  var k,
                    p = {},
                    r = oa.createElementNS(Ha, "tspan");
                  if (
                    (c.test(b) &&
                      ((k = b
                        .match(c)[1]
                        .replace(/(;| |^)color([ :])/, "$1fill$2")),
                      n(r, "style", k)),
                    d.test(b) &&
                      !h &&
                      (n(r, "onclick", 'location.href="' + b.match(d)[1] + '"'),
                      q(r, { cursor: "pointer" })),
                    (b = w(b.replace(/<(.|\n)*?>/g, "") || " ")),
                    " " !== b)
                  ) {
                    if (
                      (r.appendChild(oa.createTextNode(b)),
                      j ? (p.dx = 0) : e && null !== l && (p.x = l),
                      n(r, p),
                      f.appendChild(r),
                      !j &&
                        e &&
                        (!Ia && h && q(r, { display: "block" }),
                        n(r, "dy", v(r))),
                      o)
                    ) {
                      for (
                        var t,
                          u,
                          x,
                          y,
                          z = b.replace(/([^\^])-/g, "$1- ").split(" "),
                          A =
                            i.length > 1 ||
                            e ||
                            (z.length > 1 && "nowrap" !== m.whiteSpace),
                          B = [],
                          C = v(r),
                          D = 1,
                          E = a.rotation,
                          F = b,
                          G = F.length;
                        (A || s) && (z.length || B.length);

                      )
                        (a.rotation = 0),
                          (y = a.getBBox(!0)),
                          (x = y.width),
                          !Ia &&
                            g.forExport &&
                            (x = g.measureSpanWidth(
                              r.firstChild.data,
                              a.styles
                            )),
                          (t = x > o),
                          void 0 === u && (u = t),
                          s && u
                            ? ((G /= 2),
                              "" === F || (!t && G < 0.5)
                                ? (z = [])
                                : (t && (u = !0),
                                  (F = b.substring(
                                    0,
                                    F.length + (t ? -1 : 1) * sa(G)
                                  )),
                                  (z = [F + (o > 3 ? "…" : "")]),
                                  r.removeChild(r.firstChild)))
                            : t && 1 !== z.length
                            ? (r.removeChild(r.firstChild), B.unshift(z.pop()))
                            : ((z = B),
                              (B = []),
                              z.length &&
                                (D++,
                                (r = oa.createElementNS(Ha, "tspan")),
                                n(r, { dy: C, x: l }),
                                k && n(r, "style", k),
                                f.appendChild(r)),
                              x > o && (o = x)),
                          z.length &&
                            r.appendChild(
                              oa.createTextNode(z.join(" ").replace(/- /g, "-"))
                            );
                      u && a.attr("title", a.textStr), (a.rotation = E);
                    }
                    j++;
                  }
                }
              });
          }),
          u && u.removeChild(f),
          r && a.applyTextShadow && a.applyTextShadow(r))
        : f.appendChild(oa.createTextNode(w(i)));
    },
    getContrast: function (a) {
      return (a = K(a).rgba), a[0] + a[1] + a[2] > 384 ? "#000000" : "#FFFFFF";
    },
    button: function (a, b, c, e, f, g, h, i, j) {
      var k,
        l,
        m,
        n,
        o,
        p,
        q = this.label(a, b, c, j, null, null, null, null, "button"),
        r = 0,
        s = { x1: 0, y1: 0, x2: 0, y2: 1 };
      return (
        (f = d(
          {
            "stroke-width": 1,
            stroke: "#CCCCCC",
            fill: {
              linearGradient: s,
              stops: [
                [0, "#FEFEFE"],
                [1, "#F6F6F6"],
              ],
            },
            r: 2,
            padding: 5,
            style: { color: "black" },
          },
          f
        )),
        (m = f.style),
        delete f.style,
        (g = d(
          f,
          {
            stroke: "#68A",
            fill: {
              linearGradient: s,
              stops: [
                [0, "#FFF"],
                [1, "#ACF"],
              ],
            },
          },
          g
        )),
        (n = g.style),
        delete g.style,
        (h = d(
          f,
          {
            stroke: "#68A",
            fill: {
              linearGradient: s,
              stops: [
                [0, "#9BD"],
                [1, "#CDF"],
              ],
            },
          },
          h
        )),
        (o = h.style),
        delete h.style,
        (i = d(f, { style: { color: "#CCC" } }, i)),
        (p = i.style),
        delete i.style,
        nb(q.element, Ca ? "mouseover" : "mouseenter", function () {
          3 !== r && q.attr(g).css(n);
        }),
        nb(q.element, Ca ? "mouseout" : "mouseleave", function () {
          3 !== r && ((k = [f, g, h][r]), (l = [m, n, o][r]), q.attr(k).css(l));
        }),
        (q.setState = function (a) {
          (q.state = r = a),
            a
              ? 2 === a
                ? q.attr(h).css(o)
                : 3 === a && q.attr(i).css(p)
              : q.attr(f).css(m);
        }),
        q
          .on("click", function (a) {
            3 !== r && e.call(q, a);
          })
          .attr(f)
          .css(tb({ cursor: "default" }, m))
      );
    },
    crispLine: function (a, b) {
      return (
        a[1] === a[4] && (a[1] = a[4] = qa(a[1]) - (b % 2) / 2),
        a[2] === a[5] && (a[2] = a[5] = qa(a[2]) + (b % 2) / 2),
        a
      );
    },
    path: function (a) {
      var b = { fill: Za };
      return (
        h(a) ? (b.d = a) : g(a) && tb(b, a), this.createElement("path").attr(b)
      );
    },
    circle: function (a, b, c) {
      var d = g(a) ? a : { x: a, y: b, r: c },
        e = this.createElement("circle");
      return (
        (e.xSetter = function (a) {
          this.element.setAttribute("cx", a);
        }),
        (e.ySetter = function (a) {
          this.element.setAttribute("cy", a);
        }),
        e.attr(d)
      );
    },
    arc: function (a, b, c, d, e, f) {
      var h;
      return (
        g(a) &&
          ((b = a.y),
          (c = a.r),
          (d = a.innerR),
          (e = a.start),
          (f = a.end),
          (a = a.x)),
        (h = this.symbol("arc", a || 0, b || 0, c || 0, c || 0, {
          innerR: d || 0,
          start: e || 0,
          end: f || 0,
        })),
        (h.r = c),
        h
      );
    },
    rect: function (a, b, c, d, e, f) {
      e = g(a) ? a.r : e;
      var h = this.createElement("rect"),
        i = g(a)
          ? a
          : a === P
          ? {}
          : { x: a, y: b, width: ta(c, 0), height: ta(d, 0) };
      return (
        f !== P && ((i.strokeWidth = f), (i = h.crisp(i))),
        e && (i.r = e),
        (h.rSetter = function (a) {
          n(this.element, { rx: a, ry: a });
        }),
        h.attr(i)
      );
    },
    setSize: function (a, b, c) {
      var d = this,
        e = d.alignedObjects,
        f = e.length;
      for (
        d.width = a,
          d.height = b,
          d.boxWrapper[ub(c, !0) ? "animate" : "attr"]({ width: a, height: b });
        f--;

      )
        e[f].align();
    },
    g: function (a) {
      var b = this.createElement("g");
      return m(a) ? b.attr({ class: Wa + a }) : b;
    },
    image: function (a, b, c, d, e) {
      var f,
        g = { preserveAspectRatio: Za };
      return (
        arguments.length > 1 && tb(g, { x: b, y: c, width: d, height: e }),
        (f = this.createElement("image").attr(g)),
        f.element.setAttributeNS
          ? f.element.setAttributeNS("http://www.w3.org/1999/xlink", "href", a)
          : f.element.setAttribute("hc-svg-href", a),
        f
      );
    },
    symbol: function (a, b, c, d, e, f) {
      var g,
        h,
        i,
        j,
        k = this.symbols[a],
        l = k && k(qa(b), qa(c), d, e, f),
        m = /^url\((.*?)\)$/;
      return (
        l
          ? ((g = this.path(l)),
            tb(g, { symbolName: a, x: b, y: c, width: d, height: e }),
            f && tb(g, f))
          : m.test(a) &&
            ((j = function (a, b) {
              a.element &&
                (a.attr({ width: b[0], height: b[1] }),
                a.alignByTranslate ||
                  a.translate(qa((d - b[0]) / 2), qa((e - b[1]) / 2)));
            }),
            (h = a.match(m)[1]),
            (i = La[h] || (f && f.width && f.height && [f.width, f.height])),
            (g = this.image(h).attr({ x: b, y: c })),
            (g.isImg = !0),
            i
              ? j(g, i)
              : (g.attr({ width: 0, height: 0 }),
                r("img", {
                  onload: function () {
                    0 === this.width &&
                      (q(this, { position: Ta, top: "-999em" }),
                      oa.body.appendChild(this)),
                      j(g, (La[h] = [this.width, this.height])),
                      this.parentNode && this.parentNode.removeChild(this);
                  },
                  src: h,
                }))),
        g
      );
    },
    symbols: {
      circle: function (a, b, c, d) {
        var e = 0.166 * c;
        return [
          $a,
          a + c / 2,
          b,
          "C",
          a + c + e,
          b,
          a + c + e,
          b + d,
          a + c / 2,
          b + d,
          "C",
          a - e,
          b + d,
          a - e,
          b,
          a + c / 2,
          b,
          "Z",
        ];
      },
      square: function (a, b, c, d) {
        return [$a, a, b, _a, a + c, b, a + c, b + d, a, b + d, "Z"];
      },
      triangle: function (a, b, c, d) {
        return [$a, a + c / 2, b, _a, a + c, b + d, a, b + d, "Z"];
      },
      "triangle-down": function (a, b, c, d) {
        return [$a, a, b, _a, a + c, b, a + c / 2, b + d, "Z"];
      },
      diamond: function (a, b, c, d) {
        return [
          $a,
          a + c / 2,
          b,
          _a,
          a + c,
          b + d / 2,
          a + c / 2,
          b + d,
          a,
          b + d / 2,
          "Z",
        ];
      },
      arc: function (a, b, c, d, e) {
        var f = e.start,
          g = e.r || c || d,
          h = e.end - 0.001,
          i = e.innerR,
          j = e.open,
          k = wa(f),
          l = xa(f),
          m = wa(h),
          n = xa(h),
          o = e.end - f < ya ? 0 : 1;
        return [
          $a,
          a + g * k,
          b + g * l,
          "A",
          g,
          g,
          0,
          o,
          1,
          a + g * m,
          b + g * n,
          j ? $a : _a,
          a + i * m,
          b + i * n,
          "A",
          i,
          i,
          0,
          o,
          0,
          a + i * k,
          b + i * l,
          j ? "" : "Z",
        ];
      },
      callout: function (a, b, c, d, e) {
        var f,
          g = 6,
          h = 6,
          i = ua((e && e.r) || 0, c, d),
          j = i + h,
          k = e && e.anchorX,
          l = e && e.anchorY;
        return (
          (f = [
            "M",
            a + i,
            b,
            "L",
            a + c - i,
            b,
            "C",
            a + c,
            b,
            a + c,
            b,
            a + c,
            b + i,
            "L",
            a + c,
            b + d - i,
            "C",
            a + c,
            b + d,
            a + c,
            b + d,
            a + c - i,
            b + d,
            "L",
            a + i,
            b + d,
            "C",
            a,
            b + d,
            a,
            b + d,
            a,
            b + d - i,
            "L",
            a,
            b + i,
            "C",
            a,
            b,
            a,
            b,
            a + i,
            b,
          ]),
          k && k > c && l > b + j && l < b + d - j
            ? f.splice(
                13,
                3,
                "L",
                a + c,
                l - h,
                a + c + g,
                l,
                a + c,
                l + h,
                a + c,
                b + d - i
              )
            : k && k < 0 && l > b + j && l < b + d - j
            ? f.splice(33, 3, "L", a, l + h, a - g, l, a, l - h, a, b + i)
            : l && l > d && k > a + j && k < a + c - j
            ? f.splice(
                23,
                3,
                "L",
                k + h,
                b + d,
                k,
                b + d + g,
                k - h,
                b + d,
                a + i,
                b + d
              )
            : l &&
              l < 0 &&
              k > a + j &&
              k < a + c - j &&
              f.splice(3, 3, "L", k - h, b, k, b - g, k + h, b, c - i, b),
          f
        );
      },
    },
    clipRect: function (a, b, c, d) {
      var e,
        f = Wa + Ma++,
        g = this.createElement("clipPath").attr({ id: f }).add(this.defs);
      return (
        (e = this.rect(a, b, c, d, 0).add(g)),
        (e.id = f),
        (e.clipPath = g),
        (e.count = 0),
        e
      );
    },
    text: function (a, b, c, d) {
      var e,
        f = this,
        g = Ka || (!Ia && f.forExport),
        h = {};
      return !d || (!f.allowHTML && f.forExport)
        ? ((h.x = Math.round(b || 0)),
          c && (h.y = Math.round(c)),
          (a || 0 === a) && (h.text = a),
          (e = f.createElement("text").attr(h)),
          g && e.css({ position: Ta }),
          d ||
            (e.xSetter = function (a, b, c) {
              var d,
                e,
                f = c.getElementsByTagName("tspan"),
                g = c.getAttribute(b);
              for (e = 0; e < f.length; e++)
                (d = f[e]), d.getAttribute(b) === g && d.setAttribute(b, a);
              c.setAttribute(b, a);
            }),
          e)
        : f.html(a, b, c);
    },
    fontMetrics: function (b, c) {
      var d, f, g;
      return (
        (b = b || this.style.fontSize),
        !b &&
          c &&
          a.getComputedStyle &&
          ((c = c.element || c),
          (g = a.getComputedStyle(c, "")),
          (b = g && g.fontSize)),
        (b = /px/.test(b) ? e(b) : /em/.test(b) ? 12 * parseFloat(b) : 12),
        (d = b < 24 ? b + 3 : qa(1.2 * b)),
        (f = qa(0.8 * d)),
        { h: d, b: f, f: b }
      );
    },
    rotCorr: function (a, b, c) {
      var d = a;
      return (
        b && c && (d = ta(d * wa(b * za), 4)),
        { x: (-a / 3) * xa(b * za), y: d }
      );
    },
    label: function (a, b, c, e, f, g, h, i, j) {
      var k,
        l,
        n,
        o,
        p,
        q,
        r,
        s,
        t,
        u,
        v,
        w = this,
        x = w.g(j),
        y = w.text("", 0, 0, h).attr({ zIndex: 1 }),
        z = 0,
        A = 3,
        B = 0,
        C = 0,
        D = {};
      (t = function () {
        var a,
          b,
          c = y.element.style;
        (l =
          (void 0 === n || void 0 === o || x.styles.textAlign) &&
          m(y.textStr) &&
          y.getBBox()),
          (x.width = (n || l.width || 0) + 2 * A + B),
          (x.height = (o || l.height || 0) + 2 * A),
          (r = A + w.fontMetrics(c && c.fontSize, y).b),
          s &&
            (k ||
              ((a = C),
              (b = (i ? -r : 0) + C),
              (x.box = k =
                e
                  ? w.symbol(e, a, b, x.width, x.height, D)
                  : w.rect(a, b, x.width, x.height, 0, D[fb])),
              k.isImg || k.attr("fill", Za),
              k.add(x)),
            k.isImg ||
              k.attr(tb({ width: qa(x.width), height: qa(x.height) }, D)),
            (D = null));
      }),
        (u = function () {
          var a,
            b = x.styles,
            c = b && b.textAlign,
            d = B + A;
          (a = i ? 0 : r),
            m(n) &&
              l &&
              ("center" === c || "right" === c) &&
              (d += { center: 0.5, right: 1 }[c] * (n - l.width)),
            (d === y.x && a === y.y) ||
              (y.attr("x", d), a !== P && y.attr("y", a)),
            (y.x = d),
            (y.y = a);
        }),
        (v = function (a, b) {
          k ? k.attr(a, b) : (D[a] = b);
        }),
        (x.onAdd = function () {
          y.add(x),
            x.attr({ text: a || 0 === a ? a : "", x: b, y: c }),
            k && m(f) && x.attr({ anchorX: f, anchorY: g });
        }),
        (x.widthSetter = function (a) {
          n = a;
        }),
        (x.heightSetter = function (a) {
          o = a;
        }),
        (x.paddingSetter = function (a) {
          m(a) && a !== A && ((A = x.padding = a), u());
        }),
        (x.paddingLeftSetter = function (a) {
          m(a) && a !== B && ((B = a), u());
        }),
        (x.alignSetter = function (a) {
          (a = { left: 0, center: 0.5, right: 1 }[a]),
            a !== z && ((z = a), l && x.attr({ x: b }));
        }),
        (x.textSetter = function (a) {
          a !== P && y.textSetter(a), t(), u();
        }),
        (x["stroke-widthSetter"] = function (a, b) {
          a && (s = !0), (C = (a % 2) / 2), v(b, a);
        }),
        (x.strokeSetter =
          x.fillSetter =
          x.rSetter =
            function (a, b) {
              "fill" === b && a && (s = !0), v(b, a);
            }),
        (x.anchorXSetter = function (a, b) {
          (f = a), v(b, qa(a) - C - p);
        }),
        (x.anchorYSetter = function (a, b) {
          (g = a), v(b, a - q);
        }),
        (x.xSetter = function (a) {
          (x.x = a),
            z && (a -= z * ((n || l.width) + 2 * A)),
            (p = qa(a)),
            x.attr("translateX", p);
        }),
        (x.ySetter = function (a) {
          (q = x.y = qa(a)), x.attr("translateY", q);
        });
      var E = x.css;
      return tb(x, {
        css: function (a) {
          if (a) {
            var b = {};
            (a = d(a)),
              jb(x.textProps, function (c) {
                a[c] !== P && ((b[c] = a[c]), delete a[c]);
              }),
              y.css(b);
          }
          return E.call(x, a);
        },
        getBBox: function () {
          return {
            width: l.width + 2 * A,
            height: l.height + 2 * A,
            x: l.x - A,
            y: l.y - A,
          };
        },
        shadow: function (a) {
          return k && k.shadow(a), x;
        },
        destroy: function () {
          ob(x.element, "mouseenter"),
            ob(x.element, "mouseleave"),
            y && (y = y.destroy()),
            k && (k = k.destroy()),
            L.prototype.destroy.call(x),
            (x = w = t = u = v = null);
        },
      });
    },
  }),
    (Q = yb),
    tb(L.prototype, {
      htmlCss: function (a) {
        var b = this,
          c = b.element,
          d = a && "SPAN" === c.tagName && a.width;
        return (
          d && (delete a.width, (b.textWidth = d), b.updateTransform()),
          a &&
            "ellipsis" === a.textOverflow &&
            ((a.whiteSpace = "nowrap"), (a.overflow = "hidden")),
          (b.styles = tb(b.styles, a)),
          q(b.element, a),
          b
        );
      },
      htmlGetBBox: function () {
        var a = this,
          b = a.element;
        return (
          "text" === b.nodeName && (b.style.position = Ta),
          {
            x: b.offsetLeft,
            y: b.offsetTop,
            width: b.offsetWidth,
            height: b.offsetHeight,
          }
        );
      },
      htmlUpdateTransform: function () {
        if (!this.added) return void (this.alignOnAdd = !0);
        var a = this,
          b = a.renderer,
          c = a.element,
          d = a.translateX || 0,
          f = a.translateY || 0,
          g = a.x || 0,
          h = a.y || 0,
          i = a.textAlign || "left",
          j = { left: 0, center: 0.5, right: 1 }[i],
          k = a.shadows,
          l = a.styles;
        if (
          (q(c, { marginLeft: d, marginTop: f }),
          k &&
            jb(k, function (a) {
              q(a, { marginLeft: d + 1, marginTop: f + 1 });
            }),
          a.inverted &&
            jb(c.childNodes, function (a) {
              b.invertChild(a, c);
            }),
          "SPAN" === c.tagName)
        ) {
          var n,
            o,
            p = a.rotation,
            r = e(a.textWidth),
            s = [p, i, c.innerHTML, a.textWidth, a.textAlign].join(",");
          s !== a.cTT &&
            ((o = b.fontMetrics(c.style.fontSize).b),
            m(p) && a.setSpanRotation(p, j, o),
            (n = ub(a.elemWidth, c.offsetWidth)),
            n > r &&
              /[ \-]/.test(c.textContent || c.innerText) &&
              (q(c, {
                width: r + Ya,
                display: "block",
                whiteSpace: (l && l.whiteSpace) || "normal",
              }),
              (n = r)),
            a.getSpanCorrection(n, o, j, p, i)),
            q(c, {
              left: g + (a.xCorr || 0) + Ya,
              top: h + (a.yCorr || 0) + Ya,
            }),
            Ea && (o = c.offsetHeight),
            (a.cTT = s);
        }
      },
      setSpanRotation: function (a, b, c) {
        var d = {},
          e = Ca
            ? "-ms-transform"
            : Ea
            ? "-webkit-transform"
            : Fa
            ? "MozTransform"
            : Ba
            ? "-o-transform"
            : "";
        (d[e] = d.transform = "rotate(" + a + "deg)"),
          (d[e + (Fa ? "Origin" : "-origin")] = d.transformOrigin =
            100 * b + "% " + c + "px"),
          q(this.element, d);
      },
      getSpanCorrection: function (a, b, c) {
        (this.xCorr = -a * c), (this.yCorr = -b);
      },
    }),
    tb(yb.prototype, {
      html: function (a, b, c) {
        var d = this.createElement("span"),
          e = d.element,
          f = d.renderer;
        return (
          (d.textSetter = function (a) {
            a !== e.innerHTML && delete this.bBox,
              (e.innerHTML = this.textStr = a),
              d.htmlUpdateTransform();
          }),
          (d.xSetter =
            d.ySetter =
            d.alignSetter =
            d.rotationSetter =
              function (a, b) {
                "align" === b && (b = "textAlign"),
                  (d[b] = a),
                  d.htmlUpdateTransform();
              }),
          d.attr({ text: a, x: qa(b), y: qa(c) }).css({
            position: Ta,
            fontFamily: this.style.fontFamily,
            fontSize: this.style.fontSize,
          }),
          (e.style.whiteSpace = "nowrap"),
          (d.css = d.htmlCss),
          f.isSVG &&
            (d.add = function (a) {
              var b,
                c,
                g = f.box.parentNode,
                h = [];
              if (((this.parentGroup = a), a)) {
                if (((b = a.div), !b)) {
                  for (c = a; c; ) h.push(c), (c = c.parentGroup);
                  jb(h.reverse(), function (a) {
                    var c,
                      d = n(a.element, "class");
                    d && (d = { className: d }),
                      (b = a.div =
                        a.div ||
                        r(
                          Sa,
                          d,
                          {
                            position: Ta,
                            left: (a.translateX || 0) + Ya,
                            top: (a.translateY || 0) + Ya,
                          },
                          b || g
                        )),
                      (c = b.style),
                      tb(a, {
                        translateXSetter: function (b, d) {
                          (c.left = b + Ya), (a[d] = b), (a.doTransform = !0);
                        },
                        translateYSetter: function (b, d) {
                          (c.top = b + Ya), (a[d] = b), (a.doTransform = !0);
                        },
                      }),
                      jb(["opacity", "visibility"], function (b) {
                        vb(a, b + "Setter", function (a, b, d, e) {
                          a.call(this, b, d, e), (c[d] = b);
                        });
                      });
                  });
                }
              } else b = g;
              return (
                b.appendChild(e),
                (d.added = !0),
                d.alignOnAdd && d.htmlUpdateTransform(),
                d
              );
            }),
          d
        );
      },
    });
  var zb, Ab;
  if (!Ia && !Ka) {
    (Ab = {
      init: function (a, b) {
        var c = this,
          d = ["<", b, ' filled="f" stroked="f"'],
          e = ["position: ", Ta, ";"],
          f = b === Sa;
        ("shape" === b || f) && e.push("left:0;top:0;width:1px;height:1px;"),
          e.push("visibility: ", f ? Va : Xa),
          d.push(' style="', e.join(""), '"/>'),
          b &&
            ((d = f || "span" === b || "img" === b ? d.join("") : a.prepVML(d)),
            (c.element = r(d))),
          (c.renderer = a);
      },
      add: function (a) {
        var b = this,
          c = b.renderer,
          d = b.element,
          e = c.box,
          f = a && a.inverted,
          g = a ? a.element || a : e;
        return (
          a && (this.parentGroup = a),
          f && c.invertChild(d, g),
          g.appendChild(d),
          (b.added = !0),
          b.alignOnAdd && !b.deferUpdateTransform && b.updateTransform(),
          b.onAdd && b.onAdd(),
          b
        );
      },
      updateTransform: L.prototype.htmlUpdateTransform,
      setSpanRotation: function () {
        var a = this.rotation,
          b = wa(a * za),
          c = xa(a * za);
        q(this.element, {
          filter: a
            ? [
                "progid:DXImageTransform.Microsoft.Matrix(M11=",
                b,
                ", M12=",
                -c,
                ", M21=",
                c,
                ", M22=",
                b,
                ", sizingMethod='auto expand')",
              ].join("")
            : Za,
        });
      },
      getSpanCorrection: function (a, b, c, d, e) {
        var f,
          g = d ? wa(d * za) : 1,
          h = d ? xa(d * za) : 0,
          i = ub(this.elemHeight, this.element.offsetHeight),
          j = e && "left" !== e;
        (this.xCorr = g < 0 && -a),
          (this.yCorr = h < 0 && -i),
          (f = g * h < 0),
          (this.xCorr += h * b * (f ? 1 - c : c)),
          (this.yCorr -= g * b * (d ? (f ? c : 1 - c) : 1)),
          j &&
            ((this.xCorr -= a * c * (g < 0 ? -1 : 1)),
            d && (this.yCorr -= i * c * (h < 0 ? -1 : 1)),
            q(this.element, { textAlign: e }));
      },
      pathToVML: function (a) {
        for (var b = a.length, c = []; b--; )
          i(a[b])
            ? (c[b] = qa(10 * a[b]) - 5)
            : "Z" === a[b]
            ? (c[b] = "x")
            : ((c[b] = a[b]),
              !a.isArc ||
                ("wa" !== a[b] && "at" !== a[b]) ||
                (c[b + 5] === c[b + 7] &&
                  (c[b + 7] += a[b + 7] > a[b + 5] ? 1 : -1),
                c[b + 6] === c[b + 8] &&
                  (c[b + 8] += a[b + 8] > a[b + 6] ? 1 : -1)));
        return c.join(" ") || "x";
      },
      clip: function (a) {
        var b,
          c,
          d = this;
        return (
          a
            ? ((b = a.members),
              l(b, d),
              b.push(d),
              (d.destroyClip = function () {
                l(b, d);
              }),
              (c = a.getCSS(d)))
            : (d.destroyClip && d.destroyClip(),
              (c = { clip: Da ? "inherit" : "rect(auto)" })),
          d.css(c)
        );
      },
      css: L.prototype.htmlCss,
      safeRemoveChild: function (a) {
        a.parentNode && E(a);
      },
      destroy: function () {
        return (
          this.destroyClip && this.destroyClip(),
          L.prototype.destroy.apply(this)
        );
      },
      on: function (b, c) {
        return (
          (this.element["on" + b] = function () {
            var b = a.event;
            (b.target = b.srcElement), c(b);
          }),
          this
        );
      },
      cutOffPath: function (a, b) {
        var c;
        return (
          (a = a.split(/[ ,]/)),
          (c = a.length),
          (9 !== c && 11 !== c) || (a[c - 4] = a[c - 2] = e(a[c - 2]) - 10 * b),
          a.join(" ")
        );
      },
      shadow: function (a, b, c) {
        var d,
          f,
          g,
          h,
          i,
          j,
          k,
          l = [],
          m = this.element,
          n = this.renderer,
          o = m.style,
          p = m.path;
        if ((p && "string" != typeof p.value && (p = "x"), (i = p), a)) {
          for (
            j = ub(a.width, 3), k = (a.opacity || 0.15) / j, d = 1;
            d <= 3;
            d++
          )
            (h = 2 * j + 1 - 2 * d),
              c && (i = this.cutOffPath(p.value, h + 0.5)),
              (g = [
                '<shape isShadow="true" strokeweight="',
                h,
                '" filled="false" path="',
                i,
                '" coordsize="10 10" style="',
                m.style.cssText,
                '" />',
              ]),
              (f = r(n.prepVML(g), null, {
                left: e(o.left) + ub(a.offsetX, 1),
                top: e(o.top) + ub(a.offsetY, 1),
              })),
              c && (f.cutOff = h + 1),
              (g = [
                '<stroke color="',
                a.color || "black",
                '" opacity="',
                k * d,
                '"/>',
              ]),
              r(n.prepVML(g), null, null, f),
              b ? b.element.appendChild(f) : m.parentNode.insertBefore(f, m),
              l.push(f);
          this.shadows = l;
        }
        return this;
      },
      updateShadows: Na,
      setAttr: function (a, b) {
        Da ? (this.element[a] = b) : this.element.setAttribute(a, b);
      },
      classSetter: function (a) {
        this.element.className = a;
      },
      dashstyleSetter: function (a, b, c) {
        var d =
          c.getElementsByTagName("stroke")[0] ||
          r(this.renderer.prepVML(["<stroke/>"]), null, null, c);
        (d[b] = a || "solid"), (this[b] = a);
      },
      dSetter: function (a, b, c) {
        var d,
          e = this.shadows;
        if (
          ((a = a || []),
          (this.d = a.join && a.join(" ")),
          (c.path = a = this.pathToVML(a)),
          e)
        )
          for (d = e.length; d--; )
            e[d].path = e[d].cutOff ? this.cutOffPath(a, e[d].cutOff) : a;
        this.setAttr(b, a);
      },
      fillSetter: function (a, b, c) {
        var d = c.nodeName;
        "SPAN" === d
          ? (c.style.color = a)
          : "IMG" !== d &&
            ((c.filled = a !== Za),
            this.setAttr("fillcolor", this.renderer.color(a, c, b, this)));
      },
      "fill-opacitySetter": function (a, b, c) {
        r(
          this.renderer.prepVML(["<", b.split("-")[0], ' opacity="', a, '"/>']),
          null,
          null,
          c
        );
      },
      opacitySetter: Na,
      rotationSetter: function (a, b, c) {
        var d = c.style;
        (this[b] = d[b] = a),
          (d.left = -qa(xa(a * za) + 1) + Ya),
          (d.top = qa(wa(a * za)) + Ya);
      },
      strokeSetter: function (a, b, c) {
        this.setAttr("strokecolor", this.renderer.color(a, c, b, this));
      },
      "stroke-widthSetter": function (a, b, c) {
        (c.stroked = !!a),
          (this[b] = a),
          i(a) && (a += Ya),
          this.setAttr("strokeweight", a);
      },
      titleSetter: function (a, b) {
        this.setAttr(b, a);
      },
      visibilitySetter: function (a, b, c) {
        "inherit" === a && (a = Xa),
          this.shadows &&
            jb(this.shadows, function (c) {
              c.style[b] = a;
            }),
          "DIV" === c.nodeName &&
            ((a = a === Va ? "-999em" : 0),
            Da || (c.style[b] = a ? Xa : Va),
            (b = "top")),
          (c.style[b] = a);
      },
      xSetter: function (a, b, c) {
        (this[b] = a),
          "x" === b ? (b = "left") : "y" === b && (b = "top"),
          this.updateClipping
            ? ((this[b] = a), this.updateClipping())
            : (c.style[b] = a);
      },
      zIndexSetter: function (a, b, c) {
        c.style[b] = a;
      },
    }),
      (Ab["stroke-opacitySetter"] = Ab["fill-opacitySetter"]),
      (na.VMLElement = Ab = s(L, Ab)),
      (Ab.prototype.ySetter =
        Ab.prototype.widthSetter =
        Ab.prototype.heightSetter =
          Ab.prototype.xSetter);
    var Bb = {
      Element: Ab,
      isIE8: Aa.indexOf("MSIE 8.0") > -1,
      init: function (a, b, c, d) {
        var e,
          f,
          g,
          h = this;
        if (
          ((h.alignedObjects = []),
          (e = h
            .createElement(Sa)
            .css(tb(this.getStyle(d), { position: "relative" }))),
          (f = e.element),
          a.appendChild(e.element),
          (h.isVML = !0),
          (h.box = f),
          (h.boxWrapper = e),
          (h.gradients = {}),
          (h.cache = {}),
          (h.cacheKeys = []),
          h.setSize(b, c, !1),
          !oa.namespaces.hcv)
        ) {
          oa.namespaces.add("hcv", "urn:schemas-microsoft-com:vml"),
            (g =
              "hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ");
          try {
            oa.createStyleSheet().cssText = g;
          } catch (i) {
            oa.styleSheets[0].cssText += g;
          }
        }
      },
      isHidden: function () {
        return !this.box.offsetWidth;
      },
      clipRect: function (a, b, c, d) {
        var e = this.createElement(),
          f = g(a);
        return tb(e, {
          members: [],
          count: 0,
          left: (f ? a.x : a) + 1,
          top: (f ? a.y : b) + 1,
          width: (f ? a.width : c) - 1,
          height: (f ? a.height : d) - 1,
          getCSS: function (a) {
            var b = a.element,
              c = b.nodeName,
              d = "shape" === c,
              e = a.inverted,
              f = this,
              g = f.top - (d ? b.offsetTop : 0),
              h = f.left,
              i = h + f.width,
              j = g + f.height,
              k = {
                clip:
                  "rect(" +
                  qa(e ? h : g) +
                  "px," +
                  qa(e ? j : i) +
                  "px," +
                  qa(e ? i : j) +
                  "px," +
                  qa(e ? g : h) +
                  "px)",
              };
            return (
              !e &&
                Da &&
                "DIV" === c &&
                tb(k, { width: i + Ya, height: j + Ya }),
              k
            );
          },
          updateClipping: function () {
            jb(e.members, function (a) {
              a.element && a.css(e.getCSS(a));
            });
          },
        });
      },
      color: function (a, b, c, d) {
        var e,
          f,
          g,
          h = this,
          i = /^rgba/,
          j = Za;
        if (
          (a && a.linearGradient
            ? (g = "gradient")
            : a && a.radialGradient && (g = "pattern"),
          g)
        ) {
          var k,
            l,
            m,
            n,
            o,
            p,
            q,
            s,
            t,
            u,
            v,
            w,
            x = a.linearGradient || a.radialGradient,
            y = "",
            z = a.stops,
            A = [],
            B = function () {
              (f = [
                '<fill colors="' + A.join(",") + '" opacity="',
                s,
                '" o:opacity2="',
                q,
                '" type="',
                g,
                '" ',
                y,
                'focus="100%" method="any" />',
              ]),
                r(h.prepVML(f), null, null, b);
            };
          if (
            ((v = z[0]),
            (w = z[z.length - 1]),
            v[0] > 0 && z.unshift([0, v[1]]),
            w[0] < 1 && z.push([1, w[1]]),
            jb(z, function (a, b) {
              i.test(a[1])
                ? ((e = K(a[1])), (k = e.get("rgb")), (l = e.get("a")))
                : ((k = a[1]), (l = 1)),
                A.push(100 * a[0] + "% " + k),
                b ? ((s = l), (t = k)) : ((q = l), (u = k));
            }),
            "fill" === c)
          )
            if ("gradient" === g)
              (m = x.x1 || x[0] || 0),
                (n = x.y1 || x[1] || 0),
                (o = x.x2 || x[2] || 0),
                (p = x.y2 || x[3] || 0),
                (y =
                  'angle="' +
                  (90 - (180 * pa.atan((p - n) / (o - m))) / ya) +
                  '"'),
                B();
            else {
              var C,
                D = x.r,
                E = 2 * D,
                F = 2 * D,
                G = x.cx,
                H = x.cy,
                I = b.radialReference,
                J = function () {
                  I &&
                    ((C = d.getBBox()),
                    (G += (I[0] - C.x) / C.width - 0.5),
                    (H += (I[1] - C.y) / C.height - 0.5),
                    (E *= I[2] / C.width),
                    (F *= I[2] / C.height)),
                    (y =
                      'src="' +
                      T.global.VMLRadialGradientURL +
                      '" size="' +
                      E +
                      "," +
                      F +
                      '" origin="0.5,0.5" position="' +
                      G +
                      "," +
                      H +
                      '" color2="' +
                      u +
                      '" '),
                    B();
                };
              d.added ? J() : (d.onAdd = J), (j = t);
            }
          else j = k;
        } else if (i.test(a) && "IMG" !== b.tagName)
          (e = K(a)),
            d[c + "-opacitySetter"](e.get("a"), c, b),
            (j = e.get("rgb"));
        else {
          var L = b.getElementsByTagName(c);
          L.length && ((L[0].opacity = 1), (L[0].type = "solid")), (j = a);
        }
        return j;
      },
      prepVML: function (a) {
        var b = "display:inline-block;behavior:url(#default#VML);",
          c = this.isIE8;
        return (
          (a = a.join("")),
          c
            ? ((a = a.replace(
                "/>",
                ' xmlns="urn:schemas-microsoft-com:vml" />'
              )),
              (a =
                a.indexOf('style="') === -1
                  ? a.replace("/>", ' style="' + b + '" />')
                  : a.replace('style="', 'style="' + b)))
            : (a = a.replace("<", "<hcv:")),
          a
        );
      },
      text: yb.prototype.html,
      path: function (a) {
        var b = { coordsize: "10 10" };
        return (
          h(a) ? (b.d = a) : g(a) && tb(b, a),
          this.createElement("shape").attr(b)
        );
      },
      circle: function (a, b, c) {
        var d = this.symbol("circle");
        return (
          g(a) && ((c = a.r), (b = a.y), (a = a.x)),
          (d.isCircle = !0),
          (d.r = c),
          d.attr({ x: a, y: b })
        );
      },
      g: function (a) {
        var b, c;
        return (
          a && (c = { className: Wa + a, class: Wa + a }),
          (b = this.createElement(Sa).attr(c))
        );
      },
      image: function (a, b, c, d, e) {
        var f = this.createElement("img").attr({ src: a });
        return (
          arguments.length > 1 && f.attr({ x: b, y: c, width: d, height: e }), f
        );
      },
      createElement: function (a) {
        return "rect" === a
          ? this.symbol(a)
          : yb.prototype.createElement.call(this, a);
      },
      invertChild: function (a, b) {
        var c = this,
          d = b.style,
          f = "IMG" === a.tagName && a.style;
        q(a, {
          flip: "x",
          left: e(d.width) - (f ? e(f.top) : 1),
          top: e(d.height) - (f ? e(f.left) : 1),
          rotation: -90,
        }),
          jb(a.childNodes, function (b) {
            c.invertChild(b, a);
          });
      },
      symbols: {
        arc: function (a, b, c, d, e) {
          var f,
            g = e.start,
            h = e.end,
            i = e.r || c || d,
            j = e.innerR,
            k = wa(g),
            l = xa(g),
            m = wa(h),
            n = xa(h);
          return h - g === 0
            ? ["x"]
            : ((f = [
                "wa",
                a - i,
                b - i,
                a + i,
                b + i,
                a + i * k,
                b + i * l,
                a + i * m,
                b + i * n,
              ]),
              e.open && !j && f.push("e", $a, a, b),
              f.push(
                "at",
                a - j,
                b - j,
                a + j,
                b + j,
                a + j * m,
                b + j * n,
                a + j * k,
                b + j * l,
                "x",
                "e"
              ),
              (f.isArc = !0),
              f);
        },
        circle: function (a, b, c, d, e) {
          return (
            e && (c = d = 2 * e.r),
            e && e.isCircle && ((a -= c / 2), (b -= d / 2)),
            ["wa", a, b, a + c, b + d, a + c, b + d / 2, a + c, b + d / 2, "e"]
          );
        },
        rect: function (a, b, c, d, e) {
          return yb.prototype.symbols[m(e) && e.r ? "callout" : "square"].call(
            0,
            a,
            b,
            c,
            d,
            e
          );
        },
      },
    };
    (na.VMLRenderer = zb =
      function () {
        this.init.apply(this, arguments);
      }),
      (zb.prototype = d(yb.prototype, Bb)),
      (Q = zb);
  }
  yb.prototype.measureSpanWidth = function (a, b) {
    var c,
      d = oa.createElement("span"),
      e = oa.createTextNode(a);
    return (
      d.appendChild(e),
      q(d, b),
      this.box.appendChild(d),
      (c = d.offsetWidth),
      E(d),
      c
    );
  };
  var Cb, Db;
  Ka &&
    ((na.CanVGRenderer = Cb =
      function () {
        Ha = "http://www.w3.org/1999/xhtml";
      }),
    (Cb.prototype.symbols = {}),
    (Db = (function () {
      function a() {
        var a,
          c = b.length;
        for (a = 0; a < c; a++) b[a]();
        b = [];
      }
      var b = [];
      return {
        push: function (c, d) {
          0 === b.length && M(d, a), b.push(c);
        },
      };
    })()),
    (Q = Cb)),
    (N.prototype = {
      addLabel: function () {
        var a,
          b,
          c = this,
          e = c.axis,
          f = e.options,
          g = e.chart,
          h = e.categories,
          i = e.names,
          j = c.pos,
          l = f.labels,
          n = e.tickPositions,
          o = j === n[0],
          p = j === n[n.length - 1],
          q = h ? ub(h[j], i[j], j) : j,
          r = c.label,
          s = n.info;
        e.isDatetimeAxis &&
          s &&
          (b = f.dateTimeLabelFormats[s.higherRanks[j] || s.unitName]),
          (c.isFirst = o),
          (c.isLast = p),
          (a = e.labelFormatter.call({
            axis: e,
            chart: g,
            isFirst: o,
            isLast: p,
            dateTimeLabelFormat: b,
            value: e.isLog ? F(k(q)) : q,
          })),
          m(r)
            ? r && r.attr({ text: a })
            : ((c.label = r =
                m(a) && l.enabled
                  ? g.renderer
                      .text(a, 0, 0, l.useHTML)
                      .css(d(l.style))
                      .add(e.labelGroup)
                  : null),
              (c.labelLength = r && r.getBBox().width),
              (c.rotation = 0));
      },
      getLabelSize: function () {
        return this.label
          ? this.label.getBBox()[this.axis.horiz ? "height" : "width"]
          : 0;
      },
      handleOverflow: function (a) {
        var b,
          c,
          d,
          e = this.axis,
          f = a.x,
          g = e.chart.chartWidth,
          h = e.chart.spacing,
          i = ub(e.labelLeft, ua(e.pos, h[3])),
          j = ub(e.labelRight, ta(e.pos + e.len, g - h[1])),
          k = this.label,
          l = this.rotation,
          m = { left: 0, center: 0.5, right: 1 }[e.labelAlign],
          n = k.getBBox().width,
          o = e.slotWidth,
          p = m,
          q = 1,
          r = {};
        l
          ? l < 0 && f - m * n < i
            ? (d = qa(f / wa(l * za) - i))
            : l > 0 && f + m * n > j && (d = qa((g - f) / wa(l * za)))
          : ((b = f - m * n),
            (c = f + (1 - m) * n),
            b < i
              ? (o = a.x + o * (1 - m) - i)
              : c > j && ((o = j - a.x + o * m), (q = -1)),
            (o = ua(e.slotWidth, o)),
            o < e.slotWidth &&
              "center" === e.labelAlign &&
              (a.x += q * (e.slotWidth - o - p * (e.slotWidth - ua(n, o)))),
            (n > o || (e.autoRotation && k.styles.width)) && (d = o)),
          d &&
            ((r.width = d),
            e.options.labels.style.textOverflow ||
              (r.textOverflow = "ellipsis"),
            k.css(r));
      },
      getPosition: function (a, b, c, d) {
        var e = this.axis,
          f = e.chart,
          g = (d && f.oldChartHeight) || f.chartHeight;
        return {
          x: a
            ? e.translate(b + c, null, null, d) + e.transB
            : e.left +
              e.offset +
              (e.opposite
                ? ((d && f.oldChartWidth) || f.chartWidth) - e.right - e.left
                : 0),
          y: a
            ? g - e.bottom + e.offset - (e.opposite ? e.height : 0)
            : g - e.translate(b + c, null, null, d) - e.transB,
        };
      },
      getLabelPosition: function (a, b, c, d, e, f, g, h) {
        var i,
          j = this.axis,
          k = j.transA,
          l = j.reversed,
          n = j.staggerLines,
          o = j.tickRotCorr || { x: 0, y: 0 },
          p = e.y;
        return (
          m(p) ||
            (p =
              2 === j.side
                ? o.y + 8
                : (p =
                    wa(c.rotation * za) * (o.y - c.getBBox(!1, 0).height / 2))),
          (a = a + e.x + o.x - (f && d ? f * k * (l ? -1 : 1) : 0)),
          (b = b + p - (f && !d ? f * k * (l ? 1 : -1) : 0)),
          n &&
            ((i = (g / (h || 1)) % n),
            j.opposite && (i = n - i - 1),
            (b += i * (j.labelOffset / n))),
          { x: a, y: qa(b) }
        );
      },
      getMarkPath: function (a, b, c, d, e, f) {
        return f.crispLine(
          [$a, a, b, _a, a + (e ? 0 : -c), b + (e ? c : 0)],
          d
        );
      },
      render: function (a, b, c) {
        var d,
          e,
          f,
          g = this,
          h = g.axis,
          i = h.options,
          j = h.chart,
          k = j.renderer,
          l = h.horiz,
          m = g.type,
          n = g.label,
          o = g.pos,
          p = i.labels,
          q = g.gridLine,
          r = m ? m + "Grid" : "grid",
          s = m ? m + "Tick" : "tick",
          t = i[r + "LineWidth"],
          u = i[r + "LineColor"],
          v = i[r + "LineDashStyle"],
          w = i[s + "Length"],
          x = ub(i[s + "Width"], !m && h.isXAxis ? 1 : 0),
          y = i[s + "Color"],
          z = i[s + "Position"],
          A = g.mark,
          B = p.step,
          C = !0,
          D = h.tickmarkOffset,
          E = g.getPosition(l, o, D, b),
          F = E.x,
          G = E.y,
          H = (l && F === h.pos + h.len) || (!l && G === h.pos) ? -1 : 1;
        (c = ub(c, 1)),
          (this.isActive = !0),
          t &&
            ((d = h.getPlotLinePath(o + D, t * H, b, !0)),
            q === P &&
              ((f = { stroke: u, "stroke-width": t }),
              v && (f.dashstyle = v),
              m || (f.zIndex = 1),
              b && (f.opacity = 0),
              (g.gridLine = q = t ? k.path(d).attr(f).add(h.gridGroup) : null)),
            !b &&
              q &&
              d &&
              q[g.isNew ? "attr" : "animate"]({ d: d, opacity: c })),
          x &&
            w &&
            ("inside" === z && (w = -w),
            h.opposite && (w = -w),
            (e = g.getMarkPath(F, G, w, x * H, l, k)),
            A
              ? A.animate({ d: e, opacity: c })
              : (g.mark = k
                  .path(e)
                  .attr({ stroke: y, "stroke-width": x, opacity: c })
                  .add(h.axisGroup))),
          n &&
            !isNaN(F) &&
            ((n.xy = E = g.getLabelPosition(F, G, n, l, p, D, a, B)),
            (g.isFirst && !g.isLast && !ub(i.showFirstLabel, 1)) ||
            (g.isLast && !g.isFirst && !ub(i.showLastLabel, 1))
              ? (C = !1)
              : !l ||
                h.isRadial ||
                p.step ||
                p.rotation ||
                b ||
                0 === c ||
                g.handleOverflow(E),
            B && a % B && (C = !1),
            C && !isNaN(E.y)
              ? ((E.opacity = c),
                n[g.isNew ? "attr" : "animate"](E),
                (g.isNew = !1))
              : n.attr("y", -9999));
      },
      destroy: function () {
        D(this, this.axis);
      },
    }),
    (na.PlotLineOrBand = function (a, b) {
      (this.axis = a), b && ((this.options = b), (this.id = b.id));
    }),
    (na.PlotLineOrBand.prototype = {
      render: function () {
        var a,
          b,
          c,
          e,
          f,
          g,
          h = this,
          i = h.axis,
          k = i.horiz,
          l = h.options,
          n = l.label,
          o = h.label,
          p = l.width,
          q = l.to,
          r = l.from,
          s = m(r) && m(q),
          t = l.value,
          u = l.dashStyle,
          v = h.svgElem,
          w = [],
          x = l.color,
          y = l.zIndex,
          z = l.events,
          A = {},
          D = i.chart.renderer;
        if ((i.isLog && ((r = j(r)), (q = j(q)), (t = j(t))), p))
          (w = i.getPlotLinePath(t, p)),
            (A = { stroke: x, "stroke-width": p }),
            u && (A.dashstyle = u);
        else {
          if (!s) return;
          (w = i.getPlotBandPath(r, q, l)),
            x && (A.fill = x),
            l.borderWidth &&
              ((A.stroke = l.borderColor), (A["stroke-width"] = l.borderWidth));
        }
        if ((m(y) && (A.zIndex = y), v))
          w
            ? (v.show(), v.animate({ d: w }))
            : (v.hide(), o && (h.label = o = o.destroy()));
        else if (
          w &&
          w.length &&
          ((h.svgElem = v = D.path(w).attr(A).add()), z)
        ) {
          a = function (a) {
            v.on(a, function (b) {
              z[a].apply(h, [b]);
            });
          };
          for (b in z) a(b);
        }
        return (
          n &&
          m(n.text) &&
          w &&
          w.length &&
          i.width > 0 &&
          i.height > 0 &&
          !w.flat
            ? ((n = d(
                {
                  align: k && s && "center",
                  x: k ? !s && 4 : 10,
                  verticalAlign: !k && s && "middle",
                  y: k ? (s ? 16 : 10) : s ? 6 : -4,
                  rotation: k && !s && 90,
                },
                n
              )),
              o ||
                ((A = { align: n.textAlign || n.align, rotation: n.rotation }),
                m(y) && (A.zIndex = y),
                (h.label = o =
                  D.text(n.text, 0, 0, n.useHTML).attr(A).css(n.style).add())),
              (c = [w[1], w[4], s ? w[6] : w[1]]),
              (e = [w[2], w[5], s ? w[7] : w[2]]),
              (f = B(c)),
              (g = B(e)),
              o.align(n, !1, { x: f, y: g, width: C(c) - f, height: C(e) - g }),
              o.show())
            : o && o.hide(),
          h
        );
      },
      destroy: function () {
        l(this.axis.plotLinesAndBands, this), delete this.axis, D(this);
      },
    }),
    (X = {
      getPlotBandPath: function (a, b) {
        var c = this.getPlotLinePath(b, null, null, !0),
          d = this.getPlotLinePath(a, null, null, !0);
        return (
          d && c
            ? ((d.flat = d.toString() === c.toString()),
              d.push(c[4], c[5], c[1], c[2]))
            : (d = null),
          d
        );
      },
      addPlotBand: function (a) {
        return this.addPlotBandOrLine(a, "plotBands");
      },
      addPlotLine: function (a) {
        return this.addPlotBandOrLine(a, "plotLines");
      },
      addPlotBandOrLine: function (a, b) {
        var c = new na.PlotLineOrBand(this, a).render(),
          d = this.userOptions;
        return (
          c &&
            (b && ((d[b] = d[b] || []), d[b].push(a)),
            this.plotLinesAndBands.push(c)),
          c
        );
      },
      removePlotBandOrLine: function (a) {
        for (
          var b = this.plotLinesAndBands,
            c = this.options,
            d = this.userOptions,
            e = b.length;
          e--;

        )
          b[e].id === a && b[e].destroy();
        jb(
          [
            c.plotLines || [],
            d.plotLines || [],
            c.plotBands || [],
            d.plotBands || [],
          ],
          function (b) {
            for (e = b.length; e--; ) b[e].id === a && l(b, b[e]);
          }
        );
      },
    });
  var Eb = (na.Axis = function () {
    this.init.apply(this, arguments);
  });
  (Eb.prototype = {
    defaultOptions: {
      dateTimeLabelFormats: {
        millisecond: "%H:%M:%S.%L",
        second: "%H:%M:%S",
        minute: "%H:%M",
        hour: "%H:%M",
        day: "%e. %b",
        week: "%e. %b",
        month: "%b '%y",
        year: "%Y",
      },
      endOnTick: !1,
      gridLineColor: "#D8D8D8",
      labels: {
        enabled: !0,
        style: { color: "#606060", cursor: "default", fontSize: "11px" },
        x: 0,
        y: 15,
      },
      lineColor: "#C0D0E0",
      lineWidth: 1,
      minPadding: 0.01,
      maxPadding: 0.01,
      minorGridLineColor: "#E0E0E0",
      minorGridLineWidth: 1,
      minorTickColor: "#A0A0A0",
      minorTickLength: 2,
      minorTickPosition: "outside",
      startOfWeek: 1,
      startOnTick: !1,
      tickColor: "#C0D0E0",
      tickLength: 10,
      tickmarkPlacement: "between",
      tickPixelInterval: 100,
      tickPosition: "outside",
      title: { align: "middle", style: { color: "#707070" } },
      type: "linear",
    },
    defaultYAxisOptions: {
      endOnTick: !0,
      gridLineWidth: 1,
      tickPixelInterval: 72,
      showLastLabel: !0,
      labels: { x: -8, y: 3 },
      lineWidth: 0,
      maxPadding: 0.05,
      minPadding: 0.05,
      startOnTick: !0,
      title: { rotation: 270, text: "Values" },
      stackLabels: {
        enabled: !1,
        formatter: function () {
          return na.numberFormat(this.total, -1);
        },
        style: d(wb.line.dataLabels.style, { color: "#000000" }),
      },
    },
    defaultLeftAxisOptions: {
      labels: { x: -15, y: null },
      title: { rotation: 270 },
    },
    defaultRightAxisOptions: {
      labels: { x: 15, y: null },
      title: { rotation: 90 },
    },
    defaultBottomAxisOptions: {
      labels: { autoRotation: [-45], x: 0, y: null },
      title: { rotation: 0 },
    },
    defaultTopAxisOptions: {
      labels: { autoRotation: [-45], x: 0, y: -15 },
      title: { rotation: 0 },
    },
    init: function (a, b) {
      var c = b.isX,
        d = this;
      (d.chart = a),
        (d.horiz = a.inverted ? !c : c),
        (d.isXAxis = c),
        (d.coll = c ? "xAxis" : "yAxis"),
        (d.opposite = b.opposite),
        (d.side =
          b.side || (d.horiz ? (d.opposite ? 0 : 2) : d.opposite ? 1 : 3)),
        d.setOptions(b);
      var e = this.options,
        f = e.type,
        g = "datetime" === f;
      (d.labelFormatter = e.labels.formatter || d.defaultLabelFormatter),
        (d.userOptions = b),
        (d.minPixelPadding = 0),
        (d.reversed = e.reversed),
        (d.visible = e.visible !== !1),
        (d.zoomEnabled = e.zoomEnabled !== !1),
        (d.categories = e.categories || "category" === f),
        (d.names = d.names || []),
        (d.isLog = "logarithmic" === f),
        (d.isDatetimeAxis = g),
        (d.isLinked = m(e.linkedTo)),
        (d.ticks = {}),
        (d.labelEdge = []),
        (d.minorTicks = {}),
        (d.plotLinesAndBands = []),
        (d.alternateBands = {}),
        (d.len = 0),
        (d.minRange = d.userMinRange = e.minRange || e.maxZoom),
        (d.range = e.range),
        (d.offset = e.offset || 0),
        (d.stacks = {}),
        (d.oldStacks = {}),
        (d.stacksTouched = 0),
        (d.max = null),
        (d.min = null),
        (d.crosshair = ub(
          e.crosshair,
          o(a.options.tooltip.crosshairs)[c ? 0 : 1],
          !1
        ));
      var h,
        i = d.options.events;
      ib(d, a.axes) === -1 &&
        (c && !this.isColorAxis
          ? a.axes.splice(a.xAxis.length, 0, d)
          : a.axes.push(d),
        a[d.coll].push(d)),
        (d.series = d.series || []),
        a.inverted && c && d.reversed === P && (d.reversed = !0),
        (d.removePlotBand = d.removePlotBandOrLine),
        (d.removePlotLine = d.removePlotBandOrLine);
      for (h in i) nb(d, h, i[h]);
      d.isLog && ((d.val2lin = j), (d.lin2val = k));
    },
    setOptions: function (a) {
      this.options = d(
        this.defaultOptions,
        this.isXAxis ? {} : this.defaultYAxisOptions,
        [
          this.defaultTopAxisOptions,
          this.defaultRightAxisOptions,
          this.defaultBottomAxisOptions,
          this.defaultLeftAxisOptions,
        ][this.side],
        d(T[this.coll], a)
      );
    },
    defaultLabelFormatter: function () {
      var a,
        b,
        c = this.axis,
        d = this.value,
        e = c.categories,
        f = this.dateTimeLabelFormat,
        g = T.lang.numericSymbols,
        h = g && g.length,
        i = c.options.labels.format,
        j = c.isLog ? d : c.tickInterval;
      if (i) b = x(i, this);
      else if (e) b = d;
      else if (f) b = U(f, d);
      else if (h && j >= 1e3)
        for (; h-- && b === P; )
          (a = Math.pow(1e3, h + 1)),
            j >= a &&
              (10 * d) % a === 0 &&
              null !== g[h] &&
              (b = na.numberFormat(d / a, -1) + g[h]);
      return (
        b === P &&
          (b =
            va(d) >= 1e4
              ? na.numberFormat(d, -1)
              : na.numberFormat(d, -1, P, "")),
        b
      );
    },
    getSeriesExtremes: function () {
      var a = this,
        b = a.chart;
      (a.hasVisibleSeries = !1),
        (a.dataMin = a.dataMax = a.threshold = null),
        (a.softThreshold = !a.isXAxis),
        a.buildStacks && a.buildStacks(),
        jb(a.series, function (c) {
          if (c.visible || !b.options.chart.ignoreHiddenSeries) {
            var d,
              e,
              f,
              g = c.options,
              h = g.threshold;
            (a.hasVisibleSeries = !0),
              a.isLog && h <= 0 && (h = null),
              a.isXAxis
                ? ((d = c.xData),
                  d.length &&
                    ((a.dataMin = ua(ub(a.dataMin, d[0]), B(d))),
                    (a.dataMax = ta(ub(a.dataMax, d[0]), C(d)))))
                : (c.getExtremes(),
                  (f = c.dataMax),
                  (e = c.dataMin),
                  m(e) &&
                    m(f) &&
                    ((a.dataMin = ua(ub(a.dataMin, e), e)),
                    (a.dataMax = ta(ub(a.dataMax, f), f))),
                  m(h) && (a.threshold = h),
                  (g.softThreshold && !a.isLog) || (a.softThreshold = !1));
          }
        });
    },
    translate: function (a, b, c, d, e, f) {
      var g,
        h = this.linkedParent || this,
        j = 1,
        k = 0,
        l = d ? h.oldTransA : h.transA,
        m = d ? h.oldMin : h.min,
        n = h.minPixelPadding,
        o = (h.doPostTranslate || (h.isLog && e)) && h.lin2val;
      return (
        l || (l = h.transA),
        c && ((j *= -1), (k = h.len)),
        h.reversed && ((j *= -1), (k -= j * (h.sector || h.len))),
        b
          ? ((a = a * j + k),
            (a -= n),
            (g = a / l + m),
            o && (g = h.lin2val(g)))
          : (o && (a = h.val2lin(a)),
            "between" === f && (f = 0.5),
            (g =
              j * (a - m) * l + k + j * n + (i(f) ? l * f * h.pointRange : 0))),
        g
      );
    },
    toPixels: function (a, b) {
      return this.translate(a, !1, !this.horiz, null, !0) + (b ? 0 : this.pos);
    },
    toValue: function (a, b) {
      return this.translate(a - (b ? 0 : this.pos), !0, !this.horiz, null, !0);
    },
    getPlotLinePath: function (a, b, c, d, e) {
      var f,
        g,
        h,
        i,
        j,
        k = this,
        l = k.chart,
        m = k.left,
        n = k.top,
        o = (c && l.oldChartHeight) || l.chartHeight,
        p = (c && l.oldChartWidth) || l.chartWidth,
        q = k.transB,
        r = function (a, b, c) {
          return (a < b || a > c) && (d ? (a = ua(ta(b, a), c)) : (j = !0)), a;
        };
      return (
        (e = ub(e, k.translate(a, null, null, c))),
        (f = h = qa(e + q)),
        (g = i = qa(o - e - q)),
        isNaN(e)
          ? (j = !0)
          : k.horiz
          ? ((g = n), (i = o - k.bottom), (f = h = r(f, m, m + k.width)))
          : ((f = m), (h = p - k.right), (g = i = r(g, n, n + k.height))),
        j && !d ? null : l.renderer.crispLine([$a, f, g, _a, h, i], b || 1)
      );
    },
    getLinearTickPositions: function (a, b, c) {
      var d,
        e,
        f = F(ra(b / a) * a),
        g = F(sa(c / a) * a),
        h = [];
      if (b === c && i(b)) return [b];
      for (d = f; d <= g && (h.push(d), (d = F(d + a)), d !== e); ) e = d;
      return h;
    },
    getMinorTickPositions: function () {
      var a,
        b,
        c,
        d = this,
        e = d.options,
        f = d.tickPositions,
        g = d.minorTickInterval,
        h = [],
        i = d.pointRangePadding || 0,
        j = d.min - i,
        k = d.max + i,
        l = k - j;
      if (l && l / g < d.len / 3)
        if (d.isLog)
          for (c = f.length, b = 1; b < c; b++)
            h = h.concat(d.getLogTickPositions(g, f[b - 1], f[b], !0));
        else if (d.isDatetimeAxis && "auto" === e.minorTickInterval)
          h = h.concat(
            d.getTimeTicks(d.normalizeTimeTickInterval(g), j, k, e.startOfWeek)
          );
        else for (a = j + ((f[0] - j) % g); a <= k; a += g) h.push(a);
      return 0 !== h.length && d.trimTicks(h, e.startOnTick, e.endOnTick), h;
    },
    adjustForMinRange: function () {
      var a,
        b,
        c,
        d,
        e,
        f,
        g,
        h,
        i,
        j = this,
        k = j.options,
        l = j.min,
        n = j.max,
        o = j.dataMax - j.dataMin >= j.minRange;
      j.isXAxis &&
        j.minRange === P &&
        !j.isLog &&
        (m(k.min) || m(k.max)
          ? (j.minRange = null)
          : (jb(j.series, function (a) {
              for (
                e = a.xData, f = a.xIncrement ? 1 : e.length - 1, c = f;
                c > 0;
                c--
              )
                (d = e[c] - e[c - 1]), (b === P || d < b) && (b = d);
            }),
            (j.minRange = ua(5 * b, j.dataMax - j.dataMin)))),
        n - l < j.minRange &&
          ((i = j.minRange),
          (a = (i - n + l) / 2),
          (g = [l - a, ub(k.min, l - a)]),
          o && (g[2] = j.dataMin),
          (l = C(g)),
          (h = [l + i, ub(k.max, l + i)]),
          o && (h[2] = j.dataMax),
          (n = B(h)),
          n - l < i && ((g[0] = n - i), (g[1] = ub(k.min, n - i)), (l = C(g)))),
        (j.min = l),
        (j.max = n);
    },
    setAxisTranslation: function (a) {
      var b,
        c,
        d = this,
        e = d.max - d.min,
        g = d.axisPointRange || 0,
        h = 0,
        i = 0,
        j = d.linkedParent,
        k = !!d.categories,
        l = d.transA,
        n = d.isXAxis;
      (n || k || g) &&
        (j
          ? ((h = j.minPointOffset), (i = j.pointRangePadding))
          : (jb(d.series, function (a) {
              var c = a.closestPointRange;
              !a.noSharedTooltip && m(c) && (b = m(b) ? ua(b, c) : c);
            }),
            jb(d.series, function (a) {
              var c = k
                  ? 1
                  : n
                  ? ub(a.options.pointRange, b, 0)
                  : d.axisPointRange || 0,
                e = a.options.pointPlacement;
              (g = ta(g, c)),
                d.single ||
                  ((h = ta(h, f(e) ? 0 : c / 2)),
                  (i = ta(i, "on" === e ? 0 : c)));
            })),
        (c = d.ordinalSlope && b ? d.ordinalSlope / b : 1),
        (d.minPointOffset = h *= c),
        (d.pointRangePadding = i *= c),
        (d.pointRange = ua(g, e)),
        n && (d.closestPointRange = b)),
        a && (d.oldTransA = l),
        (d.translationSlope = d.transA = l = d.len / (e + i || 1)),
        (d.transB = d.horiz ? d.left : d.bottom),
        (d.minPixelPadding = l * h);
    },
    minFromRange: function () {
      return this.max - this.range;
    },
    setTickInterval: function (a) {
      var c,
        d,
        e,
        f,
        g,
        h,
        k,
        l = this,
        n = l.chart,
        o = l.options,
        p = l.isLog,
        q = l.isDatetimeAxis,
        r = l.isXAxis,
        s = l.isLinked,
        t = o.maxPadding,
        u = o.minPadding,
        v = o.tickInterval,
        w = o.tickPixelInterval,
        x = l.categories,
        A = l.threshold,
        B = l.softThreshold;
      q || x || s || this.getTickAmount(),
        (h = ub(l.userMin, o.min)),
        (k = ub(l.userMax, o.max)),
        s
          ? ((l.linkedParent = n[l.coll][o.linkedTo]),
            (d = l.linkedParent.getExtremes()),
            (l.min = ub(d.min, d.dataMin)),
            (l.max = ub(d.max, d.dataMax)),
            o.type !== l.linkedParent.options.type && b(11, 1))
          : (!B &&
              m(A) &&
              (l.dataMin >= A
                ? ((f = A), (u = 0))
                : l.dataMax <= A && ((g = A), (t = 0))),
            (l.min = ub(h, f, l.dataMin)),
            (l.max = ub(k, g, l.dataMax))),
        p &&
          (!a && ua(l.min, ub(l.dataMin, l.min)) <= 0 && b(10, 1),
          (l.min = F(j(l.min), 15)),
          (l.max = F(j(l.max), 15))),
        l.range &&
          m(l.max) &&
          ((l.userMin = l.min = h = ta(l.min, l.minFromRange())),
          (l.userMax = k = l.max),
          (l.range = null)),
        l.beforePadding && l.beforePadding(),
        l.adjustForMinRange(),
        x ||
          l.axisPointRange ||
          l.usePercentage ||
          s ||
          !m(l.min) ||
          !m(l.max) ||
          ((c = l.max - l.min),
          c &&
            (!m(h) && u && (l.min -= c * u), !m(k) && t && (l.max += c * t))),
        i(o.floor) && (l.min = ta(l.min, o.floor)),
        i(o.ceiling) && (l.max = ua(l.max, o.ceiling)),
        B &&
          m(l.dataMin) &&
          ((A = A || 0),
          !m(h) && l.min < A && l.dataMin >= A
            ? (l.min = A)
            : !m(k) && l.max > A && l.dataMax <= A && (l.max = A)),
        l.min === l.max || void 0 === l.min || void 0 === l.max
          ? (l.tickInterval = 1)
          : s && !v && w === l.linkedParent.options.tickPixelInterval
          ? (l.tickInterval = v = l.linkedParent.tickInterval)
          : (l.tickInterval = ub(
              v,
              this.tickAmount
                ? (l.max - l.min) / ta(this.tickAmount - 1, 1)
                : void 0,
              x ? 1 : ((l.max - l.min) * w) / ta(l.len, w)
            )),
        r &&
          !a &&
          jb(l.series, function (a) {
            a.processData(l.min !== l.oldMin || l.max !== l.oldMax);
          }),
        l.setAxisTranslation(!0),
        l.beforeSetTickPositions && l.beforeSetTickPositions(),
        l.postProcessTickInterval &&
          (l.tickInterval = l.postProcessTickInterval(l.tickInterval)),
        l.pointRange &&
          !v &&
          (l.tickInterval = ta(l.pointRange, l.tickInterval)),
        (e = ub(o.minTickInterval, l.isDatetimeAxis && l.closestPointRange)),
        !v && l.tickInterval < e && (l.tickInterval = e),
        q ||
          p ||
          v ||
          (l.tickInterval = z(
            l.tickInterval,
            null,
            y(l.tickInterval),
            ub(
              o.allowDecimals,
              !(
                l.tickInterval > 0.5 &&
                l.tickInterval < 5 &&
                l.max > 1e3 &&
                l.max < 9999
              )
            ),
            !!this.tickAmount
          )),
        !this.tickAmount && this.len && (l.tickInterval = l.unsquish()),
        this.setTickPositions();
    },
    setTickPositions: function () {
      var a,
        b,
        c = this.options,
        d = c.tickPositions,
        e = c.tickPositioner,
        f = c.startOnTick,
        g = c.endOnTick;
      (this.tickmarkOffset =
        this.categories &&
        "between" === c.tickmarkPlacement &&
        1 === this.tickInterval
          ? 0.5
          : 0),
        (this.minorTickInterval =
          "auto" === c.minorTickInterval && this.tickInterval
            ? this.tickInterval / 5
            : c.minorTickInterval),
        (this.tickPositions = a = d && d.slice()),
        a ||
          ((a = this.isDatetimeAxis
            ? this.getTimeTicks(
                this.normalizeTimeTickInterval(this.tickInterval, c.units),
                this.min,
                this.max,
                c.startOfWeek,
                this.ordinalPositions,
                this.closestPointRange,
                !0
              )
            : this.isLog
            ? this.getLogTickPositions(this.tickInterval, this.min, this.max)
            : this.getLinearTickPositions(
                this.tickInterval,
                this.min,
                this.max
              )),
          a.length > this.len && (a = [a[0], a.pop()]),
          (this.tickPositions = a),
          e &&
            ((e = e.apply(this, [this.min, this.max])),
            e && (this.tickPositions = a = e))),
        this.isLinked ||
          (this.trimTicks(a, f, g),
          this.min === this.max &&
            m(this.min) &&
            !this.tickAmount &&
            ((b = !0), (this.min -= 0.5), (this.max += 0.5)),
          (this.single = b),
          d || e || this.adjustTickAmount());
    },
    trimTicks: function (a, b, c) {
      var d = a[0],
        e = a[a.length - 1],
        f = this.minPointOffset || 0;
      b ? (this.min = d) : this.min - f > d && a.shift(),
        c ? (this.max = e) : this.max + f < e && a.pop(),
        0 === a.length && m(d) && a.push((e + d) / 2);
    },
    alignToOthers: function () {
      var a,
        b = {},
        c = this.options;
      return (
        this.chart.options.chart.alignTicks !== !1 &&
          c.alignTicks !== !1 &&
          jb(this.chart[this.coll], function (c) {
            var d = c.options,
              e = c.horiz,
              f = [e ? d.left : d.top, d.width, d.height, d.pane].join(",");
            c.series.length && (b[f] ? (a = !0) : (b[f] = 1));
          }),
        a
      );
    },
    getTickAmount: function () {
      var a = this.options,
        b = a.tickAmount,
        c = a.tickPixelInterval;
      !m(a.tickInterval) &&
        this.len < c &&
        !this.isRadial &&
        !this.isLog &&
        a.startOnTick &&
        a.endOnTick &&
        (b = 2),
        !b && this.alignToOthers() && (b = sa(this.len / c) + 1),
        b < 4 && ((this.finalTickAmt = b), (b = 5)),
        (this.tickAmount = b);
    },
    adjustTickAmount: function () {
      var a,
        b,
        c = this.tickInterval,
        d = this.tickPositions,
        e = this.tickAmount,
        f = this.finalTickAmt,
        g = d && d.length;
      if (g < e) {
        for (; d.length < e; ) d.push(F(d[d.length - 1] + c));
        (this.transA *= (g - 1) / (e - 1)), (this.max = d[d.length - 1]);
      } else g > e && ((this.tickInterval *= 2), this.setTickPositions());
      if (m(f)) {
        for (a = b = d.length; a--; )
          ((3 === f && a % 2 === 1) || (f <= 2 && a > 0 && a < b - 1)) &&
            d.splice(a, 1);
        this.finalTickAmt = P;
      }
    },
    setScale: function () {
      var a,
        b,
        c = this;
      (c.oldMin = c.min),
        (c.oldMax = c.max),
        (c.oldAxisLength = c.len),
        c.setAxisSize(),
        (b = c.len !== c.oldAxisLength),
        jb(c.series, function (b) {
          (b.isDirtyData || b.isDirty || b.xAxis.isDirty) && (a = !0);
        }),
        b ||
        a ||
        c.isLinked ||
        c.forceRedraw ||
        c.userMin !== c.oldUserMin ||
        c.userMax !== c.oldUserMax ||
        c.alignToOthers()
          ? (c.resetStacks && c.resetStacks(),
            (c.forceRedraw = !1),
            c.getSeriesExtremes(),
            c.setTickInterval(),
            (c.oldUserMin = c.userMin),
            (c.oldUserMax = c.userMax),
            c.isDirty ||
              (c.isDirty = b || c.min !== c.oldMin || c.max !== c.oldMax))
          : c.cleanStacks && c.cleanStacks();
    },
    setExtremes: function (a, b, c, d, e) {
      var f = this,
        g = f.chart;
      (c = ub(c, !0)),
        jb(f.series, function (a) {
          delete a.kdTree;
        }),
        (e = tb(e, { min: a, max: b })),
        pb(f, "setExtremes", e, function () {
          (f.userMin = a), (f.userMax = b), (f.eventArgs = e), c && g.redraw(d);
        });
    },
    zoom: function (a, b) {
      var c = this.dataMin,
        d = this.dataMax,
        e = this.options,
        f = ua(c, ub(e.min, c)),
        g = ta(d, ub(e.max, d));
      return (
        this.allowZoomOutside ||
          (m(c) && a <= f && (a = f), m(d) && b >= g && (b = g)),
        (this.displayBtn = a !== P || b !== P),
        this.setExtremes(a, b, !1, P, { trigger: "zoom" }),
        !0
      );
    },
    setAxisSize: function () {
      var a = this.chart,
        b = this.options,
        c = b.offsetLeft || 0,
        d = b.offsetRight || 0,
        e = this.horiz,
        f = ub(b.width, a.plotWidth - c + d),
        g = ub(b.height, a.plotHeight),
        h = ub(b.top, a.plotTop),
        i = ub(b.left, a.plotLeft + c),
        j = /%$/;
      j.test(g) && (g = (parseFloat(g) / 100) * a.plotHeight),
        j.test(h) && (h = (parseFloat(h) / 100) * a.plotHeight + a.plotTop),
        (this.left = i),
        (this.top = h),
        (this.width = f),
        (this.height = g),
        (this.bottom = a.chartHeight - g - h),
        (this.right = a.chartWidth - f - i),
        (this.len = ta(e ? f : g, 0)),
        (this.pos = e ? i : h);
    },
    getExtremes: function () {
      var a = this,
        b = a.isLog;
      return {
        min: b ? F(k(a.min)) : a.min,
        max: b ? F(k(a.max)) : a.max,
        dataMin: a.dataMin,
        dataMax: a.dataMax,
        userMin: a.userMin,
        userMax: a.userMax,
      };
    },
    getThreshold: function (a) {
      var b = this,
        c = b.isLog,
        d = c ? k(b.min) : b.min,
        e = c ? k(b.max) : b.max;
      return (
        null === a ? (a = e < 0 ? e : d) : d > a ? (a = d) : e < a && (a = e),
        b.translate(a, 0, 1, 0, 1)
      );
    },
    autoLabelAlign: function (a) {
      var b,
        c = (ub(a, 0) - 90 * this.side + 720) % 360;
      return (b =
        c > 15 && c < 165 ? "right" : c > 195 && c < 345 ? "left" : "center");
    },
    unsquish: function () {
      var a,
        b,
        c,
        d = this.chart,
        e = this.ticks,
        f = this.options.labels,
        g = this.horiz,
        h = this.tickInterval,
        i = h,
        j = this.len / (((this.categories ? 1 : 0) + this.max - this.min) / h),
        k = f.rotation,
        l = d.renderer.fontMetrics(f.style.fontSize, e[0] && e[0].label),
        n = Number.MAX_VALUE,
        o = function (a) {
          var b = a / (j || 1);
          return (b = b > 1 ? sa(b) : 1), b * h;
        };
      return (
        g
          ? ((c =
              !f.staggerLines &&
              !f.step &&
              (m(k) ? [k] : j < ub(f.autoRotationLimit, 80) && f.autoRotation)),
            c &&
              jb(c, function (c) {
                var d;
                (c === k || (c && c >= -90 && c <= 90)) &&
                  ((b = o(va(l.h / xa(za * c)))),
                  (d = b + va(c / 360)),
                  d < n && ((n = d), (a = c), (i = b)));
              }))
          : f.step || (i = o(l.h)),
        (this.autoRotation = c),
        (this.labelRotation = ub(a, k)),
        i
      );
    },
    renderUnsquish: function () {
      var a,
        b,
        c,
        e,
        g = this.chart,
        h = g.renderer,
        i = this.tickPositions,
        j = this.ticks,
        k = this.options.labels,
        l = this.horiz,
        m = g.margin,
        n = this.categories ? i.length : i.length - 1,
        o = (this.slotWidth =
          (l &&
            (k.step || 0) < 2 &&
            !k.rotation &&
            ((this.staggerLines || 1) * g.plotWidth) / n) ||
          (!l && ((m[3] && m[3] - g.spacing[3]) || 0.33 * g.chartWidth))),
        p = ta(1, qa(o - 2 * (k.padding || 5))),
        q = {},
        r = h.fontMetrics(k.style.fontSize, j[0] && j[0].label),
        s = k.style.textOverflow,
        t = 0;
      if ((f(k.rotation) || (q.rotation = k.rotation || 0), this.autoRotation))
        jb(i, function (a) {
          (a = j[a]), a && a.labelLength > t && (t = a.labelLength);
        }),
          t > p && t > r.h
            ? (q.rotation = this.labelRotation)
            : (this.labelRotation = 0);
      else if (o && ((a = { width: p + Ya }), !s))
        for (a.textOverflow = "clip", c = i.length; !l && c--; )
          (e = i[c]),
            (b = j[e].label),
            b &&
              ("ellipsis" === b.styles.textOverflow &&
                b.css({ textOverflow: "clip" }),
              (b.getBBox().height > this.len / i.length - (r.h - r.f) ||
                j[e].labelLength > o) &&
                (b.specCss = { textOverflow: "ellipsis" }));
      q.rotation &&
        ((a = {
          width:
            (t > 0.5 * g.chartHeight ? 0.33 * g.chartHeight : g.chartHeight) +
            Ya,
        }),
        s || (a.textOverflow = "ellipsis")),
        (this.labelAlign = q.align =
          k.align || this.autoLabelAlign(this.labelRotation)),
        jb(i, function (b) {
          var c = j[b],
            e = c && c.label;
          e &&
            (e.attr(q),
            a && e.css(d(a, e.specCss)),
            delete e.specCss,
            (c.rotation = q.rotation));
        }),
        (this.tickRotCorr = h.rotCorr(
          r.b,
          this.labelRotation || 0,
          0 !== this.side
        ));
    },
    hasData: function () {
      return (
        this.hasVisibleSeries ||
        (m(this.min) && m(this.max) && !!this.tickPositions)
      );
    },
    getOffset: function () {
      var a,
        b,
        c,
        d,
        e,
        f,
        g,
        h = this,
        i = h.chart,
        j = i.renderer,
        k = h.options,
        l = h.tickPositions,
        n = h.ticks,
        o = h.horiz,
        p = h.side,
        q = i.inverted ? [1, 0, 3, 2][p] : p,
        r = 0,
        s = 0,
        t = k.title,
        u = k.labels,
        v = 0,
        w = h.opposite,
        x = i.axisOffset,
        y = i.clipOffset,
        z = [-1, 1, 1, -1][p],
        A = h.axisParent;
      if (
        ((a = h.hasData()),
        (h.showAxis = b = a || ub(k.showEmpty, !0)),
        (h.staggerLines = h.horiz && u.staggerLines),
        h.axisGroup ||
          ((h.gridGroup = j
            .g("grid")
            .attr({ zIndex: k.gridZIndex || 1 })
            .add(A)),
          (h.axisGroup = j
            .g("axis")
            .attr({ zIndex: k.zIndex || 2 })
            .add(A)),
          (h.labelGroup = j
            .g("axis-labels")
            .attr({ zIndex: u.zIndex || 7 })
            .addClass(Wa + h.coll.toLowerCase() + "-labels")
            .add(A))),
        a || h.isLinked)
      )
        jb(l, function (a) {
          n[a] ? n[a].addLabel() : (n[a] = new N(h, a));
        }),
          h.renderUnsquish(),
          u.reserveSpace === !1 ||
            (0 !== p &&
              2 !== p &&
              { 1: "left", 3: "right" }[p] !== h.labelAlign &&
              "center" !== h.labelAlign) ||
            jb(l, function (a) {
              v = ta(n[a].getLabelSize(), v);
            }),
          h.staggerLines &&
            ((v *= h.staggerLines),
            (h.labelOffset = v * (h.opposite ? -1 : 1)));
      else for (f in n) n[f].destroy(), delete n[f];
      t &&
        t.text &&
        t.enabled !== !1 &&
        (h.axisTitle ||
          ((h.axisTitle = j
            .text(t.text, 0, 0, t.useHTML)
            .attr({
              zIndex: 7,
              rotation: t.rotation || 0,
              align:
                t.textAlign ||
                {
                  low: w ? "right" : "left",
                  middle: "center",
                  high: w ? "left" : "right",
                }[t.align],
            })
            .addClass(Wa + this.coll.toLowerCase() + "-title")
            .css(t.style)
            .add(h.axisGroup)),
          (h.axisTitle.isNew = !0)),
        b &&
          ((r = h.axisTitle.getBBox()[o ? "height" : "width"]),
          (c = t.offset),
          (s = m(c) ? 0 : ub(t.margin, o ? 5 : 10))),
        h.axisTitle[b ? "show" : "hide"](!0)),
        (h.offset = z * ub(k.offset, x[p])),
        (h.tickRotCorr = h.tickRotCorr || { x: 0, y: 0 }),
        (g = 2 === p ? h.tickRotCorr.y : 0),
        (d =
          Math.abs(v) +
          s +
          (v && z * (o ? ub(u.y, h.tickRotCorr.y + 8) : u.x) - g)),
        (h.axisTitleMargin = ub(c, d)),
        (x[p] = ta(x[p], h.axisTitleMargin + r + z * h.offset, d)),
        (e = k.offset ? 0 : 2 * ra(k.lineWidth / 2)),
        (y[q] = ta(y[q], e));
    },
    getLinePath: function (a) {
      var b = this.chart,
        c = this.opposite,
        d = this.offset,
        e = this.horiz,
        f = this.left + (c ? this.width : 0) + d,
        g = b.chartHeight - this.bottom - (c ? this.height : 0) + d;
      return (
        c && (a *= -1),
        b.renderer.crispLine(
          [
            $a,
            e ? this.left : f,
            e ? g : this.top,
            _a,
            e ? b.chartWidth - this.right : f,
            e ? g : b.chartHeight - this.bottom,
          ],
          a
        )
      );
    },
    getTitlePosition: function () {
      var a = this.horiz,
        b = this.left,
        c = this.top,
        d = this.len,
        f = this.options.title,
        g = a ? b : c,
        h = this.opposite,
        i = this.offset,
        j = f.x || 0,
        k = f.y || 0,
        l = e(f.style.fontSize || 12),
        m = { low: g + (a ? 0 : d), middle: g + d / 2, high: g + (a ? d : 0) }[
          f.align
        ],
        n =
          (a ? c + this.height : b) +
          (a ? 1 : -1) * (h ? -1 : 1) * this.axisTitleMargin +
          (2 === this.side ? l : 0);
      return {
        x: a ? m + j : n + (h ? this.width : 0) + i + j,
        y: a ? n + k - (h ? this.height : 0) + i : m + k,
      };
    },
    render: function () {
      var a,
        b,
        c,
        d = this,
        e = d.chart,
        f = e.renderer,
        g = d.options,
        h = d.isLog,
        i = d.isLinked,
        j = d.tickPositions,
        l = d.axisTitle,
        n = d.ticks,
        o = d.minorTicks,
        q = d.alternateBands,
        r = g.stackLabels,
        s = g.alternateGridColor,
        t = d.tickmarkOffset,
        u = g.lineWidth,
        v = e.hasRendered,
        w = v && m(d.oldMin) && !isNaN(d.oldMin),
        x = d.showAxis,
        y = f.globalAnimation;
      (d.labelEdge.length = 0),
        (d.overlap = !1),
        jb([n, o, q], function (a) {
          var b;
          for (b in a) a[b].isActive = !1;
        }),
        (d.hasData() || i) &&
          (d.minorTickInterval &&
            !d.categories &&
            jb(d.getMinorTickPositions(), function (a) {
              o[a] || (o[a] = new N(d, a, "minor")),
                w && o[a].isNew && o[a].render(null, !0),
                o[a].render(null, !1, 1);
            }),
          j.length &&
            (jb(j, function (a, b) {
              (!i || (a >= d.min && a <= d.max)) &&
                (n[a] || (n[a] = new N(d, a)),
                w && n[a].isNew && n[a].render(b, !0, 0.1),
                n[a].render(b));
            }),
            t &&
              (0 === d.min || d.single) &&
              (n[-1] || (n[-1] = new N(d, -1, null, !0)), n[-1].render(-1))),
          s &&
            jb(j, function (a, f) {
              (c = j[f + 1] !== P ? j[f + 1] + t : d.max - t),
                f % 2 === 0 &&
                  a < d.max &&
                  c <= d.max + (e.polar ? -t : t) &&
                  (q[a] || (q[a] = new na.PlotLineOrBand(d)),
                  (b = a + t),
                  (q[a].options = {
                    from: h ? k(b) : b,
                    to: h ? k(c) : c,
                    color: s,
                  }),
                  q[a].render(),
                  (q[a].isActive = !0));
            }),
          d._addedPlotLB ||
            (jb((g.plotLines || []).concat(g.plotBands || []), function (a) {
              d.addPlotBandOrLine(a);
            }),
            (d._addedPlotLB = !0))),
        jb([n, o, q], function (a) {
          var b,
            c,
            d = [],
            f = y ? y.duration || 500 : 0,
            g = function () {
              for (c = d.length; c--; )
                a[d[c]] &&
                  !a[d[c]].isActive &&
                  (a[d[c]].destroy(), delete a[d[c]]);
            };
          for (b in a)
            a[b].isActive ||
              (a[b].render(b, !1, 0), (a[b].isActive = !1), d.push(b));
          p(g, a !== q && e.hasRendered && f ? f : 0);
        }),
        u &&
          ((a = d.getLinePath(u)),
          d.axisLine
            ? d.axisLine.animate({ d: a })
            : (d.axisLine = f
                .path(a)
                .attr({ stroke: g.lineColor, "stroke-width": u, zIndex: 7 })
                .add(d.axisGroup)),
          d.axisLine[x ? "show" : "hide"](!0)),
        l &&
          x &&
          (l[l.isNew ? "attr" : "animate"](d.getTitlePosition()),
          (l.isNew = !1)),
        r && r.enabled && d.renderStackTotals(),
        (d.isDirty = !1);
    },
    redraw: function () {
      this.visible &&
        (this.render(),
        jb(this.plotLinesAndBands, function (a) {
          a.render();
        })),
        jb(this.series, function (a) {
          a.isDirty = !0;
        });
    },
    destroy: function (a) {
      var b,
        c,
        d = this,
        e = d.stacks,
        f = d.plotLinesAndBands;
      a || ob(d);
      for (b in e) D(e[b]), (e[b] = null);
      for (
        jb([d.ticks, d.minorTicks, d.alternateBands], function (a) {
          D(a);
        }),
          c = f.length;
        c--;

      )
        f[c].destroy();
      jb(
        [
          "stackTotalGroup",
          "axisLine",
          "axisTitle",
          "axisGroup",
          "cross",
          "gridGroup",
          "labelGroup",
        ],
        function (a) {
          d[a] && (d[a] = d[a].destroy());
        }
      ),
        this.cross && this.cross.destroy();
    },
    drawCrosshair: function (a, b) {
      var c,
        d,
        e,
        f,
        g,
        h = this.crosshair;
      if (
        !this.crosshair ||
        (m(b) || !ub(h.snap, !0)) === !1 ||
        (b && b.series && b.series[this.coll] !== this)
      )
        this.hideCrosshair();
      else {
        if (
          (ub(h.snap, !0)
            ? m(b) && (d = this.isXAxis ? b.plotX : this.len - b.plotY)
            : (d = this.horiz
                ? a.chartX - this.pos
                : this.len - a.chartY + this.pos),
          (c = this.isRadial
            ? this.getPlotLinePath(this.isXAxis ? b.x : ub(b.stackY, b.y)) ||
              null
            : this.getPlotLinePath(null, null, null, null, d) || null),
          null === c)
        )
          return void this.hideCrosshair();
        (f = this.categories && !this.isRadial),
          (g = ub(h.width, f ? this.transA : 1)),
          this.cross
            ? this.cross.attr({
                d: c,
                visibility: "visible",
                "stroke-width": g,
              })
            : ((e = {
                "stroke-width": g,
                stroke: h.color || (f ? "rgba(155,200,255,0.2)" : "#C0C0C0"),
                zIndex: ub(h.zIndex, 2),
              }),
              h.dashStyle && (e.dashstyle = h.dashStyle),
              (this.cross = this.chart.renderer.path(c).attr(e).add()));
      }
    },
    hideCrosshair: function () {
      this.cross && this.cross.hide();
    },
  }),
    tb(Eb.prototype, X),
    (Eb.prototype.getTimeTicks = function (a, b, c, d) {
      var e,
        f,
        g = [],
        h = {},
        i = T.global.useUTC,
        j = new Y(b - v(b)),
        k = a.unitRange,
        l = a.count;
      if (m(b)) {
        j[ga](k >= W.second ? 0 : l * ra(j.getMilliseconds() / l)),
          k >= W.second &&
            j[ha](k >= W.minute ? 0 : l * ra(j.getSeconds() / l)),
          k >= W.minute && j[ia](k >= W.hour ? 0 : l * ra(j[aa]() / l)),
          k >= W.hour && j[ja](k >= W.day ? 0 : l * ra(j[ba]() / l)),
          k >= W.day && j[ka](k >= W.month ? 1 : l * ra(j[da]() / l)),
          k >= W.month &&
            (j[la](k >= W.year ? 0 : l * ra(j[ea]() / l)), (f = j[fa]())),
          k >= W.year && ((f -= f % l), j[ma](f)),
          k === W.week && j[ka](j[da]() - j[ca]() + ub(d, 1)),
          (e = 1),
          ($ || _) && ((j = j.getTime()), (j = new Y(j + v(j)))),
          (f = j[fa]());
        for (
          var n = j.getTime(),
            o = j[ea](),
            p = j[da](),
            q = (W.day + (i ? v(j) : 60 * j.getTimezoneOffset() * 1e3)) % W.day;
          n < c;

        )
          g.push(n),
            k === W.year
              ? (n = Z(f + e * l, 0))
              : k === W.month
              ? (n = Z(f, o + e * l))
              : i || (k !== W.day && k !== W.week)
              ? (n += k * l)
              : (n = Z(f, o, p + e * l * (k === W.day ? 1 : 7))),
            e++;
        g.push(n),
          jb(
            kb(g, function (a) {
              return k <= W.hour && a % W.day === q;
            }),
            function (a) {
              h[a] = "day";
            }
          );
      }
      return (g.info = tb(a, { higherRanks: h, totalRange: k * l })), g;
    }),
    (Eb.prototype.normalizeTimeTickInterval = function (a, b) {
      var c,
        d,
        e = b || [
          ["millisecond", [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]],
          ["second", [1, 2, 5, 10, 15, 30]],
          ["minute", [1, 2, 5, 10, 15, 30]],
          ["hour", [1, 2, 3, 4, 6, 8, 12]],
          ["day", [1, 2]],
          ["week", [1, 2]],
          ["month", [1, 2, 3, 4, 6]],
          ["year", null],
        ],
        f = e[e.length - 1],
        g = W[f[0]],
        h = f[1];
      for (d = 0; d < e.length; d++)
        if (((f = e[d]), (g = W[f[0]]), (h = f[1]), e[d + 1])) {
          var i = (g * h[h.length - 1] + W[e[d + 1][0]]) / 2;
          if (a <= i) break;
        }
      return (
        g === W.year && a < 5 * g && (h = [1, 2, 5]),
        (c = z(a / g, h, "year" === f[0] ? ta(y(a / g), 1) : 1)),
        { unitRange: g, count: c, unitName: f[0] }
      );
    }),
    (Eb.prototype.getLogTickPositions = function (a, b, c, d) {
      var e = this,
        f = e.options,
        g = e.len,
        h = [];
      if ((d || (e._minorAutoInterval = null), a >= 0.5))
        (a = qa(a)), (h = e.getLinearTickPositions(a, b, c));
      else if (a >= 0.08) {
        var i,
          l,
          m,
          n,
          o,
          p,
          q,
          r = ra(b);
        for (
          i =
            a > 0.3
              ? [1, 2, 4]
              : a > 0.15
              ? [1, 2, 4, 6, 8]
              : [1, 2, 3, 4, 5, 6, 7, 8, 9],
            l = r;
          l < c + 1 && !q;
          l++
        )
          for (n = i.length, m = 0; m < n && !q; m++)
            (o = j(k(l) * i[m])),
              o > b && (!d || p <= c) && p !== P && h.push(p),
              p > c && (q = !0),
              (p = o);
      } else {
        var s = k(b),
          t = k(c),
          u = f[d ? "minorTickInterval" : "tickInterval"],
          v = "auto" === u ? null : u,
          w = f.tickPixelInterval / (d ? 5 : 1),
          x = d ? g / e.tickPositions.length : g;
        (a = ub(v, e._minorAutoInterval, ((t - s) * w) / (x || 1))),
          (a = z(a, null, y(a))),
          (h = mb(e.getLinearTickPositions(a, s, t), j)),
          d || (e._minorAutoInterval = a / 5);
      }
      return d || (e.tickInterval = a), h;
    });
  var Fb = (na.Tooltip = function () {
    this.init.apply(this, arguments);
  });
  Fb.prototype = {
    init: function (a, b) {
      var c = b.borderWidth,
        d = b.style,
        f = e(d.padding);
      (this.chart = a),
        (this.options = b),
        (this.crosshairs = []),
        (this.now = { x: 0, y: 0 }),
        (this.isHidden = !0),
        (this.label = a.renderer
          .label(
            "",
            0,
            0,
            b.shape || "callout",
            null,
            null,
            b.useHTML,
            null,
            "tooltip"
          )
          .attr({
            padding: f,
            fill: b.backgroundColor,
            "stroke-width": c,
            r: b.borderRadius,
            zIndex: 8,
          })
          .css(d)
          .css({ padding: 0 })
          .add()
          .attr({ y: -9999 })),
        Ka || this.label.shadow(b.shadow),
        (this.shared = b.shared);
    },
    destroy: function () {
      this.label && (this.label = this.label.destroy()),
        clearTimeout(this.hideTimer),
        clearTimeout(this.tooltipTimeout);
    },
    move: function (a, b, c, d) {
      var e = this,
        f = e.now,
        g =
          e.options.animation !== !1 &&
          !e.isHidden &&
          (va(a - f.x) > 1 || va(b - f.y) > 1),
        h = e.followPointer || e.len > 1;
      tb(f, {
        x: g ? (2 * f.x + a) / 3 : a,
        y: g ? (f.y + b) / 2 : b,
        anchorX: h ? P : g ? (2 * f.anchorX + c) / 3 : c,
        anchorY: h ? P : g ? (f.anchorY + d) / 2 : d,
      }),
        e.label.attr(f),
        g &&
          (clearTimeout(this.tooltipTimeout),
          (this.tooltipTimeout = setTimeout(function () {
            e && e.move(a, b, c, d);
          }, 32)));
    },
    hide: function (a) {
      var b = this;
      clearTimeout(this.hideTimer),
        (a = ub(a, this.options.hideDelay, 500)),
        this.isHidden ||
          (this.hideTimer = p(function () {
            b.label[a ? "fadeOut" : "hide"](), (b.isHidden = !0);
          }, a));
    },
    getAnchor: function (a, b) {
      var c,
        d,
        e,
        f = this.chart,
        g = f.inverted,
        h = f.plotTop,
        i = f.plotLeft,
        j = 0,
        k = 0;
      return (
        (a = o(a)),
        (c = a[0].tooltipPos),
        this.followPointer &&
          b &&
          (b.chartX === P && (b = f.pointer.normalize(b)),
          (c = [b.chartX - f.plotLeft, b.chartY - h])),
        c ||
          (jb(a, function (a) {
            (d = a.series.yAxis),
              (e = a.series.xAxis),
              (j += a.plotX + (!g && e ? e.left - i : 0)),
              (k +=
                (a.plotLow ? (a.plotLow + a.plotHigh) / 2 : a.plotY) +
                (!g && d ? d.top - h : 0));
          }),
          (j /= a.length),
          (k /= a.length),
          (c = [
            g ? f.plotWidth - k : j,
            this.shared && !g && a.length > 1 && b
              ? b.chartY - h
              : g
              ? f.plotHeight - j
              : k,
          ])),
        mb(c, qa)
      );
    },
    getPosition: function (a, b, c) {
      var d,
        e = this.chart,
        f = this.distance,
        g = {},
        h = c.h || 0,
        i = [
          "y",
          e.chartHeight,
          b,
          c.plotY + e.plotTop,
          e.plotTop,
          e.plotTop + e.plotHeight,
        ],
        j = [
          "x",
          e.chartWidth,
          a,
          c.plotX + e.plotLeft,
          e.plotLeft,
          e.plotLeft + e.plotWidth,
        ],
        k = ub(
          c.ttBelow,
          (e.inverted && !c.negative) || (!e.inverted && c.negative)
        ),
        l = function (a, b, c, d, e, i) {
          var j = c < d - f,
            l = d + f + c < b,
            m = d - f - c,
            n = d + f;
          if (k && l) g[a] = n;
          else if (!k && j) g[a] = m;
          else if (j) g[a] = ua(i - c, m - h < 0 ? m : m - h);
          else {
            if (!l) return !1;
            g[a] = ta(e, n + h + c > b ? n : n + h);
          }
        },
        m = function (a, b, c, d) {
          var e;
          return (
            d < f || d > b - f
              ? (e = !1)
              : d < c / 2
              ? (g[a] = 1)
              : d > b - c / 2
              ? (g[a] = b - c - 2)
              : (g[a] = d - c / 2),
            e
          );
        },
        n = function (a) {
          var b = i;
          (i = j), (j = b), (d = a);
        },
        o = function () {
          l.apply(0, i) !== !1
            ? m.apply(0, j) !== !1 || d || (n(!0), o())
            : d
            ? (g.x = g.y = 0)
            : (n(!0), o());
        };
      return (e.inverted || this.len > 1) && n(), o(), g;
    },
    defaultFormatter: function (a) {
      var b,
        c = this.points || o(this);
      return (
        (b = [a.tooltipFooterHeaderFormatter(c[0])]),
        (b = b.concat(a.bodyFormatter(c))),
        b.push(a.tooltipFooterHeaderFormatter(c[0], !0)),
        b.join("")
      );
    },
    refresh: function (a, b) {
      var c,
        d,
        e,
        f,
        g,
        h,
        i = this,
        j = i.chart,
        k = i.label,
        l = i.options,
        m = {},
        n = [],
        p = l.formatter || i.defaultFormatter,
        q = j.hoverPoints,
        r = i.shared;
      clearTimeout(this.hideTimer),
        (i.followPointer = o(a)[0].series.tooltipOptions.followPointer),
        (e = i.getAnchor(a, b)),
        (c = e[0]),
        (d = e[1]),
        !r || (a.series && a.series.noSharedTooltip)
          ? (m = a.getLabelConfig())
          : ((j.hoverPoints = a),
            q &&
              jb(q, function (a) {
                a.setState();
              }),
            jb(a, function (a) {
              a.setState(cb), n.push(a.getLabelConfig());
            }),
            (m = { x: a[0].category, y: a[0].y }),
            (m.points = n),
            (this.len = n.length),
            (a = a[0])),
        (f = p.call(m, i)),
        (h = a.series),
        (this.distance = ub(h.tooltipOptions.distance, 16)),
        f === !1
          ? this.hide()
          : (i.isHidden && (rb(k), k.attr("opacity", 1).show()),
            k.attr({ text: f }),
            (g = l.borderColor || a.color || h.color || "#606060"),
            k.attr({ stroke: g }),
            i.updatePosition({
              plotX: c,
              plotY: d,
              negative: a.negative,
              ttBelow: a.ttBelow,
              h: e[2] || 0,
            }),
            (this.isHidden = !1)),
        pb(j, "tooltipRefresh", {
          text: f,
          x: c + j.plotLeft,
          y: d + j.plotTop,
          borderColor: g,
        });
    },
    updatePosition: function (a) {
      var b = this.chart,
        c = this.label,
        d = (this.options.positioner || this.getPosition).call(
          this,
          c.width,
          c.height,
          a
        );
      this.move(
        qa(d.x),
        qa(d.y || 0),
        a.plotX + b.plotLeft,
        a.plotY + b.plotTop
      );
    },
    getXDateFormat: function (a, b, c) {
      var d,
        e,
        f,
        g = b.dateTimeLabelFormats,
        h = c && c.closestPointRange,
        i = "01-01 00:00:00.000",
        j = { millisecond: 15, second: 12, minute: 9, hour: 6, day: 3 },
        k = "millisecond";
      if (h) {
        f = U("%m-%d %H:%M:%S.%L", a.x);
        for (e in W) {
          if (
            h === W.week &&
            +U("%w", a.x) === c.options.startOfWeek &&
            f.substr(6) === i.substr(6)
          ) {
            e = "week";
            break;
          }
          if (W[e] > h) {
            e = k;
            break;
          }
          if (j[e] && f.substr(j[e]) !== i.substr(j[e])) break;
          "week" !== e && (k = e);
        }
        e && (d = g[e]);
      } else d = g.day;
      return d || g.year;
    },
    tooltipFooterHeaderFormatter: function (a, b) {
      var c = b ? "footer" : "header",
        d = a.series,
        e = d.tooltipOptions,
        f = e.xDateFormat,
        g = d.xAxis,
        h = g && "datetime" === g.options.type && i(a.key),
        j = e[c + "Format"];
      return (
        h && !f && (f = this.getXDateFormat(a, e, g)),
        h && f && (j = j.replace("{point.key}", "{point.key:" + f + "}")),
        x(j, { point: a, series: d })
      );
    },
    bodyFormatter: function (a) {
      return mb(a, function (a) {
        var b = a.series.tooltipOptions;
        return (b.pointFormatter || a.point.tooltipFormatter).call(
          a.point,
          b.pointFormat
        );
      });
    },
  };
  var Gb;
  R = oa && oa.documentElement.ontouchstart !== P;
  var Hb = (na.Pointer = function (a, b) {
    this.init(a, b);
  });
  if (
    ((Hb.prototype = {
      init: function (a, b) {
        var c,
          d,
          e = b.chart,
          f = e.events,
          g = Ka ? "" : e.zoomType,
          h = a.inverted;
        (this.options = b),
          (this.chart = a),
          (this.zoomX = c = /x/.test(g)),
          (this.zoomY = d = /y/.test(g)),
          (this.zoomHor = (c && !h) || (d && h)),
          (this.zoomVert = (d && !h) || (c && h)),
          (this.hasZoom = c || d),
          (this.runChartClick = f && !!f.click),
          (this.pinchDown = []),
          (this.lastValidTouch = {}),
          na.Tooltip &&
            b.tooltip.enabled &&
            ((a.tooltip = new Fb(a, b.tooltip)),
            (this.followTouchMove = ub(b.tooltip.followTouchMove, !0))),
          this.setDOMEvents();
      },
      normalize: function (b, c) {
        var d, e, f;
        return (
          (b = b || a.event),
          b.target || (b.target = b.srcElement),
          (f = b.touches
            ? b.touches.length
              ? b.touches.item(0)
              : b.changedTouches[0]
            : b),
          c || (this.chartPosition = c = lb(this.chart.container)),
          f.pageX === P
            ? ((d = ta(b.x, b.clientX - c.left)), (e = b.y))
            : ((d = f.pageX - c.left), (e = f.pageY - c.top)),
          tb(b, { chartX: qa(d), chartY: qa(e) })
        );
      },
      getCoordinates: function (a) {
        var b = { xAxis: [], yAxis: [] };
        return (
          jb(this.chart.axes, function (c) {
            b[c.isXAxis ? "xAxis" : "yAxis"].push({
              axis: c,
              value: c.toValue(a[c.horiz ? "chartX" : "chartY"]),
            });
          }),
          b
        );
      },
      runPointActions: function (a) {
        var b,
          c,
          d,
          e,
          f,
          g,
          h,
          i,
          j,
          k = this,
          l = k.chart,
          m = l.series,
          n = l.tooltip,
          o = !!n && n.shared,
          p = l.hoverPoint,
          q = l.hoverSeries,
          r = Number.MAX_VALUE,
          s = [];
        if (!o && !q)
          for (c = 0; c < m.length; c++)
            (!m[c].directTouch && m[c].options.stickyTracking) || (m = []);
        if (
          ((f = q && (o ? q.noSharedTooltip : q.directTouch)),
          f && p
            ? (i = p)
            : (jb(m, function (b) {
                (e = b.noSharedTooltip && o),
                  (g = !o && b.directTouch),
                  b.visible &&
                    !e &&
                    !g &&
                    ub(b.options.enableMouseTracking, !0) &&
                    ((j = b.searchPoint(a, !e && 1 === b.kdDimensions)),
                    j && s.push(j));
              }),
              jb(s, function (a) {
                (h = o || 1 !== a.series.kdDimensions ? a.distX : a.dist),
                  a && "number" == typeof h && h < r && ((r = h), (i = a));
              })),
          i && (i !== this.prevKDPoint || (n && n.isHidden)))
        ) {
          if (o && !i.series.noSharedTooltip) {
            for (c = s.length; c--; )
              (s[c].clientX !== i.clientX || s[c].series.noSharedTooltip) &&
                s.splice(c, 1);
            s.length && n && n.refresh(s, a),
              jb(s, function (b) {
                b.onMouseOver(a, b !== ((q && q.directTouch && p) || i));
              });
          } else n && n.refresh(i, a), (q && q.directTouch) || i.onMouseOver(a);
          this.prevKDPoint = i;
        } else
          (b = q && q.tooltipOptions.followPointer),
            n &&
              b &&
              !n.isHidden &&
              ((d = n.getAnchor([{}], a)),
              n.updatePosition({ plotX: d[0], plotY: d[1] }));
        k._onDocumentMouseMove ||
          ((k._onDocumentMouseMove = function (a) {
            Oa[Gb] && Oa[Gb].pointer.onDocumentMouseMove(a);
          }),
          nb(oa, "mousemove", k._onDocumentMouseMove)),
          jb(l.axes, function (b) {
            b.drawCrosshair(a, ub(i, p));
          });
      },
      reset: function (a, b) {
        var c = this,
          d = c.chart,
          e = d.hoverSeries,
          f = d.hoverPoint,
          g = d.hoverPoints,
          h = d.tooltip,
          i = h && h.shared ? g : f;
        (a = a && h && i),
          a &&
            jb(o(i), function (b) {
              void 0 === b.plotX && (a = !1);
            }),
          a
            ? (h.refresh(i),
              f &&
                (f.setState(f.state, !0),
                jb(d.axes, function (a) {
                  ub(a.options.crosshair && a.options.crosshair.snap, !0)
                    ? a.drawCrosshair(null, f)
                    : a.hideCrosshair();
                })))
            : (f && f.onMouseOut(),
              g &&
                jb(g, function (a) {
                  a.setState();
                }),
              e && e.onMouseOut(),
              h && h.hide(b),
              c._onDocumentMouseMove &&
                (ob(oa, "mousemove", c._onDocumentMouseMove),
                (c._onDocumentMouseMove = null)),
              jb(d.axes, function (a) {
                a.hideCrosshair();
              }),
              (c.hoverX = d.hoverPoints = d.hoverPoint = null));
      },
      scaleGroups: function (a, b) {
        var c,
          d = this.chart;
        jb(d.series, function (e) {
          (c = a || e.getPlotBox()),
            e.xAxis &&
              e.xAxis.zoomEnabled &&
              (e.group.attr(c),
              e.markerGroup &&
                (e.markerGroup.attr(c),
                e.markerGroup.clip(b ? d.clipRect : null)),
              e.dataLabelsGroup && e.dataLabelsGroup.attr(c));
        }),
          d.clipRect.attr(b || d.clipBox);
      },
      dragStart: function (a) {
        var b = this.chart;
        (b.mouseIsDown = a.type),
          (b.cancelClick = !1),
          (b.mouseDownX = this.mouseDownX = a.chartX),
          (b.mouseDownY = this.mouseDownY = a.chartY);
      },
      drag: function (a) {
        var b,
          c,
          d = this.chart,
          e = d.options.chart,
          f = a.chartX,
          g = a.chartY,
          h = this.zoomHor,
          i = this.zoomVert,
          j = d.plotLeft,
          k = d.plotTop,
          l = d.plotWidth,
          m = d.plotHeight,
          n = this.selectionMarker,
          o = this.mouseDownX,
          p = this.mouseDownY,
          q = e.panKey && a[e.panKey + "Key"];
        (n && n.touch) ||
          (f < j ? (f = j) : f > j + l && (f = j + l),
          g < k ? (g = k) : g > k + m && (g = k + m),
          (this.hasDragged = Math.sqrt(
            Math.pow(o - f, 2) + Math.pow(p - g, 2)
          )),
          this.hasDragged > 10 &&
            ((b = d.isInsidePlot(o - j, p - k)),
            d.hasCartesianSeries &&
              (this.zoomX || this.zoomY) &&
              b &&
              !q &&
              (n ||
                (this.selectionMarker = n =
                  d.renderer
                    .rect(j, k, h ? 1 : l, i ? 1 : m, 0)
                    .attr({
                      fill: e.selectionMarkerFill || "rgba(69,114,167,0.25)",
                      zIndex: 7,
                    })
                    .add())),
            n &&
              h &&
              ((c = f - o), n.attr({ width: va(c), x: (c > 0 ? 0 : c) + o })),
            n &&
              i &&
              ((c = g - p), n.attr({ height: va(c), y: (c > 0 ? 0 : c) + p })),
            b && !n && e.panning && d.pan(a, e.panning)));
      },
      drop: function (a) {
        var b = this,
          c = this.chart,
          d = this.hasPinched;
        if (this.selectionMarker) {
          var e,
            f = { xAxis: [], yAxis: [] },
            g = this.selectionMarker,
            h = g.attr ? g.attr("x") : g.x,
            i = g.attr ? g.attr("y") : g.y,
            j = g.attr ? g.attr("width") : g.width,
            k = g.attr ? g.attr("height") : g.height;
          (this.hasDragged || d) &&
            (jb(c.axes, function (c) {
              if (
                c.zoomEnabled &&
                m(c.min) &&
                (d || b[{ xAxis: "zoomX", yAxis: "zoomY" }[c.coll]])
              ) {
                var g = c.horiz,
                  l = "touchend" === a.type ? c.minPixelPadding : 0,
                  n = c.toValue((g ? h : i) + l),
                  o = c.toValue((g ? h + j : i + k) - l);
                f[c.coll].push({ axis: c, min: ua(n, o), max: ta(n, o) }),
                  (e = !0);
              }
            }),
            e &&
              pb(c, "selection", f, function (a) {
                c.zoom(tb(a, d ? { animation: !1 } : null));
              })),
            (this.selectionMarker = this.selectionMarker.destroy()),
            d && this.scaleGroups();
        }
        c &&
          (q(c.container, { cursor: c._cursor }),
          (c.cancelClick = this.hasDragged > 10),
          (c.mouseIsDown = this.hasDragged = this.hasPinched = !1),
          (this.pinchDown = []));
      },
      onContainerMouseDown: function (a) {
        (a = this.normalize(a)),
          a.preventDefault && a.preventDefault(),
          this.dragStart(a);
      },
      onDocumentMouseUp: function (a) {
        Oa[Gb] && Oa[Gb].pointer.drop(a);
      },
      onDocumentMouseMove: function (a) {
        var b = this.chart,
          c = this.chartPosition;
        (a = this.normalize(a, c)),
          !c ||
            this.inClass(a.target, "highcharts-tracker") ||
            b.isInsidePlot(a.chartX - b.plotLeft, a.chartY - b.plotTop) ||
            this.reset();
      },
      onContainerMouseLeave: function () {
        var a = Oa[Gb];
        a && (a.pointer.reset(), (a.pointer.chartPosition = null));
      },
      onContainerMouseMove: function (a) {
        var b = this.chart;
        (Gb = b.index),
          (a = this.normalize(a)),
          (a.returnValue = !1),
          "mousedown" === b.mouseIsDown && this.drag(a),
          (!this.inClass(a.target, "highcharts-tracker") &&
            !b.isInsidePlot(a.chartX - b.plotLeft, a.chartY - b.plotTop)) ||
            b.openMenu ||
            this.runPointActions(a);
      },
      inClass: function (a, b) {
        for (var c; a; ) {
          if ((c = n(a, "class"))) {
            if (c.indexOf(b) !== -1) return !0;
            if (c.indexOf(Wa + "container") !== -1) return !1;
          }
          a = a.parentNode;
        }
      },
      onTrackerMouseOut: function (a) {
        var b = this.chart.hoverSeries,
          c = a.relatedTarget || a.toElement;
        !b ||
          b.options.stickyTracking ||
          this.inClass(c, Wa + "tooltip") ||
          this.inClass(c, Wa + "series-" + b.index) ||
          b.onMouseOut();
      },
      onContainerClick: function (a) {
        var b = this.chart,
          c = b.hoverPoint,
          d = b.plotLeft,
          e = b.plotTop;
        (a = this.normalize(a)),
          b.cancelClick ||
            (c && this.inClass(a.target, Wa + "tracker")
              ? (pb(c.series, "click", tb(a, { point: c })),
                b.hoverPoint && c.firePointEvent("click", a))
              : (tb(a, this.getCoordinates(a)),
                b.isInsidePlot(a.chartX - d, a.chartY - e) &&
                  pb(b, "click", a)));
      },
      setDOMEvents: function () {
        var a = this,
          b = a.chart.container;
        (b.onmousedown = function (b) {
          a.onContainerMouseDown(b);
        }),
          (b.onmousemove = function (b) {
            a.onContainerMouseMove(b);
          }),
          (b.onclick = function (b) {
            a.onContainerClick(b);
          }),
          nb(b, "mouseleave", a.onContainerMouseLeave),
          1 === Pa && nb(oa, "mouseup", a.onDocumentMouseUp),
          R &&
            ((b.ontouchstart = function (b) {
              a.onContainerTouchStart(b);
            }),
            (b.ontouchmove = function (b) {
              a.onContainerTouchMove(b);
            }),
            1 === Pa && nb(oa, "touchend", a.onDocumentTouchEnd));
      },
      destroy: function () {
        var a;
        ob(this.chart.container, "mouseleave", this.onContainerMouseLeave),
          Pa ||
            (ob(oa, "mouseup", this.onDocumentMouseUp),
            ob(oa, "touchend", this.onDocumentTouchEnd)),
          clearInterval(this.tooltipTimeout);
        for (a in this) this[a] = null;
      },
    }),
    tb(na.Pointer.prototype, {
      pinchTranslate: function (a, b, c, d, e, f) {
        (this.zoomHor || this.pinchHor) &&
          this.pinchTranslateDirection(!0, a, b, c, d, e, f),
          (this.zoomVert || this.pinchVert) &&
            this.pinchTranslateDirection(!1, a, b, c, d, e, f);
      },
      pinchTranslateDirection: function (a, b, c, d, e, f, g, h) {
        var i,
          j,
          k,
          l,
          m,
          n,
          o = this.chart,
          p = a ? "x" : "y",
          q = a ? "X" : "Y",
          r = "chart" + q,
          s = a ? "width" : "height",
          t = o["plot" + (a ? "Left" : "Top")],
          u = h || 1,
          v = o.inverted,
          w = o.bounds[a ? "h" : "v"],
          x = 1 === b.length,
          y = b[0][r],
          z = c[0][r],
          A = !x && b[1][r],
          B = !x && c[1][r],
          C = function () {
            !x && va(y - A) > 20 && (u = h || va(z - B) / va(y - A)),
              (k = (t - z) / u + y),
              (i = o["plot" + (a ? "Width" : "Height")] / u);
          };
        C(),
          (j = k),
          j < w.min
            ? ((j = w.min), (l = !0))
            : j + i > w.max && ((j = w.max - i), (l = !0)),
          l
            ? ((z -= 0.8 * (z - g[p][0])), x || (B -= 0.8 * (B - g[p][1])), C())
            : (g[p] = [z, B]),
          v || ((f[p] = k - t), (f[s] = i)),
          (n = v ? (a ? "scaleY" : "scaleX") : "scale" + q),
          (m = v ? 1 / u : u),
          (e[s] = i),
          (e[p] = j),
          (d[n] = u),
          (d["translate" + q] = m * t + (z - m * y));
      },
      pinch: function (a) {
        var b = this,
          c = b.chart,
          d = b.pinchDown,
          e = a.touches,
          f = e.length,
          g = b.lastValidTouch,
          h = b.hasZoom,
          i = b.selectionMarker,
          j = {},
          k =
            1 === f &&
            ((b.inClass(a.target, Wa + "tracker") && c.runTrackerClick) ||
              b.runChartClick),
          l = {};
        f > 1 && (b.initiated = !0),
          h && b.initiated && !k && a.preventDefault(),
          mb(e, function (a) {
            return b.normalize(a);
          }),
          "touchstart" === a.type
            ? (jb(e, function (a, b) {
                d[b] = { chartX: a.chartX, chartY: a.chartY };
              }),
              (g.x = [d[0].chartX, d[1] && d[1].chartX]),
              (g.y = [d[0].chartY, d[1] && d[1].chartY]),
              jb(c.axes, function (a) {
                if (a.zoomEnabled) {
                  var b = c.bounds[a.horiz ? "h" : "v"],
                    d = a.minPixelPadding,
                    e = a.toPixels(ub(a.options.min, a.dataMin)),
                    f = a.toPixels(ub(a.options.max, a.dataMax)),
                    g = ua(e, f),
                    h = ta(e, f);
                  (b.min = ua(a.pos, g - d)),
                    (b.max = ta(a.pos + a.len, h + d));
                }
              }),
              (b.res = !0))
            : d.length &&
              (i ||
                (b.selectionMarker = i =
                  tb({ destroy: Na, touch: !0 }, c.plotBox)),
              b.pinchTranslate(d, e, j, i, l, g),
              (b.hasPinched = h),
              b.scaleGroups(j, l),
              !h && b.followTouchMove && 1 === f
                ? this.runPointActions(b.normalize(a))
                : b.res && ((b.res = !1), this.reset(!1, 0)));
      },
      touch: function (a, b) {
        var c = this.chart;
        (Gb = c.index),
          1 === a.touches.length
            ? ((a = this.normalize(a)),
              c.isInsidePlot(a.chartX - c.plotLeft, a.chartY - c.plotTop) &&
              !c.openMenu
                ? (b && this.runPointActions(a), this.pinch(a))
                : b && this.reset())
            : 2 === a.touches.length && this.pinch(a);
      },
      onContainerTouchStart: function (a) {
        this.touch(a, !0);
      },
      onContainerTouchMove: function (a) {
        this.touch(a);
      },
      onDocumentTouchEnd: function (a) {
        Oa[Gb] && Oa[Gb].pointer.drop(a);
      },
    }),
    a.PointerEvent || a.MSPointerEvent)
  ) {
    var Ib = {},
      Jb = !!a.PointerEvent,
      Kb = function () {
        var a,
          b = [];
        b.item = function (a) {
          return this[a];
        };
        for (a in Ib)
          Ib.hasOwnProperty(a) &&
            b.push({
              pageX: Ib[a].pageX,
              pageY: Ib[a].pageY,
              target: Ib[a].target,
            });
        return b;
      },
      Lb = function (a, b, c, d) {
        var e;
        ("touch" !== a.pointerType &&
          a.pointerType !== a.MSPOINTER_TYPE_TOUCH) ||
          !Oa[Gb] ||
          (d(a),
          (e = Oa[Gb].pointer),
          e[b]({
            type: c,
            target: a.currentTarget,
            preventDefault: Na,
            touches: Kb(),
          }));
      };
    tb(Hb.prototype, {
      onContainerPointerDown: function (a) {
        Lb(a, "onContainerTouchStart", "touchstart", function (a) {
          Ib[a.pointerId] = {
            pageX: a.pageX,
            pageY: a.pageY,
            target: a.currentTarget,
          };
        });
      },
      onContainerPointerMove: function (a) {
        Lb(a, "onContainerTouchMove", "touchmove", function (a) {
          (Ib[a.pointerId] = { pageX: a.pageX, pageY: a.pageY }),
            Ib[a.pointerId].target ||
              (Ib[a.pointerId].target = a.currentTarget);
        });
      },
      onDocumentPointerUp: function (a) {
        Lb(a, "onDocumentTouchEnd", "touchend", function (a) {
          delete Ib[a.pointerId];
        });
      },
      batchMSEvents: function (a) {
        a(
          this.chart.container,
          Jb ? "pointerdown" : "MSPointerDown",
          this.onContainerPointerDown
        ),
          a(
            this.chart.container,
            Jb ? "pointermove" : "MSPointerMove",
            this.onContainerPointerMove
          ),
          a(oa, Jb ? "pointerup" : "MSPointerUp", this.onDocumentPointerUp);
      },
    }),
      vb(Hb.prototype, "init", function (a, b, c) {
        a.call(this, b, c),
          this.hasZoom &&
            q(b.container, { "-ms-touch-action": Za, "touch-action": Za });
      }),
      vb(Hb.prototype, "setDOMEvents", function (a) {
        a.apply(this),
          (this.hasZoom || this.followTouchMove) && this.batchMSEvents(nb);
      }),
      vb(Hb.prototype, "destroy", function (a) {
        this.batchMSEvents(ob), a.call(this);
      });
  }
  var Mb = (na.Legend = function (a, b) {
    this.init(a, b);
  });
  Mb.prototype = {
    init: function (a, b) {
      var c,
        e = this,
        f = b.itemStyle,
        g = b.itemMarginTop || 0;
      (this.options = b),
        b.enabled &&
          ((e.itemStyle = f),
          (e.itemHiddenStyle = d(f, b.itemHiddenStyle)),
          (e.itemMarginTop = g),
          (e.padding = c = ub(b.padding, 8)),
          (e.initialItemX = c),
          (e.initialItemY = c - 5),
          (e.maxItemWidth = 0),
          (e.chart = a),
          (e.itemHeight = 0),
          (e.symbolWidth = ub(b.symbolWidth, 16)),
          (e.pages = []),
          e.render(),
          nb(e.chart, "endResize", function () {
            e.positionCheckboxes();
          }));
    },
    colorizeItem: function (a, b) {
      var c,
        d,
        e = this,
        f = e.options,
        g = a.legendItem,
        h = a.legendLine,
        i = a.legendSymbol,
        j = e.itemHiddenStyle.color,
        k = b ? f.itemStyle.color : j,
        l = b ? a.legendColor || a.color || "#CCC" : j,
        m = a.options && a.options.marker,
        n = { fill: l };
      if ((g && g.css({ fill: k, color: k }), h && h.attr({ stroke: l }), i)) {
        if (m && i.isMarker) {
          (n.stroke = l), (m = a.convertAttribs(m));
          for (c in m) (d = m[c]), d !== P && (n[c] = d);
        }
        i.attr(n);
      }
    },
    positionItem: function (a) {
      var b = this,
        c = b.options,
        d = c.symbolPadding,
        e = !c.rtl,
        f = a._legendItemPos,
        g = f[0],
        h = f[1],
        i = a.checkbox,
        j = a.legendGroup;
      j && j.element && j.translate(e ? g : b.legendWidth - g - 2 * d - 4, h),
        i && ((i.x = g), (i.y = h));
    },
    destroyItem: function (a) {
      var b = a.checkbox;
      jb(
        ["legendItem", "legendLine", "legendSymbol", "legendGroup"],
        function (b) {
          a[b] && (a[b] = a[b].destroy());
        }
      ),
        b && E(a.checkbox);
    },
    destroy: function () {
      var a = this,
        b = a.group,
        c = a.box;
      c && (a.box = c.destroy()), b && (a.group = b.destroy());
    },
    positionCheckboxes: function (a) {
      var b,
        c = this.group.alignAttr,
        d = this.clipHeight || this.legendHeight,
        e = this.titleHeight;
      c &&
        ((b = c.translateY),
        jb(this.allItems, function (f) {
          var g,
            h = f.checkbox;
          h &&
            ((g = b + e + h.y + (a || 0) + 3),
            q(h, {
              left: c.translateX + f.checkboxOffset + h.x - 20 + Ya,
              top: g + Ya,
              display: g > b - 6 && g < b + d - 6 ? "" : Za,
            }));
        }));
    },
    renderTitle: function () {
      var a,
        b = this.options,
        c = this.padding,
        d = b.title,
        e = 0;
      d.text &&
        (this.title ||
          (this.title = this.chart.renderer
            .label(
              d.text,
              c - 3,
              c - 4,
              null,
              null,
              null,
              null,
              null,
              "legend-title"
            )
            .attr({ zIndex: 1 })
            .css(d.style)
            .add(this.group)),
        (a = this.title.getBBox()),
        (e = a.height),
        (this.offsetWidth = a.width),
        this.contentGroup.attr({ translateY: e })),
        (this.titleHeight = e);
    },
    setText: function (a) {
      var b = this.options;
      a.legendItem.attr({
        text: b.labelFormat ? x(b.labelFormat, a) : b.labelFormatter.call(a),
      });
    },
    renderItem: function (a) {
      var b,
        c,
        e,
        f = this,
        g = f.chart,
        h = g.renderer,
        i = f.options,
        j = "horizontal" === i.layout,
        k = f.symbolWidth,
        l = i.symbolPadding,
        m = f.itemStyle,
        n = f.itemHiddenStyle,
        o = f.padding,
        p = j ? ub(i.itemDistance, 20) : 0,
        q = !i.rtl,
        r = i.width,
        s = i.itemMarginBottom || 0,
        t = f.itemMarginTop,
        u = f.initialItemX,
        v = a.legendItem,
        w = a.series && a.series.drawLegendSymbol ? a.series : a,
        x = w.options,
        y = f.createCheckboxForItem && x && x.showCheckbox,
        z = i.useHTML;
      v ||
        ((a.legendGroup = h
          .g("legend-item")
          .attr({ zIndex: 1 })
          .add(f.scrollGroup)),
        (a.legendItem = v =
          h
            .text("", q ? k + l : -l, f.baseline || 0, z)
            .css(d(a.visible ? m : n))
            .attr({ align: q ? "left" : "right", zIndex: 2 })
            .add(a.legendGroup)),
        f.baseline ||
          ((f.fontMetrics = h.fontMetrics(m.fontSize, v)),
          (f.baseline = f.fontMetrics.f + 3 + t),
          v.attr("y", f.baseline)),
        w.drawLegendSymbol(f, a),
        f.setItemEvents && f.setItemEvents(a, v, z, m, n),
        f.colorizeItem(a, a.visible),
        y && f.createCheckboxForItem(a)),
        f.setText(a),
        (c = v.getBBox()),
        (e = a.checkboxOffset =
          i.itemWidth ||
          a.legendItemWidth ||
          k + l + c.width + p + (y ? 20 : 0)),
        (f.itemHeight = b = qa(a.legendItemHeight || c.height)),
        j &&
          f.itemX - u + e > (r || g.chartWidth - 2 * o - u - i.x) &&
          ((f.itemX = u),
          (f.itemY += t + f.lastLineHeight + s),
          (f.lastLineHeight = 0)),
        (f.maxItemWidth = ta(f.maxItemWidth, e)),
        (f.lastItemY = t + f.itemY + s),
        (f.lastLineHeight = ta(b, f.lastLineHeight)),
        (a._legendItemPos = [f.itemX, f.itemY]),
        j ? (f.itemX += e) : ((f.itemY += t + b + s), (f.lastLineHeight = b)),
        (f.offsetWidth = r || ta((j ? f.itemX - u - p : e) + o, f.offsetWidth));
    },
    getAllItems: function () {
      var a = [];
      return (
        jb(this.chart.series, function (b) {
          var c = b.options;
          ub(c.showInLegend, !m(c.linkedTo) && P, !0) &&
            (a = a.concat(
              b.legendItems || ("point" === c.legendType ? b.data : b)
            ));
        }),
        a
      );
    },
    adjustMargins: function (a, b) {
      var c = this.chart,
        d = this.options,
        e = d.align.charAt(0) + d.verticalAlign.charAt(0) + d.layout.charAt(0);
      this.display &&
        !d.floating &&
        jb(
          [/(lth|ct|rth)/, /(rtv|rm|rbv)/, /(rbh|cb|lbh)/, /(lbv|lm|ltv)/],
          function (f, g) {
            f.test(e) &&
              !m(a[g]) &&
              (c[eb[g]] = ta(
                c[eb[g]],
                c.legend[(g + 1) % 2 ? "legendHeight" : "legendWidth"] +
                  [1, -1, -1, 1][g] * d[g % 2 ? "x" : "y"] +
                  ub(d.margin, 12) +
                  b[g]
              ));
          }
        );
    },
    render: function () {
      var a,
        b,
        c,
        d,
        e = this,
        f = e.chart,
        g = f.renderer,
        h = e.group,
        i = e.box,
        j = e.options,
        k = e.padding,
        l = j.borderWidth,
        m = j.backgroundColor;
      (e.itemX = e.initialItemX),
        (e.itemY = e.initialItemY),
        (e.offsetWidth = 0),
        (e.lastItemY = 0),
        h ||
          ((e.group = h = g.g("legend").attr({ zIndex: 7 }).add()),
          (e.contentGroup = g.g().attr({ zIndex: 1 }).add(h)),
          (e.scrollGroup = g.g().add(e.contentGroup))),
        e.renderTitle(),
        (a = e.getAllItems()),
        A(a, function (a, b) {
          return (
            ((a.options && a.options.legendIndex) || 0) -
            ((b.options && b.options.legendIndex) || 0)
          );
        }),
        j.reversed && a.reverse(),
        (e.allItems = a),
        (e.display = b = !!a.length),
        (e.lastLineHeight = 0),
        jb(a, function (a) {
          e.renderItem(a);
        }),
        (c = (j.width || e.offsetWidth) + k),
        (d = e.lastItemY + e.lastLineHeight + e.titleHeight),
        (d = e.handleOverflow(d)),
        (d += k),
        (l || m) &&
          (i
            ? c > 0 &&
              d > 0 &&
              (i[i.isNew ? "attr" : "animate"](
                i.crisp({ width: c, height: d })
              ),
              (i.isNew = !1))
            : ((e.box = i =
                g
                  .rect(0, 0, c, d, j.borderRadius, l || 0)
                  .attr({
                    stroke: j.borderColor,
                    "stroke-width": l || 0,
                    fill: m || Za,
                  })
                  .add(h)
                  .shadow(j.shadow)),
              (i.isNew = !0)),
          i[b ? "show" : "hide"]()),
        (e.legendWidth = c),
        (e.legendHeight = d),
        jb(a, function (a) {
          e.positionItem(a);
        }),
        b && h.align(tb({ width: c, height: d }, j), !0, "spacingBox"),
        f.isResizing || this.positionCheckboxes();
    },
    handleOverflow: function (a) {
      var b,
        c,
        d = this,
        e = this.chart,
        f = e.renderer,
        g = this.options,
        h = g.y,
        i = "top" === g.verticalAlign,
        j = e.spacingBox.height + (i ? -h : h) - this.padding,
        k = g.maxHeight,
        l = this.clipRect,
        m = g.navigation,
        n = ub(m.animation, !0),
        o = m.arrowSize || 12,
        p = this.nav,
        q = this.pages,
        r = this.padding,
        s = this.allItems,
        t = function (a) {
          l.attr({ height: a }),
            d.contentGroup.div &&
              (d.contentGroup.div.style.clip =
                "rect(" + r + "px,9999px," + (r + a) + "px,0)");
        };
      return (
        "horizontal" === g.layout && (j /= 2),
        k && (j = ua(j, k)),
        (q.length = 0),
        a > j
          ? ((this.clipHeight = b = ta(j - 20 - this.titleHeight - r, 0)),
            (this.currentPage = ub(this.currentPage, 1)),
            (this.fullHeight = a),
            jb(s, function (a, d) {
              var e = a._legendItemPos[1],
                f = qa(a.legendItem.getBBox().height),
                g = q.length;
              (!g || (e - q[g - 1] > b && (c || e) !== q[g - 1])) &&
                (q.push(c || e), g++),
                d === s.length - 1 && e + f - q[g - 1] > b && q.push(e),
                e !== c && (c = e);
            }),
            l ||
              ((l = d.clipRect = f.clipRect(0, r, 9999, 0)),
              d.contentGroup.clip(l)),
            t(b),
            p ||
              ((this.nav = p = f.g().attr({ zIndex: 1 }).add(this.group)),
              (this.up = f
                .symbol("triangle", 0, 0, o, o)
                .on("click", function () {
                  d.scroll(-1, n);
                })
                .add(p)),
              (this.pager = f.text("", 15, 10).css(m.style).add(p)),
              (this.down = f
                .symbol("triangle-down", 0, 0, o, o)
                .on("click", function () {
                  d.scroll(1, n);
                })
                .add(p))),
            d.scroll(0),
            (a = j))
          : p &&
            (t(e.chartHeight),
            p.hide(),
            this.scrollGroup.attr({ translateY: 1 }),
            (this.clipHeight = 0)),
        a
      );
    },
    scroll: function (a, b) {
      var c,
        d = this.pages,
        e = d.length,
        f = this.currentPage + a,
        g = this.clipHeight,
        h = this.options.navigation,
        i = h.activeColor,
        j = h.inactiveColor,
        k = this.pager,
        l = this.padding;
      f > e && (f = e),
        f > 0 &&
          (b !== P && G(b, this.chart),
          this.nav.attr({
            translateX: l,
            translateY: g + this.padding + 7 + this.titleHeight,
            visibility: Xa,
          }),
          this.up
            .attr({ fill: 1 === f ? j : i })
            .css({ cursor: 1 === f ? "default" : "pointer" }),
          k.attr({ text: f + "/" + e }),
          this.down
            .attr({ x: 18 + this.pager.getBBox().width, fill: f === e ? j : i })
            .css({ cursor: f === e ? "default" : "pointer" }),
          (c = -d[f - 1] + this.initialItemY),
          this.scrollGroup.animate({ translateY: c }),
          (this.currentPage = f),
          this.positionCheckboxes(c));
    },
  };
  var Nb = (na.LegendSymbolMixin = {
    drawRectangle: function (a, b) {
      var c = a.options.symbolHeight || a.fontMetrics.f;
      b.legendSymbol = this.chart.renderer
        .rect(
          0,
          a.baseline - c + 1,
          a.symbolWidth,
          c,
          a.options.symbolRadius || 0
        )
        .attr({ zIndex: 3 })
        .add(b.legendGroup);
    },
    drawLineMarker: function (a) {
      var b,
        c,
        d,
        e = this.options,
        f = e.marker,
        g = a.symbolWidth,
        h = this.chart.renderer,
        i = this.legendGroup,
        j = a.baseline - qa(0.3 * a.fontMetrics.b);
      e.lineWidth &&
        ((d = { "stroke-width": e.lineWidth }),
        e.dashStyle && (d.dashstyle = e.dashStyle),
        (this.legendLine = h.path([$a, 0, j, _a, g, j]).attr(d).add(i))),
        f &&
          f.enabled !== !1 &&
          ((b = f.radius),
          (this.legendSymbol = c =
            h.symbol(this.symbol, g / 2 - b, j - b, 2 * b, 2 * b, f).add(i)),
          (c.isMarker = !0));
    },
  });
  (/Trident\/7\.0/.test(Aa) || Fa) &&
    vb(Mb.prototype, "positionItem", function (a, b) {
      var c = this,
        d = function () {
          b._legendItemPos && a.call(c, b);
        };
      d(), setTimeout(d);
    });
  var Ob = (na.Chart = function () {
    this.getArgs.apply(this, arguments);
  });
  (na.chart = function (a, b, c) {
    return new Ob(a, b, c);
  }),
    (Ob.prototype = {
      callbacks: [],
      getArgs: function () {
        var a = [].slice.call(arguments);
        (f(a[0]) || a[0].nodeName) && (this.renderTo = a.shift()),
          this.init(a[0], a[1]);
      },
      init: function (a, b) {
        var c,
          e = a.series;
        (a.series = null),
          (c = d(T, a)),
          (c.series = a.series = e),
          (this.userOptions = a);
        var f = c.chart;
        (this.margin = this.splashArray("margin", f)),
          (this.spacing = this.splashArray("spacing", f));
        var g = f.events;
        (this.bounds = { h: {}, v: {} }),
          (this.callback = b),
          (this.isResizing = 0),
          (this.options = c),
          (this.axes = []),
          (this.series = []),
          (this.hasCartesianSeries = f.showAxes);
        var h,
          i = this;
        if (
          ((i.index = Oa.length),
          Oa.push(i),
          Pa++,
          f.reflow !== !1 &&
            nb(i, "load", function () {
              i.initReflow();
            }),
          g)
        )
          for (h in g) nb(i, h, g[h]);
        (i.xAxis = []),
          (i.yAxis = []),
          (i.animation = !Ka && ub(f.animation, !0)),
          (i.pointCount = i.colorCounter = i.symbolCounter = 0),
          i.firstRender();
      },
      initSeries: function (a) {
        var c,
          d = this,
          e = d.options.chart,
          f = a.type || e.type || e.defaultSeriesType,
          g = gb[f];
        return g || b(17, !0), (c = new g()), c.init(this, a), c;
      },
      isInsidePlot: function (a, b, c) {
        var d = c ? b : a,
          e = c ? a : b;
        return d >= 0 && d <= this.plotWidth && e >= 0 && e <= this.plotHeight;
      },
      redraw: function (a) {
        var b,
          c,
          d,
          e = this,
          f = e.axes,
          g = e.series,
          h = e.pointer,
          i = e.legend,
          j = e.isDirtyLegend,
          k = e.hasCartesianSeries,
          l = e.isDirtyBox,
          m = g.length,
          n = m,
          o = e.renderer,
          p = o.isHidden(),
          q = [];
        for (G(a, e), p && e.cloneRenderTo(), e.layOutTitles(); n--; )
          if (((d = g[n]), d.options.stacking && ((b = !0), d.isDirty))) {
            c = !0;
            break;
          }
        if (c)
          for (n = m; n--; ) (d = g[n]), d.options.stacking && (d.isDirty = !0);
        jb(g, function (a) {
          a.isDirty &&
            "point" === a.options.legendType &&
            (a.updateTotals && a.updateTotals(), (j = !0));
        }),
          j && i.options.enabled && (i.render(), (e.isDirtyLegend = !1)),
          b && e.getStacks(),
          k &&
            (e.isResizing ||
              ((e.maxTicks = null),
              jb(f, function (a) {
                a.setScale();
              }))),
          e.getMargins(),
          k &&
            (jb(f, function (a) {
              a.isDirty && (l = !0);
            }),
            jb(f, function (a) {
              var c = a.min + "," + a.max;
              a.extKey !== c &&
                ((a.extKey = c),
                q.push(function () {
                  pb(a, "afterSetExtremes", tb(a.eventArgs, a.getExtremes())),
                    delete a.eventArgs;
                })),
                (l || b) && a.redraw();
            })),
          l && e.drawChartBox(),
          jb(g, function (a) {
            a.isDirty && a.visible && (!a.isCartesian || a.xAxis) && a.redraw();
          }),
          h && h.reset(!0),
          o.draw(),
          pb(e, "redraw"),
          p && e.cloneRenderTo(!0),
          jb(q, function (a) {
            a.call();
          });
      },
      get: function (a) {
        var b,
          c,
          d,
          e = this,
          f = e.axes,
          g = e.series;
        for (b = 0; b < f.length; b++) if (f[b].options.id === a) return f[b];
        for (b = 0; b < g.length; b++) if (g[b].options.id === a) return g[b];
        for (b = 0; b < g.length; b++)
          for (d = g[b].points || [], c = 0; c < d.length; c++)
            if (d[c].id === a) return d[c];
        return null;
      },
      getAxes: function () {
        var a,
          b = this,
          c = this.options,
          d = (c.xAxis = o(c.xAxis || {})),
          e = (c.yAxis = o(c.yAxis || {}));
        jb(d, function (a, b) {
          (a.index = b), (a.isX = !0);
        }),
          jb(e, function (a, b) {
            a.index = b;
          }),
          (a = d.concat(e)),
          jb(a, function (a) {
            new Eb(b, a);
          });
      },
      getSelectedPoints: function () {
        var a = [];
        return (
          jb(this.series, function (b) {
            a = a.concat(
              kb(b.points || [], function (a) {
                return a.selected;
              })
            );
          }),
          a
        );
      },
      getSelectedSeries: function () {
        return kb(this.series, function (a) {
          return a.selected;
        });
      },
      setTitle: function (a, b, c) {
        var e,
          f,
          g = this,
          h = g.options;
        (e = h.title = d(h.title, a)),
          (f = h.subtitle = d(h.subtitle, b)),
          jb(
            [
              ["title", a, e],
              ["subtitle", b, f],
            ],
            function (a) {
              var b = a[0],
                c = g[b],
                d = a[1],
                e = a[2];
              c && d && (g[b] = c = c.destroy()),
                e &&
                  e.text &&
                  !c &&
                  (g[b] = g.renderer
                    .text(e.text, 0, 0, e.useHTML)
                    .attr({
                      align: e.align,
                      class: Wa + b,
                      zIndex: e.zIndex || 4,
                    })
                    .css(e.style)
                    .add());
            }
          ),
          g.layOutTitles(c);
      },
      layOutTitles: function (a) {
        var b,
          c = 0,
          d = this.title,
          e = this.subtitle,
          f = this.options,
          g = f.title,
          h = f.subtitle,
          i = this.renderer,
          j = this.spacingBox.width - 44;
        d &&
          (d
            .css({ width: (g.width || j) + Ya })
            .align(
              tb({ y: i.fontMetrics(g.style.fontSize, d).b - 3 }, g),
              !1,
              "spacingBox"
            ),
          g.floating || g.verticalAlign || (c = d.getBBox().height)),
          e &&
            (e.css({ width: (h.width || j) + Ya }).align(
              tb(
                {
                  y: c + (g.margin - 13) + i.fontMetrics(h.style.fontSize, d).b,
                },
                h
              ),
              !1,
              "spacingBox"
            ),
            h.floating || h.verticalAlign || (c = sa(c + e.getBBox().height))),
          (b = this.titleOffset !== c),
          (this.titleOffset = c),
          !this.isDirtyBox &&
            b &&
            ((this.isDirtyBox = b),
            this.hasRendered && ub(a, !0) && this.isDirtyBox && this.redraw());
      },
      getChartSize: function () {
        var a = this,
          b = a.options.chart,
          c = b.width,
          d = b.height,
          e = a.renderToClone || a.renderTo;
        m(c) || (a.containerWidth = hb(e, "width")),
          m(d) || (a.containerHeight = hb(e, "height")),
          (a.chartWidth = ta(0, c || a.containerWidth || 600)),
          (a.chartHeight = ta(
            0,
            ub(d, a.containerHeight > 19 ? a.containerHeight : 400)
          ));
      },
      cloneRenderTo: function (a) {
        var b = this.renderToClone,
          c = this.container;
        a
          ? b && (this.renderTo.appendChild(c), E(b), delete this.renderToClone)
          : (c &&
              c.parentNode === this.renderTo &&
              this.renderTo.removeChild(c),
            (this.renderToClone = b = this.renderTo.cloneNode(0)),
            q(b, { position: Ta, top: "-9999px", display: "block" }),
            b.style.setProperty &&
              b.style.setProperty("display", "block", "important"),
            oa.body.appendChild(b),
            c && b.appendChild(c));
      },
      getContainer: function () {
        var a,
          c,
          d,
          g,
          h,
          i = this,
          j = i.options,
          k = j.chart,
          l = i.renderTo,
          m = "data-highcharts-chart",
          o = "highcharts-" + Ma++;
        l || (i.renderTo = l = k.renderTo),
          f(l) && (i.renderTo = l = oa.getElementById(l)),
          l || b(13, !0),
          (g = e(n(l, m))),
          !isNaN(g) && Oa[g] && Oa[g].hasRendered && Oa[g].destroy(),
          n(l, m, i.index),
          (l.innerHTML = ""),
          k.skipClone || l.offsetWidth || i.cloneRenderTo(),
          i.getChartSize(),
          (c = i.chartWidth),
          (d = i.chartHeight),
          (i.container = a =
            r(
              Sa,
              {
                className:
                  Wa + "container" + (k.className ? " " + k.className : ""),
                id: o,
              },
              tb(
                {
                  position: Ua,
                  overflow: Va,
                  width: c + Ya,
                  height: d + Ya,
                  textAlign: "left",
                  lineHeight: "normal",
                  zIndex: 0,
                  "-webkit-tap-highlight-color": "rgba(0,0,0,0)",
                },
                k.style
              ),
              i.renderToClone || l
            )),
          (i._cursor = a.style.cursor),
          (h = na[k.renderer] || Q),
          (i.renderer = new h(
            a,
            c,
            d,
            k.style,
            k.forExport,
            j.exporting && j.exporting.allowHTML
          )),
          Ka && i.renderer.create(i, a, c, d),
          (i.renderer.chartIndex = i.index);
      },
      getMargins: function (a) {
        var b = this,
          c = b.spacing,
          d = b.margin,
          e = b.titleOffset;
        b.resetMargins(),
          e &&
            !m(d[0]) &&
            (b.plotTop = ta(b.plotTop, e + b.options.title.margin + c[0])),
          b.legend.adjustMargins(d, c),
          b.extraBottomMargin && (b.marginBottom += b.extraBottomMargin),
          b.extraTopMargin && (b.plotTop += b.extraTopMargin),
          a || this.getAxisMargins();
      },
      getAxisMargins: function () {
        var a = this,
          b = (a.axisOffset = [0, 0, 0, 0]),
          c = a.margin;
        a.hasCartesianSeries &&
          jb(a.axes, function (a) {
            a.visible && a.getOffset();
          }),
          jb(eb, function (d, e) {
            m(c[e]) || (a[d] += b[e]);
          }),
          a.setChartSize();
      },
      reflow: function (b) {
        var c = this,
          d = c.options.chart,
          e = c.renderTo,
          f = d.width || hb(e, "width"),
          g = d.height || hb(e, "height"),
          h = b ? b.target : a;
        c.hasUserSize ||
          c.isPrinting ||
          !f ||
          !g ||
          (h !== a && h !== oa) ||
          ((f === c.containerWidth && g === c.containerHeight) ||
            (clearTimeout(c.reflowTimeout),
            (c.reflowTimeout = p(
              function () {
                c.container && (c.setSize(f, g, !1), (c.hasUserSize = null));
              },
              b ? 100 : 0
            ))),
          (c.containerWidth = f),
          (c.containerHeight = g));
      },
      initReflow: function () {
        var b = this,
          c = function (a) {
            b.reflow(a);
          };
        nb(a, "resize", c),
          nb(b, "destroy", function () {
            ob(a, "resize", c);
          });
      },
      setSize: function (a, b, c) {
        var d,
          e,
          f,
          g = this,
          h = g.renderer;
        (g.isResizing += 1),
          G(c, g),
          (g.oldChartHeight = g.chartHeight),
          (g.oldChartWidth = g.chartWidth),
          m(a) && ((g.chartWidth = d = ta(0, qa(a))), (g.hasUserSize = !!d)),
          m(b) && (g.chartHeight = e = ta(0, qa(b))),
          (f = h.globalAnimation),
          (f ? qb : q)(g.container, { width: d + Ya, height: e + Ya }, f),
          g.setChartSize(!0),
          h.setSize(d, e, c),
          (g.maxTicks = null),
          jb(g.axes, function (a) {
            (a.isDirty = !0), a.setScale();
          }),
          jb(g.series, function (a) {
            a.isDirty = !0;
          }),
          (g.isDirtyLegend = !0),
          (g.isDirtyBox = !0),
          g.layOutTitles(),
          g.getMargins(),
          g.redraw(c),
          (g.oldChartHeight = null),
          pb(g, "resize"),
          (f = h.globalAnimation),
          p(
            function () {
              g &&
                pb(g, "endResize", null, function () {
                  g.isResizing -= 1;
                });
            },
            f === !1 ? 0 : (f && f.duration) || 500
          );
      },
      setChartSize: function (a) {
        var b,
          c,
          d,
          e,
          f,
          g,
          h,
          i = this,
          j = i.inverted,
          k = i.renderer,
          l = i.chartWidth,
          m = i.chartHeight,
          n = i.options.chart,
          o = i.spacing,
          p = i.clipOffset;
        (i.plotLeft = d = qa(i.plotLeft)),
          (i.plotTop = e = qa(i.plotTop)),
          (i.plotWidth = f = ta(0, qa(l - d - i.marginRight))),
          (i.plotHeight = g = ta(0, qa(m - e - i.marginBottom))),
          (i.plotSizeX = j ? g : f),
          (i.plotSizeY = j ? f : g),
          (i.plotBorderWidth = n.plotBorderWidth || 0),
          (i.spacingBox = k.spacingBox =
            {
              x: o[3],
              y: o[0],
              width: l - o[3] - o[1],
              height: m - o[0] - o[2],
            }),
          (i.plotBox = k.plotBox = { x: d, y: e, width: f, height: g }),
          (h = 2 * ra(i.plotBorderWidth / 2)),
          (b = sa(ta(h, p[3]) / 2)),
          (c = sa(ta(h, p[0]) / 2)),
          (i.clipBox = {
            x: b,
            y: c,
            width: ra(i.plotSizeX - ta(h, p[1]) / 2 - b),
            height: ta(0, ra(i.plotSizeY - ta(h, p[2]) / 2 - c)),
          }),
          a ||
            jb(i.axes, function (a) {
              a.setAxisSize(), a.setAxisTranslation();
            });
      },
      resetMargins: function () {
        var a = this;
        jb(eb, function (b, c) {
          a[b] = ub(a.margin[c], a.spacing[c]);
        }),
          (a.axisOffset = [0, 0, 0, 0]),
          (a.clipOffset = [0, 0, 0, 0]);
      },
      drawChartBox: function () {
        var a,
          b,
          c = this,
          d = c.options.chart,
          e = c.renderer,
          f = c.chartWidth,
          g = c.chartHeight,
          h = c.chartBackground,
          i = c.plotBackground,
          j = c.plotBorder,
          k = c.plotBGImage,
          l = d.borderWidth || 0,
          m = d.backgroundColor,
          n = d.plotBackgroundColor,
          o = d.plotBackgroundImage,
          p = d.plotBorderWidth || 0,
          q = c.plotLeft,
          r = c.plotTop,
          s = c.plotWidth,
          t = c.plotHeight,
          u = c.plotBox,
          v = c.clipRect,
          w = c.clipBox;
        (a = l + (d.shadow ? 8 : 0)),
          (l || m) &&
            (h
              ? h.animate(h.crisp({ width: f - a, height: g - a }))
              : ((b = { fill: m || Za }),
                l && ((b.stroke = d.borderColor), (b["stroke-width"] = l)),
                (c.chartBackground = e
                  .rect(a / 2, a / 2, f - a, g - a, d.borderRadius, l)
                  .attr(b)
                  .addClass(Wa + "background")
                  .add()
                  .shadow(d.shadow)))),
          n &&
            (i
              ? i.animate(u)
              : (c.plotBackground = e
                  .rect(q, r, s, t, 0)
                  .attr({ fill: n })
                  .add()
                  .shadow(d.plotShadow))),
          o &&
            (k ? k.animate(u) : (c.plotBGImage = e.image(o, q, r, s, t).add())),
          v
            ? v.animate({ width: w.width, height: w.height })
            : (c.clipRect = e.clipRect(w)),
          p &&
            (j
              ? j.animate(
                  j.crisp({ x: q, y: r, width: s, height: t, strokeWidth: -p })
                )
              : (c.plotBorder = e
                  .rect(q, r, s, t, 0, -p)
                  .attr({
                    stroke: d.plotBorderColor,
                    "stroke-width": p,
                    fill: Za,
                    zIndex: 1,
                  })
                  .add())),
          (c.isDirtyBox = !1);
      },
      propFromSeries: function () {
        var a,
          b,
          c,
          d = this,
          e = d.options.chart,
          f = d.options.series;
        jb(["inverted", "angular", "polar"], function (g) {
          for (
            a = gb[e.type || e.defaultSeriesType],
              c = d[g] || e[g] || (a && a.prototype[g]),
              b = f && f.length;
            !c && b--;

          )
            (a = gb[f[b].type]), a && a.prototype[g] && (c = !0);
          d[g] = c;
        });
      },
      linkSeries: function () {
        var a = this,
          b = a.series;
        jb(b, function (a) {
          a.linkedSeries.length = 0;
        }),
          jb(b, function (b) {
            var c = b.options.linkedTo;
            f(c) &&
              ((c = ":previous" === c ? a.series[b.index - 1] : a.get(c)),
              c &&
                (c.linkedSeries.push(b),
                (b.linkedParent = c),
                (b.visible = ub(
                  b.options.visible,
                  c.options.visible,
                  b.visible
                ))));
          });
      },
      renderSeries: function () {
        jb(this.series, function (a) {
          a.translate(), a.render();
        });
      },
      renderLabels: function () {
        var a = this,
          b = a.options.labels;
        b.items &&
          jb(b.items, function (c) {
            var d = tb(b.style, c.style),
              f = e(d.left) + a.plotLeft,
              g = e(d.top) + a.plotTop + 12;
            delete d.left,
              delete d.top,
              a.renderer.text(c.html, f, g).attr({ zIndex: 2 }).css(d).add();
          });
      },
      render: function () {
        var a,
          b,
          c,
          d,
          e = this,
          f = e.axes,
          g = e.renderer,
          h = e.options;
        e.setTitle(),
          (e.legend = new Mb(e, h.legend)),
          e.getStacks && e.getStacks(),
          e.getMargins(!0),
          e.setChartSize(),
          (a = e.plotWidth),
          (b = e.plotHeight = e.plotHeight - 21),
          jb(f, function (a) {
            a.setScale();
          }),
          e.getAxisMargins(),
          (c = a / e.plotWidth > 1.1),
          (d = b / e.plotHeight > 1.05),
          (c || d) &&
            ((e.maxTicks = null),
            jb(f, function (a) {
              ((a.horiz && c) || (!a.horiz && d)) && a.setTickInterval(!0);
            }),
            e.getMargins()),
          e.drawChartBox(),
          e.hasCartesianSeries &&
            jb(f, function (a) {
              a.visible && a.render();
            }),
          e.seriesGroup ||
            (e.seriesGroup = g.g("series-group").attr({ zIndex: 3 }).add()),
          e.renderSeries(),
          e.renderLabels(),
          e.showCredits(h.credits),
          (e.hasRendered = !0);
      },
      showCredits: function (b) {
        b.enabled &&
          !this.credits &&
          (this.credits = this.renderer
            .text(b.text, 0, 0)
            .on("click", function () {
              b.href && (a.location.href = b.href);
            })
            .attr({ align: b.position.align, zIndex: 8 })
            .css(b.style)
            .add()
            .align(b.position));
      },
      destroy: function () {
        var a,
          b = this,
          c = b.axes,
          d = b.series,
          e = b.container,
          f = e && e.parentNode;
        for (
          pb(b, "destroy"),
            Oa[b.index] = P,
            Pa--,
            b.renderTo.removeAttribute("data-highcharts-chart"),
            ob(b),
            a = c.length;
          a--;

        )
          c[a] = c[a].destroy();
        for (a = d.length; a--; ) d[a] = d[a].destroy();
        jb(
          [
            "title",
            "subtitle",
            "chartBackground",
            "plotBackground",
            "plotBGImage",
            "plotBorder",
            "seriesGroup",
            "clipRect",
            "credits",
            "pointer",
            "scroller",
            "rangeSelector",
            "legend",
            "resetZoomButton",
            "tooltip",
            "renderer",
          ],
          function (a) {
            var c = b[a];
            c && c.destroy && (b[a] = c.destroy());
          }
        ),
          e && ((e.innerHTML = ""), ob(e), f && E(e));
        for (a in b) delete b[a];
      },
      isReadyToRender: function () {
        var b = this;
        return (
          !(
            (!Ia && a == a.top && "complete" !== oa.readyState) ||
            (Ka && !a.canvg)
          ) ||
          (Ka
            ? Db.push(function () {
                b.firstRender();
              }, b.options.global.canvasToolsURL)
            : oa.attachEvent("onreadystatechange", function () {
                oa.detachEvent("onreadystatechange", b.firstRender),
                  "complete" === oa.readyState && b.firstRender();
              }),
          !1)
        );
      },
      firstRender: function () {
        var a = this,
          b = a.options,
          c = a.callback;
        a.isReadyToRender() &&
          (a.getContainer(),
          pb(a, "init"),
          a.resetMargins(),
          a.setChartSize(),
          a.propFromSeries(),
          a.getAxes(),
          jb(b.series || [], function (b) {
            a.initSeries(b);
          }),
          a.linkSeries(),
          pb(a, "beforeRender"),
          na.Pointer && (a.pointer = new Hb(a, b)),
          a.render(),
          a.renderer.draw(),
          c && c.apply(a, [a]),
          jb(a.callbacks, function (b) {
            a.index !== P && b.apply(a, [a]);
          }),
          pb(a, "load"),
          a.cloneRenderTo(!0));
      },
      splashArray: function (a, b) {
        var c = b[a],
          d = g(c) ? c : [c, c, c, c];
        return [
          ub(b[a + "Top"], d[0]),
          ub(b[a + "Right"], d[1]),
          ub(b[a + "Bottom"], d[2]),
          ub(b[a + "Left"], d[3]),
        ];
      },
    });
  var Pb = (na.CenteredSeriesMixin = {
      getCenter: function () {
        var a,
          b,
          c,
          d = this.options,
          e = this.chart,
          f = 2 * (d.slicedOffset || 0),
          g = e.plotWidth - 2 * f,
          h = e.plotHeight - 2 * f,
          i = d.center,
          j = [
            ub(i[0], "50%"),
            ub(i[1], "50%"),
            d.size || "100%",
            d.innerSize || 0,
          ],
          k = ua(g, h);
        for (b = 0; b < 4; ++b)
          (c = j[b]),
            (a = b < 2 || (2 === b && /%$/.test(c))),
            (j[b] = u(c, [g, h, k, j[2]][b]) + (a ? f : 0));
        return j[3] > j[2] && (j[3] = j[2]), j;
      },
    }),
    Qb = function () {};
  Qb.prototype = {
    init: function (a, b, c) {
      var d,
        e = this;
      return (
        (e.series = a),
        (e.color = a.color),
        e.applyOptions(b, c),
        (e.pointAttr = {}),
        a.options.colorByPoint &&
          ((d = a.options.colors || a.chart.options.colors),
          (e.color = e.color || d[a.colorCounter++]),
          a.colorCounter === d.length && (a.colorCounter = 0)),
        a.chart.pointCount++,
        e
      );
    },
    applyOptions: function (a, b) {
      var c = this,
        d = c.series,
        e = d.options.pointValKey || d.pointValKey;
      return (
        (a = Qb.prototype.optionsToObject.call(this, a)),
        tb(c, a),
        (c.options = c.options ? tb(c.options, a) : a),
        e && (c.y = c[e]),
        c.x === P && d && (c.x = b === P ? d.autoIncrement() : b),
        c
      );
    },
    optionsToObject: function (a) {
      var b,
        c = {},
        d = this.series,
        e = d.options.keys,
        f = e || d.pointArrayMap || ["y"],
        g = f.length,
        i = 0,
        j = 0;
      if ("number" == typeof a || null === a) c[f[0]] = a;
      else if (h(a))
        for (
          !e &&
          a.length > g &&
          ((b = typeof a[0]),
          "string" === b ? (c.name = a[0]) : "number" === b && (c.x = a[0]),
          i++);
          j < g;

        )
          (e && void 0 === a[i]) || (c[f[j]] = a[i]), i++, j++;
      else
        "object" == typeof a &&
          ((c = a),
          a.dataLabels && (d._hasPointLabels = !0),
          a.marker && (d._hasPointMarkers = !0));
      return c;
    },
    destroy: function () {
      var a,
        b = this,
        c = b.series,
        d = c.chart,
        e = d.hoverPoints;
      d.pointCount--,
        e && (b.setState(), l(e, b), e.length || (d.hoverPoints = null)),
        b === d.hoverPoint && b.onMouseOut(),
        (b.graphic || b.dataLabel) && (ob(b), b.destroyElements()),
        b.legendItem && d.legend.destroyItem(b);
      for (a in b) b[a] = null;
    },
    destroyElements: function () {
      for (
        var a,
          b = this,
          c = [
            "graphic",
            "dataLabel",
            "dataLabelUpper",
            "connector",
            "shadowGroup",
          ],
          d = 6;
        d--;

      )
        (a = c[d]), b[a] && (b[a] = b[a].destroy());
    },
    getLabelConfig: function () {
      return {
        x: this.category,
        y: this.y,
        color: this.color,
        key: this.name || this.category,
        series: this.series,
        point: this,
        percentage: this.percentage,
        total: this.total || this.stackTotal,
      };
    },
    tooltipFormatter: function (a) {
      var b = this.series,
        c = b.tooltipOptions,
        d = ub(c.valueDecimals, ""),
        e = c.valuePrefix || "",
        f = c.valueSuffix || "";
      return (
        jb(b.pointArrayMap || ["y"], function (b) {
          (b = "{point." + b),
            (e || f) && (a = a.replace(b + "}", e + b + "}" + f)),
            (a = a.replace(b + "}", b + ":,." + d + "f}"));
        }),
        x(a, { point: this, series: this.series })
      );
    },
    firePointEvent: function (a, b, c) {
      var d = this,
        e = this.series,
        f = e.options;
      (f.point.events[a] ||
        (d.options && d.options.events && d.options.events[a])) &&
        this.importEvents(),
        "click" === a &&
          f.allowPointSelect &&
          (c = function (a) {
            d.select && d.select(null, a.ctrlKey || a.metaKey || a.shiftKey);
          }),
        pb(this, a, b, c);
    },
    visible: !0,
  };
  var Rb = (na.Series = function () {});
  (Rb.prototype = {
    isCartesian: !0,
    type: "line",
    pointClass: Qb,
    sorted: !0,
    requireSorting: !0,
    pointAttrToOptions: {
      stroke: "lineColor",
      "stroke-width": "lineWidth",
      fill: "fillColor",
      r: "radius",
    },
    directTouch: !1,
    axisTypes: ["xAxis", "yAxis"],
    colorCounter: 0,
    parallelArrays: ["x", "y"],
    init: function (a, b) {
      var c,
        d,
        e = this,
        f = a.series,
        g = function (a, b) {
          return ub(a.options.index, a._i) - ub(b.options.index, b._i);
        };
      (e.chart = a),
        (e.options = b = e.setOptions(b)),
        (e.linkedSeries = []),
        e.bindAxes(),
        tb(e, {
          name: b.name,
          state: bb,
          pointAttr: {},
          visible: b.visible !== !1,
          selected: b.selected === !0,
        }),
        Ka && (b.animation = !1),
        (d = b.events);
      for (c in d) nb(e, c, d[c]);
      ((d && d.click) ||
        (b.point && b.point.events && b.point.events.click) ||
        b.allowPointSelect) &&
        (a.runTrackerClick = !0),
        e.getColor(),
        e.getSymbol(),
        jb(e.parallelArrays, function (a) {
          e[a + "Data"] = [];
        }),
        e.setData(b.data, !1),
        e.isCartesian && (a.hasCartesianSeries = !0),
        f.push(e),
        (e._i = f.length - 1),
        A(f, g),
        this.yAxis && A(this.yAxis.series, g),
        jb(f, function (a, b) {
          (a.index = b), (a.name = a.name || "Series " + (b + 1));
        });
    },
    bindAxes: function () {
      var a,
        c = this,
        d = c.options,
        e = c.chart;
      jb(c.axisTypes || [], function (f) {
        jb(e[f], function (b) {
          (a = b.options),
            (d[f] === a.index ||
              (d[f] !== P && d[f] === a.id) ||
              (d[f] === P && 0 === a.index)) &&
              (b.series.push(c), (c[f] = b), (b.isDirty = !0));
        }),
          c[f] || c.optionalAxis === f || b(18, !0);
      });
    },
    updateParallelArrays: function (a, b) {
      var c = a.series,
        d = arguments,
        e =
          "number" == typeof b
            ? function (d) {
                var e = "y" === d && c.toYData ? c.toYData(a) : a[d];
                c[d + "Data"][b] = e;
              }
            : function (a) {
                Array.prototype[b].apply(
                  c[a + "Data"],
                  Array.prototype.slice.call(d, 2)
                );
              };
      jb(c.parallelArrays, e);
    },
    autoIncrement: function () {
      var a,
        b,
        c = this.options,
        d = this.xIncrement,
        e = c.pointIntervalUnit;
      return (
        (d = ub(d, c.pointStart, 0)),
        (this.pointInterval = b = ub(this.pointInterval, c.pointInterval, 1)),
        ("month" !== e && "year" !== e) ||
          ((a = new Y(d)),
          (a = "month" === e ? +a[la](a[ea]() + b) : +a[ma](a[fa]() + b)),
          (b = a - d)),
        (this.xIncrement = d + b),
        d
      );
    },
    getSegments: function () {
      var a,
        b = this,
        c = -1,
        d = [],
        e = b.points,
        f = e.length;
      if (f)
        if (b.options.connectNulls) {
          for (a = f; a--; ) null === e[a].y && e.splice(a, 1);
          e.length && (d = [e]);
        } else
          jb(e, function (a, b) {
            null === a.y
              ? (b > c + 1 && d.push(e.slice(c + 1, b)), (c = b))
              : b === f - 1 && d.push(e.slice(c + 1, b + 1));
          });
      b.segments = d;
    },
    setOptions: function (a) {
      var b,
        c,
        e = this.chart,
        f = e.options,
        g = f.plotOptions,
        h = e.userOptions || {},
        i = h.plotOptions || {},
        j = g[this.type];
      return (
        (this.userOptions = a),
        (b = d(j, g.series, a)),
        (this.tooltipOptions = d(
          T.tooltip,
          T.plotOptions[this.type].tooltip,
          h.tooltip,
          i.series && i.series.tooltip,
          i[this.type] && i[this.type].tooltip,
          a.tooltip
        )),
        null === j.marker && delete b.marker,
        (this.zoneAxis = b.zoneAxis),
        (c = this.zones = (b.zones || []).slice()),
        (!b.negativeColor && !b.negativeFillColor) ||
          b.zones ||
          c.push({
            value: b[this.zoneAxis + "Threshold"] || b.threshold || 0,
            color: b.negativeColor,
            fillColor: b.negativeFillColor,
          }),
        c.length &&
          m(c[c.length - 1].value) &&
          c.push({ color: this.color, fillColor: this.fillColor }),
        b
      );
    },
    getCyclic: function (a, b, c) {
      var d,
        e = this.userOptions,
        f = "_" + a + "Index",
        g = a + "Counter";
      b ||
        (m(e[f])
          ? (d = e[f])
          : ((e[f] = d = this.chart[g] % c.length), (this.chart[g] += 1)),
        (b = c[d])),
        (this[a] = b);
    },
    getColor: function () {
      this.options.colorByPoint
        ? (this.options.color = null)
        : this.getCyclic(
            "color",
            this.options.color || wb[this.type].color,
            this.chart.options.colors
          );
    },
    getSymbol: function () {
      var a = this.options.marker;
      this.getCyclic("symbol", a.symbol, this.chart.options.symbols),
        /^url/.test(this.symbol) && (a.radius = 0);
    },
    drawLegendSymbol: Nb.drawLineMarker,
    setData: function (a, c, d, e) {
      var g,
        j,
        k,
        l = this,
        n = l.points,
        o = (n && n.length) || 0,
        p = l.options,
        q = l.chart,
        r = null,
        s = l.xAxis,
        t = s && !!s.categories,
        u = p.turboThreshold,
        v = this.xData,
        w = this.yData,
        x = l.pointArrayMap,
        y = x && x.length;
      if (
        ((a = a || []),
        (g = a.length),
        (c = ub(c, !0)),
        e !== !1 &&
          g &&
          o === g &&
          !l.cropped &&
          !l.hasGroupedData &&
          l.visible)
      )
        jb(a, function (a, b) {
          n[b].update && a !== p.data[b] && n[b].update(a, !1, null, !1);
        });
      else {
        if (
          ((l.xIncrement = null),
          (l.colorCounter = 0),
          jb(this.parallelArrays, function (a) {
            l[a + "Data"].length = 0;
          }),
          u && g > u)
        ) {
          for (j = 0; null === r && j < g; ) (r = a[j]), j++;
          if (i(r)) {
            var z = ub(p.pointStart, 0),
              A = ub(p.pointInterval, 1);
            for (j = 0; j < g; j++) (v[j] = z), (w[j] = a[j]), (z += A);
            l.xIncrement = z;
          } else if (h(r))
            if (y)
              for (j = 0; j < g; j++)
                (k = a[j]), (v[j] = k[0]), (w[j] = k.slice(1, y + 1));
            else
              for (j = 0; j < g; j++) (k = a[j]), (v[j] = k[0]), (w[j] = k[1]);
          else b(12);
        } else
          for (j = 0; j < g; j++)
            a[j] !== P &&
              ((k = { series: l }),
              l.pointClass.prototype.applyOptions.apply(k, [a[j]]),
              l.updateParallelArrays(k, j),
              t && m(k.name) && (s.names[k.x] = k.name));
        for (
          f(w[0]) && b(14, !0), l.data = [], l.options.data = a, j = o;
          j--;

        )
          n[j] && n[j].destroy && n[j].destroy();
        s && (s.minRange = s.userMinRange),
          (l.isDirty = l.isDirtyData = q.isDirtyBox = !0),
          (d = !1);
      }
      "point" === p.legendType && (this.processData(), this.generatePoints()),
        c && q.redraw(d);
    },
    processData: function (a) {
      var c,
        d,
        e,
        f,
        g,
        h,
        i,
        j,
        k = this,
        l = k.xData,
        m = k.yData,
        n = l.length,
        o = 0,
        p = k.xAxis,
        q = k.options,
        r = q.cropThreshold,
        s = k.getExtremesFromAll || q.getExtremesFromAll,
        t = k.isCartesian;
      if (t && !k.isDirty && !p.isDirty && !k.yAxis.isDirty && !a) return !1;
      for (
        p && ((h = p.getExtremes()), (i = h.min), (j = h.max)),
          t &&
            k.sorted &&
            !s &&
            (!r || n > r || k.forceCrop) &&
            (l[n - 1] < i || l[0] > j
              ? ((l = []), (m = []))
              : (l[0] < i || l[n - 1] > j) &&
                ((c = this.cropData(k.xData, k.yData, i, j)),
                (l = c.xData),
                (m = c.yData),
                (o = c.start),
                (d = !0))),
          g = l.length - 1;
        g >= 0;
        g--
      )
        (e = l[g] - l[g - 1]),
          e > 0 && (f === P || e < f)
            ? (f = e)
            : e < 0 && k.requireSorting && b(15);
      (k.cropped = d),
        (k.cropStart = o),
        (k.processedXData = l),
        (k.processedYData = m),
        (k.closestPointRange = f);
    },
    cropData: function (a, b, c, d) {
      var e,
        f,
        g = a.length,
        h = 0,
        i = g,
        j = ub(this.cropShoulder, 1);
      for (e = 0; e < g; e++)
        if (a[e] >= c) {
          h = ta(0, e - j);
          break;
        }
      for (f = e; f < g; f++)
        if (a[f] > d) {
          i = f + j;
          break;
        }
      return { xData: a.slice(h, i), yData: b.slice(h, i), start: h, end: i };
    },
    generatePoints: function () {
      var a,
        b,
        c,
        d,
        e = this,
        f = e.options,
        g = f.data,
        h = e.data,
        i = e.processedXData,
        j = e.processedYData,
        k = e.pointClass,
        l = i.length,
        m = e.cropStart || 0,
        n = e.hasGroupedData,
        p = [];
      if (!h && !n) {
        var q = [];
        (q.length = g.length), (h = e.data = q);
      }
      for (d = 0; d < l; d++)
        (b = m + d),
          n
            ? (p[d] = new k().init(e, [i[d]].concat(o(j[d]))))
            : (h[b]
                ? (c = h[b])
                : g[b] !== P && (h[b] = c = new k().init(e, g[b], i[d])),
              (p[d] = c)),
          (p[d].index = b);
      if (h && (l !== (a = h.length) || n))
        for (d = 0; d < a; d++)
          d !== m || n || (d += l),
            h[d] && (h[d].destroyElements(), (h[d].plotX = P));
      (e.data = h), (e.points = p);
    },
    getExtremes: function (a) {
      var b,
        c,
        d,
        e,
        f,
        g,
        h,
        i = this.xAxis,
        j = this.yAxis,
        k = this.processedXData,
        l = [],
        m = 0,
        n = i.getExtremes(),
        o = n.min,
        p = n.max;
      for (
        a = a || this.stackedYData || this.processedYData, b = a.length, g = 0;
        g < b;
        g++
      )
        if (
          ((e = k[g]),
          (f = a[g]),
          (c = null !== f && f !== P && (!j.isLog || f.length || f > 0)),
          (d =
            this.getExtremesFromAll ||
            this.options.getExtremesFromAll ||
            this.cropped ||
            ((k[g + 1] || e) >= o && (k[g - 1] || e) <= p)),
          c && d)
        )
          if ((h = f.length)) for (; h--; ) null !== f[h] && (l[m++] = f[h]);
          else l[m++] = f;
      (this.dataMin = B(l)), (this.dataMax = C(l));
    },
    translate: function () {
      this.processedXData || this.processData(), this.generatePoints();
      var a,
        c,
        d,
        e,
        f,
        g = this,
        h = g.options,
        j = h.stacking,
        k = g.xAxis,
        l = k.categories,
        n = g.yAxis,
        o = g.points,
        p = o.length,
        q = !!g.modifyValue,
        r = h.pointPlacement,
        s = "between" === r || i(r),
        t = h.threshold,
        u = h.startFromThreshold ? t : 0,
        v = Number.MAX_VALUE;
      for (a = 0; a < p; a++) {
        var w,
          x,
          y = o[a],
          z = y.x,
          A = y.y,
          B = y.low,
          C =
            j &&
            n.stacks[(g.negStacks && A < (u ? 0 : t) ? "-" : "") + g.stackKey];
        n.isLog && null !== A && A <= 0 && ((y.y = A = null), b(10)),
          (y.plotX = c =
            ua(
              ta(-1e5, k.translate(z, 0, 0, 0, 1, r, "flags" === this.type)),
              1e5
            )),
          j &&
            g.visible &&
            C &&
            C[z] &&
            ((f = g.getStackIndicator(f, z, g.index)),
            (w = C[z]),
            (x = w.points[f.key]),
            (B = x[0]),
            (A = x[1]),
            B === u && (B = ub(t, n.min)),
            n.isLog && B <= 0 && (B = null),
            (y.total = y.stackTotal = w.total),
            (y.percentage = w.total && (y.y / w.total) * 100),
            (y.stackY = A),
            w.setOffset(g.pointXOffset || 0, g.barW || 0)),
          (y.yBottom = m(B) ? n.translate(B, 0, 1, 0, 1) : null),
          q && (A = g.modifyValue(A, y)),
          (y.plotY = d =
            "number" == typeof A && A !== 1 / 0
              ? ua(ta(-1e5, n.translate(A, 0, 1, 0, 1)), 1e5)
              : P),
          (y.isInside =
            d !== P && d >= 0 && d <= n.len && c >= 0 && c <= k.len),
          (y.clientX = s ? k.translate(z, 0, 0, 0, 1) : c),
          (y.negative = y.y < (t || 0)),
          (y.category = l && l[y.x] !== P ? l[y.x] : y.x),
          a && (v = ua(v, va(c - e))),
          (e = c);
      }
      (g.closestPointRangePx = v), g.getSegments();
    },
    setClip: function (a) {
      var b = this.chart,
        c = this.options,
        d = b.renderer,
        e = b.inverted,
        f = this.clipBox,
        g = f || b.clipBox,
        h =
          this.sharedClipKey ||
          [
            "_sharedClip",
            a && a.duration,
            a && a.easing,
            g.height,
            c.xAxis,
            c.yAxis,
          ].join(","),
        i = b[h],
        j = b[h + "m"];
      i ||
        (a &&
          ((g.width = 0),
          (b[h + "m"] = j =
            d.clipRect(
              -99,
              e ? -b.plotLeft : -b.plotTop,
              99,
              e ? b.chartWidth : b.chartHeight
            ))),
        (b[h] = i = d.clipRect(g))),
        a && (i.count += 1),
        c.clip !== !1 &&
          (this.group.clip(a || f ? i : b.clipRect),
          this.markerGroup.clip(j),
          (this.sharedClipKey = h)),
        a ||
          ((i.count -= 1),
          i.count <= 0 &&
            h &&
            b[h] &&
            (f || (b[h] = b[h].destroy()),
            b[h + "m"] && (b[h + "m"] = b[h + "m"].destroy())));
    },
    animate: function (a) {
      var b,
        c,
        d = this,
        e = d.chart,
        f = d.options.animation;
      f && !g(f) && (f = wb[d.type].animation),
        a
          ? d.setClip(f)
          : ((c = this.sharedClipKey),
            (b = e[c]),
            b && b.animate({ width: e.plotSizeX }, f),
            e[c + "m"] && e[c + "m"].animate({ width: e.plotSizeX + 99 }, f),
            (d.animate = null));
    },
    afterAnimate: function () {
      this.setClip(), pb(this, "afterAnimate");
    },
    drawPoints: function () {
      var a,
        b,
        c,
        d,
        e,
        f,
        g,
        h,
        i,
        j,
        k,
        l,
        m,
        n = this,
        o = n.points,
        p = n.chart,
        q = n.options,
        r = q.marker,
        s = n.pointAttr[""],
        t = n.markerGroup,
        u = n.xAxis,
        v = ub(r.enabled, u.isRadial, n.closestPointRangePx > 2 * r.radius);
      if (r.enabled !== !1 || n._hasPointMarkers)
        for (d = o.length; d--; )
          (e = o[d]),
            (b = ra(e.plotX)),
            (c = e.plotY),
            (i = e.graphic),
            (j = e.marker || {}),
            (k = !!e.marker),
            (l = (v && j.enabled === P) || j.enabled),
            (m = e.isInside),
            l && c !== P && !isNaN(c) && null !== e.y
              ? ((a = e.pointAttr[e.selected ? db : bb] || s),
                (f = a.r),
                (g = ub(j.symbol, n.symbol)),
                (h = 0 === g.indexOf("url")),
                i
                  ? i[m ? "show" : "hide"](!0).animate(
                      tb(
                        { x: b - f, y: c - f },
                        i.symbolName ? { width: 2 * f, height: 2 * f } : {}
                      )
                    )
                  : m &&
                    (f > 0 || h) &&
                    (e.graphic = i =
                      p.renderer
                        .symbol(g, b - f, c - f, 2 * f, 2 * f, k ? j : r)
                        .attr(a)
                        .add(t)))
              : i && (e.graphic = i.destroy());
    },
    convertAttribs: function (a, b, c, d) {
      var e,
        f,
        g = this.pointAttrToOptions,
        h = {};
      (a = a || {}), (b = b || {}), (c = c || {}), (d = d || {});
      for (e in g) (f = g[e]), (h[e] = ub(a[f], b[e], c[e], d[e]));
      return h;
    },
    getAttribs: function () {
      var a,
        b,
        c,
        d,
        e,
        f,
        g,
        h,
        i = this,
        j = i.options,
        k = wb[i.type].marker ? j.marker : j,
        l = k.states,
        n = l[cb],
        o = i.color,
        p = i.options.negativeColor,
        q = { stroke: o, fill: o },
        r = i.points || [],
        s = [],
        t = i.pointAttrToOptions,
        u = i.hasPointSpecificOptions,
        v = k.lineColor,
        w = k.fillColor,
        x = j.turboThreshold,
        y = i.zones,
        z = i.zoneAxis || "y";
      if (
        (j.marker
          ? ((n.radius = n.radius || k.radius + n.radiusPlus),
            (n.lineWidth = n.lineWidth || k.lineWidth + n.lineWidthPlus))
          : ((n.color =
              n.color ||
              K(n.color || o)
                .brighten(n.brightness)
                .get()),
            (n.negativeColor =
              n.negativeColor ||
              K(n.negativeColor || p)
                .brighten(n.brightness)
                .get())),
        (s[bb] = i.convertAttribs(k, q)),
        jb([cb, db], function (a) {
          s[a] = i.convertAttribs(l[a], s[bb]);
        }),
        (i.pointAttr = s),
        (b = r.length),
        !x || b < x || u)
      )
        for (; b--; ) {
          if (
            ((e = r[b]),
            (k = (e.options && e.options.marker) || e.options),
            k && k.enabled === !1 && (k.radius = 0),
            y.length)
          ) {
            for (c = 0, d = y[c]; e[z] >= d.value; ) d = y[++c];
            e.color = e.fillColor = ub(d.color, i.color);
          }
          if (((u = j.colorByPoint || e.color), e.options))
            for (h in t) m(k[t[h]]) && (u = !0);
          u
            ? ((k = k || {}),
              (f = []),
              (l = k.states || {}),
              (a = l[cb] = l[cb] || {}),
              (j.marker && (!e.negative || a.fillColor || n.fillColor)) ||
                (a[i.pointAttrToOptions.fill] =
                  a.color ||
                  (!e.options.color &&
                    n[e.negative && p ? "negativeColor" : "color"]) ||
                  K(e.color)
                    .brighten(a.brightness || n.brightness)
                    .get()),
              (g = { color: e.color }),
              w || (g.fillColor = e.color),
              v || (g.lineColor = e.color),
              k.hasOwnProperty("color") && !k.color && delete k.color,
              (f[bb] = i.convertAttribs(tb(g, k), s[bb])),
              (f[cb] = i.convertAttribs(l[cb], s[cb], f[bb])),
              (f[db] = i.convertAttribs(l[db], s[db], f[bb])))
            : (f = s),
            (e.pointAttr = f);
        }
    },
    destroy: function () {
      var a,
        b,
        c,
        d,
        e,
        f = this,
        g = f.chart,
        h = /AppleWebKit\/533/.test(Aa),
        i = f.data || [];
      for (
        pb(f, "destroy"),
          ob(f),
          jb(f.axisTypes || [], function (a) {
            (e = f[a]), e && (l(e.series, f), (e.isDirty = e.forceRedraw = !0));
          }),
          f.legendItem && f.chart.legend.destroyItem(f),
          b = i.length;
        b--;

      )
        (c = i[b]), c && c.destroy && c.destroy();
      (f.points = null), clearTimeout(f.animationTimeout);
      for (d in f)
        f[d] instanceof L &&
          !f[d].survive &&
          ((a = h && "group" === d ? "hide" : "destroy"), f[d][a]());
      g.hoverSeries === f && (g.hoverSeries = null), l(g.series, f);
      for (d in f) delete f[d];
    },
    getSegmentPath: function (a) {
      var b = this,
        c = [],
        d = b.options.step;
      return (
        jb(a, function (e, f) {
          var g,
            h = e.plotX,
            i = e.plotY;
          b.getPointSpline
            ? c.push.apply(c, b.getPointSpline(a, e, f))
            : (c.push(f ? _a : $a),
              d &&
                f &&
                ((g = a[f - 1]),
                "right" === d
                  ? c.push(g.plotX, i, _a)
                  : "center" === d
                  ? c.push(
                      (g.plotX + h) / 2,
                      g.plotY,
                      _a,
                      (g.plotX + h) / 2,
                      i,
                      _a
                    )
                  : c.push(h, g.plotY, _a)),
              c.push(e.plotX, e.plotY));
        }),
        c
      );
    },
    getGraphPath: function () {
      var a,
        b = this,
        c = [],
        d = [];
      return (
        jb(b.segments, function (e) {
          (a = b.getSegmentPath(e)),
            e.length > 1 ? (c = c.concat(a)) : d.push(e[0]);
        }),
        (b.singlePoints = d),
        (b.graphPath = c),
        c
      );
    },
    drawGraph: function () {
      var a = this,
        b = this.options,
        c = [["graph", b.lineColor || this.color, b.dashStyle]],
        d = b.lineWidth,
        e = "square" !== b.linecap,
        f = this.getGraphPath(),
        g = (this.fillGraph && this.color) || Za,
        h = this.zones;
      jb(h, function (d, e) {
        c.push([
          "zoneGraph" + e,
          d.color || a.color,
          d.dashStyle || b.dashStyle,
        ]);
      }),
        jb(c, function (c, h) {
          var i,
            j = c[0],
            k = a[j];
          k
            ? k.animate({ d: f })
            : (d || g) &&
              f.length &&
              ((i = { stroke: c[1], "stroke-width": d, fill: g, zIndex: 1 }),
              c[2]
                ? (i.dashstyle = c[2])
                : e && (i["stroke-linecap"] = i["stroke-linejoin"] = "round"),
              (a[j] = a.chart.renderer
                .path(f)
                .attr(i)
                .add(a.group)
                .shadow(h < 2 && b.shadow)));
        });
    },
    applyZones: function () {
      var a,
        b,
        c,
        d,
        e,
        f,
        g,
        h = this,
        i = this.chart,
        j = i.renderer,
        k = this.zones,
        l = this.clips || [],
        m = this.graph,
        n = this.area,
        o = ta(i.chartWidth, i.chartHeight),
        p = this[(this.zoneAxis || "y") + "Axis"],
        q = p.reversed,
        r = i.inverted,
        s = p.horiz,
        t = !1;
      k.length &&
        (m || n) &&
        p.min !== P &&
        (m && m.hide(),
        n && n.hide(),
        (d = p.getExtremes()),
        jb(k, function (k, u) {
          (a = q ? (s ? i.plotWidth : 0) : s ? 0 : p.toPixels(d.min)),
            (a = ua(ta(ub(b, a), 0), o)),
            (b = ua(ta(qa(p.toPixels(ub(k.value, d.max), !0)), 0), o)),
            t && (a = b = p.toPixels(d.max)),
            (e = Math.abs(a - b)),
            (f = ua(a, b)),
            (g = ta(a, b)),
            p.isXAxis
              ? ((c = { x: r ? g : f, y: 0, width: e, height: o }),
                s || (c.x = i.plotHeight - c.x))
              : ((c = { x: 0, y: r ? g : f, width: o, height: e }),
                s && (c.y = i.plotWidth - c.y)),
            i.inverted &&
              j.isVML &&
              (c = p.isXAxis
                ? { x: 0, y: q ? f : g, height: c.width, width: i.chartWidth }
                : {
                    x: c.y - i.plotLeft - i.spacingBox.x,
                    y: 0,
                    width: c.height,
                    height: i.chartHeight,
                  }),
            l[u]
              ? l[u].animate(c)
              : ((l[u] = j.clipRect(c)),
                m && h["zoneGraph" + u].clip(l[u]),
                n && h["zoneArea" + u].clip(l[u])),
            (t = k.value > d.max);
        }),
        (this.clips = l));
    },
    invertGroups: function () {
      function a() {
        var a = { width: b.yAxis.len, height: b.xAxis.len };
        jb(["group", "markerGroup"], function (c) {
          b[c] && b[c].attr(a).invert();
        });
      }
      var b = this,
        c = b.chart;
      b.xAxis &&
        (nb(c, "resize", a),
        nb(b, "destroy", function () {
          ob(c, "resize", a);
        }),
        a(),
        (b.invertGroups = a));
    },
    plotGroup: function (a, b, c, d, e) {
      var f = this[a],
        g = !f;
      return (
        g &&
          ((this[a] = f =
            this.chart.renderer
              .g(b)
              .attr({ zIndex: d || 0.1 })
              .add(e)),
          f.addClass("highcharts-series-" + this.index)),
        f.attr({ visibility: c })[g ? "attr" : "animate"](this.getPlotBox()),
        f
      );
    },
    getPlotBox: function () {
      var a = this.chart,
        b = this.xAxis,
        c = this.yAxis;
      return (
        a.inverted && ((b = c), (c = this.xAxis)),
        {
          translateX: b ? b.left : a.plotLeft,
          translateY: c ? c.top : a.plotTop,
          scaleX: 1,
          scaleY: 1,
        }
      );
    },
    render: function () {
      var a,
        b = this,
        c = b.chart,
        d = b.options,
        e = d.animation,
        f = (e && !!b.animate && c.renderer.isSVG && ub(e.duration, 500)) || 0,
        g = b.visible ? "inherit" : "hidden",
        h = d.zIndex,
        i = b.hasRendered,
        j = c.seriesGroup;
      (a = b.plotGroup("group", "series", g, h, j)),
        (b.markerGroup = b.plotGroup("markerGroup", "markers", g, h, j)),
        f && b.animate(!0),
        b.getAttribs(),
        (a.inverted = !!b.isCartesian && c.inverted),
        b.drawGraph && (b.drawGraph(), b.applyZones()),
        jb(b.points, function (a) {
          a.redraw && a.redraw();
        }),
        b.drawDataLabels && b.drawDataLabels(),
        b.visible && b.drawPoints(),
        b.drawTracker &&
          b.options.enableMouseTracking !== !1 &&
          b.drawTracker(),
        c.inverted && b.invertGroups(),
        d.clip === !1 || b.sharedClipKey || i || a.clip(c.clipRect),
        f && b.animate(),
        i ||
          (b.animationTimeout = p(function () {
            b.afterAnimate();
          }, f)),
        (b.isDirty = b.isDirtyData = !1),
        (b.hasRendered = !0);
    },
    redraw: function () {
      var a = this,
        b = a.chart,
        c = a.isDirtyData,
        d = a.isDirty,
        e = a.group,
        f = a.xAxis,
        g = a.yAxis;
      e &&
        (b.inverted && e.attr({ width: b.plotWidth, height: b.plotHeight }),
        e.animate({
          translateX: ub(f && f.left, b.plotLeft),
          translateY: ub(g && g.top, b.plotTop),
        })),
        a.translate(),
        a.render(),
        c && pb(a, "updatedData"),
        (d || c) && delete this.kdTree;
    },
    kdDimensions: 1,
    kdAxisArray: ["clientX", "plotY"],
    searchPoint: function (a, b) {
      var c = this,
        d = c.xAxis,
        e = c.yAxis,
        f = c.chart.inverted;
      return this.searchKDTree(
        {
          clientX: f ? d.len - a.chartY + d.pos : a.chartX - d.pos,
          plotY: f ? e.len - a.chartX + e.pos : a.chartY - e.pos,
        },
        b
      );
    },
    buildKDTree: function () {
      function a(b, d, e) {
        var f,
          g,
          h = b && b.length;
        if (h)
          return (
            (f = c.kdAxisArray[d % e]),
            b.sort(function (a, b) {
              return a[f] - b[f];
            }),
            (g = Math.floor(h / 2)),
            {
              point: b[g],
              left: a(b.slice(0, g), d + 1, e),
              right: a(b.slice(g + 1), d + 1, e),
            }
          );
      }
      function b() {
        var b = kb(c.points || [], function (a) {
          return null !== a.y;
        });
        c.kdTree = a(b, d, d);
      }
      var c = this,
        d = c.kdDimensions;
      delete c.kdTree, p(b, c.options.kdNow ? 0 : 1);
    },
    searchKDTree: function (a, b) {
      function c(a, b) {
        var c = m(a[f]) && m(b[f]) ? Math.pow(a[f] - b[f], 2) : null,
          d = m(a[g]) && m(b[g]) ? Math.pow(a[g] - b[g], 2) : null,
          e = (c || 0) + (d || 0);
        (b.dist = m(e) ? Math.sqrt(e) : Number.MAX_VALUE),
          (b.distX = m(c) ? Math.sqrt(c) : Number.MAX_VALUE);
      }
      function d(a, b, f, g) {
        var i,
          j,
          k,
          l,
          m,
          n = b.point,
          o = e.kdAxisArray[f % g],
          p = n;
        return (
          c(a, n),
          (i = a[o] - n[o]),
          (j = i < 0 ? "left" : "right"),
          (k = i < 0 ? "right" : "left"),
          b[j] && ((l = d(a, b[j], f + 1, g)), (p = l[h] < p[h] ? l : n)),
          b[k] &&
            Math.sqrt(i * i) < p[h] &&
            ((m = d(a, b[k], f + 1, g)), (p = m[h] < p[h] ? m : p)),
          p
        );
      }
      var e = this,
        f = this.kdAxisArray[0],
        g = this.kdAxisArray[1],
        h = b ? "distX" : "dist";
      if ((this.kdTree || this.buildKDTree(), this.kdTree))
        return d(a, this.kdTree, this.kdDimensions, this.kdDimensions);
    },
  }),
    (O.prototype = {
      destroy: function () {
        D(this, this.axis);
      },
      render: function (a) {
        var b = this.options,
          c = b.format,
          d = c ? x(c, this) : b.formatter.call(this);
        this.label
          ? this.label.attr({ text: d, visibility: "hidden" })
          : (this.label = this.axis.chart.renderer
              .text(d, null, null, b.useHTML)
              .css(b.style)
              .attr({
                align: this.textAlign,
                rotation: b.rotation,
                visibility: Va,
              })
              .add(a));
      },
      setOffset: function (a, b) {
        var c,
          d = this,
          e = d.axis,
          f = e.chart,
          g = f.inverted,
          h = e.reversed,
          i = (this.isNegative && !h) || (!this.isNegative && h),
          j = e.translate(e.usePercentage ? 100 : this.total, 0, 0, 0, 1),
          k = e.translate(0),
          l = va(j - k),
          m = f.xAxis[0].translate(this.x) + a,
          n = f.plotHeight,
          o = {
            x: g ? (i ? j : j - l) : m,
            y: g ? n - m - b : i ? n - j - l : n - j,
            width: g ? l : b,
            height: g ? b : l,
          },
          p = this.label;
        p &&
          (p.align(this.alignOptions, null, o),
          (c = p.alignAttr),
          p[
            this.options.crop === !1 || f.isInsidePlot(c.x, c.y)
              ? "show"
              : "hide"
          ](!0));
      },
    }),
    (Ob.prototype.getStacks = function () {
      var a = this;
      jb(a.yAxis, function (a) {
        a.stacks && a.hasVisibleSeries && (a.oldStacks = a.stacks);
      }),
        jb(a.series, function (b) {
          !b.options.stacking ||
            (b.visible !== !0 && a.options.chart.ignoreHiddenSeries !== !1) ||
            (b.stackKey = b.type + ub(b.options.stack, ""));
        });
    }),
    (Eb.prototype.buildStacks = function () {
      var a = this.series,
        b = ub(this.options.reversedStacks, !0),
        c = a.length;
      if (!this.isXAxis) {
        for (this.usePercentage = !1; c--; )
          a[b ? c : a.length - c - 1].setStackedPoints();
        if (this.usePercentage)
          for (c = 0; c < a.length; c++) a[c].setPercentStacks();
      }
    }),
    (Eb.prototype.renderStackTotals = function () {
      var a,
        b,
        c,
        d = this,
        e = d.chart,
        f = e.renderer,
        g = d.stacks,
        h = d.stackTotalGroup;
      h ||
        (d.stackTotalGroup = h =
          f.g("stack-labels").attr({ visibility: Xa, zIndex: 6 }).add()),
        h.translate(e.plotLeft, e.plotTop);
      for (a in g) {
        b = g[a];
        for (c in b) b[c].render(h);
      }
    }),
    (Eb.prototype.resetStacks = function () {
      var a,
        b,
        c = this.stacks;
      if (!this.isXAxis)
        for (a in c)
          for (b in c[a])
            c[a][b].touched < this.stacksTouched
              ? (c[a][b].destroy(), delete c[a][b])
              : ((c[a][b].total = null), (c[a][b].cum = 0));
    }),
    (Eb.prototype.cleanStacks = function () {
      var a, b, c;
      if (!this.isXAxis) {
        this.oldStacks && (a = this.stacks = this.oldStacks);
        for (b in a) for (c in a[b]) a[b][c].cum = a[b][c].total;
      }
    }),
    (Rb.prototype.setStackedPoints = function () {
      if (
        this.options.stacking &&
        (this.visible === !0 ||
          this.chart.options.chart.ignoreHiddenSeries === !1)
      ) {
        var a,
          b,
          c,
          d,
          e,
          f,
          g,
          h,
          i,
          j = this,
          k = j.processedXData,
          l = j.processedYData,
          m = [],
          n = l.length,
          o = j.options,
          p = o.threshold,
          q = o.startFromThreshold ? p : 0,
          r = o.stack,
          s = o.stacking,
          t = j.stackKey,
          u = "-" + t,
          v = j.negStacks,
          w = j.yAxis,
          x = w.stacks,
          y = w.oldStacks;
        for (w.stacksTouched += 1, g = 0; g < n; g++)
          (h = k[g]),
            (i = l[g]),
            (a = j.getStackIndicator(a, h, j.index)),
            (f = a.key),
            (b = v && i < (q ? 0 : p)),
            (e = b ? u : t),
            x[e] || (x[e] = {}),
            x[e][h] ||
              (y[e] && y[e][h]
                ? ((x[e][h] = y[e][h]), (x[e][h].total = null))
                : (x[e][h] = new O(w, w.options.stackLabels, b, h, r))),
            (c = x[e][h]),
            (c.points[f] = [ub(c.cum, q)]),
            (c.touched = w.stacksTouched),
            a.index > 0 &&
              j.singleStacks === !1 &&
              (c.points[f][0] = c.points[j.index + "," + h + ",0"][0]),
            "percent" === s
              ? ((d = b ? t : u),
                v && x[d] && x[d][h]
                  ? ((d = x[d][h]),
                    (c.total = d.total = ta(d.total, c.total) + va(i) || 0))
                  : (c.total = F(c.total + (va(i) || 0))))
              : (c.total = F(c.total + (i || 0))),
            (c.cum = ub(c.cum, q) + (i || 0)),
            c.points[f].push(c.cum),
            (m[g] = c.cum);
        "percent" === s && (w.usePercentage = !0),
          (this.stackedYData = m),
          (w.oldStacks = {});
      }
    }),
    (Rb.prototype.setPercentStacks = function () {
      var a,
        b = this,
        c = b.stackKey,
        d = b.yAxis.stacks,
        e = b.processedXData;
      jb([c, "-" + c], function (c) {
        for (var f, g, h, i, j = e.length; j--; )
          (f = e[j]),
            (a = b.getStackIndicator(a, f, b.index)),
            (g = d[c] && d[c][f]),
            (h = g && g.points[a.key]),
            h &&
              ((i = g.total ? 100 / g.total : 0),
              (h[0] = F(h[0] * i)),
              (h[1] = F(h[1] * i)),
              (b.stackedYData[j] = h[1]));
      });
    }),
    (Rb.prototype.getStackIndicator = function (a, b, c) {
      return (
        m(a) && a.x === b ? a.index++ : (a = { x: b, index: 0 }),
        (a.key = [c, b, a.index].join(",")),
        a
      );
    }),
    tb(Ob.prototype, {
      addSeries: function (a, b, c) {
        var d,
          e = this;
        return (
          a &&
            ((b = ub(b, !0)),
            pb(e, "addSeries", { options: a }, function () {
              (d = e.initSeries(a)),
                (e.isDirtyLegend = !0),
                e.linkSeries(),
                b && e.redraw(c);
            })),
          d
        );
      },
      addAxis: function (a, b, c, e) {
        var f = b ? "xAxis" : "yAxis",
          g = this.options;
        new Eb(this, d(a, { index: this[f].length, isX: b })),
          (g[f] = o(g[f] || {})),
          g[f].push(a),
          ub(c, !0) && this.redraw(e);
      },
      showLoading: function (a) {
        var b = this,
          c = b.options,
          d = b.loadingDiv,
          e = c.loading,
          f = function () {
            d &&
              q(d, {
                left: b.plotLeft + Ya,
                top: b.plotTop + Ya,
                width: b.plotWidth + Ya,
                height: b.plotHeight + Ya,
              });
          };
        d ||
          ((b.loadingDiv = d =
            r(
              Sa,
              { className: Wa + "loading" },
              tb(e.style, { zIndex: 10, display: Za }),
              b.container
            )),
          (b.loadingSpan = r("span", null, e.labelStyle, d)),
          nb(b, "redraw", f)),
          (b.loadingSpan.innerHTML = a || c.lang.loading),
          b.loadingShown ||
            (q(d, { opacity: 0, display: "" }),
            qb(
              d,
              { opacity: e.style.opacity },
              { duration: e.showDuration || 0 }
            ),
            (b.loadingShown = !0)),
          f();
      },
      hideLoading: function () {
        var a = this.options,
          b = this.loadingDiv;
        b &&
          qb(
            b,
            { opacity: 0 },
            {
              duration: a.loading.hideDuration || 100,
              complete: function () {
                q(b, { display: Za });
              },
            }
          ),
          (this.loadingShown = !1);
      },
    }),
    tb(Qb.prototype, {
      update: function (a, b, c, d) {
        function e() {
          i.applyOptions(a),
            null === i.y && k && (i.graphic = k.destroy()),
            g(a) &&
              !h(a) &&
              (i.redraw = function () {
                k &&
                  k.element &&
                  a &&
                  a.marker &&
                  a.marker.symbol &&
                  (i.graphic = k.destroy()),
                  a &&
                    a.dataLabels &&
                    i.dataLabel &&
                    (i.dataLabel = i.dataLabel.destroy()),
                  (i.redraw = null);
              }),
            (f = i.index),
            j.updateParallelArrays(i, f),
            n && i.name && (n[i.x] = i.name),
            (m.data[f] = g(m.data[f]) ? i.options : a),
            (j.isDirty = j.isDirtyData = !0),
            !j.fixedBox && j.hasCartesianSeries && (l.isDirtyBox = !0),
            "point" === m.legendType && (l.isDirtyLegend = !0),
            b && l.redraw(c);
        }
        var f,
          i = this,
          j = i.series,
          k = i.graphic,
          l = j.chart,
          m = j.options,
          n = j.xAxis && j.xAxis.names;
        (b = ub(b, !0)),
          d === !1 ? e() : i.firePointEvent("update", { options: a }, e);
      },
      remove: function (a, b) {
        this.series.removePoint(ib(this, this.series.data), a, b);
      },
    }),
    tb(Rb.prototype, {
      addPoint: function (a, b, c, d) {
        var e,
          f,
          g,
          h,
          i = this,
          j = i.options,
          k = i.data,
          l = i.graph,
          m = i.area,
          n = i.chart,
          o = i.xAxis && i.xAxis.names,
          p = (l && l.shift) || 0,
          q = ["graph", "area"],
          r = j.data,
          s = i.xData;
        if ((G(d, n), c)) {
          for (g = i.zones.length; g--; )
            q.push("zoneGraph" + g, "zoneArea" + g);
          jb(q, function (a) {
            i[a] && (i[a].shift = p + (j.step ? 2 : 1));
          });
        }
        if (
          (m && (m.isArea = !0),
          (b = ub(b, !0)),
          (e = { series: i }),
          i.pointClass.prototype.applyOptions.apply(e, [a]),
          (h = e.x),
          (g = s.length),
          i.requireSorting && h < s[g - 1])
        )
          for (f = !0; g && s[g - 1] > h; ) g--;
        i.updateParallelArrays(e, "splice", g, 0, 0),
          i.updateParallelArrays(e, g),
          o && e.name && (o[h] = e.name),
          r.splice(g, 0, a),
          f && (i.data.splice(g, 0, null), i.processData()),
          "point" === j.legendType && i.generatePoints(),
          c &&
            (k[0] && k[0].remove
              ? k[0].remove(!1)
              : (k.shift(), i.updateParallelArrays(e, "shift"), r.shift())),
          (i.isDirty = !0),
          (i.isDirtyData = !0),
          b && (i.getAttribs(), n.redraw());
      },
      removePoint: function (a, b, c) {
        var d = this,
          e = d.data,
          f = e[a],
          g = d.points,
          h = d.chart,
          i = function () {
            e.length === g.length && g.splice(a, 1),
              e.splice(a, 1),
              d.options.data.splice(a, 1),
              d.updateParallelArrays(f || { series: d }, "splice", a, 1),
              f && f.destroy(),
              (d.isDirty = !0),
              (d.isDirtyData = !0),
              b && h.redraw();
          };
        G(c, h), (b = ub(b, !0)), f ? f.firePointEvent("remove", null, i) : i();
      },
      remove: function (a, b) {
        var c = this,
          d = c.chart;
        pb(c, "remove", null, function () {
          c.destroy(),
            (d.isDirtyLegend = d.isDirtyBox = !0),
            d.linkSeries(),
            ub(a, !0) && d.redraw(b);
        });
      },
      update: function (a, b) {
        var c,
          e = this,
          f = this.chart,
          g = this.userOptions,
          h = this.type,
          i = gb[h].prototype,
          j = ["group", "markerGroup", "dataLabelsGroup"];
        ((a.type && a.type !== h) || void 0 !== a.zIndex) && (j.length = 0),
          jb(j, function (a) {
            (j[a] = e[a]), delete e[a];
          }),
          (a = d(
            g,
            { animation: !1, index: this.index, pointStart: this.xData[0] },
            { data: this.options.data },
            a
          )),
          this.remove(!1);
        for (c in i) this[c] = P;
        tb(this, gb[a.type || h].prototype),
          jb(j, function (a) {
            e[a] = j[a];
          }),
          this.init(f, a),
          f.linkSeries(),
          ub(b, !0) && f.redraw(!1);
      },
    }),
    tb(Eb.prototype, {
      update: function (a, b) {
        var c = this.chart;
        (a = c.options[this.coll][this.options.index] = d(this.userOptions, a)),
          this.destroy(!0),
          (this._addedPlotLB = this.chart._labelPanes = P),
          this.init(c, tb(a, { events: P })),
          (c.isDirtyBox = !0),
          ub(b, !0) && c.redraw();
      },
      remove: function (a) {
        for (
          var b = this.chart, c = this.coll, d = this.series, e = d.length;
          e--;

        )
          d[e] && d[e].remove(!1);
        l(b.axes, this),
          l(b[c], this),
          b.options[c].splice(this.options.index, 1),
          jb(b[c], function (a, b) {
            a.options.index = b;
          }),
          this.destroy(),
          (b.isDirtyBox = !0),
          ub(a, !0) && b.redraw();
      },
      setTitle: function (a, b) {
        this.update({ title: a }, b);
      },
      setCategories: function (a, b) {
        this.update({ categories: a }, b);
      },
    });
  var Sb = s(Rb);
  (gb.line = Sb), (wb.area = d(xb, { softThreshold: !1, threshold: 0 }));
  var Tb = s(Rb, {
    type: "area",
    singleStacks: !1,
    getSegments: function () {
      var a,
        b,
        c,
        d,
        e,
        f = this,
        g = [],
        h = [],
        i = [],
        j = this.xAxis,
        k = this.yAxis,
        l = k.stacks[this.stackKey],
        m = {},
        n = this.points,
        o = this.options.connectNulls;
      if (this.options.stacking && !this.cropped) {
        for (d = 0; d < n.length; d++) m[n[d].x] = n[d];
        for (e in l) null !== l[e].total && i.push(+e);
        i.sort(function (a, b) {
          return a - b;
        }),
          jb(i, function (e) {
            var g,
              i = null,
              n = o && (!m[e] || null === m[e].y);
            if (!n)
              if (m[e]) h.push(m[e]);
              else {
                for (d = f.index; d <= k.series.length; d++)
                  if (
                    ((c = f.getStackIndicator(null, e, d)),
                    (g = l[e].points[c.key]))
                  ) {
                    i = g[1];
                    break;
                  }
                (a = j.translate(e)),
                  (b = k.getThreshold(i)),
                  h.push({
                    y: null,
                    plotX: a,
                    clientX: a,
                    plotY: b,
                    yBottom: b,
                    onMouseOver: Na,
                  });
              }
          }),
          h.length && g.push(h);
      } else Rb.prototype.getSegments.call(this), (g = this.segments);
      this.segments = g;
    },
    getSegmentPath: function (a) {
      var b,
        c,
        d = Rb.prototype.getSegmentPath.call(this, a),
        e = [].concat(d),
        f = this.options,
        g = d.length,
        h = this.yAxis.getThreshold(f.threshold);
      if ((3 === g && e.push(_a, d[1], d[2]), f.stacking && !this.closedStacks))
        for (b = a.length - 1; b >= 0; b--)
          (c = ub(a[b].yBottom, h)),
            b < a.length - 1 && f.step && e.push(a[b + 1].plotX, c),
            e.push(a[b].plotX, c);
      else this.closeSegment(e, a, h);
      return (this.areaPath = this.areaPath.concat(e)), d;
    },
    closeSegment: function (a, b, c) {
      a.push(_a, b[b.length - 1].plotX, c, _a, b[0].plotX, c);
    },
    drawGraph: function () {
      (this.areaPath = []), Rb.prototype.drawGraph.apply(this);
      var a = this,
        b = this.areaPath,
        c = this.options,
        d = this.zones,
        e = [["area", this.color, c.fillColor]];
      jb(d, function (b, d) {
        e.push([
          "zoneArea" + d,
          b.color || a.color,
          b.fillColor || c.fillColor,
        ]);
      }),
        jb(e, function (d) {
          var e,
            f = d[0],
            g = a[f];
          g
            ? g.animate({ d: b })
            : ((e = { fill: d[2] || d[1], zIndex: 0 }),
              d[2] || (e["fill-opacity"] = c.fillOpacity || 0.75),
              (a[f] = a.chart.renderer.path(b).attr(e).add(a.group)));
        });
    },
    drawLegendSymbol: Nb.drawRectangle,
  });
  (gb.area = Tb), (wb.spline = d(xb));
  var Ub = s(Rb, {
    type: "spline",
    getPointSpline: function (a, b, c) {
      var d,
        e,
        f,
        g,
        h,
        i = 1.5,
        j = i + 1,
        k = b.plotX,
        l = b.plotY,
        m = a[c - 1],
        n = a[c + 1];
      if (m && n) {
        var o,
          p = m.plotX,
          q = m.plotY,
          r = n.plotX,
          s = n.plotY;
        (d = (i * k + p) / j),
          (e = (i * l + q) / j),
          (f = (i * k + r) / j),
          (g = (i * l + s) / j),
          (o = ((g - e) * (f - k)) / (f - d) + l - g),
          (e += o),
          (g += o),
          e > q && e > l
            ? ((e = ta(q, l)), (g = 2 * l - e))
            : e < q && e < l && ((e = ua(q, l)), (g = 2 * l - e)),
          g > s && g > l
            ? ((g = ta(s, l)), (e = 2 * l - g))
            : g < s && g < l && ((g = ua(s, l)), (e = 2 * l - g)),
          (b.rightContX = f),
          (b.rightContY = g);
      }
      return (
        c
          ? ((h = [
              "C",
              m.rightContX || m.plotX,
              m.rightContY || m.plotY,
              d || k,
              e || l,
              k,
              l,
            ]),
            (m.rightContX = m.rightContY = null))
          : (h = [$a, k, l]),
        h
      );
    },
  });
  (gb.spline = Ub), (wb.areaspline = d(wb.area));
  var Vb = Tb.prototype,
    Wb = s(Ub, {
      type: "areaspline",
      closedStacks: !0,
      getSegmentPath: Vb.getSegmentPath,
      closeSegment: Vb.closeSegment,
      drawGraph: Vb.drawGraph,
      drawLegendSymbol: Nb.drawRectangle,
    });
  (gb.areaspline = Wb),
    (wb.column = d(xb, {
      borderColor: "#FFFFFF",
      borderRadius: 0,
      groupPadding: 0.2,
      marker: null,
      pointPadding: 0.1,
      minPointLength: 0,
      cropThreshold: 50,
      pointRange: null,
      states: {
        hover: { brightness: 0.1, shadow: !1, halo: !1 },
        select: { color: "#C0C0C0", borderColor: "#000000", shadow: !1 },
      },
      dataLabels: { align: null, verticalAlign: null, y: null },
      softThreshold: !1,
      startFromThreshold: !0,
      stickyTracking: !1,
      tooltip: { distance: 6 },
      threshold: 0,
    }));
  var Xb = s(Rb, {
    type: "column",
    pointAttrToOptions: {
      stroke: "borderColor",
      fill: "color",
      r: "borderRadius",
    },
    cropShoulder: 0,
    directTouch: !0,
    trackerGroups: ["group", "dataLabelsGroup"],
    negStacks: !0,
    init: function () {
      Rb.prototype.init.apply(this, arguments);
      var a = this,
        b = a.chart;
      b.hasRendered &&
        jb(b.series, function (b) {
          b.type === a.type && (b.isDirty = !0);
        });
    },
    getColumnMetrics: function () {
      var a,
        b = this,
        c = b.options,
        d = b.xAxis,
        e = b.yAxis,
        f = d.reversed,
        g = {},
        h = 0;
      c.grouping === !1
        ? (h = 1)
        : jb(b.chart.series, function (c) {
            var d,
              f = c.options,
              i = c.yAxis;
            c.type === b.type &&
              c.visible &&
              e.len === i.len &&
              e.pos === i.pos &&
              (f.stacking
                ? ((a = c.stackKey), g[a] === P && (g[a] = h++), (d = g[a]))
                : f.grouping !== !1 && (d = h++),
              (c.columnIndex = d));
          });
      var i = ua(
          va(d.transA) *
            (d.ordinalSlope ||
              c.pointRange ||
              d.closestPointRange ||
              d.tickInterval ||
              1),
          d.len
        ),
        j = i * c.groupPadding,
        k = i - 2 * j,
        l = k / h,
        m = ua(
          c.maxPointWidth || d.len,
          ub(c.pointWidth, l * (1 - 2 * c.pointPadding))
        ),
        n = (l - m) / 2,
        o = (b.columnIndex || 0) + (f ? 1 : 0),
        p = n + (j + o * l - i / 2) * (f ? -1 : 1);
      return (b.columnMetrics = { width: m, offset: p }), b.columnMetrics;
    },
    crispCol: function (a, b, c, d) {
      var e,
        f,
        g,
        h = this.chart,
        i = this.borderWidth,
        j = -(i % 2 ? 0.5 : 0),
        k = i % 2 ? 0.5 : 1;
      return (
        h.inverted && h.renderer.isVML && (k += 1),
        (e = Math.round(a + c) + j),
        (a = Math.round(a) + j),
        (c = e - a),
        (f = Math.round(b + d) + k),
        (g = va(b) <= 0.5 && f > 0.5),
        (b = Math.round(b) + k),
        (d = f - b),
        g && ((b -= 1), (d += 1)),
        { x: a, y: b, width: c, height: d }
      );
    },
    translate: function () {
      var a = this,
        b = a.chart,
        c = a.options,
        d = (a.borderWidth = ub(
          c.borderWidth,
          a.closestPointRange * a.xAxis.transA < 2 ? 0 : 1
        )),
        e = a.yAxis,
        f = c.threshold,
        g = (a.translatedThreshold = e.getThreshold(f)),
        h = ub(c.minPointLength, 5),
        i = a.getColumnMetrics(),
        j = i.width,
        k = (a.barW = ta(j, 1 + 2 * d)),
        l = (a.pointXOffset = i.offset);
      b.inverted && (g -= 0.5),
        c.pointPadding && (k = sa(k)),
        Rb.prototype.translate.apply(a),
        jb(a.points, function (c) {
          var d,
            f = ua(ub(c.yBottom, g), 9e4),
            i = 999 + va(f),
            m = ua(ta(-i, c.plotY), e.len + i),
            n = c.plotX + l,
            o = k,
            p = ua(m, f),
            q = ta(m, f) - p;
          va(q) < h &&
            h &&
            ((q = h),
            (d = (!e.reversed && !c.negative) || (e.reversed && c.negative)),
            (p = va(p - g) > h ? f - h : g - (d ? h : 0))),
            (c.barX = n),
            (c.pointWidth = j),
            (c.tooltipPos = b.inverted
              ? [e.len + e.pos - b.plotLeft - m, a.xAxis.len - n - o / 2, q]
              : [n + o / 2, m + e.pos - b.plotTop, q]),
            (c.shapeType = "rect"),
            (c.shapeArgs = a.crispCol(n, p, o, q));
        });
    },
    getSymbol: Na,
    drawLegendSymbol: Nb.drawRectangle,
    drawGraph: Na,
    drawPoints: function () {
      var a,
        b,
        c = this,
        e = this.chart,
        f = c.options,
        g = e.renderer,
        h = f.animationLimit || 250;
      jb(c.points, function (i) {
        var j,
          k = i.plotY,
          l = i.graphic;
        k === P || isNaN(k) || null === i.y
          ? l && (i.graphic = l.destroy())
          : ((a = i.shapeArgs),
            (j = m(c.borderWidth) ? { "stroke-width": c.borderWidth } : {}),
            (b = i.pointAttr[i.selected ? db : bb] || c.pointAttr[bb]),
            l
              ? (rb(l),
                l.attr(j).attr(b)[e.pointCount < h ? "animate" : "attr"](d(a)))
              : (i.graphic = l =
                  g[i.shapeType](a)
                    .attr(j)
                    .attr(b)
                    .add(i.group || c.group)
                    .shadow(f.shadow, null, f.stacking && !f.borderRadius)));
      });
    },
    animate: function (a) {
      var b,
        c = this,
        d = this.yAxis,
        e = c.options,
        f = this.chart.inverted,
        g = {};
      Ia &&
        (a
          ? ((g.scaleY = 0.001),
            (b = ua(d.pos + d.len, ta(d.pos, d.toPixels(e.threshold)))),
            f ? (g.translateX = b - d.len) : (g.translateY = b),
            c.group.attr(g))
          : ((g.scaleY = 1),
            (g[f ? "translateX" : "translateY"] = d.pos),
            c.group.animate(g, c.options.animation),
            (c.animate = null)));
    },
    remove: function () {
      var a = this,
        b = a.chart;
      b.hasRendered &&
        jb(b.series, function (b) {
          b.type === a.type && (b.isDirty = !0);
        }),
        Rb.prototype.remove.apply(a, arguments);
    },
  });
  (gb.column = Xb), (wb.bar = d(wb.column));
  var Yb = s(Xb, { type: "bar", inverted: !0 });
  (gb.bar = Yb),
    (wb.scatter = d(xb, {
      lineWidth: 0,
      marker: { enabled: !0 },
      tooltip: {
        headerFormat:
          '<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',
        pointFormat: "x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",
      },
    }));
  var Zb = s(Rb, {
    type: "scatter",
    sorted: !1,
    requireSorting: !1,
    noSharedTooltip: !0,
    trackerGroups: ["group", "markerGroup", "dataLabelsGroup"],
    takeOrdinalPosition: !1,
    kdDimensions: 2,
    drawGraph: function () {
      this.options.lineWidth && Rb.prototype.drawGraph.call(this);
    },
  });
  (gb.scatter = Zb),
    (wb.pie = d(xb, {
      borderColor: "#FFFFFF",
      borderWidth: 1,
      center: [null, null],
      clip: !1,
      colorByPoint: !0,
      dataLabels: {
        distance: 30,
        enabled: !0,
        formatter: function () {
          return null === this.y ? void 0 : this.point.name;
        },
        x: 0,
      },
      ignoreHiddenPoint: !0,
      legendType: "point",
      marker: null,
      size: null,
      showInLegend: !1,
      slicedOffset: 10,
      states: { hover: { brightness: 0.1, shadow: !1 } },
      stickyTracking: !1,
      tooltip: { followPointer: !0 },
    }));
  var $b = s(Qb, {
      init: function () {
        Qb.prototype.init.apply(this, arguments);
        var a,
          b = this;
        return (
          (b.name = ub(b.name, "Slice")),
          (a = function (a) {
            b.slice("select" === a.type);
          }),
          nb(b, "select", a),
          nb(b, "unselect", a),
          b
        );
      },
      setVisible: function (a, b) {
        var c = this,
          d = c.series,
          e = d.chart,
          f = d.options.ignoreHiddenPoint;
        (b = ub(b, f)),
          a !== c.visible &&
            ((c.visible = c.options.visible = a = a === P ? !c.visible : a),
            (d.options.data[ib(c, d.data)] = c.options),
            jb(
              ["graphic", "dataLabel", "connector", "shadowGroup"],
              function (b) {
                c[b] && c[b][a ? "show" : "hide"](!0);
              }
            ),
            c.legendItem && e.legend.colorizeItem(c, a),
            a || "hover" !== c.state || c.setState(""),
            f && (d.isDirty = !0),
            b && e.redraw());
      },
      slice: function (a, b, c) {
        var d,
          e = this,
          f = e.series,
          g = f.chart;
        G(c, g),
          (b = ub(b, !0)),
          (e.sliced = e.options.sliced = a = m(a) ? a : !e.sliced),
          (f.options.data[ib(e, f.data)] = e.options),
          (d = a ? e.slicedTranslation : { translateX: 0, translateY: 0 }),
          e.graphic.animate(d),
          e.shadowGroup && e.shadowGroup.animate(d);
      },
      haloPath: function (a) {
        var b = this.shapeArgs,
          c = this.series.chart;
        return this.sliced || !this.visible
          ? []
          : this.series.chart.renderer.symbols.arc(
              c.plotLeft + b.x,
              c.plotTop + b.y,
              b.r + a,
              b.r + a,
              { innerR: this.shapeArgs.r, start: b.start, end: b.end }
            );
      },
    }),
    _b = {
      type: "pie",
      isCartesian: !1,
      pointClass: $b,
      requireSorting: !1,
      directTouch: !0,
      noSharedTooltip: !0,
      trackerGroups: ["group", "dataLabelsGroup"],
      axisTypes: [],
      pointAttrToOptions: {
        stroke: "borderColor",
        "stroke-width": "borderWidth",
        fill: "color",
      },
      animate: function (a) {
        var b = this,
          c = b.points,
          d = b.startAngleRad;
        a ||
          (jb(c, function (a) {
            var c = a.graphic,
              e = a.shapeArgs;
            c &&
              (c.attr({ r: a.startR || b.center[3] / 2, start: d, end: d }),
              c.animate(
                { r: e.r, start: e.start, end: e.end },
                b.options.animation
              ));
          }),
          (b.animate = null));
      },
      updateTotals: function () {
        var a,
          b,
          c = 0,
          d = this.points,
          e = d.length,
          f = this.options.ignoreHiddenPoint;
        for (a = 0; a < e; a++) (b = d[a]), (c += f && !b.visible ? 0 : b.y);
        for (this.total = c, a = 0; a < e; a++)
          (b = d[a]),
            (b.percentage = c > 0 && (b.visible || !f) ? (b.y / c) * 100 : 0),
            (b.total = c);
      },
      generatePoints: function () {
        Rb.prototype.generatePoints.call(this), this.updateTotals();
      },
      translate: function (a) {
        this.generatePoints();
        var b,
          c,
          d,
          e,
          f,
          g,
          h,
          i = this,
          j = 0,
          k = 1e3,
          l = i.options,
          m = l.slicedOffset,
          n = m + l.borderWidth,
          o = l.startAngle || 0,
          p = (i.startAngleRad = (ya / 180) * (o - 90)),
          q = (i.endAngleRad = (ya / 180) * (ub(l.endAngle, o + 360) - 90)),
          r = q - p,
          s = i.points,
          t = l.dataLabels.distance,
          u = l.ignoreHiddenPoint,
          v = s.length;
        for (
          a || (i.center = a = i.getCenter()),
            i.getX = function (b, c) {
              return (
                (d = pa.asin(ua((b - a[1]) / (a[2] / 2 + t), 1))),
                a[0] + (c ? -1 : 1) * (wa(d) * (a[2] / 2 + t))
              );
            },
            g = 0;
          g < v;
          g++
        )
          (h = s[g]),
            (b = p + j * r),
            (u && !h.visible) || (j += h.percentage / 100),
            (c = p + j * r),
            (h.shapeType = "arc"),
            (h.shapeArgs = {
              x: a[0],
              y: a[1],
              r: a[2] / 2,
              innerR: a[3] / 2,
              start: qa(b * k) / k,
              end: qa(c * k) / k,
            }),
            (d = (c + b) / 2),
            d > 1.5 * ya ? (d -= 2 * ya) : d < -ya / 2 && (d += 2 * ya),
            (h.slicedTranslation = {
              translateX: qa(wa(d) * m),
              translateY: qa(xa(d) * m),
            }),
            (e = (wa(d) * a[2]) / 2),
            (f = (xa(d) * a[2]) / 2),
            (h.tooltipPos = [a[0] + 0.7 * e, a[1] + 0.7 * f]),
            (h.half = d < -ya / 2 || d > ya / 2 ? 1 : 0),
            (h.angle = d),
            (n = ua(n, t / 2)),
            (h.labelPos = [
              a[0] + e + wa(d) * t,
              a[1] + f + xa(d) * t,
              a[0] + e + wa(d) * n,
              a[1] + f + xa(d) * n,
              a[0] + e,
              a[1] + f,
              t < 0 ? "center" : h.half ? "right" : "left",
              d,
            ]);
      },
      drawGraph: null,
      drawPoints: function () {
        var a,
          b,
          c,
          d,
          e,
          f,
          g = this,
          h = g.chart,
          i = h.renderer,
          j = g.options.shadow;
        j && !g.shadowGroup && (g.shadowGroup = i.g("shadow").add(g.group)),
          jb(g.points, function (h) {
            null !== h.y &&
              ((b = h.graphic),
              (e = h.shapeArgs),
              (c = h.shadowGroup),
              (d = h.pointAttr[h.selected ? db : bb]),
              d.stroke || (d.stroke = d.fill),
              j && !c && (c = h.shadowGroup = i.g("shadow").add(g.shadowGroup)),
              (a = h.sliced
                ? h.slicedTranslation
                : { translateX: 0, translateY: 0 }),
              c && c.attr(a),
              b
                ? b.setRadialReference(g.center).attr(d).animate(tb(e, a))
                : ((f = { "stroke-linejoin": "round" }),
                  h.visible || (f.visibility = "hidden"),
                  (h.graphic = b =
                    i[h.shapeType](e)
                      .setRadialReference(g.center)
                      .attr(d)
                      .attr(f)
                      .attr(a)
                      .add(g.group)
                      .shadow(j, c))));
          });
      },
      searchPoint: Na,
      sortByAngle: function (a, b) {
        a.sort(function (a, c) {
          return void 0 !== a.angle && (c.angle - a.angle) * b;
        });
      },
      drawLegendSymbol: Nb.drawRectangle,
      getCenter: Pb.getCenter,
      getSymbol: Na,
    };
  (_b = s(Rb, _b)),
    (gb.pie = _b),
    (Rb.prototype.drawDataLabels = function () {
      var a,
        b,
        c,
        e,
        f = this,
        g = f.options,
        h = g.cursor,
        i = g.dataLabels,
        j = f.points,
        k = f.hasRendered || 0,
        l = f.chart.renderer;
      (i.enabled || f._hasPointLabels) &&
        (f.dlProcessOptions && f.dlProcessOptions(i),
        (e = f.plotGroup(
          "dataLabelsGroup",
          "data-labels",
          i.defer ? Va : Xa,
          i.zIndex || 6
        )),
        ub(i.defer, !0) &&
          (e.attr({ opacity: +k }),
          k ||
            nb(f, "afterAnimate", function () {
              f.visible && e.show(),
                e[g.animation ? "animate" : "attr"](
                  { opacity: 1 },
                  { duration: 200 }
                );
            })),
        (b = i),
        jb(j, function (j) {
          var k,
            n,
            o,
            p,
            q,
            r,
            s = j.dataLabel,
            t = j.connector,
            u = !0,
            v = {};
          if (
            ((a = j.dlOptions || (j.options && j.options.dataLabels)),
            (k = ub(a && a.enabled, b.enabled) && null !== j.y),
            s && !k)
          )
            j.dataLabel = s.destroy();
          else if (k) {
            if (
              ((i = d(b, a)),
              (r = i.style),
              (q = i.rotation),
              (n = j.getLabelConfig()),
              (c = i.format ? x(i.format, n) : i.formatter.call(n, i)),
              (r.color = ub(i.color, r.color, f.color, "black")),
              s)
            )
              m(c)
                ? (s.attr({ text: c }), (u = !1))
                : ((j.dataLabel = s = s.destroy()),
                  t && (j.connector = t.destroy()));
            else if (m(c)) {
              (o = {
                fill: i.backgroundColor,
                stroke: i.borderColor,
                "stroke-width": i.borderWidth,
                r: i.borderRadius || 0,
                rotation: q,
                padding: i.padding,
                zIndex: 1,
              }),
                "contrast" === r.color &&
                  (v.color =
                    i.inside || i.distance < 0 || g.stacking
                      ? l.getContrast(j.color || f.color)
                      : "#000000"),
                h && (v.cursor = h);
              for (p in o) o[p] === P && delete o[p];
              s = j.dataLabel = l[q ? "text" : "label"](
                c,
                0,
                -9999,
                i.shape,
                null,
                null,
                i.useHTML
              )
                .attr(o)
                .css(tb(r, v))
                .add(e)
                .shadow(i.shadow);
            }
            s && f.alignDataLabel(j, s, i, null, u);
          }
        }));
    }),
    (Rb.prototype.alignDataLabel = function (a, b, c, d, e) {
      var f,
        g,
        h = this.chart,
        i = h.inverted,
        j = ub(a.plotX, -9999),
        k = ub(a.plotY, -9999),
        l = b.getBBox(),
        m = h.renderer.fontMetrics(c.style.fontSize).b,
        n =
          this.visible &&
          (a.series.forceDL ||
            h.isInsidePlot(j, qa(k), i) ||
            (d && h.isInsidePlot(j, i ? d.x + 1 : d.y + d.height - 1, i)));
      n &&
        ((d = tb(
          {
            x: i ? h.plotWidth - k : j,
            y: qa(i ? h.plotHeight - j : k),
            width: 0,
            height: 0,
          },
          d
        )),
        tb(c, { width: l.width, height: l.height }),
        c.rotation
          ? ((f = h.renderer.rotCorr(m, c.rotation)),
            b[e ? "attr" : "animate"]({
              x: d.x + c.x + d.width / 2 + f.x,
              y: d.y + c.y + d.height / 2,
            }).attr({ align: c.align }))
          : (b.align(c, null, d),
            (g = b.alignAttr),
            "justify" === ub(c.overflow, "justify")
              ? this.justifyDataLabel(b, c, g, l, d, e)
              : ub(c.crop, !0) &&
                (n =
                  h.isInsidePlot(g.x, g.y) &&
                  h.isInsidePlot(g.x + l.width, g.y + l.height)),
            c.shape && b.attr({ anchorX: a.plotX, anchorY: a.plotY }))),
        n || (rb(b), b.attr({ y: -9999 }), (b.placed = !1));
    }),
    (Rb.prototype.justifyDataLabel = function (a, b, c, d, e, f) {
      var g,
        h,
        i = this.chart,
        j = b.align,
        k = b.verticalAlign,
        l = a.box ? 0 : a.padding || 0;
      (g = c.x + l),
        g < 0 && ("right" === j ? (b.align = "left") : (b.x = -g), (h = !0)),
        (g = c.x + d.width - l),
        g > i.plotWidth &&
          ("left" === j ? (b.align = "right") : (b.x = i.plotWidth - g),
          (h = !0)),
        (g = c.y + l),
        g < 0 &&
          ("bottom" === k ? (b.verticalAlign = "top") : (b.y = -g), (h = !0)),
        (g = c.y + d.height - l),
        g > i.plotHeight &&
          ("top" === k
            ? (b.verticalAlign = "bottom")
            : (b.y = i.plotHeight - g),
          (h = !0)),
        h && ((a.placed = !f), a.align(b, null, e));
    }),
    gb.pie &&
      ((gb.pie.prototype.drawDataLabels = function () {
        var a,
          b,
          c,
          d,
          e,
          f,
          g,
          h,
          i,
          j,
          k,
          l,
          m,
          n = this,
          o = n.data,
          p = n.chart,
          q = n.options.dataLabels,
          r = ub(q.connectorPadding, 10),
          s = ub(q.connectorWidth, 1),
          t = p.plotWidth,
          u = p.plotHeight,
          v = ub(q.softConnector, !0),
          w = q.distance,
          x = n.center,
          y = x[2] / 2,
          z = x[1],
          A = w > 0,
          B = [[], []],
          D = [0, 0, 0, 0],
          E = function (a, b) {
            return b.y - a.y;
          };
        if (n.visible && (q.enabled || n._hasPointLabels)) {
          for (
            Rb.prototype.drawDataLabels.apply(n),
              jb(o, function (a) {
                a.dataLabel && a.visible && B[a.half].push(a);
              }),
              l = 2;
            l--;

          ) {
            var F,
              G,
              H,
              I,
              J = [],
              K = [],
              L = B[l],
              M = L.length;
            if (M) {
              for (n.sortByAngle(L, l - 0.5), m = g = 0; !g && L[m]; )
                (g =
                  L[m] &&
                  L[m].dataLabel &&
                  (L[m].dataLabel.getBBox().height || 21)),
                  m++;
              if (w > 0) {
                for (
                  H = ua(z + y + w, p.plotHeight), G = ta(0, z - y - w);
                  G <= H;
                  G += g
                )
                  J.push(G);
                if (((F = J.length), M > F)) {
                  for (k = [].concat(L), k.sort(E), m = M; m--; ) k[m].rank = m;
                  for (m = M; m--; ) L[m].rank >= F && L.splice(m, 1);
                  M = L.length;
                }
                for (m = 0; m < M; m++) {
                  (a = L[m]), (f = a.labelPos);
                  var N,
                    O,
                    P = 9999;
                  for (O = 0; O < F; O++)
                    (N = va(J[O] - f[1])), N < P && ((P = N), (I = O));
                  if (I < m && null !== J[m]) I = m;
                  else if (F < M - m + I && null !== J[m])
                    for (I = F - M + m; null === J[I]; ) I++;
                  else for (; null === J[I]; ) I++;
                  K.push({ i: I, y: J[I] }), (J[I] = null);
                }
                K.sort(E);
              }
              for (m = 0; m < M; m++) {
                var Q, R;
                (a = L[m]),
                  (f = a.labelPos),
                  (d = a.dataLabel),
                  (j = a.visible === !1 ? Va : "inherit"),
                  (R = f[1]),
                  w > 0
                    ? ((Q = K.pop()),
                      (I = Q.i),
                      (i = Q.y),
                      ((R > i && null !== J[I + 1]) ||
                        (R < i && null !== J[I - 1])) &&
                        (i = ua(ta(0, R), p.plotHeight)))
                    : (i = R),
                  (h = q.justify
                    ? x[0] + (l ? -1 : 1) * (y + w)
                    : n.getX(i === z - y - w || i === z + y + w ? R : i, l)),
                  (d._attr = { visibility: j, align: f[6] }),
                  (d._pos = {
                    x: h + q.x + ({ left: r, right: -r }[f[6]] || 0),
                    y: i + q.y - 10,
                  }),
                  (d.connX = h),
                  (d.connY = i),
                  null === this.options.size &&
                    ((e = d.width),
                    h - e < r
                      ? (D[3] = ta(qa(e - h + r), D[3]))
                      : h + e > t - r && (D[1] = ta(qa(h + e - t + r), D[1])),
                    i - g / 2 < 0
                      ? (D[0] = ta(qa(-i + g / 2), D[0]))
                      : i + g / 2 > u && (D[2] = ta(qa(i + g / 2 - u), D[2])));
              }
            }
          }
          (0 === C(D) || this.verifyDataLabelOverflow(D)) &&
            (this.placeDataLabels(),
            A &&
              s &&
              jb(this.points, function (a) {
                (b = a.connector),
                  (f = a.labelPos),
                  (d = a.dataLabel),
                  d && d._pos && a.visible
                    ? ((j = d._attr.visibility),
                      (h = d.connX),
                      (i = d.connY),
                      (c = v
                        ? [
                            $a,
                            h + ("left" === f[6] ? 5 : -5),
                            i,
                            "C",
                            h,
                            i,
                            2 * f[2] - f[4],
                            2 * f[3] - f[5],
                            f[2],
                            f[3],
                            _a,
                            f[4],
                            f[5],
                          ]
                        : [
                            $a,
                            h + ("left" === f[6] ? 5 : -5),
                            i,
                            _a,
                            f[2],
                            f[3],
                            _a,
                            f[4],
                            f[5],
                          ]),
                      b
                        ? (b.animate({ d: c }), b.attr("visibility", j))
                        : (a.connector = b =
                            n.chart.renderer
                              .path(c)
                              .attr({
                                "stroke-width": s,
                                stroke:
                                  q.connectorColor || a.color || "#606060",
                                visibility: j,
                              })
                              .add(n.dataLabelsGroup)))
                    : b && (a.connector = b.destroy());
              }));
        }
      }),
      (gb.pie.prototype.placeDataLabels = function () {
        jb(this.points, function (a) {
          var b,
            c = a.dataLabel;
          c &&
            a.visible &&
            ((b = c._pos),
            b
              ? (c.attr(c._attr),
                c[c.moved ? "animate" : "attr"](b),
                (c.moved = !0))
              : c && c.attr({ y: -9999 }));
        });
      }),
      (gb.pie.prototype.alignDataLabel = Na),
      (gb.pie.prototype.verifyDataLabelOverflow = function (a) {
        var b,
          c = this.center,
          d = this.options,
          e = d.center,
          f = d.minSize || 80,
          g = f;
        return (
          null !== e[0]
            ? (g = ta(c[2] - ta(a[1], a[3]), f))
            : ((g = ta(c[2] - a[1] - a[3], f)), (c[0] += (a[3] - a[1]) / 2)),
          null !== e[1]
            ? (g = ta(ua(g, c[2] - ta(a[0], a[2])), f))
            : ((g = ta(ua(g, c[2] - a[0] - a[2]), f)),
              (c[1] += (a[0] - a[2]) / 2)),
          g < c[2]
            ? ((c[2] = g),
              (c[3] = Math.min(u(d.innerSize || 0, g), g)),
              this.translate(c),
              jb(this.points, function (a) {
                a.dataLabel && (a.dataLabel._pos = null);
              }),
              this.drawDataLabels && this.drawDataLabels())
            : (b = !0),
          b
        );
      })),
    gb.column &&
      (gb.column.prototype.alignDataLabel = function (a, b, c, e, f) {
        var g,
          h = this.chart.inverted,
          i = a.series,
          j = a.dlBox || a.shapeArgs,
          k = ub(a.below, a.plotY > ub(this.translatedThreshold, i.yAxis.len)),
          l = ub(c.inside, !!this.options.stacking);
        j &&
          ((e = d(j)),
          e.y < 0 && ((e.height += e.y), (e.y = 0)),
          (g = e.y + e.height - i.yAxis.len),
          g > 0 && (e.height -= g),
          h &&
            (e = {
              x: i.yAxis.len - e.y - e.height,
              y: i.xAxis.len - e.x - e.width,
              width: e.height,
              height: e.width,
            }),
          l ||
            (h
              ? ((e.x += k ? 0 : e.width), (e.width = 0))
              : ((e.y += k ? e.height : 0), (e.height = 0)))),
          (c.align = ub(c.align, !h || l ? "center" : k ? "right" : "left")),
          (c.verticalAlign = ub(
            c.verticalAlign,
            h || l ? "middle" : k ? "top" : "bottom"
          )),
          Rb.prototype.alignDataLabel.call(this, a, b, c, e, f);
      }),
    (function (a) {
      var b = a.Chart,
        c = a.each,
        d = a.pick,
        e = a.addEvent;
      b.prototype.callbacks.push(function (a) {
        function b() {
          var b = [];
          c(a.series, function (a) {
            var e = a.options.dataLabels,
              f = a.dataLabelCollections || ["dataLabel"];
            (e.enabled || a._hasPointLabels) &&
              !e.allowOverlap &&
              a.visible &&
              c(f, function (e) {
                c(a.points, function (a) {
                  a[e] &&
                    ((a[e].labelrank = d(
                      a.labelrank,
                      a.shapeArgs && a.shapeArgs.height
                    )),
                    b.push(a[e]));
                });
              });
          }),
            a.hideOverlappingLabels(b);
        }
        b(), e(a, "redraw", b);
      }),
        (b.prototype.hideOverlappingLabels = function (a) {
          var b,
            d,
            e,
            f,
            g,
            h,
            i,
            j,
            k,
            l = a.length,
            m = function (a, b, c, d, e, f, g, h) {
              return !(e > a + c || e + g < a || f > b + d || f + h < b);
            };
          for (d = 0; d < l; d++)
            (b = a[d]), b && ((b.oldOpacity = b.opacity), (b.newOpacity = 1));
          for (
            a.sort(function (a, b) {
              return (b.labelrank || 0) - (a.labelrank || 0);
            }),
              d = 0;
            d < l;
            d++
          )
            for (f = a[d], e = d + 1; e < l; ++e)
              (g = a[e]),
                f &&
                  g &&
                  f.placed &&
                  g.placed &&
                  0 !== f.newOpacity &&
                  0 !== g.newOpacity &&
                  ((i = f.alignAttr),
                  (j = g.alignAttr),
                  (k = 2 * (f.box ? 0 : f.padding)),
                  (h = m(
                    i.x,
                    i.y,
                    f.width - k,
                    f.height - k,
                    j.x,
                    j.y,
                    g.width - k,
                    g.height - k
                  )),
                  h && ((f.labelrank < g.labelrank ? f : g).newOpacity = 0));
          c(a, function (a) {
            var b, c;
            a &&
              ((c = a.newOpacity),
              a.oldOpacity !== c &&
                a.placed &&
                (c
                  ? a.show(!0)
                  : (b = function () {
                      a.hide();
                    }),
                (a.alignAttr.opacity = c),
                a[a.isOld ? "animate" : "attr"](a.alignAttr, null, b)),
              (a.isOld = !0));
          });
        });
    })(na);
  var ac = (na.TrackerMixin = {
    drawTrackerPoint: function () {
      var a = this,
        b = a.chart,
        c = b.pointer,
        d = a.options.cursor,
        e = d && { cursor: d },
        f = function (a) {
          for (var c, d = a.target; d && !c; )
            (c = d.point), (d = d.parentNode);
          c !== P && c !== b.hoverPoint && c.onMouseOver(a);
        };
      jb(a.points, function (a) {
        a.graphic && (a.graphic.element.point = a),
          a.dataLabel && (a.dataLabel.element.point = a);
      }),
        a._hasTracking ||
          (jb(a.trackerGroups, function (b) {
            a[b] &&
              (a[b]
                .addClass(Wa + "tracker")
                .on("mouseover", f)
                .on("mouseout", function (a) {
                  c.onTrackerMouseOut(a);
                })
                .css(e),
              R && a[b].on("touchstart", f));
          }),
          (a._hasTracking = !0));
    },
    drawTrackerGraph: function () {
      var a,
        b,
        c = this,
        d = c.options,
        e = d.trackByArea,
        f = [].concat(e ? c.areaPath : c.graphPath),
        g = f.length,
        h = c.chart,
        i = h.pointer,
        j = h.renderer,
        k = h.options.tooltip.snap,
        l = c.tracker,
        m = d.cursor,
        n = m && { cursor: m },
        o = c.singlePoints,
        p = function () {
          h.hoverSeries !== c && c.onMouseOver();
        },
        q = "rgba(192,192,192," + (Ia ? 1e-4 : 0.002) + ")";
      if (g && !e)
        for (b = g + 1; b--; )
          f[b] === $a && f.splice(b + 1, 0, f[b + 1] - k, f[b + 2], _a),
            ((b && f[b] === $a) || b === g) &&
              f.splice(b, 0, _a, f[b - 2] + k, f[b - 1]);
      for (b = 0; b < o.length; b++)
        (a = o[b]), f.push($a, a.plotX - k, a.plotY, _a, a.plotX + k, a.plotY);
      l
        ? l.attr({ d: f })
        : ((c.tracker = j
            .path(f)
            .attr({
              "stroke-linejoin": "round",
              visibility: c.visible ? Xa : Va,
              stroke: q,
              fill: e ? q : Za,
              "stroke-width": d.lineWidth + (e ? 0 : 2 * k),
              zIndex: 2,
            })
            .add(c.group)),
          jb([c.tracker, c.markerGroup], function (a) {
            a
              .addClass(Wa + "tracker")
              .on("mouseover", p)
              .on("mouseout", function (a) {
                i.onTrackerMouseOut(a);
              })
              .css(n),
              R && a.on("touchstart", p);
          }));
    },
  });
  return (
    gb.column && (Xb.prototype.drawTracker = ac.drawTrackerPoint),
    gb.pie && (gb.pie.prototype.drawTracker = ac.drawTrackerPoint),
    gb.scatter && (Zb.prototype.drawTracker = ac.drawTrackerPoint),
    tb(Mb.prototype, {
      setItemEvents: function (a, b, c, d, e) {
        var f = this;
        (c ? b : a.legendGroup)
          .on("mouseover", function () {
            a.setState(cb), b.css(f.options.itemHoverStyle);
          })
          .on("mouseout", function () {
            b.css(a.visible ? d : e), a.setState();
          })
          .on("click", function (b) {
            var c = "legendItemClick",
              d = function () {
                a.setVisible && a.setVisible();
              };
            (b = { browserEvent: b }),
              a.firePointEvent ? a.firePointEvent(c, b, d) : pb(a, c, b, d);
          });
      },
      createCheckboxForItem: function (a) {
        var b = this;
        (a.checkbox = r(
          "input",
          { type: "checkbox", checked: a.selected, defaultChecked: a.selected },
          b.options.itemCheckboxStyle,
          b.chart.container
        )),
          nb(a.checkbox, "click", function (b) {
            var c = b.target;
            pb(
              a.series || a,
              "checkboxClick",
              { checked: c.checked, item: a },
              function () {
                a.select();
              }
            );
          });
      },
    }),
    (T.legend.itemStyle.cursor = "pointer"),
    tb(Ob.prototype, {
      showResetZoom: function () {
        function a() {
          b.zoomOut();
        }
        var b = this,
          c = T.lang,
          d = b.options.chart.resetZoomButton,
          e = d.theme,
          f = e.states,
          g = "chart" === d.relativeTo ? null : "plotBox";
        this.resetZoomButton = b.renderer
          .button(c.resetZoom, null, null, a, e, f && f.hover)
          .attr({ align: d.position.align, title: c.resetZoomTitle })
          .add()
          .align(d.position, !1, g);
      },
      zoomOut: function () {
        var a = this;
        pb(a, "selection", { resetSelection: !0 }, function () {
          a.zoom();
        });
      },
      zoom: function (a) {
        var b,
          c,
          d = this,
          e = d.pointer,
          f = !1;
        !a || a.resetSelection
          ? jb(d.axes, function (a) {
              b = a.zoom();
            })
          : jb(a.xAxis.concat(a.yAxis), function (a) {
              var c = a.axis,
                d = c.isXAxis;
              (e[d ? "zoomX" : "zoomY"] || e[d ? "pinchX" : "pinchY"]) &&
                ((b = c.zoom(a.min, a.max)), c.displayBtn && (f = !0));
            }),
          (c = d.resetZoomButton),
          f && !c
            ? d.showResetZoom()
            : !f && g(c) && (d.resetZoomButton = c.destroy()),
          b &&
            d.redraw(
              ub(
                d.options.chart.animation,
                a && a.animation,
                d.pointCount < 100
              )
            );
      },
      pan: function (a, b) {
        var c,
          d = this,
          e = d.hoverPoints;
        e &&
          jb(e, function (a) {
            a.setState();
          }),
          jb("xy" === b ? [1, 0] : [1], function (b) {
            var e = a[b ? "chartX" : "chartY"],
              f = d[b ? "xAxis" : "yAxis"][0],
              g = d[b ? "mouseDownX" : "mouseDownY"],
              h = (f.pointRange || 0) / 2,
              i = f.getExtremes(),
              j = f.toValue(g - e, !0) + h,
              k = f.toValue(g + d[b ? "plotWidth" : "plotHeight"] - e, !0) - h,
              l = g > e;
            f.series.length &&
              (l || j > ua(i.dataMin, i.min)) &&
              (!l || k < ta(i.dataMax, i.max)) &&
              (f.setExtremes(j, k, !1, !1, { trigger: "pan" }), (c = !0)),
              (d[b ? "mouseDownX" : "mouseDownY"] = e);
          }),
          c && d.redraw(!1),
          q(d.container, { cursor: "move" });
      },
    }),
    tb(Qb.prototype, {
      select: function (a, b) {
        var c = this,
          d = c.series,
          e = d.chart;
        (a = ub(a, !c.selected)),
          c.firePointEvent(
            a ? "select" : "unselect",
            { accumulate: b },
            function () {
              (c.selected = c.options.selected = a),
                (d.options.data[ib(c, d.data)] = c.options),
                c.setState(a && db),
                b ||
                  jb(e.getSelectedPoints(), function (a) {
                    a.selected &&
                      a !== c &&
                      ((a.selected = a.options.selected = !1),
                      (d.options.data[ib(a, d.data)] = a.options),
                      a.setState(bb),
                      a.firePointEvent("unselect"));
                  });
            }
          );
      },
      onMouseOver: function (a, b) {
        var c = this,
          d = c.series,
          e = d.chart,
          f = e.tooltip,
          g = e.hoverPoint;
        e.hoverSeries !== d && d.onMouseOver(),
          g && g !== c && g.onMouseOut(),
          c.series &&
            (c.firePointEvent("mouseOver"),
            !f || (f.shared && !d.noSharedTooltip) || f.refresh(c, a),
            c.setState(cb),
            b || (e.hoverPoint = c));
      },
      onMouseOut: function () {
        var a = this.series.chart,
          b = a.hoverPoints;
        this.firePointEvent("mouseOut"),
          (b && ib(this, b) !== -1) || (this.setState(), (a.hoverPoint = null));
      },
      importEvents: function () {
        if (!this.hasImportedEvents) {
          var a,
            b = this,
            c = d(b.series.options.point, b.options),
            e = c.events;
          b.events = e;
          for (a in e) nb(b, a, e[a]);
          this.hasImportedEvents = !0;
        }
      },
      setState: function (a, b) {
        var c,
          e,
          f,
          g,
          h = this,
          i = ra(h.plotX),
          j = h.plotY,
          k = h.series,
          l = k.options.states,
          m = wb[k.type].marker && k.options.marker,
          n = m && !m.enabled,
          o = m && m.states[a],
          p = o && o.enabled === !1,
          q = k.stateMarkerGraphic,
          r = h.marker || {},
          s = k.chart,
          t = k.halo;
        (a = a || bb),
          (g = h.pointAttr[a] || k.pointAttr[a]),
          (a === h.state && !b) ||
            (h.selected && a !== db) ||
            (l[a] && l[a].enabled === !1) ||
            (a && (p || (n && o.enabled === !1))) ||
            (a && r.states && r.states[a] && r.states[a].enabled === !1) ||
            (h.graphic
              ? ((c = m && h.graphic.symbolName && g.r),
                h.graphic.attr(
                  d(
                    g,
                    c ? { x: i - c, y: j - c, width: 2 * c, height: 2 * c } : {}
                  )
                ),
                q && q.hide())
              : (a &&
                  o &&
                  ((c = o.radius),
                  (f = r.symbol || k.symbol),
                  q && q.currentSymbol !== f && (q = q.destroy()),
                  q
                    ? q[b ? "animate" : "attr"]({ x: i - c, y: j - c })
                    : f &&
                      ((k.stateMarkerGraphic = q =
                        s.renderer
                          .symbol(f, i - c, j - c, 2 * c, 2 * c)
                          .attr(g)
                          .add(k.markerGroup)),
                      (q.currentSymbol = f))),
                q &&
                  (q[a && s.isInsidePlot(i, j, s.inverted) ? "show" : "hide"](),
                  (q.element.point = h))),
            (e = l[a] && l[a].halo),
            e && e.size
              ? (t || (k.halo = t = s.renderer.path().add(s.seriesGroup)),
                t
                  .attr(
                    tb(
                      { fill: h.color || k.color, "fill-opacity": e.opacity },
                      e.attributes
                    )
                  )
                  [b ? "animate" : "attr"]({ d: h.haloPath(e.size) }))
              : t && t.attr({ d: [] }),
            (h.state = a));
      },
      haloPath: function (a) {
        var b = this.series,
          c = b.chart,
          d = b.getPlotBox(),
          e = c.inverted,
          f = Math.floor(this.plotX);
        return c.renderer.symbols.circle(
          d.translateX + (e ? b.yAxis.len - this.plotY : f) - a,
          d.translateY + (e ? b.xAxis.len - f : this.plotY) - a,
          2 * a,
          2 * a
        );
      },
    }),
    tb(Rb.prototype, {
      onMouseOver: function () {
        var a = this,
          b = a.chart,
          c = b.hoverSeries;
        c && c !== a && c.onMouseOut(),
          a.options.events.mouseOver && pb(a, "mouseOver"),
          a.setState(cb),
          (b.hoverSeries = a);
      },
      onMouseOut: function () {
        var a = this,
          b = a.options,
          c = a.chart,
          d = c.tooltip,
          e = c.hoverPoint;
        (c.hoverSeries = null),
          e && e.onMouseOut(),
          a && b.events.mouseOut && pb(a, "mouseOut"),
          !d ||
            b.stickyTracking ||
            (d.shared && !a.noSharedTooltip) ||
            d.hide(),
          a.setState();
      },
      setState: function (a) {
        var b,
          c = this,
          d = c.options,
          e = c.graph,
          f = d.states,
          g = d.lineWidth,
          h = 0;
        if (((a = a || bb), c.state !== a)) {
          if (((c.state = a), f[a] && f[a].enabled === !1)) return;
          if (
            (a && (g = f[a].lineWidth || g + (f[a].lineWidthPlus || 0)),
            e && !e.dashstyle)
          )
            for (b = { "stroke-width": g }, e.attr(b); c["zoneGraph" + h]; )
              c["zoneGraph" + h].attr(b), (h += 1);
        }
      },
      setVisible: function (a, b) {
        var c,
          d = this,
          e = d.chart,
          f = d.legendItem,
          g = e.options.chart.ignoreHiddenSeries,
          h = d.visible;
        (d.visible = a = d.userOptions.visible = a === P ? !h : a),
          (c = a ? "show" : "hide"),
          jb(
            ["group", "dataLabelsGroup", "markerGroup", "tracker"],
            function (a) {
              d[a] && d[a][c]();
            }
          ),
          (e.hoverSeries !== d &&
            (e.hoverPoint && e.hoverPoint.series) !== d) ||
            d.onMouseOut(),
          f && e.legend.colorizeItem(d, a),
          (d.isDirty = !0),
          d.options.stacking &&
            jb(e.series, function (a) {
              a.options.stacking && a.visible && (a.isDirty = !0);
            }),
          jb(d.linkedSeries, function (b) {
            b.setVisible(a, !1);
          }),
          g && (e.isDirtyBox = !0),
          b !== !1 && e.redraw(),
          pb(d, c);
      },
      show: function () {
        this.setVisible(!0);
      },
      hide: function () {
        this.setVisible(!1);
      },
      select: function (a) {
        var b = this;
        (b.selected = a = a === P ? !b.selected : a),
          b.checkbox && (b.checkbox.checked = a),
          pb(b, a ? "select" : "unselect");
      },
      drawTracker: ac.drawTrackerGraph,
    }),
    tb(na, {
      Color: K,
      Point: Qb,
      Tick: N,
      Renderer: Q,
      SVGElement: L,
      SVGRenderer: yb,
      arrayMin: B,
      arrayMax: C,
      charts: Oa,
      dateFormat: U,
      error: b,
      format: x,
      pathAnim: V,
      getOptions: J,
      hasBidiBug: Ja,
      isTouchDevice: Ga,
      setOptions: I,
      addEvent: nb,
      removeEvent: ob,
      createElement: r,
      discardElement: E,
      css: q,
      each: jb,
      map: mb,
      merge: d,
      splat: o,
      stableSort: A,
      extendClass: s,
      pInt: e,
      svg: Ia,
      canvas: Ka,
      vml: !Ia && !Ka,
      product: Qa,
      version: Ra,
    }),
    na
  );
});
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
(function (factory) {
  var registeredInModuleLoader = false;
  if (typeof define === "function" && define.amd) {
    define("local_ubassessment/jquery.cookie", factory);
    registeredInModuleLoader = true;
  }
  if (typeof exports === "object") {
    module.exports = factory();
    registeredInModuleLoader = true;
  }
  if (!registeredInModuleLoader) {
    var OldCookies = window.Cookies;
    var api = (window.Cookies = factory());
    api.noConflict = function () {
      window.Cookies = OldCookies;
      return api;
    };
  }
})(function () {
  function extend() {
    var i = 0;
    var result = {};
    for (; i < arguments.length; i++) {
      var attributes = arguments[i];
      for (var key in attributes) {
        result[key] = attributes[key];
      }
    }
    return result;
  }

  function init(converter) {
    function api(key, value, attributes) {
      var result;
      if (typeof document === "undefined") {
        return;
      }

      // Write

      if (arguments.length > 1) {
        attributes = extend(
          {
            path: "/",
          },
          api.defaults,
          attributes
        );

        if (typeof attributes.expires === "number") {
          var expires = new Date();
          expires.setMilliseconds(
            expires.getMilliseconds() + attributes.expires * 864e5
          );
          attributes.expires = expires;
        }

        // We're using "expires" because "max-age" is not supported by IE
        attributes.expires = attributes.expires
          ? attributes.expires.toUTCString()
          : "";

        try {
          result = JSON.stringify(value);
          if (/^[\{\[]/.test(result)) {
            value = result;
          }
        } catch (e) {}

        if (!converter.write) {
          value = encodeURIComponent(String(value)).replace(
            /%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,
            decodeURIComponent
          );
        } else {
          value = converter.write(value, key);
        }

        key = encodeURIComponent(String(key));
        key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);
        key = key.replace(/[\(\)]/g, escape);

        var stringifiedAttributes = "";

        for (var attributeName in attributes) {
          if (!attributes[attributeName]) {
            continue;
          }
          stringifiedAttributes += "; " + attributeName;
          if (attributes[attributeName] === true) {
            continue;
          }
          stringifiedAttributes += "=" + attributes[attributeName];
        }
        return (document.cookie = key + "=" + value + stringifiedAttributes);
      }

      // Read

      if (!key) {
        result = {};
      }

      // To prevent the for loop in the first place assign an empty array
      // in case there are no cookies at all. Also prevents odd result when
      // calling "get()"
      var cookies = document.cookie ? document.cookie.split("; ") : [];
      var rdecode = /(%[0-9A-Z]{2})+/g;
      var i = 0;

      for (; i < cookies.length; i++) {
        var parts = cookies[i].split("=");
        var cookie = parts.slice(1).join("=");

        if (!this.json && cookie.charAt(0) === '"') {
          cookie = cookie.slice(1, -1);
        }

        try {
          var name = parts[0].replace(rdecode, decodeURIComponent);
          cookie = converter.read
            ? converter.read(cookie, name)
            : converter(cookie, name) ||
              cookie.replace(rdecode, decodeURIComponent);

          if (this.json) {
            try {
              cookie = JSON.parse(cookie);
            } catch (e) {}
          }

          if (key === name) {
            result = cookie;
            break;
          }

          if (!key) {
            result[name] = cookie;
          }
        } catch (e) {}
      }

      return result;
    }

    api.set = api;
    api.get = function (key) {
      return api.call(api, key);
    };
    api.getJSON = function () {
      return api.apply(
        {
          json: true,
        },
        [].slice.call(arguments)
      );
    };
    api.defaults = {};

    api.remove = function (key, attributes) {
      api(
        key,
        "",
        extend(attributes, {
          expires: -1,
        })
      );
    };

    api.withConverter = init;

    return api;
  }

  return init(function () {});
});
!(function (a) {
  "function" == typeof define && define.amd
    ? define("local_ubassessment/jquery.validate", ["jquery"], a)
    : "object" == typeof module && module.exports
    ? (module.exports = a(require("jquery")))
    : a(jQuery);
})(function (a) {
  function b(a) {
    return a
      .replace(/<.[^<>]*?>/g, " ")
      .replace(/&nbsp;|&#160;/gi, " ")
      .replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g, "");
  }
  a.extend(a.fn, {
    validate: function (b) {
      if (!this.length)
        return void (
          b &&
          b.debug &&
          window.console &&
          console.warn("Nothing selected, can't validate, returning nothing.")
        );
      var c = a.data(this[0], "validator");
      return c
        ? c
        : (this.attr("novalidate", "novalidate"),
          (c = new a.validator(b, this[0])),
          a.data(this[0], "validator", c),
          c.settings.onsubmit &&
            (this.on("click.validate", ":submit", function (b) {
              (c.submitButton = b.currentTarget),
                a(this).hasClass("cancel") && (c.cancelSubmit = !0),
                void 0 !== a(this).attr("formnovalidate") &&
                  (c.cancelSubmit = !0);
            }),
            this.on("submit.validate", function (b) {
              function d() {
                var d, e;
                return (
                  c.submitButton &&
                    (c.settings.submitHandler || c.formSubmitted) &&
                    (d = a("<input type='hidden'/>")
                      .attr("name", c.submitButton.name)
                      .val(a(c.submitButton).val())
                      .appendTo(c.currentForm)),
                  !(c.settings.submitHandler && !c.settings.debug) ||
                    ((e = c.settings.submitHandler.call(c, c.currentForm, b)),
                    d && d.remove(),
                    void 0 !== e && e)
                );
              }
              return (
                c.settings.debug && b.preventDefault(),
                c.cancelSubmit
                  ? ((c.cancelSubmit = !1), d())
                  : c.form()
                  ? c.pendingRequest
                    ? ((c.formSubmitted = !0), !1)
                    : d()
                  : (c.focusInvalid(), !1)
              );
            })),
          c);
    },
    valid: function () {
      var b, c, d;
      return (
        a(this[0]).is("form")
          ? (b = this.validate().form())
          : ((d = []),
            (b = !0),
            (c = a(this[0].form).validate()),
            this.each(function () {
              (b = c.element(this) && b), b || (d = d.concat(c.errorList));
            }),
            (c.errorList = d)),
        b
      );
    },
    rules: function (b, c) {
      var d,
        e,
        f,
        g,
        h,
        i,
        j = this[0],
        k =
          "undefined" != typeof this.attr("contenteditable") &&
          "false" !== this.attr("contenteditable");
      if (
        null != j &&
        (!j.form &&
          k &&
          ((j.form = this.closest("form")[0]), (j.name = this.attr("name"))),
        null != j.form)
      ) {
        if (b)
          switch (
            ((d = a.data(j.form, "validator").settings),
            (e = d.rules),
            (f = a.validator.staticRules(j)),
            b)
          ) {
            case "add":
              a.extend(f, a.validator.normalizeRule(c)),
                delete f.messages,
                (e[j.name] = f),
                c.messages &&
                  (d.messages[j.name] = a.extend(
                    d.messages[j.name],
                    c.messages
                  ));
              break;
            case "remove":
              return c
                ? ((i = {}),
                  a.each(c.split(/\s/), function (a, b) {
                    (i[b] = f[b]), delete f[b];
                  }),
                  i)
                : (delete e[j.name], f);
          }
        return (
          (g = a.validator.normalizeRules(
            a.extend(
              {},
              a.validator.classRules(j),
              a.validator.attributeRules(j),
              a.validator.dataRules(j),
              a.validator.staticRules(j)
            ),
            j
          )),
          g.required &&
            ((h = g.required),
            delete g.required,
            (g = a.extend({ required: h }, g))),
          g.remote &&
            ((h = g.remote), delete g.remote, (g = a.extend(g, { remote: h }))),
          g
        );
      }
    },
  }),
    a.extend(a.expr.pseudos || a.expr[":"], {
      blank: function (b) {
        return !a.trim("" + a(b).val());
      },
      filled: function (b) {
        var c = a(b).val();
        return null !== c && !!a.trim("" + c);
      },
      unchecked: function (b) {
        return !a(b).prop("checked");
      },
    }),
    (a.validator = function (b, c) {
      (this.settings = a.extend(!0, {}, a.validator.defaults, b)),
        (this.currentForm = c),
        this.init();
    }),
    (a.validator.format = function (b, c) {
      return 1 === arguments.length
        ? function () {
            var c = a.makeArray(arguments);
            return c.unshift(b), a.validator.format.apply(this, c);
          }
        : void 0 === c
        ? b
        : (arguments.length > 2 &&
            c.constructor !== Array &&
            (c = a.makeArray(arguments).slice(1)),
          c.constructor !== Array && (c = [c]),
          a.each(c, function (a, c) {
            b = b.replace(new RegExp("\\{" + a + "\\}", "g"), function () {
              return c;
            });
          }),
          b);
    }),
    a.extend(a.validator, {
      defaults: {
        messages: {},
        groups: {},
        rules: {},
        errorClass: "error",
        pendingClass: "pending",
        validClass: "valid",
        errorElement: "label",
        focusCleanup: !1,
        focusInvalid: !0,
        errorContainer: a([]),
        errorLabelContainer: a([]),
        onsubmit: !0,
        ignore: ":hidden",
        ignoreTitle: !1,
        onfocusin: function (a) {
          (this.lastActive = a),
            this.settings.focusCleanup &&
              (this.settings.unhighlight &&
                this.settings.unhighlight.call(
                  this,
                  a,
                  this.settings.errorClass,
                  this.settings.validClass
                ),
              this.hideThese(this.errorsFor(a)));
        },
        onfocusout: function (a) {
          this.checkable(a) ||
            (!(a.name in this.submitted) && this.optional(a)) ||
            this.element(a);
        },
        onkeyup: function (b, c) {
          var d = [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225];
          (9 === c.which && "" === this.elementValue(b)) ||
            a.inArray(c.keyCode, d) !== -1 ||
            ((b.name in this.submitted || b.name in this.invalid) &&
              this.element(b));
        },
        onclick: function (a) {
          a.name in this.submitted
            ? this.element(a)
            : a.parentNode.name in this.submitted && this.element(a.parentNode);
        },
        highlight: function (b, c, d) {
          "radio" === b.type
            ? this.findByName(b.name).addClass(c).removeClass(d)
            : a(b).addClass(c).removeClass(d);
        },
        unhighlight: function (b, c, d) {
          "radio" === b.type
            ? this.findByName(b.name).removeClass(c).addClass(d)
            : a(b).removeClass(c).addClass(d);
        },
      },
      setDefaults: function (b) {
        a.extend(a.validator.defaults, b);
      },
      messages: {
        required: "\n필수 문항의 답변을 선택하여 주시기 바랍니다.",
        remote: "Please fix this field.",
        email: "Please enter a valid email address.",
        url: "Please enter a valid URL.",
        date: "Please enter a valid date.",
        dateISO: "Please enter a valid date (ISO).",
        number: "Please enter a valid number.",
        digits: "Please enter only digits.",
        equalTo: "Please enter the same value again.",
        maxlength: a.validator.format(
          "Please enter no more than {0} characters."
        ),
        minlength: a.validator.format("Please enter at least {0} characters."),
        rangelength: a.validator.format(
          "Please enter a value between {0} and {1} characters long."
        ),
        range: a.validator.format("Please enter a value between {0} and {1}."),
        max: a.validator.format(
          "Please enter a value less than or equal to {0}."
        ),
        min: a.validator.format(
          "Please enter a value greater than or equal to {0}."
        ),
        step: a.validator.format("Please enter a multiple of {0}."),
      },
      autoCreateRanges: !1,
      prototype: {
        init: function () {
          function b(b) {
            var c =
              "undefined" != typeof a(this).attr("contenteditable") &&
              "false" !== a(this).attr("contenteditable");
            if (
              (!this.form &&
                c &&
                ((this.form = a(this).closest("form")[0]),
                (this.name = a(this).attr("name"))),
              d === this.form)
            ) {
              var e = a.data(this.form, "validator"),
                f = "on" + b.type.replace(/^validate/, ""),
                g = e.settings;
              g[f] && !a(this).is(g.ignore) && g[f].call(e, this, b);
            }
          }
          (this.labelContainer = a(this.settings.errorLabelContainer)),
            (this.errorContext =
              (this.labelContainer.length && this.labelContainer) ||
              a(this.currentForm)),
            (this.containers = a(this.settings.errorContainer).add(
              this.settings.errorLabelContainer
            )),
            (this.submitted = {}),
            (this.valueCache = {}),
            (this.pendingRequest = 0),
            (this.pending = {}),
            (this.invalid = {}),
            this.reset();
          var c,
            d = this.currentForm,
            e = (this.groups = {});
          a.each(this.settings.groups, function (b, c) {
            "string" == typeof c && (c = c.split(/\s/)),
              a.each(c, function (a, c) {
                e[c] = b;
              });
          }),
            (c = this.settings.rules),
            a.each(c, function (b, d) {
              c[b] = a.validator.normalizeRule(d);
            }),
            a(this.currentForm)
              .on(
                "focusin.validate focusout.validate keyup.validate",
                ":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",
                b
              )
              .on(
                "click.validate",
                "select, option, [type='radio'], [type='checkbox']",
                b
              ),
            this.settings.invalidHandler &&
              a(this.currentForm).on(
                "invalid-form.validate",
                this.settings.invalidHandler
              );
        },
        form: function () {
          return (
            this.checkForm(),
            a.extend(this.submitted, this.errorMap),
            (this.invalid = a.extend({}, this.errorMap)),
            this.valid() ||
              a(this.currentForm).triggerHandler("invalid-form", [this]),
            this.showErrors(),
            this.valid()
          );
        },
        checkForm: function () {
          this.prepareForm();
          for (
            var a = 0, b = (this.currentElements = this.elements());
            b[a];
            a++
          )
            this.check(b[a]);
          return this.valid();
        },
        element: function (b) {
          var c,
            d,
            e = this.clean(b),
            f = this.validationTargetFor(e),
            g = this,
            h = !0;
          return (
            void 0 === f
              ? delete this.invalid[e.name]
              : (this.prepareElement(f),
                (this.currentElements = a(f)),
                (d = this.groups[f.name]),
                d &&
                  a.each(this.groups, function (a, b) {
                    b === d &&
                      a !== f.name &&
                      ((e = g.validationTargetFor(g.clean(g.findByName(a)))),
                      e &&
                        e.name in g.invalid &&
                        (g.currentElements.push(e), (h = g.check(e) && h)));
                  }),
                (c = this.check(f) !== !1),
                (h = h && c),
                c ? (this.invalid[f.name] = !1) : (this.invalid[f.name] = !0),
                this.numberOfInvalids() ||
                  (this.toHide = this.toHide.add(this.containers)),
                this.showErrors(),
                a(b).attr("aria-invalid", !c)),
            h
          );
        },
        showErrors: function (b) {
          if (b) {
            var c = this;
            a.extend(this.errorMap, b),
              (this.errorList = a.map(this.errorMap, function (a, b) {
                return { message: a, element: c.findByName(b)[0] };
              })),
              (this.successList = a.grep(this.successList, function (a) {
                return !(a.name in b);
              }));
          }
          this.settings.showErrors
            ? this.settings.showErrors.call(this, this.errorMap, this.errorList)
            : this.defaultShowErrors();
        },
        resetForm: function () {
          a.fn.resetForm && a(this.currentForm).resetForm(),
            (this.invalid = {}),
            (this.submitted = {}),
            this.prepareForm(),
            this.hideErrors();
          var b = this.elements()
            .removeData("previousValue")
            .removeAttr("aria-invalid");
          this.resetElements(b);
        },
        resetElements: function (a) {
          var b;
          if (this.settings.unhighlight)
            for (b = 0; a[b]; b++)
              this.settings.unhighlight.call(
                this,
                a[b],
                this.settings.errorClass,
                ""
              ),
                this.findByName(a[b].name).removeClass(
                  this.settings.validClass
                );
          else
            a.removeClass(this.settings.errorClass).removeClass(
              this.settings.validClass
            );
        },
        numberOfInvalids: function () {
          return this.objectLength(this.invalid);
        },
        objectLength: function (a) {
          var b,
            c = 0;
          for (b in a) void 0 !== a[b] && null !== a[b] && a[b] !== !1 && c++;
          return c;
        },
        hideErrors: function () {
          this.hideThese(this.toHide);
        },
        hideThese: function (a) {
          a.not(this.containers).text(""), this.addWrapper(a).hide();
        },
        valid: function () {
          return 0 === this.size();
        },
        size: function () {
          return this.errorList.length;
        },
        focusInvalid: function () {
          if (this.settings.focusInvalid)
            try {
              a(
                this.findLastActive() ||
                  (this.errorList.length && this.errorList[0].element) ||
                  []
              )
                .filter(":visible")
                .trigger("focus")
                .trigger("focusin");
            } catch (b) {}
        },
        findLastActive: function () {
          var b = this.lastActive;
          return (
            b &&
            1 ===
              a.grep(this.errorList, function (a) {
                return a.element.name === b.name;
              }).length &&
            b
          );
        },
        elements: function () {
          var b = this,
            c = {};
          return a(this.currentForm)
            .find("input, select, textarea, [contenteditable]")
            .not(":submit, :reset, :image, :disabled")
            .not(this.settings.ignore)
            .filter(function () {
              var d = this.name || a(this).attr("name"),
                e =
                  "undefined" != typeof a(this).attr("contenteditable") &&
                  "false" !== a(this).attr("contenteditable");
              return (
                !d &&
                  b.settings.debug &&
                  window.console &&
                  console.error("%o has no name assigned", this),
                e &&
                  ((this.form = a(this).closest("form")[0]), (this.name = d)),
                this.form === b.currentForm &&
                  !(d in c || !b.objectLength(a(this).rules())) &&
                  ((c[d] = !0), !0)
              );
            });
        },
        clean: function (b) {
          return a(b)[0];
        },
        errors: function () {
          var b = this.settings.errorClass.split(" ").join(".");
          return a(this.settings.errorElement + "." + b, this.errorContext);
        },
        resetInternals: function () {
          (this.successList = []),
            (this.errorList = []),
            (this.errorMap = {}),
            (this.toShow = a([])),
            (this.toHide = a([]));
        },
        reset: function () {
          this.resetInternals(), (this.currentElements = a([]));
        },
        prepareForm: function () {
          this.reset(), (this.toHide = this.errors().add(this.containers));
        },
        prepareElement: function (a) {
          this.reset(), (this.toHide = this.errorsFor(a));
        },
        elementValue: function (b) {
          var c,
            d,
            e = a(b),
            f = b.type,
            g =
              "undefined" != typeof e.attr("contenteditable") &&
              "false" !== e.attr("contenteditable");
          return "radio" === f || "checkbox" === f
            ? this.findByName(b.name).filter(":checked").val()
            : "number" === f && "undefined" != typeof b.validity
            ? b.validity.badInput
              ? "NaN"
              : e.val()
            : ((c = g ? e.text() : e.val()),
              "file" === f
                ? "C:\\fakepath\\" === c.substr(0, 12)
                  ? c.substr(12)
                  : ((d = c.lastIndexOf("/")),
                    d >= 0
                      ? c.substr(d + 1)
                      : ((d = c.lastIndexOf("\\")),
                        d >= 0 ? c.substr(d + 1) : c))
                : "string" == typeof c
                ? c.replace(/\r/g, "")
                : c);
        },
        check: function (b) {
          b = this.validationTargetFor(this.clean(b));
          var c,
            d,
            e,
            f,
            g = a(b).rules(),
            h = a.map(g, function (a, b) {
              return b;
            }).length,
            i = !1,
            j = this.elementValue(b);
          "function" == typeof g.normalizer
            ? (f = g.normalizer)
            : "function" == typeof this.settings.normalizer &&
              (f = this.settings.normalizer),
            f && ((j = f.call(b, j)), delete g.normalizer);
          for (d in g) {
            e = { method: d, parameters: g[d] };
            try {
              if (
                ((c = a.validator.methods[d].call(this, j, b, e.parameters)),
                "dependency-mismatch" === c && 1 === h)
              ) {
                i = !0;
                continue;
              }
              if (((i = !1), "pending" === c))
                return void (this.toHide = this.toHide.not(this.errorsFor(b)));
              if (!c) return this.formatAndAdd(b, e), !1;
            } catch (k) {
              throw (
                (this.settings.debug &&
                  window.console &&
                  console.log(
                    "Exception occurred when checking element " +
                      b.id +
                      ", check the '" +
                      e.method +
                      "' method.",
                    k
                  ),
                k instanceof TypeError &&
                  (k.message +=
                    ".  Exception occurred when checking element " +
                    b.id +
                    ", check the '" +
                    e.method +
                    "' method."),
                k)
              );
            }
          }
          if (!i) return this.objectLength(g) && this.successList.push(b), !0;
        },
        customDataMessage: function (b, c) {
          return (
            a(b).data(
              "msg" + c.charAt(0).toUpperCase() + c.substring(1).toLowerCase()
            ) || a(b).data("msg")
          );
        },
        customMessage: function (a, b) {
          var c = this.settings.messages[a];
          return c && (c.constructor === String ? c : c[b]);
        },
        findDefined: function () {
          for (var a = 0; a < arguments.length; a++)
            if (void 0 !== arguments[a]) return arguments[a];
        },
        defaultMessage: function (b, c) {
          "string" == typeof c && (c = { method: c });
          var d = this.findDefined(
              this.customMessage(b.name, c.method),
              this.customDataMessage(b, c.method),
              (!this.settings.ignoreTitle && b.title) || void 0,
              a.validator.messages[c.method],
              "<strong>Warning: No message defined for " + b.name + "</strong>"
            ),
            e = /\$?\{(\d+)\}/g;
          return (
            "function" == typeof d
              ? (d = d.call(this, c.parameters, b))
              : e.test(d) &&
                (d = a.validator.format(d.replace(e, "{$1}"), c.parameters)),
            d
          );
        },
        formatAndAdd: function (a, b) {
          var c = this.defaultMessage(a, b);
          this.errorList.push({ message: c, element: a, method: b.method }),
            (this.errorMap[a.name] = c),
            (this.submitted[a.name] = c);
        },
        addWrapper: function (a) {
          return (
            this.settings.wrapper &&
              (a = a.add(a.parent(this.settings.wrapper))),
            a
          );
        },
        defaultShowErrors: function () {
          var a, b, c;
          for (a = 0; this.errorList[a]; a++)
            (c = this.errorList[a]),
              this.settings.highlight &&
                this.settings.highlight.call(
                  this,
                  c.element,
                  this.settings.errorClass,
                  this.settings.validClass
                ),
              this.showLabel(c.element, c.message);
          if (
            (this.errorList.length &&
              (this.toShow = this.toShow.add(this.containers)),
            this.settings.success)
          )
            for (a = 0; this.successList[a]; a++)
              this.showLabel(this.successList[a]);
          if (this.settings.unhighlight)
            for (a = 0, b = this.validElements(); b[a]; a++)
              this.settings.unhighlight.call(
                this,
                b[a],
                this.settings.errorClass,
                this.settings.validClass
              );
          (this.toHide = this.toHide.not(this.toShow)),
            this.hideErrors(),
            this.addWrapper(this.toShow).show();
        },
        validElements: function () {
          return this.currentElements.not(this.invalidElements());
        },
        invalidElements: function () {
          return a(this.errorList).map(function () {
            return this.element;
          });
        },
        showLabel: function (b, c) {
          var d,
            e,
            f,
            g,
            h = this.errorsFor(b),
            i = this.idOrName(b),
            j = a(b).attr("aria-describedby");
          h.length
            ? (h
                .removeClass(this.settings.validClass)
                .addClass(this.settings.errorClass),
              h.html(c))
            : ((h = a("<" + this.settings.errorElement + ">")
                .attr("id", i + "-error")
                .addClass(this.settings.errorClass)
                .html(c || "")),
              (d = h),
              this.settings.wrapper &&
                (d = h
                  .hide()
                  .show()
                  .wrap("<" + this.settings.wrapper + "/>")
                  .parent()),
              this.labelContainer.length
                ? this.labelContainer.append(d)
                : this.settings.errorPlacement
                ? this.settings.errorPlacement.call(this, d, a(b))
                : d.insertAfter(b),
              h.is("label")
                ? h.attr("for", i)
                : 0 ===
                    h.parents("label[for='" + this.escapeCssMeta(i) + "']")
                      .length &&
                  ((f = h.attr("id")),
                  j
                    ? j.match(
                        new RegExp("\\b" + this.escapeCssMeta(f) + "\\b")
                      ) || (j += " " + f)
                    : (j = f),
                  a(b).attr("aria-describedby", j),
                  (e = this.groups[b.name]),
                  e &&
                    ((g = this),
                    a.each(g.groups, function (b, c) {
                      c === e &&
                        a(
                          "[name='" + g.escapeCssMeta(b) + "']",
                          g.currentForm
                        ).attr("aria-describedby", h.attr("id"));
                    })))),
            !c &&
              this.settings.success &&
              (h.text(""),
              "string" == typeof this.settings.success
                ? h.addClass(this.settings.success)
                : this.settings.success(h, b)),
            (this.toShow = this.toShow.add(h));
        },
        errorsFor: function (b) {
          var c = this.escapeCssMeta(this.idOrName(b)),
            d = a(b).attr("aria-describedby"),
            e = "label[for='" + c + "'], label[for='" + c + "'] *";
          return (
            d && (e = e + ", #" + this.escapeCssMeta(d).replace(/\s+/g, ", #")),
            this.errors().filter(e)
          );
        },
        escapeCssMeta: function (a) {
          return a.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g, "\\$1");
        },
        idOrName: function (a) {
          return (
            this.groups[a.name] || (this.checkable(a) ? a.name : a.id || a.name)
          );
        },
        validationTargetFor: function (b) {
          return (
            this.checkable(b) && (b = this.findByName(b.name)),
            a(b).not(this.settings.ignore)[0]
          );
        },
        checkable: function (a) {
          return /radio|checkbox/i.test(a.type);
        },
        findByName: function (b) {
          return a(this.currentForm).find(
            "[name='" + this.escapeCssMeta(b) + "']"
          );
        },
        getLength: function (b, c) {
          switch (c.nodeName.toLowerCase()) {
            case "select":
              return a("option:selected", c).length;
            case "input":
              if (this.checkable(c))
                return this.findByName(c.name).filter(":checked").length;
          }
          return b.length;
        },
        depend: function (a, b) {
          return (
            !this.dependTypes[typeof a] || this.dependTypes[typeof a](a, b)
          );
        },
        dependTypes: {
          boolean: function (a) {
            return a;
          },
          string: function (b, c) {
            return !!a(b, c.form).length;
          },
          function: function (a, b) {
            return a(b);
          },
        },
        optional: function (b) {
          var c = this.elementValue(b);
          return (
            !a.validator.methods.required.call(this, c, b) &&
            "dependency-mismatch"
          );
        },
        startRequest: function (b) {
          this.pending[b.name] ||
            (this.pendingRequest++,
            a(b).addClass(this.settings.pendingClass),
            (this.pending[b.name] = !0));
        },
        stopRequest: function (b, c) {
          this.pendingRequest--,
            this.pendingRequest < 0 && (this.pendingRequest = 0),
            delete this.pending[b.name],
            a(b).removeClass(this.settings.pendingClass),
            c && 0 === this.pendingRequest && this.formSubmitted && this.form()
              ? (a(this.currentForm).submit(),
                this.submitButton &&
                  a(
                    "input:hidden[name='" + this.submitButton.name + "']",
                    this.currentForm
                  ).remove(),
                (this.formSubmitted = !1))
              : !c &&
                0 === this.pendingRequest &&
                this.formSubmitted &&
                (a(this.currentForm).triggerHandler("invalid-form", [this]),
                (this.formSubmitted = !1));
        },
        previousValue: function (b, c) {
          return (
            (c = ("string" == typeof c && c) || "remote"),
            a.data(b, "previousValue") ||
              a.data(b, "previousValue", {
                old: null,
                valid: !0,
                message: this.defaultMessage(b, { method: c }),
              })
          );
        },
        destroy: function () {
          this.resetForm(),
            a(this.currentForm)
              .off(".validate")
              .removeData("validator")
              .find(".validate-equalTo-blur")
              .off(".validate-equalTo")
              .removeClass("validate-equalTo-blur")
              .find(".validate-lessThan-blur")
              .off(".validate-lessThan")
              .removeClass("validate-lessThan-blur")
              .find(".validate-lessThanEqual-blur")
              .off(".validate-lessThanEqual")
              .removeClass("validate-lessThanEqual-blur")
              .find(".validate-greaterThanEqual-blur")
              .off(".validate-greaterThanEqual")
              .removeClass("validate-greaterThanEqual-blur")
              .find(".validate-greaterThan-blur")
              .off(".validate-greaterThan")
              .removeClass("validate-greaterThan-blur");
        },
      },
      classRuleSettings: {
        required: { required: !0 },
        email: { email: !0 },
        url: { url: !0 },
        date: { date: !0 },
        dateISO: { dateISO: !0 },
        number: { number: !0 },
        digits: { digits: !0 },
        creditcard: { creditcard: !0 },
      },
      addClassRules: function (b, c) {
        b.constructor === String
          ? (this.classRuleSettings[b] = c)
          : a.extend(this.classRuleSettings, b);
      },
      classRules: function (b) {
        var c = {},
          d = a(b).attr("class");
        return (
          d &&
            a.each(d.split(" "), function () {
              this in a.validator.classRuleSettings &&
                a.extend(c, a.validator.classRuleSettings[this]);
            }),
          c
        );
      },
      normalizeAttributeRule: function (a, b, c, d) {
        /min|max|step/.test(c) &&
          (null === b || /number|range|text/.test(b)) &&
          ((d = Number(d)), isNaN(d) && (d = void 0)),
          d || 0 === d ? (a[c] = d) : b === c && "range" !== b && (a[c] = !0);
      },
      attributeRules: function (b) {
        var c,
          d,
          e = {},
          f = a(b),
          g = b.getAttribute("type");
        for (c in a.validator.methods)
          "required" === c
            ? ((d = b.getAttribute(c)), "" === d && (d = !0), (d = !!d))
            : (d = f.attr(c)),
            this.normalizeAttributeRule(e, g, c, d);
        return (
          e.maxlength &&
            /-1|2147483647|524288/.test(e.maxlength) &&
            delete e.maxlength,
          e
        );
      },
      dataRules: function (b) {
        var c,
          d,
          e = {},
          f = a(b),
          g = b.getAttribute("type");
        for (c in a.validator.methods)
          (d = f.data(
            "rule" + c.charAt(0).toUpperCase() + c.substring(1).toLowerCase()
          )),
            "" === d && (d = !0),
            this.normalizeAttributeRule(e, g, c, d);
        return e;
      },
      staticRules: function (b) {
        var c = {},
          d = a.data(b.form, "validator");
        return (
          d.settings.rules &&
            (c = a.validator.normalizeRule(d.settings.rules[b.name]) || {}),
          c
        );
      },
      normalizeRules: function (b, c) {
        return (
          a.each(b, function (d, e) {
            if (e === !1) return void delete b[d];
            if (e.param || e.depends) {
              var f = !0;
              switch (typeof e.depends) {
                case "string":
                  f = !!a(e.depends, c.form).length;
                  break;
                case "function":
                  f = e.depends.call(c, c);
              }
              f
                ? (b[d] = void 0 === e.param || e.param)
                : (a.data(c.form, "validator").resetElements(a(c)),
                  delete b[d]);
            }
          }),
          a.each(b, function (d, e) {
            b[d] = a.isFunction(e) && "normalizer" !== d ? e(c) : e;
          }),
          a.each(["minlength", "maxlength"], function () {
            b[this] && (b[this] = Number(b[this]));
          }),
          a.each(["rangelength", "range"], function () {
            var c;
            b[this] &&
              (a.isArray(b[this])
                ? (b[this] = [Number(b[this][0]), Number(b[this][1])])
                : "string" == typeof b[this] &&
                  ((c = b[this].replace(/[\[\]]/g, "").split(/[\s,]+/)),
                  (b[this] = [Number(c[0]), Number(c[1])])));
          }),
          a.validator.autoCreateRanges &&
            (null != b.min &&
              null != b.max &&
              ((b.range = [b.min, b.max]), delete b.min, delete b.max),
            null != b.minlength &&
              null != b.maxlength &&
              ((b.rangelength = [b.minlength, b.maxlength]),
              delete b.minlength,
              delete b.maxlength)),
          b
        );
      },
      normalizeRule: function (b) {
        if ("string" == typeof b) {
          var c = {};
          a.each(b.split(/\s/), function () {
            c[this] = !0;
          }),
            (b = c);
        }
        return b;
      },
      addMethod: function (b, c, d) {
        (a.validator.methods[b] = c),
          (a.validator.messages[b] =
            void 0 !== d ? d : a.validator.messages[b]),
          c.length < 3 &&
            a.validator.addClassRules(b, a.validator.normalizeRule(b));
      },
      methods: {
        required: function (b, c, d) {
          if (!this.depend(d, c)) return "dependency-mismatch";
          if ("select" === c.nodeName.toLowerCase()) {
            var e = a(c).val();
            return e && e.length > 0;
          }
          return this.checkable(c)
            ? this.getLength(b, c) > 0
            : void 0 !== b && null !== b && b.length > 0;
        },
        email: function (a, b) {
          return (
            this.optional(b) ||
            /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(
              a
            )
          );
        },
        url: function (a, b) {
          return (
            this.optional(b) ||
            /^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(
              a
            )
          );
        },
        date: (function () {
          var a = !1;
          return function (b, c) {
            return (
              a ||
                ((a = !0),
                this.settings.debug &&
                  window.console &&
                  console.warn(
                    "The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`."
                  )),
              this.optional(c) || !/Invalid|NaN/.test(new Date(b).toString())
            );
          };
        })(),
        dateISO: function (a, b) {
          return (
            this.optional(b) ||
            /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(
              a
            )
          );
        },
        number: function (a, b) {
          return (
            this.optional(b) ||
            /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)
          );
        },
        digits: function (a, b) {
          return this.optional(b) || /^\d+$/.test(a);
        },
        minlength: function (b, c, d) {
          var e = a.isArray(b) ? b.length : this.getLength(b, c);
          return this.optional(c) || e >= d;
        },
        maxlength: function (b, c, d) {
          var e = a.isArray(b) ? b.length : this.getLength(b, c);
          return this.optional(c) || e <= d;
        },
        rangelength: function (b, c, d) {
          var e = a.isArray(b) ? b.length : this.getLength(b, c);
          return this.optional(c) || (e >= d[0] && e <= d[1]);
        },
        min: function (a, b, c) {
          return this.optional(b) || a >= c;
        },
        max: function (a, b, c) {
          return this.optional(b) || a <= c;
        },
        range: function (a, b, c) {
          return this.optional(b) || (a >= c[0] && a <= c[1]);
        },
        step: function (b, c, d) {
          var e,
            f = a(c).attr("type"),
            g = "Step attribute on input type " + f + " is not supported.",
            h = ["text", "number", "range"],
            i = new RegExp("\\b" + f + "\\b"),
            j = f && !i.test(h.join()),
            k = function (a) {
              var b = ("" + a).match(/(?:\.(\d+))?$/);
              return b && b[1] ? b[1].length : 0;
            },
            l = function (a) {
              return Math.round(a * Math.pow(10, e));
            },
            m = !0;
          if (j) throw new Error(g);
          return (
            (e = k(d)),
            (k(b) > e || l(b) % l(d) !== 0) && (m = !1),
            this.optional(c) || m
          );
        },
        equalTo: function (b, c, d) {
          var e = a(d);
          return (
            this.settings.onfocusout &&
              e.not(".validate-equalTo-blur").length &&
              e
                .addClass("validate-equalTo-blur")
                .on("blur.validate-equalTo", function () {
                  a(c).valid();
                }),
            b === e.val()
          );
        },
        remote: function (b, c, d, e) {
          if (this.optional(c)) return "dependency-mismatch";
          e = ("string" == typeof e && e) || "remote";
          var f,
            g,
            h,
            i = this.previousValue(c, e);
          return (
            this.settings.messages[c.name] ||
              (this.settings.messages[c.name] = {}),
            (i.originalMessage =
              i.originalMessage || this.settings.messages[c.name][e]),
            (this.settings.messages[c.name][e] = i.message),
            (d = ("string" == typeof d && { url: d }) || d),
            (h = a.param(a.extend({ data: b }, d.data))),
            i.old === h
              ? i.valid
              : ((i.old = h),
                (f = this),
                this.startRequest(c),
                (g = {}),
                (g[c.name] = b),
                a.ajax(
                  a.extend(
                    !0,
                    {
                      mode: "abort",
                      port: "validate" + c.name,
                      dataType: "json",
                      data: g,
                      context: f.currentForm,
                      success: function (a) {
                        var d,
                          g,
                          h,
                          j = a === !0 || "true" === a;
                        (f.settings.messages[c.name][e] = i.originalMessage),
                          j
                            ? ((h = f.formSubmitted),
                              f.resetInternals(),
                              (f.toHide = f.errorsFor(c)),
                              (f.formSubmitted = h),
                              f.successList.push(c),
                              (f.invalid[c.name] = !1),
                              f.showErrors())
                            : ((d = {}),
                              (g =
                                a ||
                                f.defaultMessage(c, {
                                  method: e,
                                  parameters: b,
                                })),
                              (d[c.name] = i.message = g),
                              (f.invalid[c.name] = !0),
                              f.showErrors(d)),
                          (i.valid = j),
                          f.stopRequest(c, j);
                      },
                    },
                    d
                  )
                ),
                "pending")
          );
        },
      },
    });
  var c,
    d = {};
  return (
    a.ajaxPrefilter
      ? a.ajaxPrefilter(function (a, b, c) {
          var e = a.port;
          "abort" === a.mode && (d[e] && d[e].abort(), (d[e] = c));
        })
      : ((c = a.ajax),
        (a.ajax = function (b) {
          var e = ("mode" in b ? b : a.ajaxSettings).mode,
            f = ("port" in b ? b : a.ajaxSettings).port;
          return "abort" === e
            ? (d[f] && d[f].abort(), (d[f] = c.apply(this, arguments)), d[f])
            : c.apply(this, arguments);
        })),
    a.validator.addMethod(
      "alphaLower",
      function (a, b) {
        return this.optional(b) || /^[a-z]+$/i.test(a);
      },
      " alpha lower only please"
    ),
    a.validator.addMethod(
      "alphaUpper",
      function (a, b) {
        return this.optional(b) || /^[A-Z]+$/i.test(a);
      },
      " alpha upper only please"
    ),
    a.validator.addMethod(
      "alpha",
      function (a, b) {
        return this.optional(b) || /^[a-zA-Z]+$/i.test(a);
      },
      " alpha only please"
    ),
    a.validator.addMethod(
      "maxWords",
      function (a, c, d) {
        return this.optional(c) || b(a).match(/\b\w+\b/g).length <= d;
      },
      a.validator.format("Please enter {0} words or less.")
    ),
    a.validator.addMethod(
      "minWords",
      function (a, c, d) {
        return this.optional(c) || b(a).match(/\b\w+\b/g).length >= d;
      },
      a.validator.format("Please enter at least {0} words.")
    ),
    a.validator.addMethod(
      "rangeWords",
      function (a, c, d) {
        var e = b(a),
          f = /\b\w+\b/g;
        return (
          this.optional(c) ||
          (e.match(f).length >= d[0] && e.match(f).length <= d[1])
        );
      },
      a.validator.format("Please enter between {0} and {1} words.")
    ),
    jQuery.validator.addMethod(
      "decimalpointmax",
      function (a, b, c) {
        if (isNaN(a)) return !1;
        a.indexOf(".") == -1 && (a += ".");
        var d = a.substring(a.indexOf(".") + 1, a.length);
        return !(d.length > c);
      },
      jQuery.validator.messages.decimalpointmax
    ),
    a.validator.setDefaults({
      onkeyup: !1,
      onclick: !1,
      onfocusout: !1,
      showErrors: function (b, c) {
        if (this.numberOfInvalids()) {
          var d =
            a(c[0].element).attr("placeholder") ||
            a(c[0].element).attr("alt") ||
            a(c[0].element).attr("name");
          alert("[" + d + "] " + c[0].message);
        }
      },
    }),
    a
  );
});
define("local_ubassessment/survey", [
  "jquery",
  "core/modal_factory",
  "core/modal_events",
  "core/templates",
  "local_ubassessment/sweetalert",
  "local_ubassessment/highcharts",
  "local_ubassessment/jquery.validate",
  "theme_bootstrap/bootstrap",
], function (e, t, o, s, n, a) {
  var i = {
    pluginname: "local_ubassessment",
    index: function (t) {
      e("#page-local-ubassessment-index form#form-search .form-auto-submit").on(
        "change",
        function (t) {
          e("#page-local-ubassessment-index form#form-search").submit();
        }
      ),
        e("div.modal").on("hide.bs.modal", function (t) {
          "bs.modal" == t.namespace &&
            (e(this).removeData(),
            e(this).find(".modal-body").html("Loading ...")),
            e(".modal:visible").length > 0 &&
              setTimeout(function () {
                e("body.local_ubion_asite").hasClass("modal-open") ||
                  e("body.local_ubion_asite").addClass("modal-open");
              }, 500);
        }),
        e(".btn-modal-result-text").on("click", function (t) {
          t.preventDefault();
          var o = e(this).data("url");
          e("div#modalSurveyTextResults").modal({ remote: o });
        });
    },
    legacy: function (t) {
      e(
        "#page-local-ubassessment-legacy form#form-search .form-auto-submit"
      ).on("change", function (t) {
        e("#page-local-ubassessment-legacy form#form-search").submit();
      });
    },
    result: function (e) {},
    view: function (t) {
      ($form = e(".local-ubassessment-survey form.form-survey")),
        $form.validate({
          submitHandler: function () {
            return !0;
          },
        }),
        $form.submit(function (o) {
          if ((o.preventDefault(), o.result)) {
            var s = e(this).attr("action");
            e.ajax({
              url: s,
              type: "POST",
              dataType: "json",
              data: e(this).serialize(),
            })
              .done(function (e, o, s) {
                "success" == e.code
                  ? n({
                      title: "등록 결과",
                      text: e.message,
                      type: "success",
                      customClass: "animated tada",
                      animation: !0,
                      showCancelButton: !1,
                      confirmButtonColor: "#3085d6",
                      confirmButtonText: "CLOSE",
                      timer: 1e3,
                    }).then(function (e) {
                      window.location.replace(
                        "/local/ubassessment/result.php?id=" +
                          t.course.id +
                          "&assessmentid=" +
                          t.assessment.id
                      );
                    })
                  : n({
                      title: "실패 알림",
                      text: e.message,
                      type: "error",
                      customClass: "animated tada",
                      animation: !0,
                      showCancelButton: !1,
                      confirmButtonColor: "#D33",
                      confirmButtonText: "CLOSE",
                    });
              })
              .fail(function (e, t, o) {
                n({
                  title: "[" + e.status + "] 오류 알림",
                  text: o,
                  type: "error",
                  customClass: "animated tada",
                  animation: !0,
                  showCancelButton: !1,
                  confirmButtonColor: "#D33",
                  confirmButtonText: "CLOSE",
                });
              });
          }
        }),
        $form.find(".itemtype-choice .form-check-input").change(function () {
          var t = e(this).closest(".form-element");
          if (
            (0 == t.find(".btn-check-reset").length &&
              s
                .render("local_ubassessment/surveyFormItemChoiceReset", {})
                .then(function (e) {
                  return (
                    0 == t.find(".btn-check-reset").length && t.append(e), !0
                  );
                })
                .fail(function () {
                  return !1;
                }),
            t.hasClass("form-element-answer"))
          ) {
            var o = t.find(".form-control-answer");
            t.find(".form-check-input-answer:checked").length > 0
              ? o.removeClass("d-none").removeAttr("disabled")
              : o.addClass("d-none").attr("disabled", "disabled");
          }
        }),
        e(document).on(
          "click",
          ".itemtype-choice .btn-check-reset",
          function () {
            e(this)
              .closest(".form-element")
              .find(".form-check-input")
              .prop("checked", !1),
              e(this)
                .closest(".form-element")
                .find(".form-control-answer")
                .addClass("d-none")
                .attr("disabled", "disabled"),
              e(this).remove();
          }
        );
    },
  };
  return i;
});
!(function (a, b) {
  "object" == typeof exports && "undefined" != typeof module
    ? (module.exports = b())
    : "function" == typeof define && define.amd
    ? define("local_ubassessment/sweetalert", [], b)
    : (a.Sweetalert2 = b());
})(this, function () {
  "use strict";
  function a() {
    for (var a = this, b = arguments.length, c = Array(b), d = 0; d < b; d++)
      c[d] = arguments[d];
    return new (Function.prototype.bind.apply(a, [null].concat(c)))();
  }
  function b(a) {
    var b = function c() {
      for (var a = arguments.length, b = Array(a), d = 0; d < a; d++)
        b[d] = arguments[d];
      return this instanceof c
        ? void Object.getPrototypeOf(c).apply(this, b)
        : new (Function.prototype.bind.apply(c, [null].concat(b)))();
    };
    return (
      (b.prototype = u(Object.create(a.prototype), { constructor: b })),
      "function" == typeof Object.setPrototypeOf
        ? Object.setPrototypeOf(b, a)
        : (b.__proto__ = a),
      b
    );
  }
  function c(a) {
    var b = (function (b) {
      function c() {
        return (
          s(this, c),
          x(
            this,
            (c.__proto__ || Object.getPrototypeOf(c)).apply(this, arguments)
          )
        );
      }
      return (
        w(c, b),
        t(
          c,
          [
            {
              key: "_main",
              value: function (a) {
                return v(
                  c.prototype.__proto__ || Object.getPrototypeOf(c.prototype),
                  "_main",
                  this
                ).call(this, u({}, Pa, a));
              },
            },
          ],
          [
            {
              key: "setDefaults",
              value: function (b) {
                if (
                  (F(Oa),
                  !b ||
                    "object" !== ("undefined" == typeof b ? "undefined" : r(b)))
                )
                  throw new TypeError(
                    "SweetAlert2: The argument for setDefaults() is required and has to be a object"
                  );
                Na(b),
                  Object.keys(b).forEach(function (c) {
                    a.isValidParameter(c) && (Pa[c] = b[c]);
                  });
              },
            },
            {
              key: "resetDefaults",
              value: function () {
                F(Oa), (Pa = {});
              },
            },
          ]
        ),
        c
      );
    })(a);
    return (
      "undefined" != typeof window &&
        "object" === r(window._swalDefaults) &&
        b.setDefaults(window._swalDefaults),
      b
    );
  }
  function d(a) {
    var c = this;
    return b(
      (function (b) {
        function c() {
          return (
            s(this, c),
            x(
              this,
              (c.__proto__ || Object.getPrototypeOf(c)).apply(this, arguments)
            )
          );
        }
        return (
          w(c, b),
          t(c, [
            {
              key: "_main",
              value: function (b) {
                return v(
                  c.prototype.__proto__ || Object.getPrototypeOf(c.prototype),
                  "_main",
                  this
                ).call(this, u({}, a, b));
              },
            },
          ]),
          c
        );
      })(c)
    );
  }
  function e() {
    var a = $a.innerParams.get(this),
      b = $a.domCache.get(this);
    a.showConfirmButton ||
      (Y(b.confirmButton), a.showCancelButton || Y(b.actions)),
      V([b.popup, b.actions], O.loading),
      b.popup.removeAttribute("aria-busy"),
      b.popup.removeAttribute("data-loading"),
      (b.confirmButton.disabled = !1),
      (b.cancelButton.disabled = !1);
  }
  function f(a) {
    var b = $a.innerParams.get(this),
      c = $a.domCache.get(this);
    if (((a = a || b.input), !a)) return null;
    switch (a) {
      case "select":
      case "textarea":
      case "file":
        return W(c.content, O[a]);
      case "checkbox":
        return c.popup.querySelector("." + O.checkbox + " input");
      case "radio":
        return (
          c.popup.querySelector("." + O.radio + " input:checked") ||
          c.popup.querySelector("." + O.radio + " input:first-child")
        );
      case "range":
        return c.popup.querySelector("." + O.range + " input");
      default:
        return W(c.content, O.input);
    }
  }
  function g() {
    var a = $a.domCache.get(this);
    (a.confirmButton.disabled = !1), (a.cancelButton.disabled = !1);
  }
  function h() {
    var a = $a.domCache.get(this);
    (a.confirmButton.disabled = !0), (a.cancelButton.disabled = !0);
  }
  function i() {
    var a = $a.domCache.get(this);
    a.confirmButton.disabled = !1;
  }
  function j() {
    var a = $a.domCache.get(this);
    a.confirmButton.disabled = !0;
  }
  function k() {
    var a = this.getInput();
    if (!a) return !1;
    if ("radio" === a.type)
      for (
        var b = a.parentNode.parentNode, c = b.querySelectorAll("input"), d = 0;
        d < c.length;
        d++
      )
        c[d].disabled = !1;
    else a.disabled = !1;
  }
  function l() {
    var a = this.getInput();
    if (!a) return !1;
    if (a && "radio" === a.type)
      for (
        var b = a.parentNode.parentNode, c = b.querySelectorAll("input"), d = 0;
        d < c.length;
        d++
      )
        c[d].disabled = !0;
    else a.disabled = !0;
  }
  function m(a) {
    var b = $a.domCache.get(this);
    b.validationError.innerHTML = a;
    var c = window.getComputedStyle(b.popup);
    (b.validationError.style.marginLeft =
      "-" + c.getPropertyValue("padding-left")),
      (b.validationError.style.marginRight =
        "-" + c.getPropertyValue("padding-right")),
      X(b.validationError);
    var d = this.getInput();
    d &&
      (d.setAttribute("aria-invalid", !0),
      d.setAttribute("aria-describedBy", O.validationerror),
      S(d),
      U(d, O.inputerror));
  }
  function n() {
    var a = $a.domCache.get(this);
    a.validationError && Y(a.validationError);
    var b = this.getInput();
    b &&
      (b.removeAttribute("aria-invalid"),
      b.removeAttribute("aria-describedBy"),
      V(b, O.inputerror));
  }
  function o(a) {
    a.inputValidator ||
      Object.keys(ab).forEach(function (b) {
        a.input === b &&
          (a.inputValidator = a.expectRejections
            ? ab[b]
            : eb.adaptInputValidator(ab[b]));
      }),
      (!a.target ||
        ("string" == typeof a.target && !document.querySelector(a.target)) ||
        ("string" != typeof a.target && !a.target.appendChild)) &&
        (C('Target parameter is not valid, defaulting to "body"'),
        (a.target = "body"));
    var b = void 0,
      c = ca(),
      d =
        "string" == typeof a.target
          ? document.querySelector(a.target)
          : a.target;
    (b = c && d && c.parentNode !== d.parentNode ? va(a) : c || va(a)),
      a.width &&
        (b.style.width = "number" == typeof a.width ? a.width + "px" : a.width),
      a.padding &&
        (b.style.padding =
          "number" == typeof a.padding ? a.padding + "px" : a.padding),
      a.background && (b.style.background = a.background);
    for (
      var e = window.getComputedStyle(b).getPropertyValue("background-color"),
        f = b.querySelectorAll(
          "[class^=swal2-success-circular-line], .swal2-success-fix"
        ),
        g = 0;
      g < f.length;
      g++
    )
      f[g].style.backgroundColor = e;
    var h = aa(),
      i = ea(),
      j = fa().querySelector("#" + O.content),
      k = ma(),
      l = ja(),
      m = ka(),
      n = oa(),
      o = na();
    if (
      (a.titleText
        ? (i.innerText = a.titleText)
        : a.title && (i.innerHTML = a.title.split("\n").join("<br />")),
      "string" == typeof a.backdrop
        ? (aa().style.background = a.backdrop)
        : a.backdrop ||
          U([document.documentElement, document.body], O["no-backdrop"]),
      a.html ? wa(a.html, j) : a.text ? ((j.textContent = a.text), X(j)) : Y(j),
      a.position in O
        ? U(h, O[a.position])
        : (C('The "position" parameter is not valid, defaulting to "center"'),
          U(h, O.center)),
      a.grow && "string" == typeof a.grow)
    ) {
      var p = "grow-" + a.grow;
      p in O && U(h, O[p]);
    }
    "function" == typeof a.animation && (a.animation = a.animation.call()),
      a.showCloseButton
        ? (n.setAttribute("aria-label", a.closeButtonAriaLabel), X(n))
        : Y(n),
      (b.className = O.popup),
      a.toast
        ? (U([document.documentElement, document.body], O["toast-shown"]),
          U(b, O.toast))
        : U(b, O.modal),
      a.customClass && U(b, a.customClass);
    var q = ha(),
      r = parseInt(
        null === a.currentProgressStep
          ? eb.getQueueStep()
          : a.currentProgressStep,
        10
      );
    a.progressSteps && a.progressSteps.length
      ? (X(q),
        Z(q),
        r >= a.progressSteps.length &&
          C(
            "Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"
          ),
        a.progressSteps.forEach(function (b, c) {
          var d = document.createElement("li");
          if (
            (U(d, O.progresscircle),
            (d.innerHTML = b),
            c === r && U(d, O.activeprogressstep),
            q.appendChild(d),
            c !== a.progressSteps.length - 1)
          ) {
            var e = document.createElement("li");
            U(e, O.progressline),
              a.progressStepsDistance &&
                (e.style.width = a.progressStepsDistance),
              q.appendChild(e);
          }
        }))
      : Y(q);
    for (var s = da(), t = 0; t < s.length; t++) Y(s[t]);
    if (a.type) {
      var u = !1;
      for (var v in P)
        if (a.type === v) {
          u = !0;
          break;
        }
      if (!u) return D("Unknown alert type: " + a.type), !1;
      var w = b.querySelector("." + O.icon + "." + P[a.type]);
      X(w), a.animation && U(w, "swal2-animate-" + a.type + "-icon");
    }
    var x = ga();
    if (
      (a.imageUrl
        ? (x.setAttribute("src", a.imageUrl),
          x.setAttribute("alt", a.imageAlt),
          X(x),
          a.imageWidth
            ? x.setAttribute("width", a.imageWidth)
            : x.removeAttribute("width"),
          a.imageHeight
            ? x.setAttribute("height", a.imageHeight)
            : x.removeAttribute("height"),
          (x.className = O.image),
          a.imageClass && U(x, a.imageClass))
        : Y(x),
      a.showCancelButton ? (m.style.display = "inline-block") : Y(m),
      a.showConfirmButton ? _(l, "display") : Y(l),
      a.showConfirmButton || a.showCancelButton ? X(k) : Y(k),
      (l.innerHTML = a.confirmButtonText),
      (m.innerHTML = a.cancelButtonText),
      l.setAttribute("aria-label", a.confirmButtonAriaLabel),
      m.setAttribute("aria-label", a.cancelButtonAriaLabel),
      (l.className = O.confirm),
      U(l, a.confirmButtonClass),
      (m.className = O.cancel),
      U(m, a.cancelButtonClass),
      a.buttonsStyling)
    ) {
      U([l, m], O.styled),
        a.confirmButtonColor &&
          (l.style.backgroundColor = a.confirmButtonColor),
        a.cancelButtonColor && (m.style.backgroundColor = a.cancelButtonColor);
      var y = window.getComputedStyle(l).getPropertyValue("background-color");
      (l.style.borderLeftColor = y), (l.style.borderRightColor = y);
    } else V([l, m], O.styled), (l.style.backgroundColor = l.style.borderLeftColor = l.style.borderRightColor = ""), (m.style.backgroundColor = m.style.borderLeftColor = m.style.borderRightColor = "");
    wa(a.footer, o),
      a.animation === !0 ? V(b, O.noanimation) : U(b, O.noanimation),
      a.showLoaderOnConfirm &&
        !a.preConfirm &&
        C(
          "showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"
        );
  }
  function p(a) {
    var b = this;
    Na(a);
    var c = u({}, Ja, a);
    o(c),
      Object.freeze(c),
      $a.innerParams.set(this, c),
      Da.timeout && (Da.timeout.stop(), delete Da.timeout),
      clearTimeout(Da.restoreFocusTimeout);
    var d = {
      popup: ca(),
      container: aa(),
      content: fa(),
      actions: ma(),
      confirmButton: ja(),
      cancelButton: ka(),
      closeButton: oa(),
      validationError: ia(),
      progressSteps: ha(),
    };
    $a.domCache.set(this, d);
    var e = this.constructor;
    return new Promise(function (a, f) {
      var g = function (b) {
          e.closePopup(c.onClose, c.onAfterClose),
            a(c.useRejections ? b : { value: b });
        },
        h = function (b) {
          e.closePopup(c.onClose, c.onAfterClose),
            c.useRejections ? f(b) : a({ dismiss: b });
        },
        i = function (a) {
          e.closePopup(c.onClose, c.onAfterClose), f(a);
        };
      c.timer &&
        (Da.timeout = new _a(function () {
          h("timer"), delete Da.timeout;
        }, c.timer));
      var j = function () {
        var a = b.getInput();
        if (!a) return null;
        switch (c.input) {
          case "checkbox":
            return a.checked ? 1 : 0;
          case "radio":
            return a.checked ? a.value : null;
          case "file":
            return a.files.length ? a.files[0] : null;
          default:
            return c.inputAutoTrim ? a.value.trim() : a.value;
        }
      };
      c.input &&
        setTimeout(function () {
          var a = b.getInput();
          a && S(a);
        }, 0);
      for (
        var k = function (a) {
            if ((c.showLoaderOnConfirm && e.showLoading(), c.preConfirm)) {
              b.resetValidationError();
              var f = Promise.resolve().then(function () {
                return c.preConfirm(a, c.extraParams);
              });
              c.expectRejections
                ? f.then(
                    function (b) {
                      return g(b || a);
                    },
                    function (a) {
                      b.hideLoading(), a && b.showValidationError(a);
                    }
                  )
                : f.then(
                    function (c) {
                      $(d.validationError) || c === !1
                        ? b.hideLoading()
                        : g(c || a);
                    },
                    function (a) {
                      return i(a);
                    }
                  );
            } else g(a);
          },
          l = function (a) {
            var f = a || window.event,
              g = f.target || f.srcElement,
              l = d.confirmButton,
              m = d.cancelButton,
              n = l && (l === g || l.contains(g)),
              o = m && (m === g || m.contains(g));
            switch (f.type) {
              case "click":
                if (n && e.isVisible())
                  if ((b.disableButtons(), c.input)) {
                    var p = j();
                    if (c.inputValidator) {
                      b.disableInput();
                      var q = Promise.resolve().then(function () {
                        return c.inputValidator(p, c.extraParams);
                      });
                      c.expectRejections
                        ? q.then(
                            function () {
                              b.enableButtons(), b.enableInput(), k(p);
                            },
                            function (a) {
                              b.enableButtons(),
                                b.enableInput(),
                                a && b.showValidationError(a);
                            }
                          )
                        : q.then(
                            function (a) {
                              b.enableButtons(),
                                b.enableInput(),
                                a ? b.showValidationError(a) : k(p);
                            },
                            function (a) {
                              return i(a);
                            }
                          );
                    } else k(p);
                  } else k(!0);
                else
                  o &&
                    e.isVisible() &&
                    (b.disableButtons(), h(e.DismissReason.cancel));
            }
          },
          m = d.popup.querySelectorAll("button"),
          n = 0;
        n < m.length;
        n++
      )
        (m[n].onclick = l),
          (m[n].onmouseover = l),
          (m[n].onmouseout = l),
          (m[n].onmousedown = l);
      if (
        ((d.closeButton.onclick = function () {
          h(e.DismissReason.close);
        }),
        c.toast)
      )
        d.popup.onclick = function (a) {
          c.showConfirmButton ||
            c.showCancelButton ||
            c.showCloseButton ||
            c.input ||
            (e.closePopup(c.onClose, c.onAfterClose), h(e.DismissReason.close));
        };
      else {
        var o = !1;
        (d.popup.onmousedown = function () {
          d.container.onmouseup = function (a) {
            (d.container.onmouseup = void 0),
              a.target === d.container && (o = !0);
          };
        }),
          (d.container.onmousedown = function () {
            d.popup.onmouseup = function (a) {
              (d.popup.onmouseup = void 0),
                (a.target === d.popup || d.popup.contains(a.target)) &&
                  (o = !0);
            };
          }),
          (d.container.onclick = function (a) {
            return o
              ? void (o = !1)
              : void (
                  a.target === d.container &&
                  G(c.allowOutsideClick) &&
                  h(e.DismissReason.backdrop)
                );
          });
      }
      c.reverseButtons
        ? d.confirmButton.parentNode.insertBefore(
            d.cancelButton,
            d.confirmButton
          )
        : d.confirmButton.parentNode.insertBefore(
            d.confirmButton,
            d.cancelButton
          );
      var p = function (a, b) {
          for (var e = pa(c.focusCancel), f = 0; f < e.length; f++) {
            (a += b), a === e.length ? (a = 0) : a === -1 && (a = e.length - 1);
            var g = e[a];
            if ($(g)) return g.focus();
          }
          d.popup.focus();
        },
        q = function (a, c) {
          c.stopKeydownPropagation && a.stopPropagation();
          var f = [
            "ArrowLeft",
            "ArrowRight",
            "ArrowUp",
            "ArrowDown",
            "Left",
            "Right",
            "Up",
            "Down",
          ];
          if ("Enter" !== a.key || a.isComposing)
            if ("Tab" === a.key) {
              for (
                var g = a.target || a.srcElement,
                  i = pa(c.focusCancel),
                  j = -1,
                  k = 0;
                k < i.length;
                k++
              )
                if (g === i[k]) {
                  j = k;
                  break;
                }
              a.shiftKey ? p(j, -1) : p(j, 1),
                a.stopPropagation(),
                a.preventDefault();
            } else
              f.indexOf(a.key) !== -1
                ? document.activeElement === d.confirmButton &&
                  $(d.cancelButton)
                  ? d.cancelButton.focus()
                  : document.activeElement === d.cancelButton &&
                    $(d.confirmButton) &&
                    d.confirmButton.focus()
                : ("Escape" !== a.key && "Esc" !== a.key) ||
                  G(c.allowEscapeKey) !== !0 ||
                  h(e.DismissReason.esc);
          else if (
            a.target &&
            b.getInput() &&
            a.target.outerHTML === b.getInput().outerHTML
          ) {
            if (["textarea", "file"].indexOf(c.input) !== -1) return;
            e.clickConfirm(), a.preventDefault();
          }
        };
      Da.keydownHandlerAdded &&
        (Da.keydownTarget.removeEventListener("keydown", Da.keydownHandler, {
          capture: Da.keydownListenerCapture,
        }),
        (Da.keydownHandlerAdded = !1)),
        c.toast ||
          ((Da.keydownHandler = function (a) {
            return q(a, c);
          }),
          (Da.keydownTarget = c.keydownListenerCapture ? window : d.popup),
          (Da.keydownListenerCapture = c.keydownListenerCapture),
          Da.keydownTarget.addEventListener("keydown", Da.keydownHandler, {
            capture: Da.keydownListenerCapture,
          }),
          (Da.keydownHandlerAdded = !0)),
        b.enableButtons(),
        b.hideLoading(),
        b.resetValidationError(),
        c.input && U(document.body, O["has-input"]);
      for (
        var s = [
            "input",
            "file",
            "range",
            "select",
            "radio",
            "checkbox",
            "textarea",
          ],
          t = void 0,
          u = 0;
        u < s.length;
        u++
      ) {
        var v = O[s[u]],
          w = W(d.content, v);
        if ((t = b.getInput(s[u]))) {
          for (var x in t.attributes)
            if (t.attributes.hasOwnProperty(x)) {
              var z = t.attributes[x].name;
              "type" !== z && "value" !== z && t.removeAttribute(z);
            }
          for (var A in c.inputAttributes)
            t.setAttribute(A, c.inputAttributes[A]);
        }
        (w.className = v), c.inputClass && U(w, c.inputClass), Y(w);
      }
      var C = void 0;
      switch (c.input) {
        case "text":
        case "email":
        case "password":
        case "number":
        case "tel":
        case "url":
          (t = W(d.content, O.input)),
            (t.value = c.inputValue),
            (t.placeholder = c.inputPlaceholder),
            (t.type = c.input),
            X(t);
          break;
        case "file":
          (t = W(d.content, O.file)),
            (t.placeholder = c.inputPlaceholder),
            (t.type = c.input),
            X(t);
          break;
        case "range":
          var E = W(d.content, O.range),
            F = E.querySelector("input"),
            I = E.querySelector("output");
          (F.value = c.inputValue),
            (F.type = c.input),
            (I.value = c.inputValue),
            X(E);
          break;
        case "select":
          var J = W(d.content, O.select);
          if (((J.innerHTML = ""), c.inputPlaceholder)) {
            var K = document.createElement("option");
            (K.innerHTML = c.inputPlaceholder),
              (K.value = ""),
              (K.disabled = !0),
              (K.selected = !0),
              J.appendChild(K);
          }
          C = function (a) {
            a.forEach(function (a) {
              var b = y(a, 2),
                d = b[0],
                e = b[1],
                f = document.createElement("option");
              (f.value = d),
                (f.innerHTML = e),
                c.inputValue.toString() === d.toString() && (f.selected = !0),
                J.appendChild(f);
            }),
              X(J),
              J.focus();
          };
          break;
        case "radio":
          var L = W(d.content, O.radio);
          (L.innerHTML = ""),
            (C = function (a) {
              a.forEach(function (a) {
                var b = y(a, 2),
                  d = b[0],
                  e = b[1],
                  f = document.createElement("input"),
                  g = document.createElement("label");
                (f.type = "radio"),
                  (f.name = O.radio),
                  (f.value = d),
                  c.inputValue.toString() === d.toString() && (f.checked = !0),
                  (g.innerHTML = e),
                  g.insertBefore(f, g.firstChild),
                  L.appendChild(g);
              }),
                X(L);
              var b = L.querySelectorAll("input");
              b.length && b[0].focus();
            });
          break;
        case "checkbox":
          var M = W(d.content, O.checkbox),
            N = b.getInput("checkbox");
          (N.type = "checkbox"),
            (N.value = 1),
            (N.id = O.checkbox),
            (N.checked = Boolean(c.inputValue));
          var P = M.getElementsByTagName("span");
          P.length && M.removeChild(P[0]),
            (P = document.createElement("span")),
            (P.innerHTML = c.inputPlaceholder),
            M.appendChild(P),
            X(M);
          break;
        case "textarea":
          var Q = W(d.content, O.textarea);
          (Q.value = c.inputValue), (Q.placeholder = c.inputPlaceholder), X(Q);
          break;
        case null:
          break;
        default:
          D(
            'Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "' +
              c.input +
              '"'
          );
      }
      if ("select" === c.input || "radio" === c.input) {
        var R = function (a) {
          return C(B(a));
        };
        H(c.inputOptions)
          ? (e.showLoading(),
            c.inputOptions.then(function (a) {
              b.hideLoading(), R(a);
            }))
          : "object" === r(c.inputOptions)
          ? R(c.inputOptions)
          : D(
              "Unexpected type of inputOptions! Expected object, Map or Promise, got " +
                r(c.inputOptions)
            );
      } else
        ["text", "email", "number", "tel", "textarea"].indexOf(c.input) !==
          -1 &&
          H(c.inputValue) &&
          (e.showLoading(),
          Y(t),
          c.inputValue
            .then(function (a) {
              (t.value = "number" === c.input ? parseFloat(a) || 0 : a + ""),
                X(t),
                b.hideLoading();
            })
            ["catch"](function (a) {
              D("Error in inputValue promise: " + a),
                (t.value = ""),
                X(t),
                b.hideLoading();
            }));
      bb(c),
        c.toast ||
          (G(c.allowEnterKey)
            ? c.focusCancel && $(d.cancelButton)
              ? d.cancelButton.focus()
              : c.focusConfirm && $(d.confirmButton)
              ? d.confirmButton.focus()
              : p(-1, 1)
            : document.activeElement && document.activeElement.blur()),
        (d.container.scrollTop = 0);
    });
  }
  function q() {
    if ("undefined" != typeof window) {
      "undefined" == typeof Promise &&
        D(
          "This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"
        );
      for (var a = arguments.length, b = Array(a), c = 0; c < a; c++)
        b[c] = arguments[c];
      if ("undefined" == typeof b[0])
        return D("SweetAlert2 expects at least 1 attribute!"), !1;
      db = this;
      var d = Object.freeze(this.constructor.argsToParams(b));
      Object.defineProperties(this, {
        params: { value: d, writable: !1, enumerable: !0 },
      });
      var e = this._main(this.params);
      $a.promise.set(this, e);
    }
  }
  var r =
      "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
        ? function (a) {
            return typeof a;
          }
        : function (a) {
            return a &&
              "function" == typeof Symbol &&
              a.constructor === Symbol &&
              a !== Symbol.prototype
              ? "symbol"
              : typeof a;
          },
    s = function (a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    },
    t = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    u =
      Object.assign ||
      function (a) {
        for (var b = 1; b < arguments.length; b++) {
          var c = arguments[b];
          for (var d in c)
            Object.prototype.hasOwnProperty.call(c, d) && (a[d] = c[d]);
        }
        return a;
      },
    v = function fb(a, b, c) {
      null === a && (a = Function.prototype);
      var d = Object.getOwnPropertyDescriptor(a, b);
      if (void 0 === d) {
        var e = Object.getPrototypeOf(a);
        return null === e ? void 0 : fb(e, b, c);
      }
      if ("value" in d) return d.value;
      var f = d.get;
      if (void 0 !== f) return f.call(c);
    },
    w = function (a, b) {
      if ("function" != typeof b && null !== b)
        throw new TypeError(
          "Super expression must either be null or a function, not " + typeof b
        );
      (a.prototype = Object.create(b && b.prototype, {
        constructor: {
          value: a,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
        b &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(a, b)
            : (a.__proto__ = b));
    },
    x = function (a, b) {
      if (!a)
        throw new ReferenceError(
          "this hasn't been initialised - super() hasn't been called"
        );
      return !b || ("object" != typeof b && "function" != typeof b) ? a : b;
    },
    y = (function () {
      function a(a, b) {
        var c = [],
          d = !0,
          e = !1,
          f = void 0;
        try {
          for (
            var g, h = a[Symbol.iterator]();
            !(d = (g = h.next()).done) &&
            (c.push(g.value), !b || c.length !== b);
            d = !0
          );
        } catch (i) {
          (e = !0), (f = i);
        } finally {
          try {
            !d && h["return"] && h["return"]();
          } finally {
            if (e) throw f;
          }
        }
        return c;
      }
      return function (b, c) {
        if (Array.isArray(b)) return b;
        if (Symbol.iterator in Object(b)) return a(b, c);
        throw new TypeError(
          "Invalid attempt to destructure non-iterable instance"
        );
      };
    })(),
    z = "SweetAlert2:",
    A = function (a) {
      for (var b = [], c = 0; c < a.length; c++)
        b.indexOf(a[c]) === -1 && b.push(a[c]);
      return b;
    },
    B = function (a) {
      var b = [];
      return (
        "undefined" != typeof Map && a instanceof Map
          ? a.forEach(function (a, c) {
              b.push([c, a]);
            })
          : Object.keys(a).forEach(function (c) {
              b.push([c, a[c]]);
            }),
        b
      );
    },
    C = function (a) {
      console.warn(z + " " + a);
    },
    D = function (a) {
      console.error(z + " " + a);
    },
    E = [],
    F = function (a) {
      E.indexOf(a) === -1 && (E.push(a), C(a));
    },
    G = function (a) {
      return "function" == typeof a ? a() : a;
    },
    H = function (a) {
      return (
        "object" === ("undefined" == typeof a ? "undefined" : r(a)) &&
        "function" == typeof a.then
      );
    },
    I = Object.freeze({
      cancel: "cancel",
      backdrop: "overlay",
      close: "close",
      esc: "esc",
      timer: "timer",
    }),
    J = "7.24.1",
    K = function (a) {
      var b = {};
      switch (r(a[0])) {
        case "string":
          ["title", "html", "type"].forEach(function (c, d) {
            switch (r(a[d])) {
              case "string":
                b[c] = a[d];
                break;
              case "undefined":
                break;
              default:
                D(
                  "Unexpected type of " +
                    c +
                    '! Expected "string", got ' +
                    r(a[d])
                );
            }
          });
          break;
        case "object":
          u(b, a[0]);
          break;
        default:
          return (
            D(
              'Unexpected type of argument! Expected "string" or "object", got ' +
                r(a[0])
            ),
            !1
          );
      }
      return b;
    },
    L = function (a) {
      return function (b, c) {
        return a.call(this, b, c).then(
          function () {},
          function (a) {
            return a;
          }
        );
      };
    },
    M = "swal2-",
    N = function (a) {
      var b = {};
      for (var c in a) b[a[c]] = M + a[c];
      return b;
    },
    O = N([
      "container",
      "shown",
      "height-auto",
      "iosfix",
      "popup",
      "modal",
      "no-backdrop",
      "toast",
      "toast-shown",
      "fade",
      "show",
      "hide",
      "noanimation",
      "close",
      "title",
      "header",
      "content",
      "actions",
      "confirm",
      "cancel",
      "footer",
      "icon",
      "icon-text",
      "image",
      "input",
      "has-input",
      "file",
      "range",
      "select",
      "radio",
      "checkbox",
      "textarea",
      "inputerror",
      "validationerror",
      "progresssteps",
      "activeprogressstep",
      "progresscircle",
      "progressline",
      "loading",
      "styled",
      "top",
      "top-start",
      "top-end",
      "top-left",
      "top-right",
      "center",
      "center-start",
      "center-end",
      "center-left",
      "center-right",
      "bottom",
      "bottom-start",
      "bottom-end",
      "bottom-left",
      "bottom-right",
      "grow-row",
      "grow-column",
      "grow-fullscreen",
    ]),
    P = N(["success", "warning", "info", "question", "error"]),
    Q = { previousBodyPadding: null },
    R = function (a, b) {
      return !!a.classList && a.classList.contains(b);
    },
    S = function (a) {
      if ((a.focus(), "file" !== a.type)) {
        var b = a.value;
        (a.value = ""), (a.value = b);
      }
    },
    T = function (a, b, c) {
      a &&
        b &&
        ("string" == typeof b && (b = b.split(/\s+/).filter(Boolean)),
        b.forEach(function (b) {
          a.forEach
            ? a.forEach(function (a) {
                c ? a.classList.add(b) : a.classList.remove(b);
              })
            : c
            ? a.classList.add(b)
            : a.classList.remove(b);
        }));
    },
    U = function (a, b) {
      T(a, b, !0);
    },
    V = function (a, b) {
      T(a, b, !1);
    },
    W = function (a, b) {
      for (var c = 0; c < a.childNodes.length; c++)
        if (R(a.childNodes[c], b)) return a.childNodes[c];
    },
    X = function (a) {
      (a.style.opacity = ""),
        (a.style.display = a.id === O.content ? "block" : "flex");
    },
    Y = function (a) {
      (a.style.opacity = ""), (a.style.display = "none");
    },
    Z = function (a) {
      for (; a.firstChild; ) a.removeChild(a.firstChild);
    },
    $ = function (a) {
      return (
        a && (a.offsetWidth || a.offsetHeight || a.getClientRects().length)
      );
    },
    _ = function (a, b) {
      a.style.removeProperty
        ? a.style.removeProperty(b)
        : a.style.removeAttribute(b);
    },
    aa = function () {
      return document.body.querySelector("." + O.container);
    },
    ba = function (a) {
      var b = aa();
      return b ? b.querySelector("." + a) : null;
    },
    ca = function () {
      return ba(O.popup);
    },
    da = function () {
      var a = ca();
      return a.querySelectorAll("." + O.icon);
    },
    ea = function () {
      return ba(O.title);
    },
    fa = function () {
      return ba(O.content);
    },
    ga = function () {
      return ba(O.image);
    },
    ha = function () {
      return ba(O.progresssteps);
    },
    ia = function () {
      return ba(O.validationerror);
    },
    ja = function () {
      return ba(O.confirm);
    },
    ka = function () {
      return ba(O.cancel);
    },
    la = function () {
      return (
        F(
          "swal.getButtonsWrapper() is deprecated and will be removed in the next major release, use swal.getActions() instead"
        ),
        ba(O.actions)
      );
    },
    ma = function () {
      return ba(O.actions);
    },
    na = function () {
      return ba(O.footer);
    },
    oa = function () {
      return ba(O.close);
    },
    pa = function () {
      var a = Array.prototype.slice
          .call(
            ca().querySelectorAll(
              '[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'
            )
          )
          .sort(function (a, b) {
            return (
              (a = parseInt(a.getAttribute("tabindex"))),
              (b = parseInt(b.getAttribute("tabindex"))),
              a > b ? 1 : a < b ? -1 : 0
            );
          }),
        b = Array.prototype.slice.call(
          ca().querySelectorAll(
            'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls]'
          )
        );
      return A(a.concat(b));
    },
    qa = function () {
      return !document.body.classList.contains(O["toast-shown"]);
    },
    ra = function () {
      return document.body.classList.contains(O["toast-shown"]);
    },
    sa = function () {
      return ca().hasAttribute("data-loading");
    },
    ta = function () {
      return "undefined" == typeof window || "undefined" == typeof document;
    },
    ua = (
      '\n <div aria-labelledby="' +
      O.title +
      '" aria-describedby="' +
      O.content +
      '" class="' +
      O.popup +
      '" tabindex="-1">\n   <div class="' +
      O.header +
      '">\n     <ul class="' +
      O.progresssteps +
      '"></ul>\n     <div class="' +
      O.icon +
      " " +
      P.error +
      '">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="' +
      O.icon +
      " " +
      P.question +
      '">\n       <span class="' +
      O["icon-text"] +
      '">?</span>\n      </div>\n     <div class="' +
      O.icon +
      " " +
      P.warning +
      '">\n       <span class="' +
      O["icon-text"] +
      '">!</span>\n      </div>\n     <div class="' +
      O.icon +
      " " +
      P.info +
      '">\n       <span class="' +
      O["icon-text"] +
      '">i</span>\n      </div>\n     <div class="' +
      O.icon +
      " " +
      P.success +
      '">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="' +
      O.image +
      '" />\n     <h2 class="' +
      O.title +
      '" id="' +
      O.title +
      '"></h2>\n     <button type="button" class="' +
      O.close +
      '">×</button>\n   </div>\n   <div class="' +
      O.content +
      '">\n     <div id="' +
      O.content +
      '"></div>\n     <input class="' +
      O.input +
      '" />\n     <input type="file" class="' +
      O.file +
      '" />\n     <div class="' +
      O.range +
      '">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="' +
      O.select +
      '"></select>\n     <div class="' +
      O.radio +
      '"></div>\n     <label for="' +
      O.checkbox +
      '" class="' +
      O.checkbox +
      '">\n       <input type="checkbox" />\n     </label>\n     <textarea class="' +
      O.textarea +
      '"></textarea>\n     <div class="' +
      O.validationerror +
      '" id="' +
      O.validationerror +
      '"></div>\n   </div>\n   <div class="' +
      O.actions +
      '">\n     <button type="button" class="' +
      O.confirm +
      '">OK</button>\n     <button type="button" class="' +
      O.cancel +
      '">Cancel</button>\n   </div>\n   <div class="' +
      O.footer +
      '">\n   </div>\n </div>\n'
    ).replace(/(^|\n)\s*/g, ""),
    va = function (a) {
      var b = aa();
      if (
        (b &&
          (b.parentNode.removeChild(b),
          V(
            [document.documentElement, document.body],
            [O["no-backdrop"], O["has-input"], O["toast-shown"]]
          )),
        ta())
      )
        return void D("SweetAlert2 requires document to initialize");
      var c = document.createElement("div");
      (c.className = O.container), (c.innerHTML = ua);
      var d =
        "string" == typeof a.target
          ? document.querySelector(a.target)
          : a.target;
      d.appendChild(c);
      var e = ca(),
        f = fa(),
        g = W(f, O.input),
        h = W(f, O.file),
        i = f.querySelector("." + O.range + " input"),
        j = f.querySelector("." + O.range + " output"),
        k = W(f, O.select),
        l = f.querySelector("." + O.checkbox + " input"),
        m = W(f, O.textarea);
      e.setAttribute("role", a.toast ? "alert" : "dialog"),
        e.setAttribute("aria-live", a.toast ? "polite" : "assertive"),
        a.toast || e.setAttribute("aria-modal", "true");
      var n = void 0,
        o = function (a) {
          eb.isVisible() && n !== a.target.value && eb.resetValidationError(),
            (n = a.target.value);
        };
      return (
        (g.oninput = o),
        (h.onchange = o),
        (k.onchange = o),
        (l.onchange = o),
        (m.oninput = o),
        (i.oninput = function (a) {
          o(a), (j.value = i.value);
        }),
        (i.onchange = function (a) {
          o(a), (i.nextSibling.value = i.value);
        }),
        e
      );
    },
    wa = function (a, b) {
      if (!a) return Y(b);
      if ("object" === ("undefined" == typeof a ? "undefined" : r(a)))
        if (((b.innerHTML = ""), 0 in a))
          for (var c = 0; c in a; c++) b.appendChild(a[c].cloneNode(!0));
        else b.appendChild(a.cloneNode(!0));
      else a && (b.innerHTML = a);
      X(b);
    },
    xa = (function () {
      if (ta()) return !1;
      var a = document.createElement("div"),
        b = {
          WebkitAnimation: "webkitAnimationEnd",
          OAnimation: "oAnimationEnd oanimationend",
          animation: "animationend",
        };
      for (var c in b)
        if (b.hasOwnProperty(c) && "undefined" != typeof a.style[c])
          return b[c];
      return !1;
    })(),
    ya = function () {
      var a = "ontouchstart" in window || navigator.msMaxTouchPoints;
      if (a) return 0;
      var b = document.createElement("div");
      (b.style.width = "50px"),
        (b.style.height = "50px"),
        (b.style.overflow = "scroll"),
        document.body.appendChild(b);
      var c = b.offsetWidth - b.clientWidth;
      return document.body.removeChild(b), c;
    },
    za = function () {
      null === Q.previousBodyPadding &&
        document.body.scrollHeight > window.innerHeight &&
        ((Q.previousBodyPadding = parseInt(
          window
            .getComputedStyle(document.body)
            .getPropertyValue("padding-right")
        )),
        (document.body.style.paddingRight =
          Q.previousBodyPadding + ya() + "px"));
    },
    Aa = function () {
      null !== Q.previousBodyPadding &&
        ((document.body.style.paddingRight = Q.previousBodyPadding),
        (Q.previousBodyPadding = null));
    },
    Ba = function () {
      var a = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
      if (a && !R(document.body, O.iosfix)) {
        var b = document.body.scrollTop;
        (document.body.style.top = b * -1 + "px"), U(document.body, O.iosfix);
      }
    },
    Ca = function () {
      if (R(document.body, O.iosfix)) {
        var a = parseInt(document.body.style.top, 10);
        V(document.body, O.iosfix),
          (document.body.style.top = ""),
          (document.body.scrollTop = a * -1);
      }
    },
    Da = {},
    Ea = function () {
      var a = window.scrollX,
        b = window.scrollY;
      (Da.restoreFocusTimeout = setTimeout(function () {
        Da.previousActiveElement &&
          Da.previousActiveElement.focus &&
          (Da.previousActiveElement.focus(), (Da.previousActiveElement = null));
      }, 100)),
        "undefined" != typeof a &&
          "undefined" != typeof b &&
          window.scrollTo(a, b);
    },
    Fa = function (a, b) {
      var c = aa(),
        d = ca();
      if (d) {
        null !== a && "function" == typeof a && a(d),
          V(d, O.show),
          U(d, O.hide);
        var e = function () {
          ra() ||
            (Ea(),
            Da.keydownTarget.removeEventListener("keydown", Da.keydownHandler, {
              capture: Da.keydownListenerCapture,
            }),
            (Da.keydownHandlerAdded = !1)),
            c.parentNode && c.parentNode.removeChild(c),
            V(
              [document.documentElement, document.body],
              [
                O.shown,
                O["height-auto"],
                O["no-backdrop"],
                O["has-input"],
                O["toast-shown"],
              ]
            ),
            qa() && (Aa(), Ca()),
            null !== b &&
              "function" == typeof b &&
              setTimeout(function () {
                b();
              });
        };
        xa && !R(d, O.noanimation)
          ? d.addEventListener(xa, function f() {
              d.removeEventListener(xa, f), R(d, O.hide) && e();
            })
          : e();
      }
    },
    Ga = function () {
      return !!ca();
    },
    Ha = function () {
      return ja().click();
    },
    Ia = function () {
      return ka().click();
    },
    Ja = {
      title: "",
      titleText: "",
      text: "",
      html: "",
      footer: "",
      type: null,
      toast: !1,
      customClass: "",
      target: "body",
      backdrop: !0,
      animation: !0,
      heightAuto: !0,
      allowOutsideClick: !0,
      allowEscapeKey: !0,
      allowEnterKey: !0,
      stopKeydownPropagation: !0,
      keydownListenerCapture: !1,
      showConfirmButton: !0,
      showCancelButton: !1,
      preConfirm: null,
      confirmButtonText: "OK",
      confirmButtonAriaLabel: "",
      confirmButtonColor: null,
      confirmButtonClass: null,
      cancelButtonText: "Cancel",
      cancelButtonAriaLabel: "",
      cancelButtonColor: null,
      cancelButtonClass: null,
      buttonsStyling: !0,
      reverseButtons: !1,
      focusConfirm: !0,
      focusCancel: !1,
      showCloseButton: !1,
      closeButtonAriaLabel: "Close this dialog",
      showLoaderOnConfirm: !1,
      imageUrl: null,
      imageWidth: null,
      imageHeight: null,
      imageAlt: "",
      imageClass: null,
      timer: null,
      width: null,
      padding: null,
      background: null,
      input: null,
      inputPlaceholder: "",
      inputValue: "",
      inputOptions: {},
      inputAutoTrim: !0,
      inputClass: null,
      inputAttributes: {},
      inputValidator: null,
      grow: !1,
      position: "center",
      progressSteps: [],
      currentProgressStep: null,
      progressStepsDistance: null,
      onBeforeOpen: null,
      onAfterClose: null,
      onOpen: null,
      onClose: null,
      useRejections: !1,
      expectRejections: !1,
    },
    Ka = ["useRejections", "expectRejections"],
    La = function (a) {
      return Ja.hasOwnProperty(a) || "extraParams" === a;
    },
    Ma = function (a) {
      return Ka.indexOf(a) !== -1;
    },
    Na = function (a) {
      for (var b in a)
        La(b) || C('Unknown parameter "' + b + '"'),
          Ma(b) &&
            F(
              'The parameter "' +
                b +
                '" is deprecated and will be removed in the next major release.'
            );
    },
    Oa =
      '"setDefaults" & "resetDefaults" methods are deprecated in favor of "mixin" method and will be removed in the next major release. For new projects, use "mixin". For past projects already using "setDefaults", support will be provided through an additional package.',
    Pa = {},
    Qa = [],
    Ra = function (a) {
      var b = this;
      Qa = a;
      var c = function () {
          (Qa = []), document.body.removeAttribute("data-swal2-queue-step");
        },
        d = [];
      return new Promise(function (a, e) {
        !(function f(e, g) {
          e < Qa.length
            ? (document.body.setAttribute("data-swal2-queue-step", e),
              b(Qa[e]).then(function (b) {
                "undefined" != typeof b.value
                  ? (d.push(b.value), f(e + 1, g))
                  : (c(), a({ dismiss: b.dismiss }));
              }))
            : (c(), a({ value: d }));
        })(0);
      });
    },
    Sa = function () {
      return document.body.getAttribute("data-swal2-queue-step");
    },
    Ta = function (a, b) {
      return b && b < Qa.length ? Qa.splice(b, 0, a) : Qa.push(a);
    },
    Ua = function (a) {
      "undefined" != typeof Qa[a] && Qa.splice(a, 1);
    },
    Va = function () {
      var a = ca();
      a || eb(""), (a = ca());
      var b = ma(),
        c = ja(),
        d = ka();
      X(b),
        X(c),
        U([a, b], O.loading),
        (c.disabled = !0),
        (d.disabled = !0),
        a.setAttribute("data-loading", !0),
        a.setAttribute("aria-busy", !0),
        a.focus();
    },
    Wa = function () {
      return Da.timeout && Da.timeout.getTimerLeft();
    },
    Xa = Object.freeze({
      isValidParameter: La,
      isDeprecatedParameter: Ma,
      argsToParams: K,
      adaptInputValidator: L,
      close: Fa,
      closePopup: Fa,
      closeModal: Fa,
      closeToast: Fa,
      isVisible: Ga,
      clickConfirm: Ha,
      clickCancel: Ia,
      getPopup: ca,
      getTitle: ea,
      getContent: fa,
      getImage: ga,
      getButtonsWrapper: la,
      getActions: ma,
      getConfirmButton: ja,
      getCancelButton: ka,
      getFooter: na,
      isLoading: sa,
      fire: a,
      mixin: d,
      queue: Ra,
      getQueueStep: Sa,
      insertQueueStep: Ta,
      deleteQueueStep: Ua,
      showLoading: Va,
      enableLoading: Va,
      getTimerLeft: Wa,
    }),
    Ya =
      "function" == typeof Symbol
        ? Symbol
        : (function () {
            function a(a) {
              return (
                "__" +
                a +
                "_" +
                Math.floor(1e9 * Math.random()) +
                "_" +
                ++b +
                "__"
              );
            }
            var b = 0;
            return (a.iterator = a("Symbol.iterator")), a;
          })(),
    Za =
      "function" == typeof WeakMap
        ? WeakMap
        : (function (a, b, c) {
            function d() {
              b(this, a, { value: Ya("WeakMap") });
            }
            return (
              (d.prototype = {
                delete: function (b) {
                  delete b[this[a]];
                },
                get: function (b) {
                  return b[this[a]];
                },
                has: function (b) {
                  return c.call(b, this[a]);
                },
                set: function (c, d) {
                  b(c, this[a], { configurable: !0, value: d });
                },
              }),
              d
            );
          })(Ya("WeakMap"), Object.defineProperty, {}.hasOwnProperty),
    $a = { promise: new Za(), innerParams: new Za(), domCache: new Za() },
    _a = function gb(a, b) {
      s(this, gb);
      var c,
        d,
        e,
        f = b;
      (this.start = function () {
        (e = !0), (d = new Date()), (c = setTimeout(a, f));
      }),
        (this.stop = function () {
          (e = !1), clearTimeout(c), (f -= new Date() - d);
        }),
        (this.getTimerLeft = function () {
          return e && (this.stop(), this.start()), f;
        }),
        (this.getStateRunning = function () {
          return e;
        }),
        this.start();
    },
    ab = {
      email: function (a, b) {
        return /^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(a)
          ? Promise.resolve()
          : Promise.reject(
              b && b.validationMessage
                ? b.validationMessage
                : "Invalid email address"
            );
      },
      url: function (a, b) {
        return /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(
          a
        )
          ? Promise.resolve()
          : Promise.reject(
              b && b.validationMessage ? b.validationMessage : "Invalid URL"
            );
      },
    },
    bb = function (a) {
      var b = aa(),
        c = ca();
      null !== a.onBeforeOpen &&
        "function" == typeof a.onBeforeOpen &&
        a.onBeforeOpen(c),
        a.animation ? (U(c, O.show), U(b, O.fade), V(c, O.hide)) : V(c, O.fade),
        X(c),
        (b.style.overflowY = "hidden"),
        xa && !R(c, O.noanimation)
          ? c.addEventListener(xa, function d() {
              c.removeEventListener(xa, d), (b.style.overflowY = "auto");
            })
          : (b.style.overflowY = "auto"),
        U([document.documentElement, document.body, b], O.shown),
        a.heightAuto &&
          a.backdrop &&
          !a.toast &&
          U([document.documentElement, document.body], O["height-auto"]),
        qa() && (za(), Ba()),
        Da.previousActiveElement ||
          (Da.previousActiveElement = document.activeElement),
        null !== a.onOpen &&
          "function" == typeof a.onOpen &&
          setTimeout(function () {
            a.onOpen(c);
          });
    },
    cb = Object.freeze({
      hideLoading: e,
      disableLoading: e,
      getInput: f,
      enableButtons: g,
      disableButtons: h,
      enableConfirmButton: i,
      disableConfirmButton: j,
      enableInput: k,
      disableInput: l,
      showValidationError: m,
      resetValidationError: n,
      _main: p,
    }),
    db = void 0;
  (q.prototype.then = function (a, b) {
    var c = $a.promise.get(this);
    return c.then(a, b);
  }),
    (q.prototype["catch"] = function (a) {
      var b = $a.promise.get(this);
      return b["catch"](a);
    }),
    (q.prototype["finally"] = function (a) {
      var b = $a.promise.get(this);
      return b["finally"](a);
    }),
    u(q.prototype, cb),
    u(q, Xa),
    Object.keys(cb).forEach(function (a) {
      q[a] = function () {
        if (db) {
          var b;
          return (b = db)[a].apply(b, arguments);
        }
      };
    }),
    (q.DismissReason = I),
    (q.noop = function () {}),
    (q.version = J);
  var eb = b(c(q));
  return (eb["default"] = eb), eb;
}),
  "undefined" != typeof window &&
    window.Sweetalert2 &&
    (window.swal =
      window.sweetAlert =
      window.Swal =
      window.SweetAlert =
        window.Sweetalert2);
define("local_ubboard/ubboard", [
  "jquery",
  "core/modal_factory",
  "core/modal_events",
  "core/templates",
  "local_ubassessment/sweetalert",
  "theme_bootstrap/bootstrap",
], function (t, e, o, a, n) {
  var r = {
    pluginname: "local_ubboard",
    index: function (t) {},
    ubboard_qna: function () {
      t("form#form-search .form-auto-submit").on("change", function (e) {
        e.preventDefault(), t("form#form-search").submit();
      }),
        t("button.btn-modal-link").on("click", function (o) {
          o.preventDefault();
          var r = t(this).data("courseid");
          t.ajax({
            url: "/local/ubboard/ajax.php",
            type: "POST",
            dataType: "json",
            data: {
              proc_type: "GET-BOARD-WRITE-UNANSWER",
              courseid: r,
              sesskey: M.cfg.sesskey,
            },
          }).done(function (t, o, r) {
            "success" == t.code
              ? e
                  .create({
                    type: e.types.CANCEL,
                    title: "미답변 목록",
                    body: a.render(
                      "local_ubboard/ubboard_qa_modalList",
                      t.datas
                    ),
                    large: !0,
                  })
                  .then(function (t) {
                    t.show();
                  })
              : n({
                  title: "실패 알림",
                  text: t.message,
                  type: "error",
                  customClass: "animated tada",
                  animation: !0,
                  showCancelButton: !1,
                  confirmButtonColor: "#D33",
                  confirmButtonText: "CLOSE",
                });
          });
        });
    },
  };
  return r;
});
define("local_ubencourage/config", [], function () {
  window.requirejs.config({
    paths: {
      sweetalert:
        M.cfg.wwwroot +
        "/local/ubencourage/assets/sweetalert/7.24.1/sweetalert2.min",
    },
    shim: { sweetalert: { exports: "sweetalert" } },
  });
});
define("local_ubencourage/index", [
  "jquery",
  "local_ubencourage/sweetalert",
], function (s, a) {
  var r = M.cfg.wwwroot;
  function e() {
    s("form#formSendMessage textarea#send_message").keyup(function () {
      var e = s(this).val(),
        t = (function (e) {
          for (var t = 0, n = 0; n < e.length; n++) {
            128 < e.charCodeAt(n) ? (t += 2) : t++;
          }
          return t;
        })(e);
      if (
        (s("form#formSendMessage span.now_bytes").text(t),
        "SMS" == s("form#formSendMessage select#send_method").val() && 90 < t)
      ) {
        for (var n = new String(e), o = 0, a = 0; a < e.length; a++) {
          var r = escape(e.charAt(a));
          if (
            (1 == r.length
              ? o++
              : -1 != r.indexOf("%u")
              ? (o += 2)
              : -1 != r.indexOf("%") && (o += r.length / 3),
            90 < o)
          ) {
            n = n.substring(0, a);
            break;
          }
        }
        s(this).val(n),
          s("form#formSendMessage textarea#send_message").trigger("keyup");
      }
    }),
      s("form#formSendMessage textarea#send_message").trigger("keyup"),
      s("form#formSendMessage select#send_method").change(function () {
        s("form#formSendMessage textarea#send_message").trigger("keyup");
      }),
      s("input#allcheck").change(function () {
        s('input[name="ucode"]').prop("checked", this.checked);
      }),
      s("form#formSendMessage").on("submit", function (e) {
        e.preventDefault();
        var t = "";
        if (
          (s("input[name=ucode]:checked").each(function () {
            "" != t && (t += "|"), (t += s(this).val());
          }),
          "" == t)
        )
          return (
            a({
              title: "실패 알림",
              text: "학생을 한명이상 선택하셔야 합니다.",
              footer: r,
              type: "error",
              customClass: "animated tada",
              animation: !0,
              showCancelButton: !1,
              confirmButtonColor: "#D33",
              confirmButtonText: "CLOSE",
            }),
            !1
          );
        if ("" == s('form#formSendMessage textarea[name="message"]').val())
          return (
            a({
              title: "실패 알림",
              text: "전송할 메시지를 입력하세요.",
              footer: r,
              type: "error",
              customClass: "animated tada",
              animation: !0,
              showCancelButton: !1,
              confirmButtonColor: "#D33",
              confirmButtonText: "CLOSE",
            }),
            !1
          );
        s('form#formSendMessage input[name="ucodes"]').val(t);
        var n = s(this).attr("action"),
          o = s(this).serialize();
        s.ajax({ url: n, type: "POST", dataType: "json", data: o })
          .done(function (e, t, n) {
            "100" == e.code
              ? a({
                  title: "메시지 발송결과",
                  text: e.message,
                  footer: r,
                  type: "success",
                  customClass: "animated tada",
                  animation: !0,
                  showCancelButton: !1,
                  confirmButtonColor: "#3085d6",
                  confirmButtonText: "CLOSE",
                  timer: 1e3,
                }).then(function () {
                  s("input#allcheck").prop("checked", !1);
                })
              : a({
                  title: "실패 알림",
                  text: e.message,
                  footer: r,
                  type: "error",
                  customClass: "animated tada",
                  animation: !0,
                  showCancelButton: !1,
                  confirmButtonColor: "#D33",
                  confirmButtonText: "CLOSE",
                });
          })
          .fail(function (e, t, n) {
            a({
              title: "[" + e.status + "] 오류 알림",
              text: n,
              footer: r,
              type: "error",
              customClass: "animated tada",
              animation: !0,
              showCancelButton: !1,
              confirmButtonColor: "#D33",
              confirmButtonText: "CLOSE",
            });
          })
          .always(function () {});
      });
  }
  return {
    init: function () {
      e();
    },
  };
});
define("local_ubencourage/sweetalert", [
  "local_ubencourage/config",
  "sweetalert",
], function (e, n) {
  return n;
});
define("local_ubholiday/calendar", ["jquery"], function (e) {
  var t = function (e, t) {
    (this.element = e),
      this.element.addClass("calendar"),
      this._initializeEvents(t),
      this._initializeOptions(t),
      this._render();
  };
  (t.prototype = {
    constructor: t,
    _initializeOptions: function (t) {
      null == t && (t = []),
        (this.options = {
          displayHeader: null == t.displayHeader || t.displayHeader,
          startYear: isNaN(parseInt(t.startYear))
            ? new Date().getFullYear()
            : parseInt(t.startYear),
          minDate: t.minDate instanceof Date ? t.minDate : null,
          maxDate: t.maxDate instanceof Date ? t.maxDate : null,
          language:
            null != t.language && null != n[t.language] ? t.language : "en",
          allowOverlap: null == t.allowOverlap || t.allowOverlap,
          displayWeekNumber: null != t.displayWeekNumber && t.displayWeekNumber,
          alwaysHalfDay: null != t.alwaysHalfDay && t.alwaysHalfDay,
          enableRangeSelection:
            null != t.enableRangeSelection && t.enableRangeSelection,
          disabledDays: t.disabledDays instanceof Array ? t.disabledDays : [],
          roundRangeLimits: null != t.roundRangeLimits && t.roundRangeLimits,
          dataSource: t.dataSource instanceof Array != null ? t.dataSource : [],
          style:
            "background" == t.style ||
            "border" == t.style ||
            "custom" == t.style
              ? t.style
              : "border",
          enableContextMenu: null != t.enableContextMenu && t.enableContextMenu,
          contextMenuItems:
            t.contextMenuItems instanceof Array ? t.contextMenuItems : [],
          customDayRenderer: e.isFunction(t.customDayRenderer)
            ? t.customDayRenderer
            : null,
          customDataSourceRenderer: e.isFunction(t.customDataSourceRenderer)
            ? t.customDataSourceRenderer
            : null,
        }),
        this._initializeDatasourceColors();
    },
    _initializeEvents: function (e) {
      null == e && (e = []),
        e.renderEnd && this.element.bind("renderEnd", e.renderEnd),
        e.clickDay && this.element.bind("clickDay", e.clickDay),
        e.dayContextMenu &&
          this.element.bind("dayContextMenu", e.dayContextMenu),
        e.selectRange && this.element.bind("selectRange", e.selectRange),
        e.mouseOnDay && this.element.bind("mouseOnDay", e.mouseOnDay),
        e.mouseOutDay && this.element.bind("mouseOutDay", e.mouseOutDay);
    },
    _initializeDatasourceColors: function () {
      for (var e in this.options.dataSource)
        null == this.options.dataSource[e].color &&
          (this.options.dataSource[e].color = a[e % a.length]);
    },
    _render: function () {
      this.element.empty(),
        this.options.displayHeader && this._renderHeader(),
        this._renderBody(),
        this._renderDataSource(),
        this._applyEvents(),
        this.element.find(".months-container").fadeIn(500),
        this._triggerEvent("renderEnd", {
          currentYear: this.options.startYear,
        });
    },
    _renderHeader: function () {
      var t = e(document.createElement("div"));
      t.addClass("calendar-header panel panel-default");
      var n = e(document.createElement("table")),
        a = e(document.createElement("th"));
      a.addClass("prev"),
        null != this.options.minDate &&
          this.options.minDate > new Date(this.options.startYear - 1, 11, 31) &&
          a.addClass("disabled");
      var s = e(document.createElement("span"));
      s.addClass("glyphicon glyphicon-chevron-left"), a.append(s), n.append(a);
      var i = e(document.createElement("th"));
      i.addClass("year-title year-neighbor2 hidden-sm hidden-xs"),
        i.text(this.options.startYear - 2),
        null != this.options.minDate &&
          this.options.minDate > new Date(this.options.startYear - 2, 11, 31) &&
          i.addClass("disabled"),
        n.append(i);
      var o = e(document.createElement("th"));
      o.addClass("year-title year-neighbor hidden-xs"),
        o.text(this.options.startYear - 1),
        null != this.options.minDate &&
          this.options.minDate > new Date(this.options.startYear - 1, 11, 31) &&
          o.addClass("disabled"),
        n.append(o);
      var r = e(document.createElement("th"));
      r.addClass("year-title"), r.text(this.options.startYear), n.append(r);
      var d = e(document.createElement("th"));
      d.addClass("year-title year-neighbor hidden-xs"),
        d.text(this.options.startYear + 1),
        null != this.options.maxDate &&
          this.options.maxDate < new Date(this.options.startYear + 1, 0, 1) &&
          d.addClass("disabled"),
        n.append(d);
      var l = e(document.createElement("th"));
      l.addClass("year-title year-neighbor2 hidden-sm hidden-xs"),
        l.text(this.options.startYear + 2),
        null != this.options.maxDate &&
          this.options.maxDate < new Date(this.options.startYear + 2, 0, 1) &&
          l.addClass("disabled"),
        n.append(l);
      var u = e(document.createElement("th"));
      u.addClass("next"),
        null != this.options.maxDate &&
          this.options.maxDate < new Date(this.options.startYear + 1, 0, 1) &&
          u.addClass("disabled");
      var c = e(document.createElement("span"));
      c.addClass("glyphicon glyphicon-chevron-right"),
        u.append(c),
        n.append(u),
        t.append(n),
        this.element.append(t);
    },
    _renderBody: function () {
      var t = e(document.createElement("div"));
      t.addClass("months-container");
      for (var a = 0; a < 12; a++) {
        var s = e(document.createElement("div"));
        s.addClass("month-container"), s.data("month-id", a);
        var i = new Date(this.options.startYear, a, 1),
          o = e(document.createElement("table"));
        o.addClass("month");
        var r = e(document.createElement("thead")),
          d = e(document.createElement("tr")),
          l = e(document.createElement("th"));
        l.addClass("month-title"),
          l.attr("colspan", this.options.displayWeekNumber ? 8 : 7),
          l.text(n[this.options.language].months[a]),
          d.append(l),
          r.append(d);
        var u = e(document.createElement("tr"));
        if (this.options.displayWeekNumber)
          (f = e(document.createElement("th"))).addClass("week-number"),
            f.text(n[this.options.language].weekShort),
            u.append(f);
        var c = n[this.options.language].weekStart;
        do {
          var h = e(document.createElement("th"));
          h.addClass("day-header"),
            h.text(n[this.options.language].daysMin[c]),
            u.append(h),
            ++c >= 7 && (c = 0);
        } while (c != n[this.options.language].weekStart);
        r.append(u), o.append(r);
        for (
          var m = new Date(i.getTime()),
            p = new Date(this.options.startYear, a + 1, 0),
            g = n[this.options.language].weekStart;
          m.getDay() != g;

        )
          m.setDate(m.getDate() - 1);
        for (; m <= p; ) {
          var f,
            D = e(document.createElement("tr"));
          if (this.options.displayWeekNumber)
            (f = e(document.createElement("td"))).addClass("week-number"),
              f.text(this.getWeekNumber(m)),
              D.append(f);
          do {
            var y = e(document.createElement("td"));
            if ((y.addClass("day"), m < i)) y.addClass("old");
            else if (m > p) y.addClass("new");
            else {
              if (
                (null != this.options.minDate && m < this.options.minDate) ||
                (null != this.options.maxDate && m > this.options.maxDate)
              )
                y.addClass("disabled");
              else if (this.options.disabledDays.length > 0)
                for (var c in this.options.disabledDays)
                  if (m.getTime() == this.options.disabledDays[c].getTime()) {
                    y.addClass("disabled");
                    break;
                  }
              var v = e(document.createElement("div"));
              v.addClass("day-content"),
                v.text(m.getDate()),
                y.append(v),
                this.options.customDayRenderer &&
                  this.options.customDayRenderer(v, m);
            }
            D.append(y), m.setDate(m.getDate() + 1);
          } while (m.getDay() != g);
          o.append(D);
        }
        s.append(o), t.append(s);
      }
      this.element.append(t);
    },
    _renderDataSource: function () {
      var t = this;
      null != this.options.dataSource &&
        this.options.dataSource.length > 0 &&
        this.element.find(".month-container").each(function () {
          var n = e(this).data("month-id"),
            a = new Date(t.options.startYear, n, 1),
            s = new Date(t.options.startYear, n + 1, 0);
          if (
            (null == t.options.minDate || s >= t.options.minDate) &&
            (null == t.options.maxDate || a <= t.options.maxDate)
          ) {
            var i = [];
            for (var o in t.options.dataSource)
              (t.options.dataSource[o].startDate > s &&
                !(t.options.dataSource[o].endDate < a)) ||
                i.push(t.options.dataSource[o]);
            i.length > 0 &&
              e(this)
                .find(".day-content")
                .each(function () {
                  var a = new Date(t.options.startYear, n, e(this).text()),
                    s = [];
                  if (
                    (null == t.options.minDate || a >= t.options.minDate) &&
                    (null == t.options.maxDate || a <= t.options.maxDate)
                  ) {
                    for (var o in i)
                      i[o].startDate <= a && i[o].endDate >= a && s.push(i[o]);
                    s.length > 0 && t._renderDataSourceDay(e(this), a, s);
                  }
                });
          }
        });
    },
    _renderDataSourceDay: function (e, t, n) {
      switch (this.options.style) {
        case "border":
          var a = 0;
          if (
            (1 == n.length
              ? (a = 4)
              : n.length <= 3
              ? (a = 2)
              : e.parent().css("color", "black"),
            a > 0)
          ) {
            var s = "black";
            for (var i in n) s = n[i].color;
            e.parent().css("color", s), e.parent().css("font-weight", 700);
          }
          break;
        case "background":
          e.parent().css("background-color", n[n.length - 1].color);
          var o = t.getTime();
          if (n[n.length - 1].startDate.getTime() == o)
            if (
              (e.parent().addClass("day-start"),
              n[n.length - 1].startHalfDay || this.options.alwaysHalfDay)
            ) {
              e.parent().addClass("day-half");
              var r = "transparent";
              for (i = n.length - 2; i >= 0; i--)
                if (
                  n[i].startDate.getTime() != o ||
                  (!n[i].startHalfDay && !this.options.alwaysHalfDay)
                ) {
                  r = n[i].color;
                  break;
                }
              e.parent().css(
                "background",
                "linear-gradient(-45deg, " +
                  n[n.length - 1].color +
                  ", " +
                  n[n.length - 1].color +
                  " 49%, " +
                  r +
                  " 51%, " +
                  r +
                  ")"
              );
            } else
              this.options.roundRangeLimits &&
                e.parent().addClass("round-left");
          else if (n[n.length - 1].endDate.getTime() == o)
            if (
              (e.parent().addClass("day-end"),
              n[n.length - 1].endHalfDay || this.options.alwaysHalfDay)
            ) {
              e.parent().addClass("day-half");
              for (r = "transparent", i = n.length - 2; i >= 0; i--)
                if (
                  n[i].endDate.getTime() != o ||
                  (!n[i].endHalfDay && !this.options.alwaysHalfDay)
                ) {
                  r = n[i].color;
                  break;
                }
              e.parent().css(
                "background",
                "linear-gradient(135deg, " +
                  n[n.length - 1].color +
                  ", " +
                  n[n.length - 1].color +
                  " 49%, " +
                  r +
                  " 51%, " +
                  r +
                  ")"
              );
            } else
              this.options.roundRangeLimits &&
                e.parent().addClass("round-right");
          break;
        case "custom":
          this.options.customDataSourceRenderer &&
            this.options.customDataSourceRenderer.call(this, e, t, n);
      }
    },
    _applyEvents: function () {
      var t = this;
      this.element.find(".year-neighbor, .year-neighbor2").click(function () {
        e(this).hasClass("disabled") || t.setYear(parseInt(e(this).text()));
      }),
        this.element.find(".calendar-header .prev").click(function () {
          e(this).hasClass("disabled") ||
            t.element
              .find(".months-container")
              .animate({ "margin-left": "100%" }, 100, function () {
                t.element.find(".months-container").hide(),
                  t.element.find(".months-container").css("margin-left", "0"),
                  setTimeout(function () {
                    t.setYear(t.options.startYear - 1);
                  }, 50);
              });
        }),
        this.element.find(".calendar-header .next").click(function () {
          e(this).hasClass("disabled") ||
            t.element
              .find(".months-container")
              .animate({ "margin-left": "-100%" }, 100, function () {
                t.element.find(".months-container").hide(),
                  t.element.find(".months-container").css("margin-left", "0"),
                  setTimeout(function () {
                    t.setYear(t.options.startYear + 1);
                  }, 50);
              });
        });
      var n = this.element.find(".day:not(.old, .new, .disabled)");
      n.click(function (n) {
        n.stopPropagation();
        var a = t._getDate(e(this));
        t._triggerEvent("clickDay", {
          element: e(this),
          which: n.which,
          date: a,
          events: t.getEvents(a),
        });
      }),
        n.bind("contextmenu", function (n) {
          t.options.enableContextMenu &&
            (n.preventDefault(),
            t.options.contextMenuItems.length > 0 &&
              t._openContextMenu(e(this)));
          var a = t._getDate(e(this));
          t._triggerEvent("dayContextMenu", {
            element: e(this),
            date: a,
            events: t.getEvents(a),
          });
        }),
        this.options.enableRangeSelection &&
          (n.mousedown(function (n) {
            if (1 == n.which) {
              var a = t._getDate(e(this));
              (t.options.allowOverlap || 0 == t.getEvents(a).length) &&
                ((t._mouseDown = !0),
                (t._rangeStart = t._rangeEnd = a),
                t._refreshRange());
            }
          }),
          n.mouseenter(function (n) {
            if (t._mouseDown) {
              var a = t._getDate(e(this));
              if (!t.options.allowOverlap) {
                var s = new Date(t._rangeStart.getTime());
                if (s < a)
                  for (
                    var i = new Date(
                      s.getFullYear(),
                      s.getMonth(),
                      s.getDate() + 1
                    );
                    s < a && !(t.getEvents(i).length > 0);

                  )
                    s.setDate(s.getDate() + 1), i.setDate(i.getDate() + 1);
                else
                  for (
                    i = new Date(
                      s.getFullYear(),
                      s.getMonth(),
                      s.getDate() - 1
                    );
                    s > a && !(t.getEvents(i).length > 0);

                  )
                    s.setDate(s.getDate() - 1), i.setDate(i.getDate() - 1);
                a = s;
              }
              var o = t._rangeEnd;
              (t._rangeEnd = a),
                o.getTime() != t._rangeEnd.getTime() && t._refreshRange();
            }
          }),
          e(window).mouseup(function (e) {
            if (t._mouseDown) {
              (t._mouseDown = !1), t._refreshRange();
              var n = t._rangeStart < t._rangeEnd ? t._rangeStart : t._rangeEnd,
                a = t._rangeEnd > t._rangeStart ? t._rangeEnd : t._rangeStart;
              t._triggerEvent("selectRange", { startDate: n, endDate: a });
            }
          })),
        n.mouseenter(function (n) {
          if (!t._mouseDown) {
            var a = t._getDate(e(this));
            t._triggerEvent("mouseOnDay", {
              element: e(this),
              date: a,
              events: t.getEvents(a),
            });
          }
        }),
        n.mouseleave(function (n) {
          var a = t._getDate(e(this));
          t._triggerEvent("mouseOutDay", {
            element: e(this),
            date: a,
            events: t.getEvents(a),
          });
        }),
        setInterval(function () {
          var n = e(t.element).width(),
            a = e(t.element).find(".month").first().width() + 10,
            s = "month-container";
          (s +=
            6 * a < n
              ? " col-xs-2"
              : 4 * a < n
              ? " col-xs-3"
              : 3 * a < n
              ? " col-xs-4"
              : 2 * a < n
              ? " col-xs-6"
              : " col-xs-12"),
            e(t.element).find(".month-container").attr("class", s);
        }, 300);
    },
    _refreshRange: function () {
      var t = this;
      if (
        (this.element.find("td.day.range").removeClass("range"),
        this.element.find("td.day.range-start").removeClass("range-start"),
        this.element.find("td.day.range-end").removeClass("range-end"),
        this._mouseDown)
      ) {
        var n = t._rangeStart < t._rangeEnd ? t._rangeStart : t._rangeEnd,
          a = t._rangeEnd > t._rangeStart ? t._rangeEnd : t._rangeStart;
        this.element.find(".month-container").each(function () {
          var s = e(this).data("month-id");
          n.getMonth() <= s &&
            a.getMonth() >= s &&
            e(this)
              .find("td.day:not(.old, .new)")
              .each(function () {
                var s = t._getDate(e(this));
                s >= n &&
                  s <= a &&
                  (e(this).addClass("range"),
                  s.getTime() == n.getTime() && e(this).addClass("range-start"),
                  s.getTime() == a.getTime() && e(this).addClass("range-end"));
              });
        });
      }
    },
    _openContextMenu: function (t) {
      var n = e(".calendar-context-menu");
      n.length > 0
        ? (n.hide(), n.empty())
        : ((n = e(document.createElement("div"))).addClass(
            "calendar-context-menu"
          ),
          e("body").append(n));
      var a = this._getDate(t),
        s = this.getEvents(a);
      for (var i in s) {
        var o = e(document.createElement("div"));
        o.addClass("item"), o.css("border-left", "4px solid " + s[i].color);
        var r = e(document.createElement("div"));
        r.addClass("content"), r.text(s[i].name), o.append(r);
        var d = e(document.createElement("span"));
        d.addClass("glyphicon glyphicon-chevron-right"),
          o.append(d),
          this._renderContextMenuItems(o, this.options.contextMenuItems, s[i]),
          n.append(o);
      }
      n.children().length > 0 &&
        (n.css("left", t.offset().left + 25 + "px"),
        n.css("top", t.offset().top + 25 + "px"),
        n.show(),
        e(window).one("mouseup", function () {
          n.hide();
        }));
    },
    _renderContextMenuItems: function (t, n, a) {
      var s = e(document.createElement("div"));
      for (var i in (s.addClass("submenu"), n))
        if (!n[i].visible || n[i].visible(a)) {
          var o = e(document.createElement("div"));
          o.addClass("item");
          var r = e(document.createElement("div"));
          r.addClass("content"),
            r.text(n[i].text),
            o.append(r),
            n[i].click &&
              (function (e) {
                o.click(function () {
                  n[e].click(a);
                });
              })(i);
          var d = e(document.createElement("span"));
          d.addClass("glyphicon glyphicon-chevron-right"),
            o.append(d),
            n[i].items &&
              n[i].items.length > 0 &&
              this._renderContextMenuItems(o, n[i].items, a),
            s.append(o);
        }
      s.children().length > 0 && t.append(s);
    },
    _getColor: function (t) {
      e("<div />").css("color", t);
    },
    _getDate: function (e) {
      var t = e.children(".day-content").text(),
        n = e.closest(".month-container").data("month-id"),
        a = this.options.startYear;
      return new Date(a, n, t);
    },
    _triggerEvent: function (t, n) {
      var a = e.Event(t);
      for (var s in n) a[s] = n[s];
      this.element.trigger(a);
    },
    getWeekNumber: function (e) {
      var t = new Date(e.getTime());
      t.setHours(0, 0, 0, 0),
        t.setDate(t.getDate() + 3 - ((t.getDay() + 6) % 7));
      var n = new Date(t.getFullYear(), 0, 4);
      return (
        1 +
        Math.round(
          ((t.getTime() - n.getTime()) / 864e5 - 3 + ((n.getDay() + 6) % 7)) / 7
        )
      );
    },
    getEvents: function (e) {
      var t = [];
      if (this.options.dataSource && e)
        for (var n in this.options.dataSource)
          this.options.dataSource[n].startDate <= e &&
            this.options.dataSource[n].endDate >= e &&
            t.push(this.options.dataSource[n]);
      return t;
    },
    getYear: function () {
      return this.options.startYear;
    },
    setYear: function (e) {
      var t = parseInt(e);
      isNaN(t) || ((this.options.startYear = t), this._render());
    },
    getMinDate: function () {
      return this.options.minDate;
    },
    setMinDate: function (e) {
      e instanceof Date && ((this.options.minDate = e), this._render());
    },
    getMaxDate: function () {
      return this.options.maxDate;
    },
    setMaxDate: function (e) {
      e instanceof Date && ((this.options.maxDate = e), this._render());
    },
    getStyle: function () {
      return this.options.style;
    },
    setStyle: function (e) {
      (this.options.style =
        "background" == e || "border" == e || "custom" == e ? e : "border"),
        this._render();
    },
    getAllowOverlap: function () {
      return this.options.allowOverlap;
    },
    setAllowOverlap: function (e) {
      this.options.allowOverlap = e;
    },
    getDisplayWeekNumber: function () {
      return this.options.displayWeekNumber;
    },
    setDisplayWeekNumber: function (e) {
      (this.options.displayWeekNumber = e), this._render();
    },
    getAlwaysHalfDay: function () {
      return this.options.alwaysHalfDay;
    },
    setAlwaysHalfDay: function (e) {
      (this.options.alwaysHalfDay = e), this._render();
    },
    getEnableRangeSelection: function () {
      return this.options.enableRangeSelection;
    },
    setEnableRangeSelection: function (e) {
      (this.options.enableRangeSelection = e), this._render();
    },
    getDisabledDays: function () {
      return this.options.disabledDays;
    },
    setDisabledDays: function (e) {
      (this.options.disabledDays = e instanceof Array ? e : []), this._render();
    },
    getRoundRangeLimits: function () {
      return this.options.roundRangeLimits;
    },
    setRoundRangeLimits: function (e) {
      (this.options.roundRangeLimits = e), this._render();
    },
    getEnableContextMenu: function () {
      return this.options.enableContextMenu;
    },
    setEnableContextMenu: function (e) {
      (this.options.enableContextMenu = e), this._render();
    },
    getContextMenuItems: function () {
      return this.options.contextMenuItems;
    },
    setContextMenuItems: function (e) {
      (this.options.contextMenuItems = e instanceof Array ? e : []),
        this._render();
    },
    getCustomDayRenderer: function () {
      return this.options.customDayRenderer;
    },
    setCustomDayRenderer: function (t) {
      (this.options.customDayRenderer = e.isFunction(t) ? t : null),
        this._render();
    },
    getCustomDataSourceRenderer: function () {
      return this.options.customDataSourceRenderer;
    },
    setCustomDataSourceRenderer: function (t) {
      (this.options.customDataSourceRenderer = e.isFunction(t) ? t : null),
        this._render();
    },
    getLanguage: function () {
      return this.options.language;
    },
    setLanguage: function (e) {
      null != e &&
        null != n[e] &&
        ((this.options.language = e), this._render());
    },
    getDataSource: function () {
      return this.options.dataSource;
    },
    setDataSource: function (e) {
      (this.options.dataSource = e instanceof Array ? e : []),
        this._initializeDatasourceColors(),
        this._render();
    },
    addEvent: function (e) {
      this.options.dataSource.push(e), this._render();
    },
  }),
    (e.fn.calendar = function (n) {
      var a = new t(e(this), n);
      return e(this).data("calendar", a), a;
    }),
    (e.fn.renderEnd = function (t) {
      e(this).bind("renderEnd", t);
    }),
    (e.fn.clickDay = function (t) {
      e(this).bind("clickDay", t);
    }),
    (e.fn.dayContextMenu = function (t) {
      e(this).bind("dayContextMenu", t);
    }),
    (e.fn.selectRange = function (t) {
      e(this).bind("selectRange", t);
    }),
    (e.fn.mouseOnDay = function (t) {
      e(this).bind("mouseOnDay", t);
    }),
    (e.fn.mouseOutDay = function (t) {
      e(this).bind("mouseOutDay", t);
    });
  var n = (e.fn.calendar.dates = {
      en: {
        days: [
          "Sunday",
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday",
          "Sunday",
        ],
        daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
        daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"],
        months: [
          "January",
          "February",
          "March",
          "April",
          "May",
          "June",
          "July",
          "August",
          "September",
          "October",
          "November",
          "December",
        ],
        monthsShort: [
          "Jan",
          "Feb",
          "Mar",
          "Apr",
          "May",
          "Jun",
          "Jul",
          "Aug",
          "Sep",
          "Oct",
          "Nov",
          "Dec",
        ],
        weekShort: "W",
        weekStart: 0,
      },
      ko: {
        days: [
          "일요일",
          "월요일",
          "화묘일",
          "수요일",
          "목요일",
          "금요일",
          "토요일",
          "일요일",
        ],
        daysShort: ["일", "월", "화", "수", "목", "금", "토", "일"],
        daysMin: ["일", "월", "화", "수", "목", "금", "토", "일"],
        months: [
          "1월",
          "2월",
          "3월",
          "4월",
          "5월",
          "6월",
          "7월",
          "8월",
          "9월",
          "10월",
          "11월",
          "12월",
        ],
        monthsShort: [
          "1월",
          "2월",
          "3월",
          "4월",
          "5월",
          "6월",
          "7월",
          "8월",
          "9월",
          "10월",
          "11월",
          "12월",
        ],
        weekShort: "W",
        weekStart: 0,
      },
    }),
    a = (e.fn.calendar.colors = [
      "#2C8FC9",
      "#9CB703",
      "#F5BB00",
      "#FF4A32",
      "#B56CE2",
      "#45A597",
    ]);
  e(function () {
    e('[data-provide="calendar"]').each(function () {
      e(this).calendar();
    });
  });
});
!(function (a, b) {
  "object" == typeof exports && "undefined" != typeof module
    ? (module.exports = b())
    : "function" == typeof define && define.amd
    ? define("local_ubholiday/sweetalert", [], b)
    : (a.Sweetalert2 = b());
})(this, function () {
  "use strict";
  function a() {
    for (var a = this, b = arguments.length, c = Array(b), d = 0; d < b; d++)
      c[d] = arguments[d];
    return new (Function.prototype.bind.apply(a, [null].concat(c)))();
  }
  function b(a) {
    var b = function c() {
      for (var a = arguments.length, b = Array(a), d = 0; d < a; d++)
        b[d] = arguments[d];
      return this instanceof c
        ? void Object.getPrototypeOf(c).apply(this, b)
        : new (Function.prototype.bind.apply(c, [null].concat(b)))();
    };
    return (
      (b.prototype = u(Object.create(a.prototype), { constructor: b })),
      "function" == typeof Object.setPrototypeOf
        ? Object.setPrototypeOf(b, a)
        : (b.__proto__ = a),
      b
    );
  }
  function c(a) {
    var b = (function (b) {
      function c() {
        return (
          s(this, c),
          x(
            this,
            (c.__proto__ || Object.getPrototypeOf(c)).apply(this, arguments)
          )
        );
      }
      return (
        w(c, b),
        t(
          c,
          [
            {
              key: "_main",
              value: function (a) {
                return v(
                  c.prototype.__proto__ || Object.getPrototypeOf(c.prototype),
                  "_main",
                  this
                ).call(this, u({}, Pa, a));
              },
            },
          ],
          [
            {
              key: "setDefaults",
              value: function (b) {
                if (
                  (F(Oa),
                  !b ||
                    "object" !== ("undefined" == typeof b ? "undefined" : r(b)))
                )
                  throw new TypeError(
                    "SweetAlert2: The argument for setDefaults() is required and has to be a object"
                  );
                Na(b),
                  Object.keys(b).forEach(function (c) {
                    a.isValidParameter(c) && (Pa[c] = b[c]);
                  });
              },
            },
            {
              key: "resetDefaults",
              value: function () {
                F(Oa), (Pa = {});
              },
            },
          ]
        ),
        c
      );
    })(a);
    return (
      "undefined" != typeof window &&
        "object" === r(window._swalDefaults) &&
        b.setDefaults(window._swalDefaults),
      b
    );
  }
  function d(a) {
    var c = this;
    return b(
      (function (b) {
        function c() {
          return (
            s(this, c),
            x(
              this,
              (c.__proto__ || Object.getPrototypeOf(c)).apply(this, arguments)
            )
          );
        }
        return (
          w(c, b),
          t(c, [
            {
              key: "_main",
              value: function (b) {
                return v(
                  c.prototype.__proto__ || Object.getPrototypeOf(c.prototype),
                  "_main",
                  this
                ).call(this, u({}, a, b));
              },
            },
          ]),
          c
        );
      })(c)
    );
  }
  function e() {
    var a = $a.innerParams.get(this),
      b = $a.domCache.get(this);
    a.showConfirmButton ||
      (Y(b.confirmButton), a.showCancelButton || Y(b.actions)),
      V([b.popup, b.actions], O.loading),
      b.popup.removeAttribute("aria-busy"),
      b.popup.removeAttribute("data-loading"),
      (b.confirmButton.disabled = !1),
      (b.cancelButton.disabled = !1);
  }
  function f(a) {
    var b = $a.innerParams.get(this),
      c = $a.domCache.get(this);
    if (((a = a || b.input), !a)) return null;
    switch (a) {
      case "select":
      case "textarea":
      case "file":
        return W(c.content, O[a]);
      case "checkbox":
        return c.popup.querySelector("." + O.checkbox + " input");
      case "radio":
        return (
          c.popup.querySelector("." + O.radio + " input:checked") ||
          c.popup.querySelector("." + O.radio + " input:first-child")
        );
      case "range":
        return c.popup.querySelector("." + O.range + " input");
      default:
        return W(c.content, O.input);
    }
  }
  function g() {
    var a = $a.domCache.get(this);
    (a.confirmButton.disabled = !1), (a.cancelButton.disabled = !1);
  }
  function h() {
    var a = $a.domCache.get(this);
    (a.confirmButton.disabled = !0), (a.cancelButton.disabled = !0);
  }
  function i() {
    var a = $a.domCache.get(this);
    a.confirmButton.disabled = !1;
  }
  function j() {
    var a = $a.domCache.get(this);
    a.confirmButton.disabled = !0;
  }
  function k() {
    var a = this.getInput();
    if (!a) return !1;
    if ("radio" === a.type)
      for (
        var b = a.parentNode.parentNode, c = b.querySelectorAll("input"), d = 0;
        d < c.length;
        d++
      )
        c[d].disabled = !1;
    else a.disabled = !1;
  }
  function l() {
    var a = this.getInput();
    if (!a) return !1;
    if (a && "radio" === a.type)
      for (
        var b = a.parentNode.parentNode, c = b.querySelectorAll("input"), d = 0;
        d < c.length;
        d++
      )
        c[d].disabled = !0;
    else a.disabled = !0;
  }
  function m(a) {
    var b = $a.domCache.get(this);
    b.validationError.innerHTML = a;
    var c = window.getComputedStyle(b.popup);
    (b.validationError.style.marginLeft =
      "-" + c.getPropertyValue("padding-left")),
      (b.validationError.style.marginRight =
        "-" + c.getPropertyValue("padding-right")),
      X(b.validationError);
    var d = this.getInput();
    d &&
      (d.setAttribute("aria-invalid", !0),
      d.setAttribute("aria-describedBy", O.validationerror),
      S(d),
      U(d, O.inputerror));
  }
  function n() {
    var a = $a.domCache.get(this);
    a.validationError && Y(a.validationError);
    var b = this.getInput();
    b &&
      (b.removeAttribute("aria-invalid"),
      b.removeAttribute("aria-describedBy"),
      V(b, O.inputerror));
  }
  function o(a) {
    a.inputValidator ||
      Object.keys(ab).forEach(function (b) {
        a.input === b &&
          (a.inputValidator = a.expectRejections
            ? ab[b]
            : eb.adaptInputValidator(ab[b]));
      }),
      (!a.target ||
        ("string" == typeof a.target && !document.querySelector(a.target)) ||
        ("string" != typeof a.target && !a.target.appendChild)) &&
        (C('Target parameter is not valid, defaulting to "body"'),
        (a.target = "body"));
    var b = void 0,
      c = ca(),
      d =
        "string" == typeof a.target
          ? document.querySelector(a.target)
          : a.target;
    (b = c && d && c.parentNode !== d.parentNode ? va(a) : c || va(a)),
      a.width &&
        (b.style.width = "number" == typeof a.width ? a.width + "px" : a.width),
      a.padding &&
        (b.style.padding =
          "number" == typeof a.padding ? a.padding + "px" : a.padding),
      a.background && (b.style.background = a.background);
    for (
      var e = window.getComputedStyle(b).getPropertyValue("background-color"),
        f = b.querySelectorAll(
          "[class^=swal2-success-circular-line], .swal2-success-fix"
        ),
        g = 0;
      g < f.length;
      g++
    )
      f[g].style.backgroundColor = e;
    var h = aa(),
      i = ea(),
      j = fa().querySelector("#" + O.content),
      k = ma(),
      l = ja(),
      m = ka(),
      n = oa(),
      o = na();
    if (
      (a.titleText
        ? (i.innerText = a.titleText)
        : a.title && (i.innerHTML = a.title.split("\n").join("<br />")),
      "string" == typeof a.backdrop
        ? (aa().style.background = a.backdrop)
        : a.backdrop ||
          U([document.documentElement, document.body], O["no-backdrop"]),
      a.html ? wa(a.html, j) : a.text ? ((j.textContent = a.text), X(j)) : Y(j),
      a.position in O
        ? U(h, O[a.position])
        : (C('The "position" parameter is not valid, defaulting to "center"'),
          U(h, O.center)),
      a.grow && "string" == typeof a.grow)
    ) {
      var p = "grow-" + a.grow;
      p in O && U(h, O[p]);
    }
    "function" == typeof a.animation && (a.animation = a.animation.call()),
      a.showCloseButton
        ? (n.setAttribute("aria-label", a.closeButtonAriaLabel), X(n))
        : Y(n),
      (b.className = O.popup),
      a.toast
        ? (U([document.documentElement, document.body], O["toast-shown"]),
          U(b, O.toast))
        : U(b, O.modal),
      a.customClass && U(b, a.customClass);
    var q = ha(),
      r = parseInt(
        null === a.currentProgressStep
          ? eb.getQueueStep()
          : a.currentProgressStep,
        10
      );
    a.progressSteps && a.progressSteps.length
      ? (X(q),
        Z(q),
        r >= a.progressSteps.length &&
          C(
            "Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"
          ),
        a.progressSteps.forEach(function (b, c) {
          var d = document.createElement("li");
          if (
            (U(d, O.progresscircle),
            (d.innerHTML = b),
            c === r && U(d, O.activeprogressstep),
            q.appendChild(d),
            c !== a.progressSteps.length - 1)
          ) {
            var e = document.createElement("li");
            U(e, O.progressline),
              a.progressStepsDistance &&
                (e.style.width = a.progressStepsDistance),
              q.appendChild(e);
          }
        }))
      : Y(q);
    for (var s = da(), t = 0; t < s.length; t++) Y(s[t]);
    if (a.type) {
      var u = !1;
      for (var v in P)
        if (a.type === v) {
          u = !0;
          break;
        }
      if (!u) return D("Unknown alert type: " + a.type), !1;
      var w = b.querySelector("." + O.icon + "." + P[a.type]);
      X(w), a.animation && U(w, "swal2-animate-" + a.type + "-icon");
    }
    var x = ga();
    if (
      (a.imageUrl
        ? (x.setAttribute("src", a.imageUrl),
          x.setAttribute("alt", a.imageAlt),
          X(x),
          a.imageWidth
            ? x.setAttribute("width", a.imageWidth)
            : x.removeAttribute("width"),
          a.imageHeight
            ? x.setAttribute("height", a.imageHeight)
            : x.removeAttribute("height"),
          (x.className = O.image),
          a.imageClass && U(x, a.imageClass))
        : Y(x),
      a.showCancelButton ? (m.style.display = "inline-block") : Y(m),
      a.showConfirmButton ? _(l, "display") : Y(l),
      a.showConfirmButton || a.showCancelButton ? X(k) : Y(k),
      (l.innerHTML = a.confirmButtonText),
      (m.innerHTML = a.cancelButtonText),
      l.setAttribute("aria-label", a.confirmButtonAriaLabel),
      m.setAttribute("aria-label", a.cancelButtonAriaLabel),
      (l.className = O.confirm),
      U(l, a.confirmButtonClass),
      (m.className = O.cancel),
      U(m, a.cancelButtonClass),
      a.buttonsStyling)
    ) {
      U([l, m], O.styled),
        a.confirmButtonColor &&
          (l.style.backgroundColor = a.confirmButtonColor),
        a.cancelButtonColor && (m.style.backgroundColor = a.cancelButtonColor);
      var y = window.getComputedStyle(l).getPropertyValue("background-color");
      (l.style.borderLeftColor = y), (l.style.borderRightColor = y);
    } else V([l, m], O.styled), (l.style.backgroundColor = l.style.borderLeftColor = l.style.borderRightColor = ""), (m.style.backgroundColor = m.style.borderLeftColor = m.style.borderRightColor = "");
    wa(a.footer, o),
      a.animation === !0 ? V(b, O.noanimation) : U(b, O.noanimation),
      a.showLoaderOnConfirm &&
        !a.preConfirm &&
        C(
          "showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"
        );
  }
  function p(a) {
    var b = this;
    Na(a);
    var c = u({}, Ja, a);
    o(c),
      Object.freeze(c),
      $a.innerParams.set(this, c),
      Da.timeout && (Da.timeout.stop(), delete Da.timeout),
      clearTimeout(Da.restoreFocusTimeout);
    var d = {
      popup: ca(),
      container: aa(),
      content: fa(),
      actions: ma(),
      confirmButton: ja(),
      cancelButton: ka(),
      closeButton: oa(),
      validationError: ia(),
      progressSteps: ha(),
    };
    $a.domCache.set(this, d);
    var e = this.constructor;
    return new Promise(function (a, f) {
      var g = function (b) {
          e.closePopup(c.onClose, c.onAfterClose),
            a(c.useRejections ? b : { value: b });
        },
        h = function (b) {
          e.closePopup(c.onClose, c.onAfterClose),
            c.useRejections ? f(b) : a({ dismiss: b });
        },
        i = function (a) {
          e.closePopup(c.onClose, c.onAfterClose), f(a);
        };
      c.timer &&
        (Da.timeout = new _a(function () {
          h("timer"), delete Da.timeout;
        }, c.timer));
      var j = function () {
        var a = b.getInput();
        if (!a) return null;
        switch (c.input) {
          case "checkbox":
            return a.checked ? 1 : 0;
          case "radio":
            return a.checked ? a.value : null;
          case "file":
            return a.files.length ? a.files[0] : null;
          default:
            return c.inputAutoTrim ? a.value.trim() : a.value;
        }
      };
      c.input &&
        setTimeout(function () {
          var a = b.getInput();
          a && S(a);
        }, 0);
      for (
        var k = function (a) {
            if ((c.showLoaderOnConfirm && e.showLoading(), c.preConfirm)) {
              b.resetValidationError();
              var f = Promise.resolve().then(function () {
                return c.preConfirm(a, c.extraParams);
              });
              c.expectRejections
                ? f.then(
                    function (b) {
                      return g(b || a);
                    },
                    function (a) {
                      b.hideLoading(), a && b.showValidationError(a);
                    }
                  )
                : f.then(
                    function (c) {
                      $(d.validationError) || c === !1
                        ? b.hideLoading()
                        : g(c || a);
                    },
                    function (a) {
                      return i(a);
                    }
                  );
            } else g(a);
          },
          l = function (a) {
            var f = a || window.event,
              g = f.target || f.srcElement,
              l = d.confirmButton,
              m = d.cancelButton,
              n = l && (l === g || l.contains(g)),
              o = m && (m === g || m.contains(g));
            switch (f.type) {
              case "click":
                if (n && e.isVisible())
                  if ((b.disableButtons(), c.input)) {
                    var p = j();
                    if (c.inputValidator) {
                      b.disableInput();
                      var q = Promise.resolve().then(function () {
                        return c.inputValidator(p, c.extraParams);
                      });
                      c.expectRejections
                        ? q.then(
                            function () {
                              b.enableButtons(), b.enableInput(), k(p);
                            },
                            function (a) {
                              b.enableButtons(),
                                b.enableInput(),
                                a && b.showValidationError(a);
                            }
                          )
                        : q.then(
                            function (a) {
                              b.enableButtons(),
                                b.enableInput(),
                                a ? b.showValidationError(a) : k(p);
                            },
                            function (a) {
                              return i(a);
                            }
                          );
                    } else k(p);
                  } else k(!0);
                else
                  o &&
                    e.isVisible() &&
                    (b.disableButtons(), h(e.DismissReason.cancel));
            }
          },
          m = d.popup.querySelectorAll("button"),
          n = 0;
        n < m.length;
        n++
      )
        (m[n].onclick = l),
          (m[n].onmouseover = l),
          (m[n].onmouseout = l),
          (m[n].onmousedown = l);
      if (
        ((d.closeButton.onclick = function () {
          h(e.DismissReason.close);
        }),
        c.toast)
      )
        d.popup.onclick = function (a) {
          c.showConfirmButton ||
            c.showCancelButton ||
            c.showCloseButton ||
            c.input ||
            (e.closePopup(c.onClose, c.onAfterClose), h(e.DismissReason.close));
        };
      else {
        var o = !1;
        (d.popup.onmousedown = function () {
          d.container.onmouseup = function (a) {
            (d.container.onmouseup = void 0),
              a.target === d.container && (o = !0);
          };
        }),
          (d.container.onmousedown = function () {
            d.popup.onmouseup = function (a) {
              (d.popup.onmouseup = void 0),
                (a.target === d.popup || d.popup.contains(a.target)) &&
                  (o = !0);
            };
          }),
          (d.container.onclick = function (a) {
            return o
              ? void (o = !1)
              : void (
                  a.target === d.container &&
                  G(c.allowOutsideClick) &&
                  h(e.DismissReason.backdrop)
                );
          });
      }
      c.reverseButtons
        ? d.confirmButton.parentNode.insertBefore(
            d.cancelButton,
            d.confirmButton
          )
        : d.confirmButton.parentNode.insertBefore(
            d.confirmButton,
            d.cancelButton
          );
      var p = function (a, b) {
          for (var e = pa(c.focusCancel), f = 0; f < e.length; f++) {
            (a += b), a === e.length ? (a = 0) : a === -1 && (a = e.length - 1);
            var g = e[a];
            if ($(g)) return g.focus();
          }
          d.popup.focus();
        },
        q = function (a, c) {
          c.stopKeydownPropagation && a.stopPropagation();
          var f = [
            "ArrowLeft",
            "ArrowRight",
            "ArrowUp",
            "ArrowDown",
            "Left",
            "Right",
            "Up",
            "Down",
          ];
          if ("Enter" !== a.key || a.isComposing)
            if ("Tab" === a.key) {
              for (
                var g = a.target || a.srcElement,
                  i = pa(c.focusCancel),
                  j = -1,
                  k = 0;
                k < i.length;
                k++
              )
                if (g === i[k]) {
                  j = k;
                  break;
                }
              a.shiftKey ? p(j, -1) : p(j, 1),
                a.stopPropagation(),
                a.preventDefault();
            } else
              f.indexOf(a.key) !== -1
                ? document.activeElement === d.confirmButton &&
                  $(d.cancelButton)
                  ? d.cancelButton.focus()
                  : document.activeElement === d.cancelButton &&
                    $(d.confirmButton) &&
                    d.confirmButton.focus()
                : ("Escape" !== a.key && "Esc" !== a.key) ||
                  G(c.allowEscapeKey) !== !0 ||
                  h(e.DismissReason.esc);
          else if (
            a.target &&
            b.getInput() &&
            a.target.outerHTML === b.getInput().outerHTML
          ) {
            if (["textarea", "file"].indexOf(c.input) !== -1) return;
            e.clickConfirm(), a.preventDefault();
          }
        };
      Da.keydownHandlerAdded &&
        (Da.keydownTarget.removeEventListener("keydown", Da.keydownHandler, {
          capture: Da.keydownListenerCapture,
        }),
        (Da.keydownHandlerAdded = !1)),
        c.toast ||
          ((Da.keydownHandler = function (a) {
            return q(a, c);
          }),
          (Da.keydownTarget = c.keydownListenerCapture ? window : d.popup),
          (Da.keydownListenerCapture = c.keydownListenerCapture),
          Da.keydownTarget.addEventListener("keydown", Da.keydownHandler, {
            capture: Da.keydownListenerCapture,
          }),
          (Da.keydownHandlerAdded = !0)),
        b.enableButtons(),
        b.hideLoading(),
        b.resetValidationError(),
        c.input && U(document.body, O["has-input"]);
      for (
        var s = [
            "input",
            "file",
            "range",
            "select",
            "radio",
            "checkbox",
            "textarea",
          ],
          t = void 0,
          u = 0;
        u < s.length;
        u++
      ) {
        var v = O[s[u]],
          w = W(d.content, v);
        if ((t = b.getInput(s[u]))) {
          for (var x in t.attributes)
            if (t.attributes.hasOwnProperty(x)) {
              var z = t.attributes[x].name;
              "type" !== z && "value" !== z && t.removeAttribute(z);
            }
          for (var A in c.inputAttributes)
            t.setAttribute(A, c.inputAttributes[A]);
        }
        (w.className = v), c.inputClass && U(w, c.inputClass), Y(w);
      }
      var C = void 0;
      switch (c.input) {
        case "text":
        case "email":
        case "password":
        case "number":
        case "tel":
        case "url":
          (t = W(d.content, O.input)),
            (t.value = c.inputValue),
            (t.placeholder = c.inputPlaceholder),
            (t.type = c.input),
            X(t);
          break;
        case "file":
          (t = W(d.content, O.file)),
            (t.placeholder = c.inputPlaceholder),
            (t.type = c.input),
            X(t);
          break;
        case "range":
          var E = W(d.content, O.range),
            F = E.querySelector("input"),
            I = E.querySelector("output");
          (F.value = c.inputValue),
            (F.type = c.input),
            (I.value = c.inputValue),
            X(E);
          break;
        case "select":
          var J = W(d.content, O.select);
          if (((J.innerHTML = ""), c.inputPlaceholder)) {
            var K = document.createElement("option");
            (K.innerHTML = c.inputPlaceholder),
              (K.value = ""),
              (K.disabled = !0),
              (K.selected = !0),
              J.appendChild(K);
          }
          C = function (a) {
            a.forEach(function (a) {
              var b = y(a, 2),
                d = b[0],
                e = b[1],
                f = document.createElement("option");
              (f.value = d),
                (f.innerHTML = e),
                c.inputValue.toString() === d.toString() && (f.selected = !0),
                J.appendChild(f);
            }),
              X(J),
              J.focus();
          };
          break;
        case "radio":
          var L = W(d.content, O.radio);
          (L.innerHTML = ""),
            (C = function (a) {
              a.forEach(function (a) {
                var b = y(a, 2),
                  d = b[0],
                  e = b[1],
                  f = document.createElement("input"),
                  g = document.createElement("label");
                (f.type = "radio"),
                  (f.name = O.radio),
                  (f.value = d),
                  c.inputValue.toString() === d.toString() && (f.checked = !0),
                  (g.innerHTML = e),
                  g.insertBefore(f, g.firstChild),
                  L.appendChild(g);
              }),
                X(L);
              var b = L.querySelectorAll("input");
              b.length && b[0].focus();
            });
          break;
        case "checkbox":
          var M = W(d.content, O.checkbox),
            N = b.getInput("checkbox");
          (N.type = "checkbox"),
            (N.value = 1),
            (N.id = O.checkbox),
            (N.checked = Boolean(c.inputValue));
          var P = M.getElementsByTagName("span");
          P.length && M.removeChild(P[0]),
            (P = document.createElement("span")),
            (P.innerHTML = c.inputPlaceholder),
            M.appendChild(P),
            X(M);
          break;
        case "textarea":
          var Q = W(d.content, O.textarea);
          (Q.value = c.inputValue), (Q.placeholder = c.inputPlaceholder), X(Q);
          break;
        case null:
          break;
        default:
          D(
            'Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "' +
              c.input +
              '"'
          );
      }
      if ("select" === c.input || "radio" === c.input) {
        var R = function (a) {
          return C(B(a));
        };
        H(c.inputOptions)
          ? (e.showLoading(),
            c.inputOptions.then(function (a) {
              b.hideLoading(), R(a);
            }))
          : "object" === r(c.inputOptions)
          ? R(c.inputOptions)
          : D(
              "Unexpected type of inputOptions! Expected object, Map or Promise, got " +
                r(c.inputOptions)
            );
      } else
        ["text", "email", "number", "tel", "textarea"].indexOf(c.input) !==
          -1 &&
          H(c.inputValue) &&
          (e.showLoading(),
          Y(t),
          c.inputValue
            .then(function (a) {
              (t.value = "number" === c.input ? parseFloat(a) || 0 : a + ""),
                X(t),
                b.hideLoading();
            })
            ["catch"](function (a) {
              D("Error in inputValue promise: " + a),
                (t.value = ""),
                X(t),
                b.hideLoading();
            }));
      bb(c),
        c.toast ||
          (G(c.allowEnterKey)
            ? c.focusCancel && $(d.cancelButton)
              ? d.cancelButton.focus()
              : c.focusConfirm && $(d.confirmButton)
              ? d.confirmButton.focus()
              : p(-1, 1)
            : document.activeElement && document.activeElement.blur()),
        (d.container.scrollTop = 0);
    });
  }
  function q() {
    if ("undefined" != typeof window) {
      "undefined" == typeof Promise &&
        D(
          "This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"
        );
      for (var a = arguments.length, b = Array(a), c = 0; c < a; c++)
        b[c] = arguments[c];
      if ("undefined" == typeof b[0])
        return D("SweetAlert2 expects at least 1 attribute!"), !1;
      db = this;
      var d = Object.freeze(this.constructor.argsToParams(b));
      Object.defineProperties(this, {
        params: { value: d, writable: !1, enumerable: !0 },
      });
      var e = this._main(this.params);
      $a.promise.set(this, e);
    }
  }
  var r =
      "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
        ? function (a) {
            return typeof a;
          }
        : function (a) {
            return a &&
              "function" == typeof Symbol &&
              a.constructor === Symbol &&
              a !== Symbol.prototype
              ? "symbol"
              : typeof a;
          },
    s = function (a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    },
    t = (function () {
      function a(a, b) {
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          (d.enumerable = d.enumerable || !1),
            (d.configurable = !0),
            "value" in d && (d.writable = !0),
            Object.defineProperty(a, d.key, d);
        }
      }
      return function (b, c, d) {
        return c && a(b.prototype, c), d && a(b, d), b;
      };
    })(),
    u =
      Object.assign ||
      function (a) {
        for (var b = 1; b < arguments.length; b++) {
          var c = arguments[b];
          for (var d in c)
            Object.prototype.hasOwnProperty.call(c, d) && (a[d] = c[d]);
        }
        return a;
      },
    v = function fb(a, b, c) {
      null === a && (a = Function.prototype);
      var d = Object.getOwnPropertyDescriptor(a, b);
      if (void 0 === d) {
        var e = Object.getPrototypeOf(a);
        return null === e ? void 0 : fb(e, b, c);
      }
      if ("value" in d) return d.value;
      var f = d.get;
      if (void 0 !== f) return f.call(c);
    },
    w = function (a, b) {
      if ("function" != typeof b && null !== b)
        throw new TypeError(
          "Super expression must either be null or a function, not " + typeof b
        );
      (a.prototype = Object.create(b && b.prototype, {
        constructor: {
          value: a,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
        b &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(a, b)
            : (a.__proto__ = b));
    },
    x = function (a, b) {
      if (!a)
        throw new ReferenceError(
          "this hasn't been initialised - super() hasn't been called"
        );
      return !b || ("object" != typeof b && "function" != typeof b) ? a : b;
    },
    y = (function () {
      function a(a, b) {
        var c = [],
          d = !0,
          e = !1,
          f = void 0;
        try {
          for (
            var g, h = a[Symbol.iterator]();
            !(d = (g = h.next()).done) &&
            (c.push(g.value), !b || c.length !== b);
            d = !0
          );
        } catch (i) {
          (e = !0), (f = i);
        } finally {
          try {
            !d && h["return"] && h["return"]();
          } finally {
            if (e) throw f;
          }
        }
        return c;
      }
      return function (b, c) {
        if (Array.isArray(b)) return b;
        if (Symbol.iterator in Object(b)) return a(b, c);
        throw new TypeError(
          "Invalid attempt to destructure non-iterable instance"
        );
      };
    })(),
    z = "SweetAlert2:",
    A = function (a) {
      for (var b = [], c = 0; c < a.length; c++)
        b.indexOf(a[c]) === -1 && b.push(a[c]);
      return b;
    },
    B = function (a) {
      var b = [];
      return (
        "undefined" != typeof Map && a instanceof Map
          ? a.forEach(function (a, c) {
              b.push([c, a]);
            })
          : Object.keys(a).forEach(function (c) {
              b.push([c, a[c]]);
            }),
        b
      );
    },
    C = function (a) {
      console.warn(z + " " + a);
    },
    D = function (a) {
      console.error(z + " " + a);
    },
    E = [],
    F = function (a) {
      E.indexOf(a) === -1 && (E.push(a), C(a));
    },
    G = function (a) {
      return "function" == typeof a ? a() : a;
    },
    H = function (a) {
      return (
        "object" === ("undefined" == typeof a ? "undefined" : r(a)) &&
        "function" == typeof a.then
      );
    },
    I = Object.freeze({
      cancel: "cancel",
      backdrop: "overlay",
      close: "close",
      esc: "esc",
      timer: "timer",
    }),
    J = "7.24.1",
    K = function (a) {
      var b = {};
      switch (r(a[0])) {
        case "string":
          ["title", "html", "type"].forEach(function (c, d) {
            switch (r(a[d])) {
              case "string":
                b[c] = a[d];
                break;
              case "undefined":
                break;
              default:
                D(
                  "Unexpected type of " +
                    c +
                    '! Expected "string", got ' +
                    r(a[d])
                );
            }
          });
          break;
        case "object":
          u(b, a[0]);
          break;
        default:
          return (
            D(
              'Unexpected type of argument! Expected "string" or "object", got ' +
                r(a[0])
            ),
            !1
          );
      }
      return b;
    },
    L = function (a) {
      return function (b, c) {
        return a.call(this, b, c).then(
          function () {},
          function (a) {
            return a;
          }
        );
      };
    },
    M = "swal2-",
    N = function (a) {
      var b = {};
      for (var c in a) b[a[c]] = M + a[c];
      return b;
    },
    O = N([
      "container",
      "shown",
      "height-auto",
      "iosfix",
      "popup",
      "modal",
      "no-backdrop",
      "toast",
      "toast-shown",
      "fade",
      "show",
      "hide",
      "noanimation",
      "close",
      "title",
      "header",
      "content",
      "actions",
      "confirm",
      "cancel",
      "footer",
      "icon",
      "icon-text",
      "image",
      "input",
      "has-input",
      "file",
      "range",
      "select",
      "radio",
      "checkbox",
      "textarea",
      "inputerror",
      "validationerror",
      "progresssteps",
      "activeprogressstep",
      "progresscircle",
      "progressline",
      "loading",
      "styled",
      "top",
      "top-start",
      "top-end",
      "top-left",
      "top-right",
      "center",
      "center-start",
      "center-end",
      "center-left",
      "center-right",
      "bottom",
      "bottom-start",
      "bottom-end",
      "bottom-left",
      "bottom-right",
      "grow-row",
      "grow-column",
      "grow-fullscreen",
    ]),
    P = N(["success", "warning", "info", "question", "error"]),
    Q = { previousBodyPadding: null },
    R = function (a, b) {
      return !!a.classList && a.classList.contains(b);
    },
    S = function (a) {
      if ((a.focus(), "file" !== a.type)) {
        var b = a.value;
        (a.value = ""), (a.value = b);
      }
    },
    T = function (a, b, c) {
      a &&
        b &&
        ("string" == typeof b && (b = b.split(/\s+/).filter(Boolean)),
        b.forEach(function (b) {
          a.forEach
            ? a.forEach(function (a) {
                c ? a.classList.add(b) : a.classList.remove(b);
              })
            : c
            ? a.classList.add(b)
            : a.classList.remove(b);
        }));
    },
    U = function (a, b) {
      T(a, b, !0);
    },
    V = function (a, b) {
      T(a, b, !1);
    },
    W = function (a, b) {
      for (var c = 0; c < a.childNodes.length; c++)
        if (R(a.childNodes[c], b)) return a.childNodes[c];
    },
    X = function (a) {
      (a.style.opacity = ""),
        (a.style.display = a.id === O.content ? "block" : "flex");
    },
    Y = function (a) {
      (a.style.opacity = ""), (a.style.display = "none");
    },
    Z = function (a) {
      for (; a.firstChild; ) a.removeChild(a.firstChild);
    },
    $ = function (a) {
      return (
        a && (a.offsetWidth || a.offsetHeight || a.getClientRects().length)
      );
    },
    _ = function (a, b) {
      a.style.removeProperty
        ? a.style.removeProperty(b)
        : a.style.removeAttribute(b);
    },
    aa = function () {
      return document.body.querySelector("." + O.container);
    },
    ba = function (a) {
      var b = aa();
      return b ? b.querySelector("." + a) : null;
    },
    ca = function () {
      return ba(O.popup);
    },
    da = function () {
      var a = ca();
      return a.querySelectorAll("." + O.icon);
    },
    ea = function () {
      return ba(O.title);
    },
    fa = function () {
      return ba(O.content);
    },
    ga = function () {
      return ba(O.image);
    },
    ha = function () {
      return ba(O.progresssteps);
    },
    ia = function () {
      return ba(O.validationerror);
    },
    ja = function () {
      return ba(O.confirm);
    },
    ka = function () {
      return ba(O.cancel);
    },
    la = function () {
      return (
        F(
          "swal.getButtonsWrapper() is deprecated and will be removed in the next major release, use swal.getActions() instead"
        ),
        ba(O.actions)
      );
    },
    ma = function () {
      return ba(O.actions);
    },
    na = function () {
      return ba(O.footer);
    },
    oa = function () {
      return ba(O.close);
    },
    pa = function () {
      var a = Array.prototype.slice
          .call(
            ca().querySelectorAll(
              '[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'
            )
          )
          .sort(function (a, b) {
            return (
              (a = parseInt(a.getAttribute("tabindex"))),
              (b = parseInt(b.getAttribute("tabindex"))),
              a > b ? 1 : a < b ? -1 : 0
            );
          }),
        b = Array.prototype.slice.call(
          ca().querySelectorAll(
            'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls]'
          )
        );
      return A(a.concat(b));
    },
    qa = function () {
      return !document.body.classList.contains(O["toast-shown"]);
    },
    ra = function () {
      return document.body.classList.contains(O["toast-shown"]);
    },
    sa = function () {
      return ca().hasAttribute("data-loading");
    },
    ta = function () {
      return "undefined" == typeof window || "undefined" == typeof document;
    },
    ua = (
      '\n <div aria-labelledby="' +
      O.title +
      '" aria-describedby="' +
      O.content +
      '" class="' +
      O.popup +
      '" tabindex="-1">\n   <div class="' +
      O.header +
      '">\n     <ul class="' +
      O.progresssteps +
      '"></ul>\n     <div class="' +
      O.icon +
      " " +
      P.error +
      '">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="' +
      O.icon +
      " " +
      P.question +
      '">\n       <span class="' +
      O["icon-text"] +
      '">?</span>\n      </div>\n     <div class="' +
      O.icon +
      " " +
      P.warning +
      '">\n       <span class="' +
      O["icon-text"] +
      '">!</span>\n      </div>\n     <div class="' +
      O.icon +
      " " +
      P.info +
      '">\n       <span class="' +
      O["icon-text"] +
      '">i</span>\n      </div>\n     <div class="' +
      O.icon +
      " " +
      P.success +
      '">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="' +
      O.image +
      '" />\n     <h2 class="' +
      O.title +
      '" id="' +
      O.title +
      '"></h2>\n     <button type="button" class="' +
      O.close +
      '">×</button>\n   </div>\n   <div class="' +
      O.content +
      '">\n     <div id="' +
      O.content +
      '"></div>\n     <input class="' +
      O.input +
      '" />\n     <input type="file" class="' +
      O.file +
      '" />\n     <div class="' +
      O.range +
      '">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="' +
      O.select +
      '"></select>\n     <div class="' +
      O.radio +
      '"></div>\n     <label for="' +
      O.checkbox +
      '" class="' +
      O.checkbox +
      '">\n       <input type="checkbox" />\n     </label>\n     <textarea class="' +
      O.textarea +
      '"></textarea>\n     <div class="' +
      O.validationerror +
      '" id="' +
      O.validationerror +
      '"></div>\n   </div>\n   <div class="' +
      O.actions +
      '">\n     <button type="button" class="' +
      O.confirm +
      '">OK</button>\n     <button type="button" class="' +
      O.cancel +
      '">Cancel</button>\n   </div>\n   <div class="' +
      O.footer +
      '">\n   </div>\n </div>\n'
    ).replace(/(^|\n)\s*/g, ""),
    va = function (a) {
      var b = aa();
      if (
        (b &&
          (b.parentNode.removeChild(b),
          V(
            [document.documentElement, document.body],
            [O["no-backdrop"], O["has-input"], O["toast-shown"]]
          )),
        ta())
      )
        return void D("SweetAlert2 requires document to initialize");
      var c = document.createElement("div");
      (c.className = O.container), (c.innerHTML = ua);
      var d =
        "string" == typeof a.target
          ? document.querySelector(a.target)
          : a.target;
      d.appendChild(c);
      var e = ca(),
        f = fa(),
        g = W(f, O.input),
        h = W(f, O.file),
        i = f.querySelector("." + O.range + " input"),
        j = f.querySelector("." + O.range + " output"),
        k = W(f, O.select),
        l = f.querySelector("." + O.checkbox + " input"),
        m = W(f, O.textarea);
      e.setAttribute("role", a.toast ? "alert" : "dialog"),
        e.setAttribute("aria-live", a.toast ? "polite" : "assertive"),
        a.toast || e.setAttribute("aria-modal", "true");
      var n = void 0,
        o = function (a) {
          eb.isVisible() && n !== a.target.value && eb.resetValidationError(),
            (n = a.target.value);
        };
      return (
        (g.oninput = o),
        (h.onchange = o),
        (k.onchange = o),
        (l.onchange = o),
        (m.oninput = o),
        (i.oninput = function (a) {
          o(a), (j.value = i.value);
        }),
        (i.onchange = function (a) {
          o(a), (i.nextSibling.value = i.value);
        }),
        e
      );
    },
    wa = function (a, b) {
      if (!a) return Y(b);
      if ("object" === ("undefined" == typeof a ? "undefined" : r(a)))
        if (((b.innerHTML = ""), 0 in a))
          for (var c = 0; c in a; c++) b.appendChild(a[c].cloneNode(!0));
        else b.appendChild(a.cloneNode(!0));
      else a && (b.innerHTML = a);
      X(b);
    },
    xa = (function () {
      if (ta()) return !1;
      var a = document.createElement("div"),
        b = {
          WebkitAnimation: "webkitAnimationEnd",
          OAnimation: "oAnimationEnd oanimationend",
          animation: "animationend",
        };
      for (var c in b)
        if (b.hasOwnProperty(c) && "undefined" != typeof a.style[c])
          return b[c];
      return !1;
    })(),
    ya = function () {
      var a = "ontouchstart" in window || navigator.msMaxTouchPoints;
      if (a) return 0;
      var b = document.createElement("div");
      (b.style.width = "50px"),
        (b.style.height = "50px"),
        (b.style.overflow = "scroll"),
        document.body.appendChild(b);
      var c = b.offsetWidth - b.clientWidth;
      return document.body.removeChild(b), c;
    },
    za = function () {
      null === Q.previousBodyPadding &&
        document.body.scrollHeight > window.innerHeight &&
        ((Q.previousBodyPadding = parseInt(
          window
            .getComputedStyle(document.body)
            .getPropertyValue("padding-right")
        )),
        (document.body.style.paddingRight =
          Q.previousBodyPadding + ya() + "px"));
    },
    Aa = function () {
      null !== Q.previousBodyPadding &&
        ((document.body.style.paddingRight = Q.previousBodyPadding),
        (Q.previousBodyPadding = null));
    },
    Ba = function () {
      var a = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
      if (a && !R(document.body, O.iosfix)) {
        var b = document.body.scrollTop;
        (document.body.style.top = b * -1 + "px"), U(document.body, O.iosfix);
      }
    },
    Ca = function () {
      if (R(document.body, O.iosfix)) {
        var a = parseInt(document.body.style.top, 10);
        V(document.body, O.iosfix),
          (document.body.style.top = ""),
          (document.body.scrollTop = a * -1);
      }
    },
    Da = {},
    Ea = function () {
      var a = window.scrollX,
        b = window.scrollY;
      (Da.restoreFocusTimeout = setTimeout(function () {
        Da.previousActiveElement &&
          Da.previousActiveElement.focus &&
          (Da.previousActiveElement.focus(), (Da.previousActiveElement = null));
      }, 100)),
        "undefined" != typeof a &&
          "undefined" != typeof b &&
          window.scrollTo(a, b);
    },
    Fa = function (a, b) {
      var c = aa(),
        d = ca();
      if (d) {
        null !== a && "function" == typeof a && a(d),
          V(d, O.show),
          U(d, O.hide);
        var e = function () {
          ra() ||
            (Ea(),
            Da.keydownTarget.removeEventListener("keydown", Da.keydownHandler, {
              capture: Da.keydownListenerCapture,
            }),
            (Da.keydownHandlerAdded = !1)),
            c.parentNode && c.parentNode.removeChild(c),
            V(
              [document.documentElement, document.body],
              [
                O.shown,
                O["height-auto"],
                O["no-backdrop"],
                O["has-input"],
                O["toast-shown"],
              ]
            ),
            qa() && (Aa(), Ca()),
            null !== b &&
              "function" == typeof b &&
              setTimeout(function () {
                b();
              });
        };
        xa && !R(d, O.noanimation)
          ? d.addEventListener(xa, function f() {
              d.removeEventListener(xa, f), R(d, O.hide) && e();
            })
          : e();
      }
    },
    Ga = function () {
      return !!ca();
    },
    Ha = function () {
      return ja().click();
    },
    Ia = function () {
      return ka().click();
    },
    Ja = {
      title: "",
      titleText: "",
      text: "",
      html: "",
      footer: "",
      type: null,
      toast: !1,
      customClass: "",
      target: "body",
      backdrop: !0,
      animation: !0,
      heightAuto: !0,
      allowOutsideClick: !0,
      allowEscapeKey: !0,
      allowEnterKey: !0,
      stopKeydownPropagation: !0,
      keydownListenerCapture: !1,
      showConfirmButton: !0,
      showCancelButton: !1,
      preConfirm: null,
      confirmButtonText: "OK",
      confirmButtonAriaLabel: "",
      confirmButtonColor: null,
      confirmButtonClass: null,
      cancelButtonText: "Cancel",
      cancelButtonAriaLabel: "",
      cancelButtonColor: null,
      cancelButtonClass: null,
      buttonsStyling: !0,
      reverseButtons: !1,
      focusConfirm: !0,
      focusCancel: !1,
      showCloseButton: !1,
      closeButtonAriaLabel: "Close this dialog",
      showLoaderOnConfirm: !1,
      imageUrl: null,
      imageWidth: null,
      imageHeight: null,
      imageAlt: "",
      imageClass: null,
      timer: null,
      width: null,
      padding: null,
      background: null,
      input: null,
      inputPlaceholder: "",
      inputValue: "",
      inputOptions: {},
      inputAutoTrim: !0,
      inputClass: null,
      inputAttributes: {},
      inputValidator: null,
      grow: !1,
      position: "center",
      progressSteps: [],
      currentProgressStep: null,
      progressStepsDistance: null,
      onBeforeOpen: null,
      onAfterClose: null,
      onOpen: null,
      onClose: null,
      useRejections: !1,
      expectRejections: !1,
    },
    Ka = ["useRejections", "expectRejections"],
    La = function (a) {
      return Ja.hasOwnProperty(a) || "extraParams" === a;
    },
    Ma = function (a) {
      return Ka.indexOf(a) !== -1;
    },
    Na = function (a) {
      for (var b in a)
        La(b) || C('Unknown parameter "' + b + '"'),
          Ma(b) &&
            F(
              'The parameter "' +
                b +
                '" is deprecated and will be removed in the next major release.'
            );
    },
    Oa =
      '"setDefaults" & "resetDefaults" methods are deprecated in favor of "mixin" method and will be removed in the next major release. For new projects, use "mixin". For past projects already using "setDefaults", support will be provided through an additional package.',
    Pa = {},
    Qa = [],
    Ra = function (a) {
      var b = this;
      Qa = a;
      var c = function () {
          (Qa = []), document.body.removeAttribute("data-swal2-queue-step");
        },
        d = [];
      return new Promise(function (a, e) {
        !(function f(e, g) {
          e < Qa.length
            ? (document.body.setAttribute("data-swal2-queue-step", e),
              b(Qa[e]).then(function (b) {
                "undefined" != typeof b.value
                  ? (d.push(b.value), f(e + 1, g))
                  : (c(), a({ dismiss: b.dismiss }));
              }))
            : (c(), a({ value: d }));
        })(0);
      });
    },
    Sa = function () {
      return document.body.getAttribute("data-swal2-queue-step");
    },
    Ta = function (a, b) {
      return b && b < Qa.length ? Qa.splice(b, 0, a) : Qa.push(a);
    },
    Ua = function (a) {
      "undefined" != typeof Qa[a] && Qa.splice(a, 1);
    },
    Va = function () {
      var a = ca();
      a || eb(""), (a = ca());
      var b = ma(),
        c = ja(),
        d = ka();
      X(b),
        X(c),
        U([a, b], O.loading),
        (c.disabled = !0),
        (d.disabled = !0),
        a.setAttribute("data-loading", !0),
        a.setAttribute("aria-busy", !0),
        a.focus();
    },
    Wa = function () {
      return Da.timeout && Da.timeout.getTimerLeft();
    },
    Xa = Object.freeze({
      isValidParameter: La,
      isDeprecatedParameter: Ma,
      argsToParams: K,
      adaptInputValidator: L,
      close: Fa,
      closePopup: Fa,
      closeModal: Fa,
      closeToast: Fa,
      isVisible: Ga,
      clickConfirm: Ha,
      clickCancel: Ia,
      getPopup: ca,
      getTitle: ea,
      getContent: fa,
      getImage: ga,
      getButtonsWrapper: la,
      getActions: ma,
      getConfirmButton: ja,
      getCancelButton: ka,
      getFooter: na,
      isLoading: sa,
      fire: a,
      mixin: d,
      queue: Ra,
      getQueueStep: Sa,
      insertQueueStep: Ta,
      deleteQueueStep: Ua,
      showLoading: Va,
      enableLoading: Va,
      getTimerLeft: Wa,
    }),
    Ya =
      "function" == typeof Symbol
        ? Symbol
        : (function () {
            function a(a) {
              return (
                "__" +
                a +
                "_" +
                Math.floor(1e9 * Math.random()) +
                "_" +
                ++b +
                "__"
              );
            }
            var b = 0;
            return (a.iterator = a("Symbol.iterator")), a;
          })(),
    Za =
      "function" == typeof WeakMap
        ? WeakMap
        : (function (a, b, c) {
            function d() {
              b(this, a, { value: Ya("WeakMap") });
            }
            return (
              (d.prototype = {
                delete: function (b) {
                  delete b[this[a]];
                },
                get: function (b) {
                  return b[this[a]];
                },
                has: function (b) {
                  return c.call(b, this[a]);
                },
                set: function (c, d) {
                  b(c, this[a], { configurable: !0, value: d });
                },
              }),
              d
            );
          })(Ya("WeakMap"), Object.defineProperty, {}.hasOwnProperty),
    $a = { promise: new Za(), innerParams: new Za(), domCache: new Za() },
    _a = function gb(a, b) {
      s(this, gb);
      var c,
        d,
        e,
        f = b;
      (this.start = function () {
        (e = !0), (d = new Date()), (c = setTimeout(a, f));
      }),
        (this.stop = function () {
          (e = !1), clearTimeout(c), (f -= new Date() - d);
        }),
        (this.getTimerLeft = function () {
          return e && (this.stop(), this.start()), f;
        }),
        (this.getStateRunning = function () {
          return e;
        }),
        this.start();
    },
    ab = {
      email: function (a, b) {
        return /^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(a)
          ? Promise.resolve()
          : Promise.reject(
              b && b.validationMessage
                ? b.validationMessage
                : "Invalid email address"
            );
      },
      url: function (a, b) {
        return /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(
          a
        )
          ? Promise.resolve()
          : Promise.reject(
              b && b.validationMessage ? b.validationMessage : "Invalid URL"
            );
      },
    },
    bb = function (a) {
      var b = aa(),
        c = ca();
      null !== a.onBeforeOpen &&
        "function" == typeof a.onBeforeOpen &&
        a.onBeforeOpen(c),
        a.animation ? (U(c, O.show), U(b, O.fade), V(c, O.hide)) : V(c, O.fade),
        X(c),
        (b.style.overflowY = "hidden"),
        xa && !R(c, O.noanimation)
          ? c.addEventListener(xa, function d() {
              c.removeEventListener(xa, d), (b.style.overflowY = "auto");
            })
          : (b.style.overflowY = "auto"),
        U([document.documentElement, document.body, b], O.shown),
        a.heightAuto &&
          a.backdrop &&
          !a.toast &&
          U([document.documentElement, document.body], O["height-auto"]),
        qa() && (za(), Ba()),
        Da.previousActiveElement ||
          (Da.previousActiveElement = document.activeElement),
        null !== a.onOpen &&
          "function" == typeof a.onOpen &&
          setTimeout(function () {
            a.onOpen(c);
          });
    },
    cb = Object.freeze({
      hideLoading: e,
      disableLoading: e,
      getInput: f,
      enableButtons: g,
      disableButtons: h,
      enableConfirmButton: i,
      disableConfirmButton: j,
      enableInput: k,
      disableInput: l,
      showValidationError: m,
      resetValidationError: n,
      _main: p,
    }),
    db = void 0;
  (q.prototype.then = function (a, b) {
    var c = $a.promise.get(this);
    return c.then(a, b);
  }),
    (q.prototype["catch"] = function (a) {
      var b = $a.promise.get(this);
      return b["catch"](a);
    }),
    (q.prototype["finally"] = function (a) {
      var b = $a.promise.get(this);
      return b["finally"](a);
    }),
    u(q.prototype, cb),
    u(q, Xa),
    Object.keys(cb).forEach(function (a) {
      q[a] = function () {
        if (db) {
          var b;
          return (b = db)[a].apply(b, arguments);
        }
      };
    }),
    (q.DismissReason = I),
    (q.noop = function () {}),
    (q.version = J);
  var eb = b(c(q));
  return (eb["default"] = eb), eb;
}),
  "undefined" != typeof window &&
    window.Sweetalert2 &&
    (window.swal =
      window.sweetAlert =
      window.Swal =
      window.SweetAlert =
        window.Sweetalert2);
define("local_ubholiday/ubholiday", [
  "jquery",
  "core/modal_factory",
  "core/modal_events",
  "core/templates",
  "local_ubholiday/sweetalert",
  "local_ubholiday/calendar",
], function (e, t, a, n, o) {
  var l = {
    pluginname: "local_ubholiday",
    index: function (t) {
      t.colors, new Date().getFullYear();
      e.each(t.holidays, function (e, t) {
        (t.startDate = new Date(t.rdate)), (t.endDate = t.startDate);
      }),
        e("form.form-search")
          .find(".auto_submit")
          .on("change", function (t) {
            t.preventDefault(), e(this).closest("form").submit();
          }),
        e("#calendar").calendar({
          language: t.lang,
          startYear: t.startYear,
          minDate: new Date(2e3, 1, 1, 0, 0, 0),
          maxDate: new Date(2100, 12, 31, 23, 59, 59),
          displayHeader: !1,
          enableContextMenu: !1,
          enableRangeSelection: !1,
          mouseOnDay: function (t) {
            if (t.events.length > 0) {
              var a = "";
              for (var n in t.events)
                a +=
                  '<div class="event-tooltip-content"><div class="event-name" style="color:' +
                  t.events[n].color +
                  '">' +
                  t.events[n].name +
                  "</div></div>";
              e(t.element).popover({
                trigger: "manual",
                container: "body",
                html: !0,
                content: a,
              }),
                e(t.element).popover("show");
            }
          },
          mouseOutDay: function (t) {
            t.events.length > 0 && e(t.element).popover("hide");
          },
          dataSource: t.holidays,
        });
    },
  };
  return l;
});
